!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=20)}([function(e,t){e.exports=function(e,t,n,r,o,i){var a,c=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(a=e,c=e.default);var u="function"==typeof c?c.options:c;t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId=o);var l;if(i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=l):r&&(l=r),l){var f=u.functional,d=f?u.render:u.beforeCreate;f?(u._injectStyles=l,u.render=function(e,t){return l.call(t),d(e,t)}):u.beforeCreate=d?[].concat(d,l):[l]}return{esModule:a,exports:c,options:u}}},function(e,t,n){"use strict";function r(e){return"[object Array]"===l.call(e)}function o(e){return null!==e&&"object"==typeof e}function i(e){return"[object Function]"===l.call(e)}function a(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),r(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function c(){function e(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=c(t[n],e):t[n]=e}for(var t={},n=0,r=arguments.length;n<r;n++)a(arguments[n],e);return t}var s=n(7),u=n(30),l=Object.prototype.toString;e.exports={isArray:r,isArrayBuffer:function(e){return"[object ArrayBuffer]"===l.call(e)},isBuffer:u,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:o,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===l.call(e)},isFile:function(e){return"[object File]"===l.call(e)},isBlob:function(e){return"[object Blob]"===l.call(e)},isFunction:i,isStream:function(e){return o(e)&&i(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:a,merge:c,extend:function(e,t,n){return a(t,function(t,r){e[r]=n&&"function"==typeof t?s(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){function n(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){"use strict";(function(t){function r(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var o=n(1),i=n(32),a={"Content-Type":"application/x-www-form-urlencoded"},c={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(9):void 0!==t&&(e=n(9)),e}(),transformRequest:[function(e,t){return i(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],function(e){c.headers[e]={}}),o.forEach(["post","put","patch"],function(e){c.headers[e]=o.merge(a)}),e.exports=c}).call(t,n(8))},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(47),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){function r(e){for(var t=0;t<e.length;t++){var n=e[t],r=u[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(i(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(i(n.parts[o]));u[n.id]={id:n.id,refs:1,parts:a}}}}function o(){var e=document.createElement("style");return e.type="text/css",l.appendChild(e),e}function i(e){var t,n,r=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(r){if(p)return m;r.parentNode.removeChild(r)}if(h){var i=d++;r=f||(f=o()),t=a.bind(null,r,i,!1),n=a.bind(null,r,i,!0)}else r=o(),t=function(e,t){var n=t.css,r=t.media,o=t.sourceMap;r&&e.setAttribute("media",r);o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}function a(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}var c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s=n(51),u={},l=c&&(document.head||document.getElementsByTagName("head")[0]),f=null,d=0,p=!1,m=function(){},h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n){p=n;var o=s(e,t);return r(o),function(t){for(var n=[],i=0;i<o.length;i++){var a=o[i];(c=u[a.id]).refs--,n.push(c)}t?r(o=s(e,t)):o=[];for(i=0;i<n.length;i++){var c;if(0===(c=n[i]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete u[c.id]}}}};var g=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(){m&&d&&(m=!1,d.length?p=d.concat(p):h=-1,p.length&&a())}function a(){if(!m){var e=o(i);m=!0;for(var t=p.length;t;){for(d=p,p=[];++h<t;)d&&d[h].run();h=-1,t=p.length}d=null,m=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function c(e,t){this.fun=e,this.array=t}function s(){}var u,l,f=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var d,p=[],m=!1,h=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new c(e,t)),1!==p.length||m||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=s,f.addListener=s,f.once=s,f.off=s,f.removeListener=s,f.removeAllListeners=s,f.emit=s,f.prependListener=s,f.prependOnceListener=s,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(1),o=n(33),i=n(35),a=n(36),c=n(37),s=n(10),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(38);e.exports=function(e){return new Promise(function(t,l){var f=e.data,d=e.headers;r.isFormData(f)&&delete d["Content-Type"];var p=new XMLHttpRequest,m="onreadystatechange",h=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||c(e.url)||(p=new window.XDomainRequest,m="onload",h=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var g=e.auth.username||"",v=e.auth.password||"";d.Authorization="Basic "+u(g+":"+v)}if(p.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[m]=function(){if(p&&(4===p.readyState||h)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:e,request:p};o(t,l,r),p=null}},p.onerror=function(){l(s("Network Error",e,null,p)),p=null},p.ontimeout=function(){l(s("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var y=n(39),b=(e.withCredentials||c(e.url))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}if("setRequestHeader"in p&&r.forEach(d,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),l(e),p=null)}),void 0===f&&(f=null),p.send(f)})}},function(e,t,n){"use strict";var r=n(34);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";(function(t,n){function r(e){return void 0===e||null===e}function o(e){return void 0!==e&&null!==e}function i(e){return!0===e}function a(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}function c(e){return null!==e&&"object"==typeof e}function s(e){return"[object Object]"===Un.call(e)}function u(e){return"[object RegExp]"===Un.call(e)}function l(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function f(e){return null==e?"":"object"==typeof e?JSON.stringify(e,null,2):String(e)}function d(e){var t=parseFloat(e);return isNaN(t)?e:t}function p(e,t){for(var n=Object.create(null),r=e.split(","),o=0;o<r.length;o++)n[r[o]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}function m(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}function h(e,t){return jn.call(e,t)}function g(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}function v(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function y(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function b(e,t){for(var n in t)e[n]=t[n];return e}function x(e){for(var t={},n=0;n<e.length;n++)e[n]&&b(t,e[n]);return t}function w(e,t,n){}function C(e,t){if(e===t)return!0;var n=c(e),r=c(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var o=Array.isArray(e),i=Array.isArray(t);if(o&&i)return e.length===t.length&&e.every(function(e,n){return C(e,t[n])});if(o||i)return!1;var a=Object.keys(e),s=Object.keys(t);return a.length===s.length&&a.every(function(n){return C(e[n],t[n])})}catch(e){return!1}}function k(e,t){for(var n=0;n<e.length;n++)if(C(e[n],t))return n;return-1}function T(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function _(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function S(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function E(e){return"function"==typeof e&&/native code/.test(e.toString())}function A(e){return new kr(void 0,void 0,void 0,String(e))}function N(e,t){var n=e.componentOptions,r=new kr(e.tag,e.data,e.children,e.text,e.elm,e.context,n,e.asyncFactory);return r.ns=e.ns,r.isStatic=e.isStatic,r.key=e.key,r.isComment=e.isComment,r.fnContext=e.fnContext,r.fnOptions=e.fnOptions,r.fnScopeId=e.fnScopeId,r.isCloned=!0,t&&(e.children&&(r.children=D(e.children,!0)),n&&n.children&&(n.children=D(n.children,!0))),r}function D(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++)r[o]=N(e[o],t);return r}function R(e,t,n){e.__proto__=t}function P(e,t,n){for(var r=0,o=n.length;r<o;r++){var i=n[r];S(e,i,t[i])}}function O(e,t){if(c(e)&&!(e instanceof kr)){var n;return h(e,"__ob__")&&e.__ob__ instanceof Dr?n=e.__ob__:Nr.shouldConvert&&!gr()&&(Array.isArray(e)||s(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Dr(e)),t&&n&&n.vmCount++,n}}function B(e,t,n,r,o){var i=new wr,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var c=a&&a.get,s=a&&a.set,u=!o&&O(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=c?c.call(e):n;return wr.target&&(i.depend(),u&&(u.dep.depend(),Array.isArray(t)&&L(t))),t},set:function(t){var r=c?c.call(e):n;t===r||t!=t&&r!=r||(s?s.call(e,t):n=t,u=!o&&O(t),i.notify())}})}}function I(e,t,n){if(Array.isArray(e)&&l(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?(B(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function M(e,t){if(Array.isArray(e)&&l(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||h(e,t)&&(delete e[t],n&&n.dep.notify())}}function L(e){for(var t=void 0,n=0,r=e.length;n<r;n++)(t=e[n])&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&L(t)}function F(e,t){if(!t)return e;for(var n,r,o,i=Object.keys(t),a=0;a<i.length;a++)r=e[n=i[a]],o=t[n],h(e,n)?s(r)&&s(o)&&F(r,o):I(e,n,o);return e}function U(e,t,n){return n?function(){var r="function"==typeof t?t.call(n,n):t,o="function"==typeof e?e.call(n,n):e;return r?F(r,o):o}:t?e?function(){return F("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function H(e,t){return t?e?e.concat(t):Array.isArray(t)?t:[t]:e}function z(e,t,n,r){var o=Object.create(e||null);return t?b(o,t):o}function j(e,t){var n=e.props;if(n){var r,o,i={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(o=n[r])&&(i[$n(o)]={type:null});else if(s(n))for(var a in n)o=n[a],i[$n(a)]=s(o)?o:{type:o};else 0;e.props=i}}function W(e,t,n){function r(r){var o=Rr[r]||Br;u[r]=o(e[r],t[r],n,r)}"function"==typeof t&&(t=t.options),j(t),function(e,t){var n=e.inject,r=e.inject={};if(Array.isArray(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(s(n))for(var i in n){var a=n[i];r[i]=s(a)?b({from:i},a):{from:a}}}(t),function(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"==typeof r&&(t[n]={bind:r,update:r})}}(t);var o=t.extends;if(o&&(e=W(e,o,n)),t.mixins)for(var i=0,a=t.mixins.length;i<a;i++)e=W(e,t.mixins[i],n);var c,u={};for(c in e)r(c);for(c in t)h(e,c)||r(c);return u}function $(e,t,n,r){if("string"==typeof n){var o=e[t];if(h(o,n))return o[n];var i=$n(n);if(h(o,i))return o[i];var a=qn(i);if(h(o,a))return o[a];return o[n]||o[i]||o[a]}}function q(e,t,n,r){var o=t[e],i=!h(n,e),a=n[e];if(K(Boolean,o.type)&&(i&&!h(o,"default")?a=!1:K(String,o.type)||""!==a&&a!==Kn(e)||(a=!0)),void 0===a){a=function(e,t,n){if(!h(t,"default"))return;var r=t.default;0;if(e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n])return e._props[n];return"function"==typeof r&&"Function"!==V(t.type)?r.call(e):r}(r,o,e);var c=Nr.shouldConvert;Nr.shouldConvert=!0,O(a),Nr.shouldConvert=c}return a}function V(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function K(e,t){if(!Array.isArray(t))return V(t)===V(e);for(var n=0,r=t.length;n<r;n++)if(V(t[n])===V(e))return!0;return!1}function G(e,t,n){if(t)for(var r=t;r=r.$parent;){var o=r.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{if(!1===o[i].call(r,e,t,n))return}catch(e){X(e,r,"errorCaptured hook")}}X(e,t,n)}function X(e,t,n){if(Zn.errorHandler)try{return Zn.errorHandler.call(null,e,t,n)}catch(e){Y(e,null,"config.errorHandler")}Y(e,t,n)}function Y(e,t,n){if(!nr&&!rr||"undefined"==typeof console)throw e;console.error(e)}function J(){Mr=!1;var e=Ir.slice(0);Ir.length=0;for(var t=0;t<e.length;t++)e[t]()}function Q(e,t){var n;if(Ir.push(function(){if(e)try{e.call(t)}catch(e){G(e,t,"nextTick")}else n&&n(t)}),Mr||(Mr=!0,Lr?Or():Pr()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){n=e})}function Z(e){ee(e,jr),jr.clear()}function ee(e,t){var n,r,o=Array.isArray(e);if((o||c(e))&&!Object.isFrozen(e)){if(e.__ob__){var i=e.__ob__.dep.id;if(t.has(i))return;t.add(i)}if(o)for(n=e.length;n--;)ee(e[n],t);else for(n=(r=Object.keys(e)).length;n--;)ee(e[r[n]],t)}}function te(e){function t(){var e=arguments,n=t.fns;if(!Array.isArray(n))return n.apply(null,arguments);for(var r=n.slice(),o=0;o<r.length;o++)r[o].apply(null,e)}return t.fns=e,t}function ne(e,t,n,o,i){var a,c,s,u;for(a in e)c=e[a],s=t[a],u=Wr(a),r(c)||(r(s)?(r(c.fns)&&(c=e[a]=te(c)),n(u.name,c,u.once,u.capture,u.passive)):c!==s&&(s.fns=c,e[a]=s));for(a in t)r(e[a])&&o((u=Wr(a)).name,t[a],u.capture)}function re(e,t,n){function a(){n.apply(this,arguments),m(c.fns,a)}e instanceof kr&&(e=e.data.hook||(e.data.hook={}));var c,s=e[t];r(s)?c=te([a]):o(s.fns)&&i(s.merged)?(c=s).fns.push(a):c=te([s,a]),c.merged=!0,e[t]=c}function oe(e,t,n,r,i){if(o(t)){if(h(t,n))return e[n]=t[n],i||delete t[n],!0;if(h(t,r))return e[n]=t[r],i||delete t[r],!0}return!1}function ie(e){return o(e)&&o(e.text)&&function(e){return!1===e}(e.isComment)}function ae(e,t){var n,c,s,u,l=[];for(n=0;n<e.length;n++)r(c=e[n])||"boolean"==typeof c||(u=l[s=l.length-1],Array.isArray(c)?c.length>0&&(ie((c=ae(c,(t||"")+"_"+n))[0])&&ie(u)&&(l[s]=A(u.text+c[0].text),c.shift()),l.push.apply(l,c)):a(c)?ie(u)?l[s]=A(u.text+c):""!==c&&l.push(A(c)):ie(c)&&ie(u)?l[s]=A(u.text+c.text):(i(e._isVList)&&o(c.tag)&&r(c.key)&&o(t)&&(c.key="__vlist"+t+"_"+n+"__"),l.push(c)));return l}function ce(e,t){return(e.__esModule||yr&&"Module"===e[Symbol.toStringTag])&&(e=e.default),c(e)?t.extend(e):e}function se(e){return e.isComment&&e.asyncFactory}function ue(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(o(n)&&(o(n.componentOptions)||se(n)))return n}}function le(e,t,n){n?zr.$once(e,t):zr.$on(e,t)}function fe(e,t){zr.$off(e,t)}function de(e,t,n){zr=e,ne(t,n||{},le,fe),zr=void 0}function pe(e,t){var n={};if(!e)return n;for(var r=0,o=e.length;r<o;r++){var i=e[r],a=i.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,i.context!==t&&i.fnContext!==t||!a||null==a.slot)(n.default||(n.default=[])).push(i);else{var c=a.slot,s=n[c]||(n[c]=[]);"template"===i.tag?s.push.apply(s,i.children||[]):s.push(i)}}for(var u in n)n[u].every(me)&&delete n[u];return n}function me(e){return e.isComment&&!e.asyncFactory||" "===e.text}function he(e,t){t=t||{};for(var n=0;n<e.length;n++)Array.isArray(e[n])?he(e[n],t):t[e[n].key]=e[n].fn;return t}function ge(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function ve(e,t){if(t){if(e._directInactive=!1,ge(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)ve(e.$children[n]);be(e,"activated")}}function ye(e,t){if(!(t&&(e._directInactive=!0,ge(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)ye(e.$children[n]);be(e,"deactivated")}}function be(e,t){var n=e.$options[t];if(n)for(var r=0,o=n.length;r<o;r++)try{n[r].call(e)}catch(n){G(n,e,t+" hook")}e._hasHookEvent&&e.$emit("hook:"+t)}function xe(){Xr=!0;var e,t;for(qr.sort(function(e,t){return e.id-t.id}),Yr=0;Yr<qr.length;Yr++)t=(e=qr[Yr]).id,Kr[t]=null,e.run();var n=Vr.slice(),r=qr.slice();Yr=qr.length=Vr.length=0,Kr={},Gr=Xr=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,ve(e[t],!0)}(n),function(e){var t=e.length;for(;t--;){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&be(r,"updated")}}(r),vr&&Zn.devtools&&vr.emit("flush")}function we(e,t,n){Zr.get=function(){return this[t][n]},Zr.set=function(e){this[t][n]=e},Object.defineProperty(e,n,Zr)}function Ce(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var n=e.$options.propsData||{},r=e._props={},o=e.$options._propKeys=[],i=!e.$parent;Nr.shouldConvert=i;var a=function(i){o.push(i);var a=q(i,t,n,e);B(r,i,a),i in e||we(e,"_props",i)};for(var c in t)a(c);Nr.shouldConvert=!0}(e,t.props),t.methods&&function(e,t){e.$options.props;for(var n in t)e[n]=null==t[n]?w:v(t[n],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;t=e._data="function"==typeof t?function(e,t){try{return e.call(t,t)}catch(e){return G(e,t,"data()"),{}}}(t,e):t||{},s(t)||(t={});var n=Object.keys(t),r=e.$options.props,o=(e.$options.methods,n.length);for(;o--;){var i=n[o];0,r&&h(r,i)||_(i)||we(e,"_data",i)}O(t,!0)}(e):O(e._data={},!0),t.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),r=gr();for(var o in t){var i=t[o],a="function"==typeof i?i:i.get;0,r||(n[o]=new Qr(e,a||w,w,eo)),o in e||ke(e,o,i)}}(e,t.computed),t.watch&&t.watch!==fr&&function(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var o=0;o<r.length;o++)_e(e,n,r[o]);else _e(e,n,r)}}(e,t.watch)}function ke(e,t,n){var r=!gr();"function"==typeof n?(Zr.get=r?Te(t):n,Zr.set=w):(Zr.get=n.get?r&&!1!==n.cache?Te(t):n.get:w,Zr.set=n.set?n.set:w),Object.defineProperty(e,t,Zr)}function Te(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),wr.target&&t.depend(),t.value}}function _e(e,t,n,r){return s(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,r)}function Se(e,t){if(e){for(var n=Object.create(null),r=yr?Reflect.ownKeys(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}):Object.keys(e),o=0;o<r.length;o++){for(var i=r[o],a=e[i].from,c=t;c;){if(c._provided&&a in c._provided){n[i]=c._provided[a];break}c=c.$parent}if(!c)if("default"in e[i]){var s=e[i].default;n[i]="function"==typeof s?s.call(t):s}else 0}return n}}function Ee(e,t){var n,r,i,a,s;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),r=0,i=e.length;r<i;r++)n[r]=t(e[r],r);else if("number"==typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(c(e))for(a=Object.keys(e),n=new Array(a.length),r=0,i=a.length;r<i;r++)s=a[r],n[r]=t(e[s],s,r);return o(n)&&(n._isVList=!0),n}function Ae(e,t,n,r){var o,i=this.$scopedSlots[e];if(i)n=n||{},r&&(n=b(b({},r),n)),o=i(n)||t;else{var a=this.$slots[e];a&&(a._rendered=!0),o=a||t}var c=n&&n.slot;return c?this.$createElement("template",{slot:c},o):o}function Ne(e){return $(this.$options,"filters",e)||Xn}function De(e,t,n,r){var o=Zn.keyCodes[t]||n;return o?Array.isArray(o)?-1===o.indexOf(e):o!==e:r?Kn(r)!==t:void 0}function Re(e,t,n,r,o){if(n)if(c(n)){Array.isArray(n)&&(n=x(n));var i,a=function(a){if("class"===a||"style"===a||zn(a))i=e;else{var c=e.attrs&&e.attrs.type;i=r||Zn.mustUseProp(t,c,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}if(!(a in i)&&(i[a]=n[a],o)){(e.on||(e.on={}))["update:"+a]=function(e){n[a]=e}}};for(var s in n)a(s)}else;return e}function Pe(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t?Array.isArray(r)?D(r):N(r):(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),Be(r,"__static__"+e,!1),r)}function Oe(e,t,n){return Be(e,"__once__"+t+(n?"_"+n:""),!0),e}function Be(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&Ie(e[r],t+"_"+r,n);else Ie(e,t,n)}function Ie(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Me(e,t){if(t)if(s(t)){var n=e.on=e.on?b({},e.on):{};for(var r in t){var o=n[r],i=t[r];n[r]=o?[].concat(o,i):i}}else;return e}function Le(e){e._o=Oe,e._n=d,e._s=f,e._l=Ee,e._t=Ae,e._q=C,e._i=k,e._m=Pe,e._f=Ne,e._k=De,e._b=Re,e._v=A,e._e=_r,e._u=he,e._g=Me}function Fe(e,t,n,r,o){var a=o.options;this.data=e,this.props=t,this.children=n,this.parent=r,this.listeners=e.on||Fn,this.injections=Se(a.inject,r),this.slots=function(){return pe(n,r)};var c=Object.create(r),s=i(a._compiled),u=!s;s&&(this.$options=a,this.$slots=this.slots(),this.$scopedSlots=e.scopedSlots||Fn),a._scopeId?this._c=function(e,t,n,o){var i=ze(c,e,t,n,o,u);return i&&(i.fnScopeId=a._scopeId,i.fnContext=r),i}:this._c=function(e,t,n,r){return ze(c,e,t,n,r,u)}}function Ue(e,t){for(var n in t)e[$n(n)]=t[n]}function He(e,t,n,a,s){if(!r(e)){var u=n.$options._base;if(c(e)&&(e=u.extend(e)),"function"==typeof e){var l;if(r(e.cid)&&(l=e,void 0===(e=function(e,t,n){if(i(e.error)&&o(e.errorComp))return e.errorComp;if(o(e.resolved))return e.resolved;if(i(e.loading)&&o(e.loadingComp))return e.loadingComp;if(!o(e.contexts)){var a=e.contexts=[n],s=!0,u=function(){for(var e=0,t=a.length;e<t;e++)a[e].$forceUpdate()},l=T(function(n){e.resolved=ce(n,t),s||u()}),f=T(function(t){o(e.errorComp)&&(e.error=!0,u())}),d=e(l,f);return c(d)&&("function"==typeof d.then?r(e.resolved)&&d.then(l,f):o(d.component)&&"function"==typeof d.component.then&&(d.component.then(l,f),o(d.error)&&(e.errorComp=ce(d.error,t)),o(d.loading)&&(e.loadingComp=ce(d.loading,t),0===d.delay?e.loading=!0:setTimeout(function(){r(e.resolved)&&r(e.error)&&(e.loading=!0,u())},d.delay||200)),o(d.timeout)&&setTimeout(function(){r(e.resolved)&&f(null)},d.timeout))),s=!1,e.loading?e.loadingComp:e.resolved}e.contexts.push(n)}(l,u,n))))return function(e,t,n,r,o){var i=_r();return i.asyncFactory=e,i.asyncMeta={data:t,context:n,children:r,tag:o},i}(l,t,n,a,s);t=t||{},We(e),o(t.model)&&function(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.props||(t.props={}))[n]=t.model.value;var i=t.on||(t.on={});o(i[r])?i[r]=[t.model.callback].concat(i[r]):i[r]=t.model.callback}(e.options,t);var f=function(e,t,n){var i=t.options.props;if(!r(i)){var a={},c=e.attrs,s=e.props;if(o(c)||o(s))for(var u in i){var l=Kn(u);oe(a,s,u,l,!0)||oe(a,c,u,l,!1)}return a}}(t,e);if(i(e.options.functional))return function(e,t,n,r,i){var a=e.options,c={},s=a.props;if(o(s))for(var u in s)c[u]=q(u,s,t||Fn);else o(n.attrs)&&Ue(c,n.attrs),o(n.props)&&Ue(c,n.props);var l=new Fe(n,c,i,r,e),f=a.render.call(null,l._c,l);return f instanceof kr&&(f.fnContext=r,f.fnOptions=a,n.slot&&((f.data||(f.data={})).slot=n.slot)),f}(e,f,t,n,a);var d=t.on;if(t.on=t.nativeOn,i(e.options.abstract)){var p=t.slot;t={},p&&(t.slot=p)}!function(e){e.hook||(e.hook={});for(var t=0;t<no.length;t++){var n=no[t],r=e.hook[n],o=to[n];e.hook[n]=r?function(e,t){return function(n,r,o,i){e(n,r,o,i),t(n,r,o,i)}}(o,r):o}}(t);var m=e.options.name||s;return new kr("vue-component-"+e.cid+(m?"-"+m:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:f,listeners:d,tag:s,children:a},l)}}}function ze(e,t,n,r,c,s){return(Array.isArray(n)||a(n))&&(c=r,r=n,n=void 0),i(s)&&(c=oo),function(e,t,n,r,i){if(o(n)&&o(n.__ob__))return _r();o(n)&&o(n.is)&&(t=n.is);if(!t)return _r();0;Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0);i===oo?r=function(e){return a(e)?[A(e)]:Array.isArray(e)?ae(e):void 0}(r):i===ro&&(r=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(r));var c,s;if("string"==typeof t){var u;s=e.$vnode&&e.$vnode.ns||Zn.getTagNamespace(t),c=Zn.isReservedTag(t)?new kr(Zn.parsePlatformTagName(t),n,r,void 0,void 0,e):o(u=$(e.$options,"components",t))?He(u,n,e,r,t):new kr(t,n,r,void 0,void 0,e)}else c=He(t,n,e,r);return o(c)?(s&&je(c,s),c):_r()}(e,t,n,r,c)}function je(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),o(e.children))for(var a=0,c=e.children.length;a<c;a++){var s=e.children[a];o(s.tag)&&(r(s.ns)||i(n))&&je(s,t,n)}}function We(e){var t=e.options;if(e.super){var n=We(e.super);if(n!==e.superOptions){e.superOptions=n;var r=function(e){var t,n=e.options,r=e.extendOptions,o=e.sealedOptions;for(var i in n)n[i]!==o[i]&&(t||(t={}),t[i]=function(e,t,n){if(Array.isArray(e)){var r=[];n=Array.isArray(n)?n:[n],t=Array.isArray(t)?t:[t];for(var o=0;o<e.length;o++)(t.indexOf(e[o])>=0||n.indexOf(e[o])<0)&&r.push(e[o]);return r}return e}(n[i],r[i],o[i]));return t}(e);r&&b(e.extendOptions,r),(t=e.options=W(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function $e(e){this._init(e)}function qe(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,o=e._Ctor||(e._Ctor={});if(o[r])return o[r];var i=e.name||n.options.name;var a=function(e){this._init(e)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=t++,a.options=W(n.options,e),a.super=n,a.options.props&&function(e){var t=e.options.props;for(var n in t)we(e.prototype,"_props",n)}(a),a.options.computed&&function(e){var t=e.options.computed;for(var n in t)ke(e.prototype,n,t[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,Jn.forEach(function(e){a[e]=n[e]}),i&&(a.options.components[i]=a),a.superOptions=n.options,a.extendOptions=e,a.sealedOptions=b({},a.options),o[r]=a,a}}function Ve(e){return e&&(e.Ctor.options.name||e.tag)}function Ke(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!u(e)&&e.test(t)}function Ge(e,t){var n=e.cache,r=e.keys,o=e._vnode;for(var i in n){var a=n[i];if(a){var c=Ve(a.componentOptions);c&&!t(c)&&Xe(n,i,r,o)}}}function Xe(e,t,n,r){var o=e[t];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),e[t]=null,m(n,t)}function Ye(e){for(var t=e.data,n=e,r=e;o(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(t=Je(r.data,t));for(;o(n=n.parent);)n&&n.data&&(t=Je(t,n.data));return function(e,t){if(o(e)||o(t))return Qe(e,Ze(t));return""}(t.staticClass,t.class)}function Je(e,t){return{staticClass:Qe(e.staticClass,t.staticClass),class:o(e.class)?[e.class,t.class]:t.class}}function Qe(e,t){return e?t?e+" "+t:e:t||""}function Ze(e){return Array.isArray(e)?function(e){for(var t,n="",r=0,i=e.length;r<i;r++)o(t=Ze(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}(e):c(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}function et(e){return Ao(e)?"svg":"math"===e?"math":void 0}function tt(e){if("string"==typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function nt(e,t){var n=e.data.ref;if(n){var r=e.context,o=e.componentInstance||e.elm,i=r.$refs;t?Array.isArray(i[n])?m(i[n],o):i[n]===o&&(i[n]=void 0):e.data.refInFor?Array.isArray(i[n])?i[n].indexOf(o)<0&&i[n].push(o):i[n]=[o]:i[n]=o}}function rt(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&o(e.data)===o(t.data)&&function(e,t){if("input"!==e.tag)return!0;var n,r=o(n=e.data)&&o(n=n.attrs)&&n.type,i=o(n=t.data)&&o(n=n.attrs)&&n.type;return r===i||Ro(r)&&Ro(i)}(e,t)||i(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&r(t.asyncFactory.error))}function ot(e,t,n){var r,i,a={};for(r=t;r<=n;++r)o(i=e[r].key)&&(a[i]=r);return a}function it(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,r,o,i=e===Bo,a=t===Bo,c=at(e.data.directives,e.context),s=at(t.data.directives,t.context),u=[],l=[];for(n in s)r=c[n],o=s[n],r?(o.oldValue=r.value,ct(o,"update",t,e),o.def&&o.def.componentUpdated&&l.push(o)):(ct(o,"bind",t,e),o.def&&o.def.inserted&&u.push(o));if(u.length){var f=function(){for(var n=0;n<u.length;n++)ct(u[n],"inserted",t,e)};i?re(t,"insert",f):f()}l.length&&re(t,"postpatch",function(){for(var n=0;n<l.length;n++)ct(l[n],"componentUpdated",t,e)});if(!i)for(n in c)s[n]||ct(c[n],"unbind",e,e,a)}(e,t)}function at(e,t){var n=Object.create(null);if(!e)return n;var r,o;for(r=0;r<e.length;r++)(o=e[r]).modifiers||(o.modifiers=Lo),n[function(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}(o)]=o,o.def=$(t.$options,"directives",o.name);return n}function ct(e,t,n,r,o){var i=e.def&&e.def[t];if(i)try{i(n.elm,e,n,r,o)}catch(r){G(r,n.context,"directive "+e.name+" "+t+" hook")}}function st(e,t){var n=t.componentOptions;if(!(o(n)&&!1===n.Ctor.options.inheritAttrs||r(e.data.attrs)&&r(t.data.attrs))){var i,a,c=t.elm,s=e.data.attrs||{},u=t.data.attrs||{};o(u.__ob__)&&(u=t.data.attrs=b({},u));for(i in u)a=u[i],s[i]!==a&&ut(c,i,a);(ar||sr)&&u.value!==s.value&&ut(c,"value",u.value);for(i in s)r(u[i])&&(ko(i)?c.removeAttributeNS(Co,To(i)):xo(i)||c.removeAttribute(i))}}function ut(e,t,n){if(wo(t))_o(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n));else if(xo(t))e.setAttribute(t,_o(n)||"false"===n?"false":"true");else if(ko(t))_o(n)?e.removeAttributeNS(Co,To(t)):e.setAttributeNS(Co,t,n);else if(_o(n))e.removeAttribute(t);else{if(ar&&!cr&&"TEXTAREA"===e.tagName&&"placeholder"===t&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}function lt(e,t){var n=t.elm,i=t.data,a=e.data;if(!(r(i.staticClass)&&r(i.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var c=Ye(t),s=n._transitionClasses;o(s)&&(c=Qe(c,Ze(s))),c!==n._prevClass&&(n.setAttribute("class",c),n._prevClass=c)}}function ft(e){function t(){(a||(a=[])).push(e.slice(m,o).trim()),m=o+1}var n,r,o,i,a,c=!1,s=!1,u=!1,l=!1,f=0,d=0,p=0,m=0;for(o=0;o<e.length;o++)if(r=n,n=e.charCodeAt(o),c)39===n&&92!==r&&(c=!1);else if(s)34===n&&92!==r&&(s=!1);else if(u)96===n&&92!==r&&(u=!1);else if(l)47===n&&92!==r&&(l=!1);else if(124!==n||124===e.charCodeAt(o+1)||124===e.charCodeAt(o-1)||f||d||p){switch(n){case 34:s=!0;break;case 39:c=!0;break;case 96:u=!0;break;case 40:p++;break;case 41:p--;break;case 91:d++;break;case 93:d--;break;case 123:f++;break;case 125:f--}if(47===n){for(var h=o-1,g=void 0;h>=0&&" "===(g=e.charAt(h));h--);g&&zo.test(g)||(l=!0)}}else void 0===i?(m=o+1,i=e.slice(0,o).trim()):t();if(void 0===i?i=e.slice(0,o).trim():0!==m&&t(),a)for(o=0;o<a.length;o++)i=function(e,t){var n=t.indexOf("(");if(n<0)return'_f("'+t+'")('+e+")";var r=t.slice(0,n),o=t.slice(n+1);return'_f("'+r+'")('+e+","+o}(i,a[o]);return i}function dt(e){console.error("[Vue compiler]: "+e)}function pt(e,t){return e?e.map(function(e){return e[t]}).filter(function(e){return e}):[]}function mt(e,t,n){(e.props||(e.props=[])).push({name:t,value:n})}function ht(e,t,n){(e.attrs||(e.attrs=[])).push({name:t,value:n})}function gt(e,t,n,r,o,i){(e.directives||(e.directives=[])).push({name:t,rawName:n,value:r,arg:o,modifiers:i})}function vt(e,t,n,r,o,i){(r=r||Fn).capture&&(delete r.capture,t="!"+t),r.once&&(delete r.once,t="~"+t),r.passive&&(delete r.passive,t="&"+t),"click"===t&&(r.right?(t="contextmenu",delete r.right):r.middle&&(t="mouseup"));var a;r.native?(delete r.native,a=e.nativeEvents||(e.nativeEvents={})):a=e.events||(e.events={});var c={value:n};r!==Fn&&(c.modifiers=r);var s=a[t];Array.isArray(s)?o?s.unshift(c):s.push(c):a[t]=s?o?[c,s]:[s,c]:c}function yt(e,t,n){var r=bt(e,":"+t)||bt(e,"v-bind:"+t);if(null!=r)return ft(r);if(!1!==n){var o=bt(e,t);if(null!=o)return JSON.stringify(o)}}function bt(e,t,n){var r;if(null!=(r=e.attrsMap[t]))for(var o=e.attrsList,i=0,a=o.length;i<a;i++)if(o[i].name===t){o.splice(i,1);break}return n&&delete e.attrsMap[t],r}function xt(e,t,n){var r=n||{},o="$$v";r.trim&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),r.number&&(o="_n("+o+")");var i=wt(t,o);e.model={value:"("+t+")",expression:'"'+t+'"',callback:"function ($$v) {"+i+"}"}}function wt(e,t){var n=function(e){if(so=e.length,e.indexOf("[")<0||e.lastIndexOf("]")<so-1)return(fo=e.lastIndexOf("."))>-1?{exp:e.slice(0,fo),key:'"'+e.slice(fo+1)+'"'}:{exp:e,key:null};uo=e,fo=po=mo=0;for(;!kt();)Tt(lo=Ct())?_t(lo):91===lo&&function(e){var t=1;po=fo;for(;!kt();)if(e=Ct(),Tt(e))_t(e);else if(91===e&&t++,93===e&&t--,0===t){mo=fo;break}}(lo);return{exp:e.slice(0,po),key:e.slice(po+1,mo)}}(e);return null===n.key?e+"="+t:"$set("+n.exp+", "+n.key+", "+t+")"}function Ct(){return uo.charCodeAt(++fo)}function kt(){return fo>=so}function Tt(e){return 34===e||39===e}function _t(e){for(var t=e;!kt()&&(e=Ct())!==t;);}function St(e,t,n,r,o){t=function(e){return e._withTask||(e._withTask=function(){Lr=!0;var t=e.apply(null,arguments);return Lr=!1,t})}(t),n&&(t=function(e,t,n){var r=ho;return function o(){null!==e.apply(null,arguments)&&Et(t,o,n,r)}}(t,e,r)),ho.addEventListener(e,t,dr?{capture:r,passive:o}:r)}function Et(e,t,n,r){(r||ho).removeEventListener(e,t._withTask||t,n)}function At(e,t){if(!r(e.data.on)||!r(t.data.on)){var n=t.data.on||{},i=e.data.on||{};ho=t.elm,function(e){if(o(e[jo])){var t=ar?"change":"input";e[t]=[].concat(e[jo],e[t]||[]),delete e[jo]}o(e[Wo])&&(e.change=[].concat(e[Wo],e.change||[]),delete e[Wo])}(n),ne(n,i,St,Et,t.context),ho=void 0}}function Nt(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var n,i,a=t.elm,c=e.data.domProps||{},s=t.data.domProps||{};o(s.__ob__)&&(s=t.data.domProps=b({},s));for(n in c)r(s[n])&&(a[n]="");for(n in s){if(i=s[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),i===c[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n){a._value=i;var u=r(i)?"":String(i);(function(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(e,t)||function(e,t){var n=e.value,r=e._vModifiers;if(o(r)){if(r.lazy)return!1;if(r.number)return d(n)!==d(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}(e,t))})(a,u)&&(a.value=u)}else a[n]=i}}}function Dt(e){var t=Rt(e.style);return e.staticStyle?b(e.staticStyle,t):t}function Rt(e){return Array.isArray(e)?x(e):"string"==typeof e?Vo(e):e}function Pt(e,t){var n=t.data,i=e.data;if(!(r(n.staticStyle)&&r(n.style)&&r(i.staticStyle)&&r(i.style))){var a,c,s=t.elm,u=i.staticStyle,l=i.normalizedStyle||i.style||{},f=u||l,d=Rt(t.data.style)||{};t.data.normalizedStyle=o(d.__ob__)?b({},d):d;var p=function(e,t){var n,r={};if(t)for(var o=e;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(n=Dt(o.data))&&b(r,n);(n=Dt(e.data))&&b(r,n);for(var i=e;i=i.parent;)i.data&&(n=Dt(i.data))&&b(r,n);return r}(t,!0);for(c in f)r(p[c])&&Xo(s,c,"");for(c in p)(a=p[c])!==f[c]&&Xo(s,c,null==a?"":a)}}function Ot(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Bt(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function It(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&b(t,Zo(e.name||"v")),b(t,e),t}return"string"==typeof e?Zo(e):void 0}}function Mt(e){ci(function(){ci(e)})}function Lt(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),Ot(e,t))}function Ft(e,t){e._transitionClasses&&m(e._transitionClasses,t),Bt(e,t)}function Ut(e,t,n){var r=Ht(e,t),o=r.type,i=r.timeout,a=r.propCount;if(!o)return n();var c=o===ti?oi:ai,s=0,u=function(){e.removeEventListener(c,l),n()},l=function(t){t.target===e&&++s>=a&&u()};setTimeout(function(){s<a&&u()},i+1),e.addEventListener(c,l)}function Ht(e,t){var n,r=window.getComputedStyle(e),o=r[ri+"Delay"].split(", "),i=r[ri+"Duration"].split(", "),a=zt(o,i),c=r[ii+"Delay"].split(", "),s=r[ii+"Duration"].split(", "),u=zt(c,s),l=0,f=0;t===ti?a>0&&(n=ti,l=a,f=i.length):t===ni?u>0&&(n=ni,l=u,f=s.length):f=(n=(l=Math.max(a,u))>0?a>u?ti:ni:null)?n===ti?i.length:s.length:0;return{type:n,timeout:l,propCount:f,hasTransform:n===ti&&si.test(r[ri+"Property"])}}function zt(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return jt(t)+jt(e[n])}))}function jt(e){return 1e3*Number(e.slice(0,-1))}function Wt(e,t){var n=e.elm;o(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=It(e.data.transition);if(!r(i)&&!o(n._enterCb)&&1===n.nodeType){for(var a=i.css,s=i.type,u=i.enterClass,l=i.enterToClass,f=i.enterActiveClass,p=i.appearClass,m=i.appearToClass,h=i.appearActiveClass,g=i.beforeEnter,v=i.enter,y=i.afterEnter,b=i.enterCancelled,x=i.beforeAppear,w=i.appear,C=i.afterAppear,k=i.appearCancelled,_=i.duration,S=$r,E=$r.$vnode;E&&E.parent;)S=(E=E.parent).context;var A=!S._isMounted||!e.isRootInsert;if(!A||w||""===w){var N=A&&p?p:u,D=A&&h?h:f,R=A&&m?m:l,P=A?x||g:g,O=A&&"function"==typeof w?w:v,B=A?C||y:y,I=A?k||b:b,M=d(c(_)?_.enter:_);0;var L=!1!==a&&!cr,F=Vt(O),U=n._enterCb=T(function(){L&&(Ft(n,R),Ft(n,D)),U.cancelled?(L&&Ft(n,N),I&&I(n)):B&&B(n),n._enterCb=null});e.data.show||re(e,"insert",function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),O&&O(n,U)}),P&&P(n),L&&(Lt(n,N),Lt(n,D),Mt(function(){Lt(n,R),Ft(n,N),U.cancelled||F||(qt(M)?setTimeout(U,M):Ut(n,s,U))})),e.data.show&&(t&&t(),O&&O(n,U)),L||F||U()}}}function $t(e,t){function n(){k.cancelled||(e.data.show||((i.parentNode._pending||(i.parentNode._pending={}))[e.key]=e),m&&m(i),x&&(Lt(i,l),Lt(i,p),Mt(function(){Lt(i,f),Ft(i,l),k.cancelled||w||(qt(C)?setTimeout(k,C):Ut(i,u,k))})),h&&h(i,k),x||w||k())}var i=e.elm;o(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var a=It(e.data.transition);if(r(a)||1!==i.nodeType)return t();if(!o(i._leaveCb)){var s=a.css,u=a.type,l=a.leaveClass,f=a.leaveToClass,p=a.leaveActiveClass,m=a.beforeLeave,h=a.leave,g=a.afterLeave,v=a.leaveCancelled,y=a.delayLeave,b=a.duration,x=!1!==s&&!cr,w=Vt(h),C=d(c(b)?b.leave:b);0;var k=i._leaveCb=T(function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[e.key]=null),x&&(Ft(i,f),Ft(i,p)),k.cancelled?(x&&Ft(i,l),v&&v(i)):(t(),g&&g(i)),i._leaveCb=null});y?y(n):n()}}function qt(e){return"number"==typeof e&&!isNaN(e)}function Vt(e){if(r(e))return!1;var t=e.fns;return o(t)?Vt(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Kt(e,t){!0!==t.data.show&&Wt(t)}function Gt(e,t,n){Xt(e,t,n),(ar||sr)&&setTimeout(function(){Xt(e,t,n)},0)}function Xt(e,t,n){var r=t.value,o=e.multiple;if(!o||Array.isArray(r)){for(var i,a,c=0,s=e.options.length;c<s;c++)if(a=e.options[c],o)i=k(r,Jt(a))>-1,a.selected!==i&&(a.selected=i);else if(C(Jt(a),r))return void(e.selectedIndex!==c&&(e.selectedIndex=c));o||(e.selectedIndex=-1)}}function Yt(e,t){return t.every(function(t){return!C(t,e)})}function Jt(e){return"_value"in e?e._value:e.value}function Qt(e){e.target.composing=!0}function Zt(e){e.target.composing&&(e.target.composing=!1,en(e.target,"input"))}function en(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function tn(e){return!e.componentInstance||e.data&&e.data.transition?e:tn(e.componentInstance._vnode)}function nn(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?nn(ue(t.children)):e}function rn(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var o=n._parentListeners;for(var i in o)t[$n(i)]=o[i];return t}function on(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function an(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function cn(e){e.data.newPos=e.elm.getBoundingClientRect()}function sn(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,o=t.top-n.top;if(r||o){e.data.moved=!0;var i=e.elm.style;i.transform=i.WebkitTransform="translate("+r+"px,"+o+"px)",i.transitionDuration="0s"}}function un(e,t){var n=t?bi(t):vi;if(n.test(e)){for(var r,o,i=[],a=n.lastIndex=0;r=n.exec(e);){(o=r.index)>a&&i.push(JSON.stringify(e.slice(a,o)));var c=ft(r[1].trim());i.push("_s("+c+")"),a=o+r[0].length}return a<e.length&&i.push(JSON.stringify(e.slice(a))),i.join("+")}}function ln(e,t){var n=t?Ji:Yi;return e.replace(n,function(e){return Xi[e]})}function fn(e,t){function n(t){l+=t,e=e.substring(t)}function r(e,n,r){var o,c;if(null==n&&(n=l),null==r&&(r=l),e&&(c=e.toLowerCase()),e)for(o=a.length-1;o>=0&&a[o].lowerCasedTag!==c;o--);else o=0;if(o>=0){for(var s=a.length-1;s>=o;s--)t.end&&t.end(a[s].tag,n,r);a.length=o,i=o&&a[o-1].tag}else"br"===c?t.start&&t.start(e,[],!0,n,r):"p"===c&&(t.start&&t.start(e,[],!1,n,r),t.end&&t.end(e,n,r))}for(var o,i,a=[],c=t.expectHTML,s=t.isUnaryTag||Gn,u=t.canBeLeftOpenTag||Gn,l=0;e;){if(o=e,i&&Ki(i)){var f=0,d=i.toLowerCase(),p=Gi[d]||(Gi[d]=new RegExp("([\\s\\S]*?)(</"+d+"[^>]*>)","i")),m=e.replace(p,function(e,n,r){return f=r.length,Ki(d)||"noscript"===d||(n=n.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Zi(d,n)&&(n=n.slice(1)),t.chars&&t.chars(n),""});l+=e.length-m.length,e=m,r(d,l-f,l)}else{var h=e.indexOf("<");if(0===h){if(Oi.test(e)){var g=e.indexOf("--\x3e");if(g>=0){t.shouldKeepComment&&t.comment(e.substring(4,g)),n(g+3);continue}}if(Bi.test(e)){var v=e.indexOf("]>");if(v>=0){n(v+2);continue}}var y=e.match(Pi);if(y){n(y[0].length);continue}var b=e.match(Ri);if(b){var x=l;n(b[0].length),r(b[1],x,l);continue}var w=function(){var t=e.match(Ni);if(t){var r={tagName:t[1],attrs:[],start:l};n(t[0].length);for(var o,i;!(o=e.match(Di))&&(i=e.match(Si));)n(i[0].length),r.attrs.push(i);if(o)return r.unarySlash=o[1],n(o[0].length),r.end=l,r}}();if(w){!function(e){var n=e.tagName,o=e.unarySlash;c&&("p"===i&&_i(n)&&r(i),u(n)&&i===n&&r(n));for(var l=s(n)||!!o,f=e.attrs.length,d=new Array(f),p=0;p<f;p++){var m=e.attrs[p];Ii&&-1===m[0].indexOf('""')&&(""===m[3]&&delete m[3],""===m[4]&&delete m[4],""===m[5]&&delete m[5]);var h=m[3]||m[4]||m[5]||"",g="a"===n&&"href"===m[1]?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;d[p]={name:m[1],value:ln(h,g)}}l||(a.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:d}),i=n),t.start&&t.start(n,d,l,e.start,e.end)}(w),Zi(i,e)&&n(1);continue}}var C=void 0,k=void 0,T=void 0;if(h>=0){for(k=e.slice(h);!(Ri.test(k)||Ni.test(k)||Oi.test(k)||Bi.test(k)||(T=k.indexOf("<",1))<0);)h+=T,k=e.slice(h);C=e.substring(0,h),n(h)}h<0&&(C=e,e=""),t.chars&&C&&t.chars(C)}if(e===o){t.chars&&t.chars(e);break}}r()}function dn(e,t,n){return{type:1,tag:e,attrsList:t,attrsMap:function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n].name]=e[n].value;return t}(t),parent:n,children:[]}}function pn(e,t){function n(e){e.pre&&(c=!1),zi(e.tag)&&(s=!1)}Mi=t.warn||dt,zi=t.isPreTag||Gn,ji=t.mustUseProp||Gn,Wi=t.getTagNamespace||Gn,Fi=pt(t.modules,"transformNode"),Ui=pt(t.modules,"preTransformNode"),Hi=pt(t.modules,"postTransformNode"),Li=t.delimiters;var r,o,i=[],a=!1!==t.preserveWhitespace,c=!1,s=!1;return fn(e,{warn:Mi,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,shouldDecodeNewlinesForHref:t.shouldDecodeNewlinesForHref,shouldKeepComment:t.comments,start:function(e,a,u){function l(e){0}var f=o&&o.ns||Wi(e);ar&&"svg"===f&&(a=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];ua.test(r.name)||(r.name=r.name.replace(la,""),t.push(r))}return t}(a));var d=dn(e,a,o);f&&(d.ns=f),function(e){return"style"===e.tag||"script"===e.tag&&(!e.attrsMap.type||"text/javascript"===e.attrsMap.type)}(d)&&!gr()&&(d.forbidden=!0);for(var p=0;p<Ui.length;p++)d=Ui[p](d,t)||d;if(c||(!function(e){null!=bt(e,"v-pre")&&(e.pre=!0)}(d),d.pre&&(c=!0)),zi(d.tag)&&(s=!0),c?function(e){var t=e.attrsList.length;if(t)for(var n=e.attrs=new Array(t),r=0;r<t;r++)n[r]={name:e.attrsList[r].name,value:JSON.stringify(e.attrsList[r].value)};else e.pre||(e.plain=!0)}(d):d.processed||(hn(d),function(e){var t=bt(e,"v-if");if(t)e.if=t,gn(e,{exp:t,block:e});else{null!=bt(e,"v-else")&&(e.else=!0);var n=bt(e,"v-else-if");n&&(e.elseif=n)}}(d),function(e){null!=bt(e,"v-once")&&(e.once=!0)}(d),mn(d,t)),r?i.length||r.if&&(d.elseif||d.else)&&(l(),gn(r,{exp:d.elseif,block:d})):(r=d,l()),o&&!d.forbidden)if(d.elseif||d.else)!function(e,t){var n=function(e){var t=e.length;for(;t--;){if(1===e[t].type)return e[t];e.pop()}}(t.children);n&&n.if&&gn(n,{exp:e.elseif,block:e})}(d,o);else if(d.slotScope){o.plain=!1;var m=d.slotTarget||'"default"';(o.scopedSlots||(o.scopedSlots={}))[m]=d}else o.children.push(d),d.parent=o;u?n(d):(o=d,i.push(d));for(var h=0;h<Hi.length;h++)Hi[h](d,t)},end:function(){var e=i[i.length-1],t=e.children[e.children.length-1];t&&3===t.type&&" "===t.text&&!s&&e.children.pop(),i.length-=1,o=i[i.length-1],n(e)},chars:function(e){if(o&&(!ar||"textarea"!==o.tag||o.attrsMap.placeholder!==e)){var t=o.children;if(e=s||e.trim()?function(e){return"script"===e.tag||"style"===e.tag}(o)?e:sa(e):a&&t.length?" ":""){var n;!c&&" "!==e&&(n=un(e,Li))?t.push({type:2,expression:n,text:e}):" "===e&&t.length&&" "===t[t.length-1].text||t.push({type:3,text:e})}}},comment:function(e){o.children.push({type:3,text:e,isComment:!0})}}),r}function mn(e,t){!function(e){var t=yt(e,"key");t&&(e.key=t)}(e),e.plain=!e.key&&!e.attrsList.length,function(e){var t=yt(e,"ref");t&&(e.ref=t,e.refInFor=function(e){var t=e;for(;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}(e))}(e),function(e){if("slot"===e.tag)e.slotName=yt(e,"name");else{var t;"template"===e.tag?(t=bt(e,"scope"),e.slotScope=t||bt(e,"slot-scope")):(t=bt(e,"slot-scope"))&&(e.slotScope=t);var n=yt(e,"slot");n&&(e.slotTarget='""'===n?'"default"':n,"template"===e.tag||e.slotScope||ht(e,"slot",n))}}(e),function(e){var t;(t=yt(e,"is"))&&(e.component=t);null!=bt(e,"inline-template")&&(e.inlineTemplate=!0)}(e);for(var n=0;n<Fi.length;n++)e=Fi[n](e,t)||e;!function(e){var t,n,r,o,i,a,c,s=e.attrsList;for(t=0,n=s.length;t<n;t++)if(r=o=s[t].name,i=s[t].value,ta.test(r))if(e.hasBindings=!0,(a=function(e){var t=e.match(ca);if(t){var n={};return t.forEach(function(e){n[e.slice(1)]=!0}),n}}(r))&&(r=r.replace(ca,"")),aa.test(r))r=r.replace(aa,""),i=ft(i),c=!1,a&&(a.prop&&(c=!0,"innerHtml"===(r=$n(r))&&(r="innerHTML")),a.camel&&(r=$n(r)),a.sync&&vt(e,"update:"+$n(r),wt(i,"$event"))),c||!e.component&&ji(e.tag,e.attrsMap.type,r)?mt(e,r,i):ht(e,r,i);else if(ea.test(r))r=r.replace(ea,""),vt(e,r,i,a,!1);else{var u=(r=r.replace(ta,"")).match(ia),l=u&&u[1];l&&(r=r.slice(0,-(l.length+1))),gt(e,r,o,i,l,a)}else{ht(e,r,JSON.stringify(i)),!e.component&&"muted"===r&&ji(e.tag,e.attrsMap.type,r)&&mt(e,r,"true")}}(e)}function hn(e){var t;if(t=bt(e,"v-for")){var n=t.match(na);if(!n)return;e.for=n[2].trim();var r=n[1].trim().replace(oa,""),o=r.match(ra);o?(e.alias=r.replace(ra,""),e.iterator1=o[1].trim(),o[2]&&(e.iterator2=o[2].trim())):e.alias=r}}function gn(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function vn(e){return dn(e.tag,e.attrsList.slice(),e.parent)}function yn(e,t,n){e.attrsMap[t]=n,e.attrsList.push({name:t,value:n})}function bn(e){if(e.static=function(e){if(2===e.type)return!1;if(3===e.type)return!0;return!(!e.pre&&(e.hasBindings||e.if||e.for||Hn(e.tag)||!qi(e.tag)||function(e){for(;e.parent;){if("template"!==(e=e.parent).tag)return!1;if(e.for)return!0}return!1}(e)||!Object.keys(e).every($i)))}(e),1===e.type){if(!qi(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var t=0,n=e.children.length;t<n;t++){var r=e.children[t];bn(r),r.static||(e.static=!1)}if(e.ifConditions)for(var o=1,i=e.ifConditions.length;o<i;o++){var a=e.ifConditions[o].block;bn(a),a.static||(e.static=!1)}}}function xn(e,t){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=t),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var n=0,r=e.children.length;n<r;n++)xn(e.children[n],t||!!e.for);if(e.ifConditions)for(var o=1,i=e.ifConditions.length;o<i;o++)xn(e.ifConditions[o].block,t)}}function wn(e,t,n){var r=t?"nativeOn:{":"on:{";for(var o in e)r+='"'+o+'":'+Cn(o,e[o])+",";return r.slice(0,-1)+"}"}function Cn(e,t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map(function(t){return Cn(e,t)}).join(",")+"]";var n=ha.test(t.value),r=ma.test(t.value);if(t.modifiers){var o="",i="",a=[];for(var c in t.modifiers)if(ya[c])i+=ya[c],ga[c]&&a.push(c);else if("exact"===c){var s=t.modifiers;i+=va(["ctrl","shift","alt","meta"].filter(function(e){return!s[e]}).map(function(e){return"$event."+e+"Key"}).join("||"))}else a.push(c);a.length&&(o+=function(e){return"if(!('button' in $event)&&"+e.map(kn).join("&&")+")return null;"}(a)),i&&(o+=i);return"function($event){"+o+(n?t.value+"($event)":r?"("+t.value+")($event)":t.value)+"}"}return n||r?t.value:"function($event){"+t.value+"}"}function kn(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var n=ga[e];return"_k($event.keyCode,"+JSON.stringify(e)+","+JSON.stringify(n)+",$event.key)"}function Tn(e,t){var n=new xa(t);return{render:"with(this){return "+(e?_n(e,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function _n(e,t){if(e.staticRoot&&!e.staticProcessed)return Sn(e,t);if(e.once&&!e.onceProcessed)return En(e,t);if(e.for&&!e.forProcessed)return function(e,t,n,r){var o=e.for,i=e.alias,a=e.iterator1?","+e.iterator1:"",c=e.iterator2?","+e.iterator2:"";0;return e.forProcessed=!0,(r||"_l")+"(("+o+"),function("+i+a+c+"){return "+(n||_n)(e,t)+"})"}(e,t);if(e.if&&!e.ifProcessed)return An(e,t);if("template"!==e.tag||e.slotTarget){if("slot"===e.tag)return function(e,t){var n=e.slotName||'"default"',r=Pn(e,t),o="_t("+n+(r?","+r:""),i=e.attrs&&"{"+e.attrs.map(function(e){return $n(e.name)+":"+e.value}).join(",")+"}",a=e.attrsMap["v-bind"];!i&&!a||r||(o+=",null");i&&(o+=","+i);a&&(o+=(i?"":",null")+","+a);return o+")"}(e,t);var n;if(e.component)n=function(e,t,n){var r=t.inlineTemplate?null:Pn(t,n,!0);return"_c("+e+","+Dn(t,n)+(r?","+r:"")+")"}(e.component,e,t);else{var r=e.plain?void 0:Dn(e,t),o=e.inlineTemplate?null:Pn(e,t,!0);n="_c('"+e.tag+"'"+(r?","+r:"")+(o?","+o:"")+")"}for(var i=0;i<t.transforms.length;i++)n=t.transforms[i](e,n);return n}return Pn(e,t)||"void 0"}function Sn(e,t){return e.staticProcessed=!0,t.staticRenderFns.push("with(this){return "+_n(e,t)+"}"),"_m("+(t.staticRenderFns.length-1)+(e.staticInFor?",true":"")+")"}function En(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return An(e,t);if(e.staticInFor){for(var n="",r=e.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+_n(e,t)+","+t.onceId+++","+n+")":_n(e,t)}return Sn(e,t)}function An(e,t,n,r){return e.ifProcessed=!0,Nn(e.ifConditions.slice(),t,n,r)}function Nn(e,t,n,r){function o(e){return n?n(e,t):e.once?En(e,t):_n(e,t)}if(!e.length)return r||"_e()";var i=e.shift();return i.exp?"("+i.exp+")?"+o(i.block)+":"+Nn(e,t,n,r):""+o(i.block)}function Dn(e,t){var n="{",r=function(e,t){var n=e.directives;if(!n)return;var r,o,i,a,c="directives:[",s=!1;for(r=0,o=n.length;r<o;r++){i=n[r],a=!0;var u=t.directives[i.name];u&&(a=!!u(e,i,t.warn)),a&&(s=!0,c+='{name:"'+i.name+'",rawName:"'+i.rawName+'"'+(i.value?",value:("+i.value+"),expression:"+JSON.stringify(i.value):"")+(i.arg?',arg:"'+i.arg+'"':"")+(i.modifiers?",modifiers:"+JSON.stringify(i.modifiers):"")+"},")}if(s)return c.slice(0,-1)+"]"}(e,t);r&&(n+=r+","),e.key&&(n+="key:"+e.key+","),e.ref&&(n+="ref:"+e.ref+","),e.refInFor&&(n+="refInFor:true,"),e.pre&&(n+="pre:true,"),e.component&&(n+='tag:"'+e.tag+'",');for(var o=0;o<t.dataGenFns.length;o++)n+=t.dataGenFns[o](e);if(e.attrs&&(n+="attrs:{"+Bn(e.attrs)+"},"),e.props&&(n+="domProps:{"+Bn(e.props)+"},"),e.events&&(n+=wn(e.events,!1,t.warn)+","),e.nativeEvents&&(n+=wn(e.nativeEvents,!0,t.warn)+","),e.slotTarget&&!e.slotScope&&(n+="slot:"+e.slotTarget+","),e.scopedSlots&&(n+=function(e,t){return"scopedSlots:_u(["+Object.keys(e).map(function(n){return Rn(n,e[n],t)}).join(",")+"])"}(e.scopedSlots,t)+","),e.model&&(n+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"),e.inlineTemplate){var i=function(e,t){var n=e.children[0];0;if(1===n.type){var r=Tn(n,t.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map(function(e){return"function(){"+e+"}"}).join(",")+"]}"}}(e,t);i&&(n+=i+",")}return n=n.replace(/,$/,"")+"}",e.wrapData&&(n=e.wrapData(n)),e.wrapListeners&&(n=e.wrapListeners(n)),n}function Rn(e,t,n){if(t.for&&!t.forProcessed)return function(e,t,n){var r=t.for,o=t.alias,i=t.iterator1?","+t.iterator1:"",a=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,"_l(("+r+"),function("+o+i+a+"){return "+Rn(e,t,n)+"})"}(e,t,n);return"{key:"+e+",fn:"+("function("+String(t.slotScope)+"){return "+("template"===t.tag?t.if?t.if+"?"+(Pn(t,n)||"undefined")+":undefined":Pn(t,n)||"undefined":_n(t,n))+"}")+"}"}function Pn(e,t,n,r,o){var i=e.children;if(i.length){var a=i[0];if(1===i.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag)return(r||_n)(a,t);var c=n?function(e,t){for(var n=0,r=0;r<e.length;r++){var o=e[r];if(1===o.type){if(On(o)||o.ifConditions&&o.ifConditions.some(function(e){return On(e.block)})){n=2;break}(t(o)||o.ifConditions&&o.ifConditions.some(function(e){return t(e.block)}))&&(n=1)}}return n}(i,t.maybeComponent):0,s=o||function(e,t){if(1===e.type)return _n(e,t);return 3===e.type&&e.isComment?function(e){return"_e("+JSON.stringify(e.text)+")"}(e):function(e){return"_v("+(2===e.type?e.expression:In(JSON.stringify(e.text)))+")"}(e)};return"["+i.map(function(e){return s(e,t)}).join(",")+"]"+(c?","+c:"")}}function On(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function Bn(e){for(var t="",n=0;n<e.length;n++){var r=e[n];t+='"'+r.name+'":'+In(r.value)+","}return t.slice(0,-1)}function In(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function Mn(e,t){try{return new Function(e)}catch(n){return t.push({err:n,code:e}),w}}function Ln(e){return Vi=Vi||document.createElement("div"),Vi.innerHTML=e?'<a href="\n"/>':'<div a="\n"/>',Vi.innerHTML.indexOf("&#10;")>0}var Fn=Object.freeze({}),Un=Object.prototype.toString,Hn=p("slot,component",!0),zn=p("key,ref,slot,slot-scope,is"),jn=Object.prototype.hasOwnProperty,Wn=/-(\w)/g,$n=g(function(e){return e.replace(Wn,function(e,t){return t?t.toUpperCase():""})}),qn=g(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),Vn=/\B([A-Z])/g,Kn=g(function(e){return e.replace(Vn,"-$1").toLowerCase()}),Gn=function(e,t,n){return!1},Xn=function(e){return e},Yn="data-server-rendered",Jn=["component","directive","filter"],Qn=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],Zn={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Gn,isReservedAttr:Gn,isUnknownElement:Gn,getTagNamespace:w,parsePlatformTagName:Xn,mustUseProp:Gn,_lifecycleHooks:Qn},er=/[^\w.$]/,tr="__proto__"in{},nr="undefined"!=typeof window,rr="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,or=rr&&WXEnvironment.platform.toLowerCase(),ir=nr&&window.navigator.userAgent.toLowerCase(),ar=ir&&/msie|trident/.test(ir),cr=ir&&ir.indexOf("msie 9.0")>0,sr=ir&&ir.indexOf("edge/")>0,ur=ir&&ir.indexOf("android")>0||"android"===or,lr=ir&&/iphone|ipad|ipod|ios/.test(ir)||"ios"===or,fr=(ir&&/chrome\/\d+/.test(ir),{}.watch),dr=!1;if(nr)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){dr=!0}}),window.addEventListener("test-passive",null,pr)}catch(e){}var mr,hr,gr=function(){return void 0===mr&&(mr=!nr&&void 0!==t&&"server"===t.process.env.VUE_ENV),mr},vr=nr&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,yr="undefined"!=typeof Symbol&&E(Symbol)&&"undefined"!=typeof Reflect&&E(Reflect.ownKeys);hr="undefined"!=typeof Set&&E(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var br=w,xr=0,wr=function(){this.id=xr++,this.subs=[]};wr.prototype.addSub=function(e){this.subs.push(e)},wr.prototype.removeSub=function(e){m(this.subs,e)},wr.prototype.depend=function(){wr.target&&wr.target.addDep(this)},wr.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},wr.target=null;var Cr=[],kr=function(e,t,n,r,o,i,a,c){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=c,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},Tr={child:{configurable:!0}};Tr.child.get=function(){return this.componentInstance},Object.defineProperties(kr.prototype,Tr);var _r=function(e){void 0===e&&(e="");var t=new kr;return t.text=e,t.isComment=!0,t},Sr=Array.prototype,Er=Object.create(Sr);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=Sr[e];S(Er,e,function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var o,i=t.apply(this,n),a=this.__ob__;switch(e){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2)}return o&&a.observeArray(o),a.dep.notify(),i})});var Ar=Object.getOwnPropertyNames(Er),Nr={shouldConvert:!0},Dr=function(e){if(this.value=e,this.dep=new wr,this.vmCount=0,S(e,"__ob__",this),Array.isArray(e)){(tr?R:P)(e,Er,Ar),this.observeArray(e)}else this.walk(e)};Dr.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)B(e,t[n],e[t[n]])},Dr.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)O(e[t])};var Rr=Zn.optionMergeStrategies;Rr.data=function(e,t,n){return n?U(e,t,n):t&&"function"!=typeof t?e:U(e,t)},Qn.forEach(function(e){Rr[e]=H}),Jn.forEach(function(e){Rr[e+"s"]=z}),Rr.watch=function(e,t,n,r){if(e===fr&&(e=void 0),t===fr&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var o={};b(o,e);for(var i in t){var a=o[i],c=t[i];a&&!Array.isArray(a)&&(a=[a]),o[i]=a?a.concat(c):Array.isArray(c)?c:[c]}return o},Rr.props=Rr.methods=Rr.inject=Rr.computed=function(e,t,n,r){if(!e)return t;var o=Object.create(null);return b(o,e),t&&b(o,t),o},Rr.provide=U;var Pr,Or,Br=function(e,t){return void 0===t?e:t},Ir=[],Mr=!1,Lr=!1;if(void 0!==n&&E(n))Or=function(){n(J)};else if("undefined"==typeof MessageChannel||!E(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())Or=function(){setTimeout(J,0)};else{var Fr=new MessageChannel,Ur=Fr.port2;Fr.port1.onmessage=J,Or=function(){Ur.postMessage(1)}}if("undefined"!=typeof Promise&&E(Promise)){var Hr=Promise.resolve();Pr=function(){Hr.then(J),lr&&setTimeout(w)}}else Pr=Or;var zr,jr=new hr,Wr=g(function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),r="!"===(e=n?e.slice(1):e).charAt(0);return e=r?e.slice(1):e,{name:e,once:n,capture:r,passive:t}}),$r=null,qr=[],Vr=[],Kr={},Gr=!1,Xr=!1,Yr=0,Jr=0,Qr=function(e,t,n,r,o){this.vm=e,o&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Jr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new hr,this.newDepIds=new hr,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){if(!er.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};Qr.prototype.get=function(){!function(e){wr.target&&Cr.push(wr.target),wr.target=e}(this);var e,t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;G(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&Z(e),wr.target=Cr.pop(),this.cleanupDeps()}return e},Qr.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},Qr.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Qr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==Kr[t]){if(Kr[t]=!0,Xr){for(var n=qr.length-1;n>Yr&&qr[n].id>e.id;)n--;qr.splice(n+1,0,e)}else qr.push(e);Gr||(Gr=!0,Q(xe))}}(this)},Qr.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||c(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){G(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},Qr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Qr.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},Qr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||m(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var Zr={enumerable:!0,configurable:!0,get:w,set:w},eo={lazy:!0};Le(Fe.prototype);var to={init:function(e,t,n,r){if(!e.componentInstance||e.componentInstance._isDestroyed){(e.componentInstance=function(e,t,n,r){var i={_isComponent:!0,parent:t,_parentVnode:e,_parentElm:n||null,_refElm:r||null},a=e.data.inlineTemplate;return o(a)&&(i.render=a.render,i.staticRenderFns=a.staticRenderFns),new e.componentOptions.Ctor(i)}(e,$r,n,r)).$mount(t?e.elm:void 0,t)}else if(e.data.keepAlive){var i=e;to.prepatch(i,i)}},prepatch:function(e,t){var n=t.componentOptions;!function(e,t,n,r,o){var i=!!(o||e.$options._renderChildren||r.data.scopedSlots||e.$scopedSlots!==Fn);if(e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=o,e.$attrs=r.data&&r.data.attrs||Fn,e.$listeners=n||Fn,t&&e.$options.props){Nr.shouldConvert=!1;for(var a=e._props,c=e.$options._propKeys||[],s=0;s<c.length;s++){var u=c[s];a[u]=q(u,e.$options.props,t,e)}Nr.shouldConvert=!0,e.$options.propsData=t}if(n){var l=e.$options._parentListeners;e.$options._parentListeners=n,de(e,n,l)}i&&(e.$slots=pe(o,r.context),e.$forceUpdate())}(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,be(n,"mounted")),e.data.keepAlive&&(t._isMounted?function(e){e._inactive=!1,Vr.push(e)}(n):ve(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?ye(t,!0):t.$destroy())}},no=Object.keys(to),ro=1,oo=2,io=0;!function(e){e.prototype._init=function(e){this._uid=io++,this._isVue=!0,e&&e._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r,n._parentElm=t._parentElm,n._refElm=t._refElm;var o=r.componentOptions;n.propsData=o.propsData,n._parentListeners=o.listeners,n._renderChildren=o.children,n._componentTag=o.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(this,e):this.$options=W(We(this.constructor),e||{},this),this._renderProxy=this,this._self=this,function(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(this),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&de(e,t)}(this),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,r=n&&n.context;e.$slots=pe(t._renderChildren,r),e.$scopedSlots=Fn,e._c=function(t,n,r,o){return ze(e,t,n,r,o,!1)},e.$createElement=function(t,n,r,o){return ze(e,t,n,r,o,!0)};var o=n&&n.data;B(e,"$attrs",o&&o.attrs||Fn,0,!0),B(e,"$listeners",t._parentListeners||Fn,0,!0)}(this),be(this,"beforeCreate"),function(e){var t=Se(e.$options.inject,e);t&&(Nr.shouldConvert=!1,Object.keys(t).forEach(function(n){B(e,n,t[n])}),Nr.shouldConvert=!0)}(this),Ce(this),function(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}(this),be(this,"created"),this.$options.el&&this.$mount(this.$options.el)}}($e),function(e){var t={};t.get=function(){return this._data};var n={};n.get=function(){return this._props},Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=I,e.prototype.$delete=M,e.prototype.$watch=function(e,t,n){if(s(t))return _e(this,e,t,n);(n=n||{}).user=!0;var r=new Qr(this,e,t,n);return n.immediate&&t.call(this,r.value),function(){r.teardown()}}}($e),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){if(Array.isArray(e))for(var r=0,o=e.length;r<o;r++)this.$on(e[r],n);else(this._events[e]||(this._events[e]=[])).push(n),t.test(e)&&(this._hasHookEvent=!0);return this},e.prototype.$once=function(e,t){function n(){r.$off(e,n),t.apply(r,arguments)}var r=this;return n.fn=t,r.$on(e,n),r},e.prototype.$off=function(e,t){if(!arguments.length)return this._events=Object.create(null),this;if(Array.isArray(e)){for(var n=0,r=e.length;n<r;n++)this.$off(e[n],t);return this}var o=this._events[e];if(!o)return this;if(!t)return this._events[e]=null,this;if(t)for(var i,a=o.length;a--;)if((i=o[a])===t||i.fn===t){o.splice(a,1);break}return this},e.prototype.$emit=function(e){var t=this._events[e];if(t){t=t.length>1?y(t):t;for(var n=y(arguments,1),r=0,o=t.length;r<o;r++)try{t[r].apply(this,n)}catch(t){G(t,this,'event handler for "'+e+'"')}}return this}}($e),function(e){e.prototype._update=function(e,t){this._isMounted&&be(this,"beforeUpdate");var n=this.$el,r=this._vnode,o=$r;$r=this,this._vnode=e,r?this.$el=this.__patch__(r,e):(this.$el=this.__patch__(this.$el,e,t,!1,this.$options._parentElm,this.$options._refElm),this.$options._parentElm=this.$options._refElm=null),$r=o,n&&(n.__vue__=null),this.$el&&(this.$el.__vue__=this),this.$vnode&&this.$parent&&this.$vnode===this.$parent._vnode&&(this.$parent.$el=this.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){if(!this._isBeingDestroyed){be(this,"beforeDestroy"),this._isBeingDestroyed=!0;var e=this.$parent;!e||e._isBeingDestroyed||this.$options.abstract||m(e.$children,this),this._watcher&&this._watcher.teardown();for(var t=this._watchers.length;t--;)this._watchers[t].teardown();this._data.__ob__&&this._data.__ob__.vmCount--,this._isDestroyed=!0,this.__patch__(this._vnode,null),be(this,"destroyed"),this.$off(),this.$el&&(this.$el.__vue__=null),this.$vnode&&(this.$vnode.parent=null)}}}($e),function(e){Le(e.prototype),e.prototype.$nextTick=function(e){return Q(e,this)},e.prototype._render=function(){var e=this.$options,t=e.render,n=e._parentVnode;if(this._isMounted)for(var r in this.$slots){var o=this.$slots[r];(o._rendered||o[0]&&o[0].elm)&&(this.$slots[r]=D(o,!0))}this.$scopedSlots=n&&n.data.scopedSlots||Fn,this.$vnode=n;var i;try{i=t.call(this._renderProxy,this.$createElement)}catch(e){G(e,this,"render"),i=this._vnode}return i instanceof kr||(i=_r()),i.parent=n,i}}($e);var ao=[String,RegExp,Array],co={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:ao,exclude:ao,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Xe(this.cache,e,this.keys)},watch:{include:function(e){Ge(this,function(t){return Ke(e,t)})},exclude:function(e){Ge(this,function(t){return!Ke(e,t)})}},render:function(){var e=this.$slots.default,t=ue(e),n=t&&t.componentOptions;if(n){var r=Ve(n),o=this.include,i=this.exclude;if(o&&(!r||!Ke(o,r))||i&&r&&Ke(i,r))return t;var a=this.cache,c=this.keys,s=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;a[s]?(t.componentInstance=a[s].componentInstance,m(c,s),c.push(s)):(a[s]=t,c.push(s),this.max&&c.length>parseInt(this.max)&&Xe(a,c[0],c,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}}};!function(e){var t={};t.get=function(){return Zn},Object.defineProperty(e,"config",t),e.util={warn:br,extend:b,mergeOptions:W,defineReactive:B},e.set=I,e.delete=M,e.nextTick=Q,e.options=Object.create(null),Jn.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,b(e.options.components,co),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=y(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=W(this.options,e),this}}(e),qe(e),function(e){Jn.forEach(function(t){e[t]=function(e,n){return n?("component"===t&&s(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}})}(e)}($e),Object.defineProperty($e.prototype,"$isServer",{get:gr}),Object.defineProperty($e.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),$e.version="2.5.11";var so,uo,lo,fo,po,mo,ho,go,vo=p("style,class"),yo=p("input,textarea,option,select,progress"),bo=function(e,t,n){return"value"===n&&yo(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},xo=p("contenteditable,draggable,spellcheck"),wo=p("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Co="http://www.w3.org/1999/xlink",ko=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},To=function(e){return ko(e)?e.slice(6,e.length):""},_o=function(e){return null==e||!1===e},So={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Eo=p("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Ao=p("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),No=function(e){return Eo(e)||Ao(e)},Do=Object.create(null),Ro=p("text,number,password,search,email,tel,url"),Po=Object.freeze({createElement:function(e,t){var n=document.createElement(e);return"select"!==e?n:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)},createElementNS:function(e,t){return document.createElementNS(So[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setAttribute:function(e,t,n){e.setAttribute(t,n)}}),Oo={create:function(e,t){nt(t)},update:function(e,t){e.data.ref!==t.data.ref&&(nt(e,!0),nt(t))},destroy:function(e){nt(e,!0)}},Bo=new kr("",{},[]),Io=["create","activate","update","remove","destroy"],Mo={create:it,update:it,destroy:function(e){it(e,Bo)}},Lo=Object.create(null),Fo=[Oo,Mo],Uo={create:st,update:st},Ho={create:lt,update:lt},zo=/[\w).+\-_$\]]/,jo="__r",Wo="__c",$o={create:At,update:At},qo={create:Nt,update:Nt},Vo=g(function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach(function(e){if(e){var r=e.split(n);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}),Ko=/^--/,Go=/\s*!important$/,Xo=function(e,t,n){if(Ko.test(t))e.style.setProperty(t,n);else if(Go.test(n))e.style.setProperty(t,n.replace(Go,""),"important");else{var r=Jo(t);if(Array.isArray(n))for(var o=0,i=n.length;o<i;o++)e.style[r]=n[o];else e.style[r]=n}},Yo=["Webkit","Moz","ms"],Jo=g(function(e){if(go=go||document.createElement("div").style,"filter"!==(e=$n(e))&&e in go)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Yo.length;n++){var r=Yo[n]+t;if(r in go)return r}}),Qo={create:Pt,update:Pt},Zo=g(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),ei=nr&&!cr,ti="transition",ni="animation",ri="transition",oi="transitionend",ii="animation",ai="animationend";ei&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ri="WebkitTransition",oi="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ii="WebkitAnimation",ai="webkitAnimationEnd"));var ci=nr?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()},si=/\b(transform|all)(,|$)/,ui=function(e){function t(e){var t=S.parentNode(e);o(t)&&S.removeChild(t,e)}function n(e,t,n,r,a){if(e.isRootInsert=!a,!function(e,t,n,r){var a=e.data;if(o(a)){var u=o(e.componentInstance)&&a.keepAlive;if(o(a=a.hook)&&o(a=a.init)&&a(e,!1,n,r),o(e.componentInstance))return c(e,t),i(u)&&function(e,t,n,r){for(var i,a=e;a.componentInstance;)if(a=a.componentInstance._vnode,o(i=a.data)&&o(i=i.transition)){for(i=0;i<T.activate.length;++i)T.activate[i](Bo,a);t.push(a);break}s(n,e.elm,r)}(e,t,n,r),!0}}(e,t,n,r)){var l=e.data,p=e.children,m=e.tag;o(m)?(e.elm=e.ns?S.createElementNS(e.ns,m):S.createElement(m,e),d(e),u(e,p,t),o(l)&&f(e,t),s(n,e.elm,r)):i(e.isComment)?(e.elm=S.createComment(e.text),s(n,e.elm,r)):(e.elm=S.createTextNode(e.text),s(n,e.elm,r))}}function c(e,t){o(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,l(e)?(f(e,t),d(e)):(nt(e),t.push(e))}function s(e,t,n){o(e)&&(o(n)?n.parentNode===e&&S.insertBefore(e,t,n):S.appendChild(e,t))}function u(e,t,r){if(Array.isArray(t))for(var o=0;o<t.length;++o)n(t[o],r,e.elm,null,!0);else a(e.text)&&S.appendChild(e.elm,S.createTextNode(e.text))}function l(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return o(e.tag)}function f(e,t){for(var n=0;n<T.create.length;++n)T.create[n](Bo,e);o(C=e.data.hook)&&(o(C.create)&&C.create(Bo,e),o(C.insert)&&t.push(e))}function d(e){var t;if(o(t=e.fnScopeId))S.setAttribute(e.elm,t,"");else for(var n=e;n;)o(t=n.context)&&o(t=t.$options._scopeId)&&S.setAttribute(e.elm,t,""),n=n.parent;o(t=$r)&&t!==e.context&&t!==e.fnContext&&o(t=t.$options._scopeId)&&S.setAttribute(e.elm,t,"")}function m(e,t,r,o,i,a){for(;o<=i;++o)n(r[o],a,e,t)}function h(e){var t,n,r=e.data;if(o(r))for(o(t=r.hook)&&o(t=t.destroy)&&t(e),t=0;t<T.destroy.length;++t)T.destroy[t](e);if(o(t=e.children))for(n=0;n<e.children.length;++n)h(e.children[n])}function g(e,n,r,i){for(;r<=i;++r){var a=n[r];o(a)&&(o(a.tag)?(v(a),h(a)):t(a.elm))}}function v(e,n){if(o(n)||o(e.data)){var r,i=T.remove.length+1;for(o(n)?n.listeners+=i:n=function(e,n){function r(){0==--r.listeners&&t(e)}return r.listeners=n,r}(e.elm,i),o(r=e.componentInstance)&&o(r=r._vnode)&&o(r.data)&&v(r,n),r=0;r<T.remove.length;++r)T.remove[r](e,n);o(r=e.data.hook)&&o(r=r.remove)?r(e,n):n()}else t(e.elm)}function y(e,t,i,a,c){for(var s,u,l,f=0,d=0,p=t.length-1,h=t[0],v=t[p],y=i.length-1,x=i[0],w=i[y],C=!c;f<=p&&d<=y;)r(h)?h=t[++f]:r(v)?v=t[--p]:rt(h,x)?(b(h,x,a),h=t[++f],x=i[++d]):rt(v,w)?(b(v,w,a),v=t[--p],w=i[--y]):rt(h,w)?(b(h,w,a),C&&S.insertBefore(e,h.elm,S.nextSibling(v.elm)),h=t[++f],w=i[--y]):rt(v,x)?(b(v,x,a),C&&S.insertBefore(e,v.elm,h.elm),v=t[--p],x=i[++d]):(r(s)&&(s=ot(t,f,p)),r(u=o(x.key)?s[x.key]:function(e,t,n,r){for(var i=n;i<r;i++){var a=t[i];if(o(a)&&rt(e,a))return i}}(x,t,f,p))?n(x,a,e,h.elm):rt(l=t[u],x)?(b(l,x,a),t[u]=void 0,C&&S.insertBefore(e,l.elm,h.elm)):n(x,a,e,h.elm),x=i[++d]);f>p?m(e,r(i[y+1])?null:i[y+1].elm,i,d,y,a):d>y&&g(0,t,f,p)}function b(e,t,n,a){if(e!==t){var c=t.elm=e.elm;if(i(e.isAsyncPlaceholder))o(t.asyncFactory.resolved)?w(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(i(t.isStatic)&&i(e.isStatic)&&t.key===e.key&&(i(t.isCloned)||i(t.isOnce)))t.componentInstance=e.componentInstance;else{var s,u=t.data;o(u)&&o(s=u.hook)&&o(s=s.prepatch)&&s(e,t);var f=e.children,d=t.children;if(o(u)&&l(t)){for(s=0;s<T.update.length;++s)T.update[s](e,t);o(s=u.hook)&&o(s=s.update)&&s(e,t)}r(t.text)?o(f)&&o(d)?f!==d&&y(c,f,d,n,a):o(d)?(o(e.text)&&S.setTextContent(c,""),m(c,null,d,0,d.length-1,n)):o(f)?g(0,f,0,f.length-1):o(e.text)&&S.setTextContent(c,""):e.text!==t.text&&S.setTextContent(c,t.text),o(u)&&o(s=u.hook)&&o(s=s.postpatch)&&s(e,t)}}}function x(e,t,n){if(i(n)&&o(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}function w(e,t,n,r){var a,s=t.tag,l=t.data,d=t.children;if(r=r||l&&l.pre,t.elm=e,i(t.isComment)&&o(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(o(l)&&(o(a=l.hook)&&o(a=a.init)&&a(t,!0),o(a=t.componentInstance)))return c(t,n),!0;if(o(s)){if(o(d))if(e.hasChildNodes())if(o(a=l)&&o(a=a.domProps)&&o(a=a.innerHTML)){if(a!==e.innerHTML)return!1}else{for(var p=!0,m=e.firstChild,h=0;h<d.length;h++){if(!m||!w(m,d[h],n,r)){p=!1;break}m=m.nextSibling}if(!p||m)return!1}else u(t,d,n);if(o(l)){var g=!1;for(var v in l)if(!E(v)){g=!0,f(t,n);break}!g&&l.class&&Z(l.class)}}else e.data!==t.text&&(e.data=t.text);return!0}var C,k,T={},_=e.modules,S=e.nodeOps;for(C=0;C<Io.length;++C)for(T[Io[C]]=[],k=0;k<_.length;++k)o(_[k][Io[C]])&&T[Io[C]].push(_[k][Io[C]]);var E=p("attrs,class,staticClass,staticStyle,key");return function(e,t,a,c,s,u){if(!r(t)){var f=!1,d=[];if(r(e))f=!0,n(t,d,s,u);else{var p=o(e.nodeType);if(!p&&rt(e,t))b(e,t,d,c);else{if(p){if(1===e.nodeType&&e.hasAttribute(Yn)&&(e.removeAttribute(Yn),a=!0),i(a)&&w(e,t,d))return x(t,d,!0),e;e=function(e){return new kr(S.tagName(e).toLowerCase(),{},[],void 0,e)}(e)}var m=e.elm,v=S.parentNode(m);if(n(t,d,m._leaveCb?null:v,S.nextSibling(m)),o(t.parent))for(var y=t.parent,C=l(t);y;){for(var k=0;k<T.destroy.length;++k)T.destroy[k](y);if(y.elm=t.elm,C){for(var _=0;_<T.create.length;++_)T.create[_](Bo,y);var E=y.data.hook.insert;if(E.merged)for(var A=1;A<E.fns.length;A++)E.fns[A]()}else nt(y);y=y.parent}o(v)?g(0,[e],0,0):o(e.tag)&&h(e)}}return x(t,d,f),t.elm}o(e)&&h(e)}}({nodeOps:Po,modules:[Uo,Ho,$o,qo,Qo,nr?{create:Kt,activate:Kt,remove:function(e,t){!0!==e.data.show?$t(e,t):t()}}:{}].concat(Fo)});cr&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&en(e,"input")});var li={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?re(n,"postpatch",function(){li.componentUpdated(e,t,n)}):Gt(e,t,n.context),e._vOptions=[].map.call(e.options,Jt)):("textarea"===n.tag||Ro(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("change",Zt),ur||(e.addEventListener("compositionstart",Qt),e.addEventListener("compositionend",Zt)),cr&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Gt(e,t,n.context);var r=e._vOptions,o=e._vOptions=[].map.call(e.options,Jt);if(o.some(function(e,t){return!C(e,r[t])})){(e.multiple?t.value.some(function(e){return Yt(e,o)}):t.value!==t.oldValue&&Yt(t.value,o))&&en(e,"change")}}}},fi={model:li,show:{bind:function(e,t,n){var r=t.value,o=(n=tn(n)).data&&n.data.transition,i=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&o?(n.data.show=!0,Wt(n,function(){e.style.display=i})):e.style.display=r?i:"none"},update:function(e,t,n){var r=t.value;if(r!==t.oldValue){(n=tn(n)).data&&n.data.transition?(n.data.show=!0,r?Wt(n,function(){e.style.display=e.__vOriginalDisplay}):$t(n,function(){e.style.display="none"})):e.style.display=r?e.__vOriginalDisplay:"none"}},unbind:function(e,t,n,r,o){o||(e.style.display=e.__vOriginalDisplay)}}},di={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},pi={name:"transition",props:di,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(function(e){return e.tag||se(e)})).length){0;var r=this.mode;0;var o=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return o;var i=nn(o);if(!i)return o;if(this._leaving)return on(e,o);var c="__transition-"+this._uid+"-";i.key=null==i.key?i.isComment?c+"comment":c+i.tag:a(i.key)?0===String(i.key).indexOf(c)?i.key:c+i.key:i.key;var s=(i.data||(i.data={})).transition=rn(this),u=this._vnode,l=nn(u);if(i.data.directives&&i.data.directives.some(function(e){return"show"===e.name})&&(i.data.show=!0),l&&l.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(i,l)&&!se(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var f=l.data.transition=b({},s);if("out-in"===r)return this._leaving=!0,re(f,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),on(e,o);if("in-out"===r){if(se(i))return u;var d,p=function(){d()};re(s,"afterEnter",p),re(s,"enterCancelled",p),re(f,"delayLeave",function(e){d=e})}}return o}}},mi=b({tag:String,moveClass:String},di);delete mi.mode;var hi={Transition:pi,TransitionGroup:{props:mi,render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],a=rn(this),c=0;c<o.length;c++){var s=o[c];if(s.tag)if(null!=s.key&&0!==String(s.key).indexOf("__vlist"))i.push(s),n[s.key]=s,(s.data||(s.data={})).transition=a;else{}}if(r){for(var u=[],l=[],f=0;f<r.length;f++){var d=r[f];d.data.transition=a,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?u.push(d):l.push(d)}this.kept=e(t,null,u),this.removed=l}return e(t,null,i)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(an),e.forEach(cn),e.forEach(sn),this._reflow=document.body.offsetHeight,e.forEach(function(e){if(e.data.moved){var n=e.elm,r=n.style;Lt(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(oi,n._moveCb=function e(r){r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(oi,e),n._moveCb=null,Ft(n,t))})}}))},methods:{hasMove:function(e,t){if(!ei)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){Bt(n,e)}),Ot(n,t),n.style.display="none",this.$el.appendChild(n);var r=Ht(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};$e.config.mustUseProp=bo,$e.config.isReservedTag=No,$e.config.isReservedAttr=vo,$e.config.getTagNamespace=et,$e.config.isUnknownElement=function(e){if(!nr)return!0;if(No(e))return!1;if(e=e.toLowerCase(),null!=Do[e])return Do[e];var t=document.createElement(e);return e.indexOf("-")>-1?Do[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Do[e]=/HTMLUnknownElement/.test(t.toString())},b($e.options.directives,fi),b($e.options.components,hi),$e.prototype.__patch__=nr?ui:w,$e.prototype.$mount=function(e,t){return e=e&&nr?tt(e):void 0,function(e,t,n){e.$el=t,e.$options.render||(e.$options.render=_r),be(e,"beforeMount");var r;return r=function(){e._update(e._render(),n)},new Qr(e,r,w,null,!0),n=!1,null==e.$vnode&&(e._isMounted=!0,be(e,"mounted")),e}(this,e,t)},$e.nextTick(function(){Zn.devtools&&vr&&vr.emit("init",$e)},0);var gi,vi=/\{\{((?:.|\n)+?)\}\}/g,yi=/[-.*+?^${}()|[\]\/\\]/g,bi=g(function(e){var t=e[0].replace(yi,"\\$&"),n=e[1].replace(yi,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+n,"g")}),xi={staticKeys:["staticClass"],transformNode:function(e,t){t.warn;var n=bt(e,"class");n&&(e.staticClass=JSON.stringify(n));var r=yt(e,"class",!1);r&&(e.classBinding=r)},genData:function(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}},wi={staticKeys:["staticStyle"],transformNode:function(e,t){t.warn;var n=bt(e,"style");n&&(e.staticStyle=JSON.stringify(Vo(n)));var r=yt(e,"style",!1);r&&(e.styleBinding=r)},genData:function(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}},Ci=function(e){return gi=gi||document.createElement("div"),gi.innerHTML=e,gi.textContent},ki=p("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Ti=p("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),_i=p("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Si=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Ei="[a-zA-Z_][\\w\\-\\.]*",Ai="((?:"+Ei+"\\:)?"+Ei+")",Ni=new RegExp("^<"+Ai),Di=/^\s*(\/?)>/,Ri=new RegExp("^<\\/"+Ai+"[^>]*>"),Pi=/^<!DOCTYPE [^>]+>/i,Oi=/^<!--/,Bi=/^<!\[/,Ii=!1;"x".replace(/x(.)?/g,function(e,t){Ii=""===t});var Mi,Li,Fi,Ui,Hi,zi,ji,Wi,$i,qi,Vi,Ki=p("script,style,textarea",!0),Gi={},Xi={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"},Yi=/&(?:lt|gt|quot|amp);/g,Ji=/&(?:lt|gt|quot|amp|#10|#9);/g,Qi=p("pre,textarea",!0),Zi=function(e,t){return e&&Qi(e)&&"\n"===t[0]},ea=/^@|^v-on:/,ta=/^v-|^@|^:/,na=/(.*?)\s+(?:in|of)\s+(.*)/,ra=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,oa=/^\(|\)$/g,ia=/:(.*)$/,aa=/^:|^v-bind:/,ca=/\.[^.]+/g,sa=g(Ci),ua=/^xmlns:NS\d+/,la=/^NS\d+:/,fa=[xi,wi,{preTransformNode:function(e,t){if("input"===e.tag){var n=e.attrsMap;if(n["v-model"]&&(n["v-bind:type"]||n[":type"])){var r=yt(e,"type"),o=bt(e,"v-if",!0),i=o?"&&("+o+")":"",a=null!=bt(e,"v-else",!0),c=bt(e,"v-else-if",!0),s=vn(e);hn(s),yn(s,"type","checkbox"),mn(s,t),s.processed=!0,s.if="("+r+")==='checkbox'"+i,gn(s,{exp:s.if,block:s});var u=vn(e);bt(u,"v-for",!0),yn(u,"type","radio"),mn(u,t),gn(s,{exp:"("+r+")==='radio'"+i,block:u});var l=vn(e);return bt(l,"v-for",!0),yn(l,":type",r),mn(l,t),gn(s,{exp:o,block:l}),a?s.else=!0:c&&(s.elseif=c),s}}}}],da={expectHTML:!0,modules:fa,directives:{model:function(e,t,n){n;var r=t.value,o=t.modifiers,i=e.tag,a=e.attrsMap.type;if(e.component)return xt(e,r,o),!1;if("select"===i)!function(e,t,n){var r='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n&&n.number?"_n(val)":"val")+"});";r=r+" "+wt(t,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),vt(e,"change",r,null,!0)}(e,r,o);else if("input"===i&&"checkbox"===a)!function(e,t,n){var r=n&&n.number,o=yt(e,"value")||"null",i=yt(e,"true-value")||"true",a=yt(e,"false-value")||"false";mt(e,"checked","Array.isArray("+t+")?_i("+t+","+o+")>-1"+("true"===i?":("+t+")":":_q("+t+","+i+")")),vt(e,"change","var $$a="+t+",$$el=$event.target,$$c=$$el.checked?("+i+"):("+a+");if(Array.isArray($$a)){var $$v="+(r?"_n("+o+")":o)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+t+"=$$a.concat([$$v]))}else{$$i>-1&&("+t+"=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{"+wt(t,"$$c")+"}",null,!0)}(e,r,o);else if("input"===i&&"radio"===a)!function(e,t,n){var r=n&&n.number,o=yt(e,"value")||"null";mt(e,"checked","_q("+t+","+(o=r?"_n("+o+")":o)+")"),vt(e,"change",wt(t,o),null,!0)}(e,r,o);else if("input"===i||"textarea"===i)!function(e,t,n){var r=e.attrsMap.type,o=n||{},i=o.lazy,a=o.number,c=o.trim,s=!i&&"range"!==r,u=i?"change":"range"===r?jo:"input",l="$event.target.value";c&&(l="$event.target.value.trim()"),a&&(l="_n("+l+")");var f=wt(t,l);s&&(f="if($event.target.composing)return;"+f),mt(e,"value","("+t+")"),vt(e,u,f,null,!0),(c||a)&&vt(e,"blur","$forceUpdate()")}(e,r,o);else if(!Zn.isReservedTag(i))return xt(e,r,o),!1;return!0},text:function(e,t){t.value&&mt(e,"textContent","_s("+t.value+")")},html:function(e,t){t.value&&mt(e,"innerHTML","_s("+t.value+")")}},isPreTag:function(e){return"pre"===e},isUnaryTag:ki,mustUseProp:bo,canBeLeftOpenTag:Ti,isReservedTag:No,getTagNamespace:et,staticKeys:function(e){return e.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(",")}(fa)},pa=g(function(e){return p("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(e?","+e:""))}),ma=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,ha=/^\s*[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?']|\[".*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*\s*$/,ga={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},va=function(e){return"if("+e+")return null;"},ya={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:va("$event.target !== $event.currentTarget"),ctrl:va("!$event.ctrlKey"),shift:va("!$event.shiftKey"),alt:va("!$event.altKey"),meta:va("!$event.metaKey"),left:va("'button' in $event && $event.button !== 0"),middle:va("'button' in $event && $event.button !== 1"),right:va("'button' in $event && $event.button !== 2")},ba={on:function(e,t){e.wrapListeners=function(e){return"_g("+e+","+t.value+")"}},bind:function(e,t){e.wrapData=function(n){return"_b("+n+",'"+e.tag+"',"+t.value+","+(t.modifiers&&t.modifiers.prop?"true":"false")+(t.modifiers&&t.modifiers.sync?",true":"")+")"}},cloak:w},xa=function(e){this.options=e,this.warn=e.warn||dt,this.transforms=pt(e.modules,"transformCode"),this.dataGenFns=pt(e.modules,"genData"),this.directives=b(b({},ba),e.directives);var t=e.isReservedTag||Gn;this.maybeComponent=function(e){return!t(e.tag)},this.onceId=0,this.staticRenderFns=[]},wa=(new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),function(e){return function(t){function n(n,r){var o=Object.create(t),i=[],a=[];if(o.warn=function(e,t){(t?a:i).push(e)},r){r.modules&&(o.modules=(t.modules||[]).concat(r.modules)),r.directives&&(o.directives=b(Object.create(t.directives||null),r.directives));for(var c in r)"modules"!==c&&"directives"!==c&&(o[c]=r[c])}var s=e(n,o);return s.errors=i,s.tips=a,s}return{compile:n,compileToFunctions:function(e){var t=Object.create(null);return function(n,r,o){(r=b({},r)).warn,delete r.warn;var i=r.delimiters?String(r.delimiters)+n:n;if(t[i])return t[i];var a=e(n,r),c={},s=[];return c.render=Mn(a.render,s),c.staticRenderFns=a.staticRenderFns.map(function(e){return Mn(e,s)}),t[i]=c}}(n)}}}(function(e,t){var n=pn(e.trim(),t);!function(e,t){e&&($i=pa(t.staticKeys||""),qi=t.isReservedTag||Gn,bn(e),xn(e,!1))}(n,t);var r=Tn(n,t);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}})(da).compileToFunctions),Ca=!!nr&&Ln(!1),ka=!!nr&&Ln(!0),Ta=g(function(e){var t=tt(e);return t&&t.innerHTML}),_a=$e.prototype.$mount;$e.prototype.$mount=function(e,t){if((e=e&&tt(e))===document.body||e===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=Ta(r));else{if(!r.nodeType)return this;r=r.innerHTML}else e&&(r=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e));if(r){0;var o=wa(r,{shouldDecodeNewlines:Ca,shouldDecodeNewlinesForHref:ka,delimiters:n.delimiters,comments:n.comments},this),i=o.render,a=o.staticRenderFns;n.render=i,n.staticRenderFns=a}}return _a.call(this,e,t)},$e.compile=wa,e.exports=$e}).call(t,n(2),n(5).setImmediate)},function(e,t,n){var r=n(0)(null,n(64),!1,null,null,null);e.exports=r.exports},function(e,t,n){n(99)},function(e,t){e.exports="/fonts/vendor/tinymce/skins/lightgray/tinymce.eot?6196b6eb25b52ac8bbe4a94e6da8ae27"},function(e,t){e.exports="/fonts/vendor/tinymce/skins/lightgray/tinymce-small.eot?12d26c285b71d790f4b0c94423ef1f99"},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=f[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(u(r.parts[i],t))}else{var a=[];for(i=0;i<r.parts.length;i++)a.push(u(r.parts[i],t));f[r.id]={id:r.id,refs:1,parts:a}}}}function o(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],c={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(c):n.push(r[a]={id:a,parts:[c]})}return n}function i(e,t){var n=p(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=g[g.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),g.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=g.indexOf(e);t>=0&&g.splice(t,1)}function c(e){var t=document.createElement("style");return e.attrs.type="text/css",s(t,e.attrs),i(e,t),t}function s(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function u(e,t){var n,r,o,u;if(t.transform&&e.css){if(!(u=t.transform(e.css)))return function(){};e.css=u}if(t.singleton){var f=h++;n=m||(m=c(t)),r=l.bind(null,n,f,!1),o=l.bind(null,n,f,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",s(t,e.attrs),i(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=v(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),c=e.href;e.href=URL.createObjectURL(a),c&&URL.revokeObjectURL(c)}.bind(null,n,t),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=c(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function l(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}var f={},d=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),p=function(e){var t={};return function(e){return void 0===t[e]&&(t[e]=function(e){return document.querySelector(e)}.call(this,e)),t[e]}}(),m=null,h=0,g=[],v=n(183);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=d()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=o(e,t);return r(n,t),function(e){for(var i=[],a=0;a<n.length;a++){var c=n[a];(s=f[c.id]).refs--,i.push(s)}if(e){r(o(e,t),t)}for(a=0;a<i.length;a++){var s;if(0===(s=i[a]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete f[s.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports="/images/vendor/tinymce/skins/lightgray/anchor.gif?abd3613571800fdcc891181d5f34f840"},function(e,t,n){n(21),e.exports=n(190)},function(e,t,n){"use strict";function r(e,t){0}function o(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function i(e,t,n){void 0===t&&(t={});var r,o=n||function(e){var t={};if(!(e=e.trim().replace(/^(\?|#|&)/,"")))return t;return e.split("&").forEach(function(e){var n=e.replace(/\+/g," ").split("="),r=Ue(n.shift()),o=n.length>0?Ue(n.join("=")):null;void 0===t[r]?t[r]=o:Array.isArray(t[r])?t[r].push(o):t[r]=[t[r],o]}),t};try{r=o(e||"")}catch(e){r={}}for(var i in t)r[i]=t[i];return r}function a(e,t,n,r){var o=r&&r.options.stringifyQuery,i=t.query||{};try{i=c(i)}catch(e){}var a={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:i,params:t.params||{},fullPath:s(t,o),matched:e?function(e){var t=[];for(;e;)t.unshift(e),e=e.parent;return t}(e):[]};return n&&(a.redirectedFrom=s(n,o)),Object.freeze(a)}function c(e){if(Array.isArray(e))return e.map(c);if(e&&"object"==typeof e){var t={};for(var n in e)t[n]=c(e[n]);return t}return e}function s(e,t){var n=e.path,r=e.query;void 0===r&&(r={});var o=e.hash;void 0===o&&(o="");return(n||"/")+(t||function(e){var t=e?Object.keys(e).map(function(t){var n=e[t];if(void 0===n)return"";if(null===n)return Fe(t);if(Array.isArray(n)){var r=[];return n.forEach(function(e){void 0!==e&&(null===e?r.push(Fe(t)):r.push(Fe(t)+"="+Fe(e)))}),r.join("&")}return Fe(t)+"="+Fe(n)}).filter(function(e){return e.length>0}).join("&"):null;return t?"?"+t:""})(r)+o}function u(e,t){return t===ze?e===t:!!t&&(e.path&&t.path?e.path.replace(He,"")===t.path.replace(He,"")&&e.hash===t.hash&&l(e.query,t.query):!(!e.name||!t.name)&&(e.name===t.name&&e.hash===t.hash&&l(e.query,t.query)&&l(e.params,t.params)))}function l(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(function(n){var r=e[n],o=t[n];return"object"==typeof r&&"object"==typeof o?l(r,o):String(r)===String(o)})}function f(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function d(e){if(e)for(var t,n=0;n<e.length;n++){if("a"===(t=e[n]).tag)return t;if(t.children&&(t=d(t.children)))return t}}function p(e){if(!p.installed||Ne!==e){p.installed=!0,Ne=e;var t=function(e){return void 0!==e},n=function(e,n){var r=e.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(e,n)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("router-view",Be),e.component("router-link",$e);var r=e.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}function m(e,t,n){var r=e.charAt(0);if("/"===r)return e;if("?"===r||"#"===r)return t+e;var o=t.split("/");n&&o[o.length-1]||o.pop();for(var i=e.replace(/^\//,"").split("/"),a=0;a<i.length;a++){var c=i[a];".."===c?o.pop():"."!==c&&o.push(c)}return""!==o[0]&&o.unshift(""),o.join("/")}function h(e){return e.replace(/\/\//g,"/")}function g(e,t){for(var n,r=[],o=0,i=0,a="",c=t&&t.delimiter||"/";null!=(n=Qe.exec(e));){var s=n[0],u=n[1],l=n.index;if(a+=e.slice(i,l),i=l+s.length,u)a+=u[1];else{var f=e[i],d=n[2],p=n[3],m=n[4],h=n[5],g=n[6],v=n[7];a&&(r.push(a),a="");var y=null!=d&&null!=f&&f!==d,b="+"===g||"*"===g,w="?"===g||"*"===g,C=n[2]||c,k=m||h;r.push({name:p||o++,prefix:d||"",delimiter:C,optional:w,repeat:b,partial:y,asterisk:!!v,pattern:k?function(e){return e.replace(/([=!:$\/()])/g,"\\$1")}(k):v?".*":"[^"+x(C)+"]+?"})}}return i<e.length&&(a+=e.substr(i)),a&&r.push(a),r}function v(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function y(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function b(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var o="",i=n||{},a=(r||{}).pretty?v:encodeURIComponent,c=0;c<e.length;c++){var s=e[c];if("string"!=typeof s){var u,l=i[s.name];if(null==l){if(s.optional){s.partial&&(o+=s.prefix);continue}throw new TypeError('Expected "'+s.name+'" to be defined')}if(Ve(l)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var f=0;f<l.length;f++){if(u=a(l[f]),!t[c].test(u))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'", but received `'+JSON.stringify(u)+"`");o+=(0===f?s.prefix:s.delimiter)+u}}else{if(u=s.asterisk?y(l):a(l),!t[c].test(u))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but received "'+u+'"');o+=s.prefix+u}}else o+=s}return o}}function x(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function w(e,t){return e.keys=t,e}function C(e){return e.sensitive?"":"i"}function k(e,t,n){Ve(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,o=!1!==n.end,i="",a=0;a<e.length;a++){var c=e[a];if("string"==typeof c)i+=x(c);else{var s=x(c.prefix),u="(?:"+c.pattern+")";t.push(c),c.repeat&&(u+="(?:"+s+u+")*"),i+=u=c.optional?c.partial?s+"("+u+")?":"(?:"+s+"("+u+"))?":s+"("+u+")"}}var l=x(n.delimiter||"/"),f=i.slice(-l.length)===l;return r||(i=(f?i.slice(0,-l.length):i)+"(?:"+l+"(?=$))?"),i+=o?"$":r&&f?"":"(?="+l+"|$)",w(new RegExp("^"+i,C(n)),t)}function T(e,t,n){return Ve(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return w(e,t)}(e,t):Ve(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(T(e[o],t,n).source);return w(new RegExp("(?:"+r.join("|")+")",C(n)),t)}(e,t,n):function(e,t,n){return k(g(e,n),t,n)}(e,t,n)}function _(e,t,n){try{return(Ze[e]||(Ze[e]=Ke.compile(e)))(t||{},{pretty:!0})}catch(e){return""}}function S(e,t,n,r){var o=t||[],i=n||Object.create(null),a=r||Object.create(null);e.forEach(function(e){E(o,i,a,e)});for(var c=0,s=o.length;c<s;c++)"*"===o[c]&&(o.push(o.splice(c,1)[0]),s--,c--);return{pathList:o,pathMap:i,nameMap:a}}function E(e,t,n,r,o,i){var a=r.path,c=r.name;var s=r.pathToRegexpOptions||{},u=function(e,t,n){n||(e=e.replace(/\/$/,""));if("/"===e[0])return e;if(null==t)return e;return h(t.path+"/"+e)}(a,o,s.strict);"boolean"==typeof r.caseSensitive&&(s.sensitive=r.caseSensitive);var l={path:u,regex:function(e,t){var n=Ke(e,[],t);return n}(u,s),components:r.components||{default:r.component},instances:{},name:c,parent:o,matchAs:i,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach(function(r){var o=i?h(i+"/"+r.path):void 0;E(e,t,n,r,l,o)}),void 0!==r.alias){(Array.isArray(r.alias)?r.alias:[r.alias]).forEach(function(i){var a={path:i,children:r.children};E(e,t,n,a,o,l.path||"/")})}t[l.path]||(e.push(l.path),t[l.path]=l),c&&(n[c]||(n[c]=l))}function A(e,t,n,r){var o="string"==typeof e?{path:e}:e;if(o.name||o._normalized)return o;if(!o.path&&o.params&&t){(o=N({},o))._normalized=!0;var a=N(N({},t.params),o.params);if(t.name)o.name=t.name,o.params=a;else if(t.matched.length){var c=t.matched[t.matched.length-1].path;o.path=_(c,a,t.path)}else 0;return o}var s=function(e){var t="",n="",r=e.indexOf("#");r>=0&&(t=e.slice(r),e=e.slice(0,r));var o=e.indexOf("?");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{path:e,query:n,hash:t}}(o.path||""),u=t&&t.path||"/",l=s.path?m(s.path,u,n||o.append):u,f=i(s.query,o.query,r&&r.options.parseQuery),d=o.hash||s.hash;return d&&"#"!==d.charAt(0)&&(d="#"+d),{_normalized:!0,path:l,query:f,hash:d}}function N(e,t){for(var n in t)e[n]=t[n];return e}function D(e,t){function n(e,n,r){var i=A(e,n,!1,t),a=i.name;if(a){var l=u[a];if(!l)return o(null,i);var f=l.regex.keys.filter(function(e){return!e.optional}).map(function(e){return e.name});if("object"!=typeof i.params&&(i.params={}),n&&"object"==typeof n.params)for(var d in n.params)!(d in i.params)&&f.indexOf(d)>-1&&(i.params[d]=n.params[d]);if(l)return i.path=_(l.path,i.params),o(l,i,r)}else if(i.path){i.params={};for(var p=0;p<c.length;p++){var m=c[p],h=s[m];if(function(e,t,n){var r=t.match(e);if(!r)return!1;if(!n)return!0;for(var o=1,i=r.length;o<i;++o){var a=e.keys[o-1],c="string"==typeof r[o]?decodeURIComponent(r[o]):r[o];a&&(n[a.name]=c)}return!0}(h.regex,i.path,i.params))return o(h,i,r)}}return o(null,i)}function r(e,r){var i=e.redirect,c="function"==typeof i?i(a(e,r,null,t)):i;if("string"==typeof c&&(c={path:c}),!c||"object"!=typeof c)return o(null,r);var s=c,l=s.name,f=s.path,d=r.query,p=r.hash,h=r.params;if(d=s.hasOwnProperty("query")?s.query:d,p=s.hasOwnProperty("hash")?s.hash:p,h=s.hasOwnProperty("params")?s.params:h,l){u[l];return n({_normalized:!0,name:l,query:d,hash:p,params:h},void 0,r)}if(f){var g=function(e,t){return m(e,t.parent?t.parent.path:"/",!0)}(f,e);return n({_normalized:!0,path:_(g,h),query:d,hash:p},void 0,r)}return o(null,r)}function o(e,i,c){return e&&e.redirect?r(e,c||i):e&&e.matchAs?function(e,t,r){var i=n({_normalized:!0,path:_(r,t.params)});if(i){var a=i.matched,c=a[a.length-1];return t.params=i.params,o(c,t)}return o(null,t)}(0,i,e.matchAs):a(e,i,c,t)}var i=S(e),c=i.pathList,s=i.pathMap,u=i.nameMap;return{match:n,addRoutes:function(e){S(e,c,s,u)}}}function R(){window.history.replaceState({key:U()},""),window.addEventListener("popstate",function(e){O(),e.state&&e.state.key&&function(e){rt=e}(e.state.key)})}function P(e,t,n,r){if(e.app){var o=e.options.scrollBehavior;o&&e.app.$nextTick(function(){var e=function(){var e=U();if(e)return et[e]}(),i=o(t,n,r?e:null);i&&("function"==typeof i.then?i.then(function(t){L(t,e)}).catch(function(e){0}):L(i,e))})}}function O(){var e=U();e&&(et[e]={x:window.pageXOffset,y:window.pageYOffset})}function B(e){return M(e.x)||M(e.y)}function I(e){return{x:M(e.x)?e.x:window.pageXOffset,y:M(e.y)?e.y:window.pageYOffset}}function M(e){return"number"==typeof e}function L(e,t){var n="object"==typeof e;if(n&&"string"==typeof e.selector){var r=document.querySelector(e.selector);if(r){var o=e.offset&&"object"==typeof e.offset?e.offset:{};t=function(e,t){var n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{x:r.left-n.left-t.x,y:r.top-n.top-t.y}}(r,o=function(e){return{x:M(e.x)?e.x:0,y:M(e.y)?e.y:0}}(o))}else B(e)&&(t=I(e))}else n&&B(e)&&(t=I(e));t&&window.scrollTo(t.x,t.y)}function F(){return nt.now().toFixed(3)}function U(){return rt}function H(e,t){O();var n=window.history;try{t?n.replaceState({key:rt},"",e):(rt=F(),n.pushState({key:rt},"",e))}catch(n){window.location[t?"replace":"assign"](e)}}function z(e){H(e,!0)}function j(e,t,n){var r=function(o){o>=e.length?n():e[o]?t(e[o],function(){r(o+1)}):r(o+1)};r(0)}function W(e){return function(t,n,r){var i=!1,a=0,c=null;$(e,function(e,t,n,s){if("function"==typeof e&&void 0===e.cid){i=!0,a++;var u,l=V(function(t){(function(e){return e.__esModule||ot&&"Module"===e[Symbol.toStringTag]})(t)&&(t=t.default),e.resolved="function"==typeof t?t:Ne.extend(t),n.components[s]=t,--a<=0&&r()}),f=V(function(e){var t="Failed to resolve async component "+s+": "+e;c||(c=o(e)?e:new Error(t),r(c))});try{u=e(l,f)}catch(e){f(e)}if(u)if("function"==typeof u.then)u.then(l,f);else{var d=u.component;d&&"function"==typeof d.then&&d.then(l,f)}}}),i||r()}}function $(e,t){return q(e.map(function(e){return Object.keys(e.components).map(function(n){return t(e.components[n],e.instances[n],e,n)})}))}function q(e){return Array.prototype.concat.apply([],e)}function V(e){var t=!1;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(!t)return t=!0,e.apply(this,n)}}function K(e,t,n,r){var o=$(e,function(e,r,o,i){var a=function(e,t){"function"!=typeof e&&(e=Ne.extend(e));return e.options[t]}(e,t);if(a)return Array.isArray(a)?a.map(function(e){return n(e,r,o,i)}):n(a,r,o,i)});return q(r?o.reverse():o)}function G(e,t){if(t)return function(){return e.apply(t,arguments)}}function X(e,t,n){return K(e,"beforeRouteEnter",function(e,r,o,i){return function(e,t,n,r,o){return function(i,a,c){return e(i,a,function(e){c(e),"function"==typeof e&&r.push(function(){Y(e,t.instances,n,o)})})}}(e,o,i,t,n)})}function Y(e,t,n,r){t[n]?e(t[n]):r()&&setTimeout(function(){Y(e,t,n,r)},16)}function J(e){var t=window.location.pathname;return e&&0===t.indexOf(e)&&(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}function Q(){var e=Z();return"/"===e.charAt(0)||(ne("/"+e),!1)}function Z(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.slice(t+1)}function ee(e){var t=window.location.href,n=t.indexOf("#");return(n>=0?t.slice(0,n):t)+"#"+e}function te(e){tt?H(ee(e)):window.location.hash=e}function ne(e){tt?z(ee(e)):window.location.replace(ee(e))}function re(e,t){return e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function oe(e){this.state=kt,this.value=void 0,this.deferred=[];var t=this;try{e(function(e){t.resolve(e)},function(e){t.reject(e)})}catch(e){t.reject(e)}}function ie(e,t){e instanceof Promise?this.promise=e:this.promise=new Promise(e.bind(t)),this.context=t}function ae(e){return e?e.replace(/^\s*|\s*$/g,""):""}function ce(e){return e?e.toLowerCase():""}function se(e){return"string"==typeof e}function ue(e){return"function"==typeof e}function le(e){return null!==e&&"object"==typeof e}function fe(e){return le(e)&&Object.getPrototypeOf(e)==Object.prototype}function de(e,t,n){var r=ie.resolve(e);return arguments.length<2?r:r.then(t,n)}function pe(e,t,n){return n=n||{},ue(n)&&(n=n.call(t)),he(e.bind({$vm:t,$options:n}),e,{$options:n})}function me(e,t){var n,r;if(Pt(e))for(n=0;n<e.length;n++)t.call(e[n],e[n],n);else if(le(e))for(r in e)Et.call(e,r)&&t.call(e[r],e[r],r);return e}function he(e){return At.call(arguments,1).forEach(function(t){ge(e,t,!0)}),e}function ge(e,t,n){for(var r in t)n&&(fe(t[r])||Pt(t[r]))?(fe(t[r])&&!fe(e[r])&&(e[r]={}),Pt(t[r])&&!Pt(e[r])&&(e[r]=[]),ge(e[r],t[r],n)):void 0!==t[r]&&(e[r]=t[r])}function ve(e,t,n){var r=function(e){var t=["+","#",".","/",";","?","&"],n=[];return{vars:n,expand:function(r){return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(e,o,i){if(o){var a=null,c=[];if(-1!==t.indexOf(o.charAt(0))&&(a=o.charAt(0),o=o.substr(1)),o.split(/,/g).forEach(function(e){var t=/([^:\*]*)(?::(\d+)|(\*))?/.exec(e);c.push.apply(c,function(e,t,n,r){var o=e[n],i=[];if(ye(o)&&""!==o)if("string"==typeof o||"number"==typeof o||"boolean"==typeof o)o=o.toString(),r&&"*"!==r&&(o=o.substring(0,parseInt(r,10))),i.push(xe(t,o,be(t)?n:null));else if("*"===r)Array.isArray(o)?o.filter(ye).forEach(function(e){i.push(xe(t,e,be(t)?n:null))}):Object.keys(o).forEach(function(e){ye(o[e])&&i.push(xe(t,o[e],e))});else{var a=[];Array.isArray(o)?o.filter(ye).forEach(function(e){a.push(xe(t,e))}):Object.keys(o).forEach(function(e){ye(o[e])&&(a.push(encodeURIComponent(e)),a.push(xe(t,o[e].toString())))}),be(t)?i.push(encodeURIComponent(n)+"="+a.join(",")):0!==a.length&&i.push(a.join(","))}else";"===t?i.push(encodeURIComponent(n)):""!==o||"&"!==t&&"?"!==t?""===o&&i.push(""):i.push(encodeURIComponent(n)+"=");return i}(r,a,t[1],t[2]||t[3])),n.push(t[1])}),a&&"+"!==a){var s=",";return"?"===a?s="&":"#"!==a&&(s=a),(0!==c.length?a:"")+c.join(s)}return c.join(",")}return we(i)})}}}(e),o=r.expand(t);return n&&n.push.apply(n,r.vars),o}function ye(e){return void 0!==e&&null!==e}function be(e){return";"===e||"&"===e||"?"===e}function xe(e,t,n){return t="+"===e||"#"===e?we(t):encodeURIComponent(t),n?encodeURIComponent(n)+"="+t:t}function we(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e)),e}).join("")}function Ce(e,t){var n,r=this||{},o=e;return se(e)&&(o={url:e,params:t}),o=he({},Ce.options,r.$options,o),Ce.transforms.forEach(function(e){se(e)&&(e=Ce.transform[e]),ue(e)&&(n=function(e,t,n){return function(r){return e.call(n,r,t)}}(e,n,r.$vm))}),n(o)}function ke(e,t,n){var r,o=Pt(t),i=fe(t);me(t,function(t,a){r=le(t)||Pt(t),n&&(a=n+"["+(i||r?a:"")+"]"),!n&&o?e.add(t.name,t.value):r?ke(e,t,a):e.add(a,t)})}function Te(e,t){t((e.client||(Dt?Lt:Ft))(e))}function _e(e,t){return Object.keys(e).reduce(function(e,n){return ce(t)===ce(n)?n:e},null)}function Se(e){var t=this||{},n=Ut(t.$vm);return function(e){At.call(arguments,1).forEach(function(t){for(var n in t)void 0===e[n]&&(e[n]=t[n])})}(e||{},t.$options,Se.options),Se.interceptors.forEach(function(e){se(e)&&(e=Se.interceptor[e]),ue(e)&&n.use(e)}),n(new jt(e)).then(function(e){return e.ok?e:ie.reject(e)},function(e){return e instanceof Error&&function(e){"undefined"!=typeof console&&console.error(e)}(e),ie.reject(e)})}function Ee(e,t,n,r){var o=this||{},i={};return n=Ot({},Ee.actions,n),me(n,function(n,a){n=he({url:e,params:Ot({},t)},r,n),i[a]=function(){return(o.$http||Se)(function(e,t){var n,r=Ot({},e),o={};switch(t.length){case 2:o=t[0],n=t[1];break;case 1:/^(POST|PUT|PATCH)$/i.test(r.method)?n=t[0]:o=t[0];break;case 0:break;default:throw"Expected up to 2 arguments [params, body], got "+t.length+" arguments"}return r.body=n,r.params=Ot({},r.params,o),r}(n,arguments))}}),i}function Ae(e){Ae.installed||(Rt(e),e.url=Ce,e.http=Se,e.resource=Ee,e.Promise=ie,Object.defineProperties(e.prototype,{$url:{get:function(){return pe(e.url,this,this.$options.url)}},$http:{get:function(){return pe(e.http,this,this.$options.http)}},$resource:{get:function(){return e.resource.bind(this)}},$promise:{get:function(){var t=this;return function(n){return new e.Promise(n,t)}}}}))}Object.defineProperty(t,"__esModule",{value:!0});var Ne,De=n(13),Re=n.n(De),Pe=n(48),Oe=n.n(Pe),Be={name:"router-view",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var n=t.props,r=t.children,o=t.parent,i=t.data;i.routerView=!0;for(var a=o.$createElement,c=n.name,s=o.$route,u=o._routerViewCache||(o._routerViewCache={}),l=0,f=!1;o&&o._routerRoot!==o;)o.$vnode&&o.$vnode.data.routerView&&l++,o._inactive&&(f=!0),o=o.$parent;if(i.routerViewDepth=l,f)return a(u[c],i,r);var d=s.matched[l];if(!d)return u[c]=null,a();var p=u[c]=d.components[c];i.registerRouteInstance=function(e,t){var n=d.instances[c];(t&&n!==e||!t&&n===e)&&(d.instances[c]=t)},(i.hook||(i.hook={})).prepatch=function(e,t){d.instances[c]=t.componentInstance};var m=i.props=function(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0}}(s,d.props&&d.props[c]);if(m){m=i.props=function(e,t){for(var n in t)e[n]=t[n];return e}({},m);var h=i.attrs=i.attrs||{};for(var g in m)p.props&&g in p.props||(h[g]=m[g],delete m[g])}return a(p,i,r)}},Ie=/[!'()*]/g,Me=function(e){return"%"+e.charCodeAt(0).toString(16)},Le=/%2C/g,Fe=function(e){return encodeURIComponent(e).replace(Ie,Me).replace(Le,",")},Ue=decodeURIComponent,He=/\/?$/,ze=a(null,{path:"/"}),je=[String,Object],We=[String,Array],$e={name:"router-link",props:{to:{type:je,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:We,default:"click"}},render:function(e){var t=this,n=this.$router,r=this.$route,o=n.resolve(this.to,r,this.append),i=o.location,c=o.route,s=o.href,l={},p=n.options.linkActiveClass,m=n.options.linkExactActiveClass,h=null==p?"router-link-active":p,g=null==m?"router-link-exact-active":m,v=null==this.activeClass?h:this.activeClass,y=null==this.exactActiveClass?g:this.exactActiveClass,b=i.path?a(null,i,null,n):c;l[y]=u(r,b),l[v]=this.exact?l[y]:function(e,t){return 0===e.path.replace(He,"/").indexOf(t.path.replace(He,"/"))&&(!t.hash||e.hash===t.hash)&&function(e,t){for(var n in t)if(!(n in e))return!1;return!0}(e.query,t.query)}(r,b);var x=function(e){f(e)&&(t.replace?n.replace(i):n.push(i))},w={click:f};Array.isArray(this.event)?this.event.forEach(function(e){w[e]=x}):w[this.event]=x;var C={class:l};if("a"===this.tag)C.on=w,C.attrs={href:s};else{var k=d(this.$slots.default);if(k){k.isStatic=!1;var T=Ne.util.extend;(k.data=T({},k.data)).on=w;(k.data.attrs=T({},k.data.attrs)).href=s}else C.on=w}return e(this.tag,C,this.$slots.default)}},qe="undefined"!=typeof window,Ve=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},Ke=T,Ge=g,Xe=function(e,t){return b(g(e,t))},Ye=b,Je=k,Qe=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");Ke.parse=Ge,Ke.compile=Xe,Ke.tokensToFunction=Ye,Ke.tokensToRegExp=Je;var Ze=Object.create(null),et=Object.create(null),tt=qe&&function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),nt=qe&&window.performance&&window.performance.now?window.performance:Date,rt=F(),ot="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,it=function(e,t){this.router=e,this.base=function(e){if(!e)if(qe){var t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else e="/";return"/"!==e.charAt(0)&&(e="/"+e),e.replace(/\/$/,"")}(t),this.current=ze,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};it.prototype.listen=function(e){this.cb=e},it.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},it.prototype.onError=function(e){this.errorCbs.push(e)},it.prototype.transitionTo=function(e,t,n){var r=this,o=this.router.match(e,this.current);this.confirmTransition(o,function(){r.updateRoute(o),t&&t(o),r.ensureURL(),r.ready||(r.ready=!0,r.readyCbs.forEach(function(e){e(o)}))},function(e){n&&n(e),e&&!r.ready&&(r.ready=!0,r.readyErrorCbs.forEach(function(t){t(e)}))})},it.prototype.confirmTransition=function(e,t,n){var i=this,a=this.current,c=function(e){o(e)&&(i.errorCbs.length?i.errorCbs.forEach(function(t){t(e)}):(r(),console.error(e))),n&&n(e)};if(u(e,a)&&e.matched.length===a.matched.length)return this.ensureURL(),c();var s=function(e,t){var n,r=Math.max(e.length,t.length);for(n=0;n<r&&e[n]===t[n];n++);return{updated:t.slice(0,n),activated:t.slice(n),deactivated:e.slice(n)}}(this.current.matched,e.matched),l=s.updated,f=s.deactivated,d=s.activated,p=[].concat(function(e){return K(e,"beforeRouteLeave",G,!0)}(f),this.router.beforeHooks,function(e){return K(e,"beforeRouteUpdate",G)}(l),d.map(function(e){return e.beforeEnter}),W(d));this.pending=e;var m=function(t,n){if(i.pending!==e)return c();try{t(e,a,function(e){!1===e||o(e)?(i.ensureURL(!0),c(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(c(),"object"==typeof e&&e.replace?i.replace(e):i.push(e)):n(e)})}catch(e){c(e)}};j(p,m,function(){var n=[];j(X(d,n,function(){return i.current===e}).concat(i.router.resolveHooks),m,function(){if(i.pending!==e)return c();i.pending=null,t(e),i.router.app&&i.router.app.$nextTick(function(){n.forEach(function(e){e()})})})})},it.prototype.updateRoute=function(e){var t=this.current;this.current=e,this.cb&&this.cb(e),this.router.afterHooks.forEach(function(n){n&&n(e,t)})};var at=function(e){function t(t,n){var r=this;e.call(this,t,n);var o=t.options.scrollBehavior;o&&R();var i=J(this.base);window.addEventListener("popstate",function(e){var n=r.current,a=J(r.base);r.current===ze&&a===i||r.transitionTo(a,function(e){o&&P(t,e,n,!0)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,n){var r=this,o=this.current;this.transitionTo(e,function(e){H(h(r.base+e.fullPath)),P(r.router,e,o,!1),t&&t(e)},n)},t.prototype.replace=function(e,t,n){var r=this,o=this.current;this.transitionTo(e,function(e){z(h(r.base+e.fullPath)),P(r.router,e,o,!1),t&&t(e)},n)},t.prototype.ensureURL=function(e){if(J(this.base)!==this.current.fullPath){var t=h(this.base+this.current.fullPath);e?H(t):z(t)}},t.prototype.getCurrentLocation=function(){return J(this.base)},t}(it),ct=function(e){function t(t,n,r){e.call(this,t,n),r&&function(e){var t=J(e);if(!/^\/#/.test(t))return window.location.replace(h(e+"/#"+t)),!0}(this.base)||Q()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this,t=this.router.options.scrollBehavior,n=tt&&t;n&&R(),window.addEventListener(tt?"popstate":"hashchange",function(){var t=e.current;Q()&&e.transitionTo(Z(),function(r){n&&P(e.router,r,t,!0),tt||ne(r.fullPath)})})},t.prototype.push=function(e,t,n){var r=this,o=this.current;this.transitionTo(e,function(e){te(e.fullPath),P(r.router,e,o,!1),t&&t(e)},n)},t.prototype.replace=function(e,t,n){var r=this,o=this.current;this.transitionTo(e,function(e){ne(e.fullPath),P(r.router,e,o,!1),t&&t(e)},n)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;Z()!==t&&(e?te(t):ne(t))},t.prototype.getCurrentLocation=function(){return Z()},t}(it),st=function(e){function t(t,n){e.call(this,t,n),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,n){var r=this;this.transitionTo(e,function(e){r.stack=r.stack.slice(0,r.index+1).concat(e),r.index++,t&&t(e)},n)},t.prototype.replace=function(e,t,n){var r=this;this.transitionTo(e,function(e){r.stack=r.stack.slice(0,r.index).concat(e),t&&t(e)},n)},t.prototype.go=function(e){var t=this,n=this.index+e;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,function(){t.index=n,t.updateRoute(r)})}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(it),ut=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=D(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!tt&&!1!==e.fallback,this.fallback&&(t="hash"),qe||(t="abstract"),this.mode=t,t){case"history":this.history=new at(this,e.base);break;case"hash":this.history=new ct(this,e.base,this.fallback);break;case"abstract":this.history=new st(this,e.base);break;default:0}},lt={currentRoute:{configurable:!0}};ut.prototype.match=function(e,t,n){return this.matcher.match(e,t,n)},lt.currentRoute.get=function(){return this.history&&this.history.current},ut.prototype.init=function(e){var t=this;if(this.apps.push(e),!this.app){this.app=e;var n=this.history;if(n instanceof at)n.transitionTo(n.getCurrentLocation());else if(n instanceof ct){var r=function(){n.setupListeners()};n.transitionTo(n.getCurrentLocation(),r,r)}n.listen(function(e){t.apps.forEach(function(t){t._route=e})})}},ut.prototype.beforeEach=function(e){return re(this.beforeHooks,e)},ut.prototype.beforeResolve=function(e){return re(this.resolveHooks,e)},ut.prototype.afterEach=function(e){return re(this.afterHooks,e)},ut.prototype.onReady=function(e,t){this.history.onReady(e,t)},ut.prototype.onError=function(e){this.history.onError(e)},ut.prototype.push=function(e,t,n){this.history.push(e,t,n)},ut.prototype.replace=function(e,t,n){this.history.replace(e,t,n)},ut.prototype.go=function(e){this.history.go(e)},ut.prototype.back=function(){this.go(-1)},ut.prototype.forward=function(){this.go(1)},ut.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map(function(e){return Object.keys(e.components).map(function(t){return e.components[t]})})):[]},ut.prototype.resolve=function(e,t,n){var r=A(e,t||this.history.current,n,this),o=this.match(r,t),i=o.redirectedFrom||o.fullPath;return{location:r,route:o,href:function(e,t,n){var r="hash"===n?"#"+t:t;return e?h(e+"/"+r):r}(this.history.base,i,this.mode),normalizedTo:r,resolved:o}},ut.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==ze&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(ut.prototype,lt),ut.install=p,ut.version="3.0.1",qe&&window.Vue&&window.Vue.use(ut);var ft=ut,dt=n(56),pt=n.n(dt),mt=n(59),ht=n.n(mt),gt=n(62),vt=n.n(gt),yt=n(66),bt=n.n(yt),xt=(n(77),n(78)),wt=n.n(xt);Re.a.use(ft);var Ct=new ft({linkActiveClass:"is-active",routes:[{path:"/Details/:title",component:wt.a,props:!0},{path:"/",component:bt.a},{path:"/admin",component:vt.a,meta:{forAdmin:!0}},{path:"/admin/posts/create",component:n(81),meta:{forAdmin:!0}},{path:"/login",component:pt.a,meta:{forVisitors:!0}},{path:"/register",component:ht.a,meta:{forVisitors:!0}}],scrollBehavior:function(e,t){return{x:0,y:0}}}),kt=2;oe.reject=function(e){return new oe(function(t,n){n(e)})},oe.resolve=function(e){return new oe(function(t,n){t(e)})},oe.all=function(e){return new oe(function(t,n){function r(n){return function(r){i[n]=r,(o+=1)===e.length&&t(i)}}var o=0,i=[];0===e.length&&t(i);for(var a=0;a<e.length;a+=1)oe.resolve(e[a]).then(r(a),n)})},oe.race=function(e){return new oe(function(t,n){for(var r=0;r<e.length;r+=1)oe.resolve(e[r]).then(t,n)})};var Tt=oe.prototype;Tt.resolve=function(e){var t=this;if(t.state===kt){if(e===t)throw new TypeError("Promise settled with itself.");var n=!1;try{var r=e&&e.then;if(null!==e&&"object"==typeof e&&"function"==typeof r)return void r.call(e,function(e){n||t.resolve(e),n=!0},function(e){n||t.reject(e),n=!0})}catch(e){return void(n||t.reject(e))}t.state=0,t.value=e,t.notify()}},Tt.reject=function(e){if(this.state===kt){if(e===this)throw new TypeError("Promise settled with itself.");this.state=1,this.value=e,this.notify()}},Tt.notify=function(){var e=this;!function(e,t){St(e,t)}(function(){if(e.state!==kt)for(;e.deferred.length;){var t=e.deferred.shift(),n=t[0],r=t[1],o=t[2],i=t[3];try{0===e.state?o("function"==typeof n?n.call(void 0,e.value):e.value):1===e.state&&("function"==typeof r?o(r.call(void 0,e.value)):i(e.value))}catch(e){i(e)}}})},Tt.then=function(e,t){var n=this;return new oe(function(r,o){n.deferred.push([e,t,r,o]),n.notify()})},Tt.catch=function(e){return this.then(void 0,e)},"undefined"==typeof Promise&&(window.Promise=oe),ie.all=function(e,t){return new ie(Promise.all(e),t)},ie.resolve=function(e,t){return new ie(Promise.resolve(e),t)},ie.reject=function(e,t){return new ie(Promise.reject(e),t)},ie.race=function(e,t){return new ie(Promise.race(e),t)};var _t=ie.prototype;_t.bind=function(e){return this.context=e,this},_t.then=function(e,t){return e&&e.bind&&this.context&&(e=e.bind(this.context)),t&&t.bind&&this.context&&(t=t.bind(this.context)),new ie(this.promise.then(e,t),this.context)},_t.catch=function(e){return e&&e.bind&&this.context&&(e=e.bind(this.context)),new ie(this.promise.catch(e),this.context)},_t.finally=function(e){return this.then(function(t){return e.call(this),t},function(t){return e.call(this),Promise.reject(t)})};var St,Et={}.hasOwnProperty,At=[].slice,Nt=!1,Dt="undefined"!=typeof window,Rt=function(e){var t=e.config,n=e.nextTick;St=n,Nt=t.debug||!t.silent},Pt=Array.isArray,Ot=Object.assign||function(e){return At.call(arguments,1).forEach(function(t){ge(e,t)}),e};Ce.options={url:"",root:null,params:{}},Ce.transform={template:function(e){var t=[],n=ve(e.url,e.params,t);return t.forEach(function(t){delete e.params[t]}),n},query:function(e,t){var n=Object.keys(Ce.options.params),r={},o=t(e);return me(e.params,function(e,t){-1===n.indexOf(t)&&(r[t]=e)}),(r=Ce.params(r))&&(o+=(-1==o.indexOf("?")?"?":"&")+r),o},root:function(e,t){var n=t(e);return se(e.root)&&!/^(https?:)?\//.test(n)&&(n=function(e,t){return e&&void 0===t?e.replace(/\s+$/,""):e&&t?e.replace(new RegExp("["+t+"]+$"),""):e}(e.root,"/")+"/"+n),n}},Ce.transforms=["template","query","root"],Ce.params=function(e){var t=[],n=encodeURIComponent;return t.add=function(e,t){ue(t)&&(t=t()),null===t&&(t=""),this.push(n(e)+"="+n(t))},ke(t,e),t.join("&").replace(/%20/g,"+")},Ce.parse=function(e){var t=document.createElement("a");return document.documentMode&&(t.href=e,e=t.href),t.href=e,{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",port:t.port,host:t.host,hostname:t.hostname,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):""}};var Bt=function(e){return new ie(function(t){var n=new XDomainRequest,r=function(r){var o=r.type,i=0;"load"===o?i=200:"error"===o&&(i=500),t(e.respondWith(n.responseText,{status:i}))};e.abort=function(){return n.abort()},n.open(e.method,e.getUrl()),e.timeout&&(n.timeout=e.timeout),n.onload=r,n.onabort=r,n.onerror=r,n.ontimeout=r,n.onprogress=function(){},n.send(e.getBody())})},It=Dt&&"withCredentials"in new XMLHttpRequest,Mt=function(e){return new ie(function(t){var n,r,o=e.jsonp||"callback",i=e.jsonpCallback||"_jsonp"+Math.random().toString(36).substr(2),a=null;n=function(n){var o=n.type,c=0;"load"===o&&null!==a?c=200:"error"===o&&(c=500),c&&window[i]&&(delete window[i],document.body.removeChild(r)),t(e.respondWith(a,{status:c}))},window[i]=function(e){a=JSON.stringify(e)},e.abort=function(){n({type:"abort"})},e.params[o]=i,e.timeout&&setTimeout(e.abort,e.timeout),(r=document.createElement("script")).src=e.getUrl(),r.type="text/javascript",r.async=!0,r.onload=n,r.onerror=n,document.body.appendChild(r)})},Lt=function(e){return new ie(function(t){var n=new XMLHttpRequest,r=function(r){var o=e.respondWith("response"in n?n.response:n.responseText,{status:1223===n.status?204:n.status,statusText:1223===n.status?"No Content":ae(n.statusText)});me(ae(n.getAllResponseHeaders()).split("\n"),function(e){o.headers.append(e.slice(0,e.indexOf(":")),e.slice(e.indexOf(":")+1))}),t(o)};e.abort=function(){return n.abort()},e.progress&&("GET"===e.method?n.addEventListener("progress",e.progress):/^(POST|PUT)$/i.test(e.method)&&n.upload.addEventListener("progress",e.progress)),n.open(e.method,e.getUrl(),!0),e.timeout&&(n.timeout=e.timeout),e.responseType&&"responseType"in n&&(n.responseType=e.responseType),(e.withCredentials||e.credentials)&&(n.withCredentials=!0),e.crossOrigin||e.headers.set("X-Requested-With","XMLHttpRequest"),e.headers.forEach(function(e,t){n.setRequestHeader(t,e)}),n.onload=r,n.onabort=r,n.onerror=r,n.ontimeout=r,n.send(e.getBody())})},Ft=function(e){var t=n(189);return new ie(function(n){var r,o=e.getUrl(),i=e.getBody(),a=e.method,c={};e.headers.forEach(function(e,t){c[t]=e}),t(o,{body:i,method:a,headers:c}).then(r=function(t){var r=e.respondWith(t.body,{status:t.statusCode,statusText:ae(t.statusMessage)});me(t.headers,function(e,t){r.headers.set(t,e)}),n(r)},function(e){return r(e.response)})})},Ut=function(e){function t(t){return new ie(function(i,a){function c(){ue(n=r.pop())?n.call(e,t,s):(!function(e){"undefined"!=typeof console&&Nt&&console.warn("[VueResource warn]: "+e)}("Invalid interceptor of type "+typeof n+", must be a function"),s())}function s(t){if(ue(t))o.unshift(t);else if(le(t))return o.forEach(function(n){t=de(t,function(t){return n.call(e,t)||t},a)}),void de(t,i,a);c()}c()},e)}var n,r=[Te],o=[];return le(e)||(e=null),t.use=function(e){r.push(e)},t},Ht=function(e){var t=this;this.map={},me(e,function(e,n){return t.append(n,e)})};Ht.prototype.has=function(e){return null!==_e(this.map,e)},Ht.prototype.get=function(e){var t=this.map[_e(this.map,e)];return t?t.join():null},Ht.prototype.getAll=function(e){return this.map[_e(this.map,e)]||[]},Ht.prototype.set=function(e,t){this.map[function(e){if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return ae(e)}(_e(this.map,e)||e)]=[ae(t)]},Ht.prototype.append=function(e,t){var n=this.map[_e(this.map,e)];n?n.push(ae(t)):this.set(e,t)},Ht.prototype.delete=function(e){delete this.map[_e(this.map,e)]},Ht.prototype.deleteAll=function(){this.map={}},Ht.prototype.forEach=function(e,t){var n=this;me(this.map,function(r,o){me(r,function(r){return e.call(t,r,o,n)})})};var zt=function(e,t){var n=t.url,r=t.headers,o=t.status,i=t.statusText;this.url=n,this.ok=o>=200&&o<300,this.status=o||0,this.statusText=i||"",this.headers=new Ht(r),this.body=e,se(e)?this.bodyText=e:function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)&&(this.bodyBlob=e,function(e){return 0===e.type.indexOf("text")||-1!==e.type.indexOf("json")}(e)&&(this.bodyText=function(e){return new ie(function(t){var n=new FileReader;n.readAsText(e),n.onload=function(){t(n.result)}})}(e)))};zt.prototype.blob=function(){return de(this.bodyBlob)},zt.prototype.text=function(){return de(this.bodyText)},zt.prototype.json=function(){return de(this.text(),function(e){return JSON.parse(e)})},Object.defineProperty(zt.prototype,"data",{get:function(){return this.body},set:function(e){this.body=e}});var jt=function(e){this.body=null,this.params={},Ot(this,e,{method:function(e){return e?e.toUpperCase():""}(e.method||"GET")}),this.headers instanceof Ht||(this.headers=new Ht(this.headers))};jt.prototype.getUrl=function(){return Ce(this)},jt.prototype.getBody=function(){return this.body},jt.prototype.respondWith=function(e,t){return new zt(e,Ot(t||{},{url:this.getUrl()}))};var Wt={"Content-Type":"application/json;charset=utf-8"};Se.options={},Se.headers={put:Wt,post:Wt,patch:Wt,delete:Wt,common:{Accept:"application/json, text/plain, */*"},custom:{}},Se.interceptor={before:function(e,t){ue(e.before)&&e.before.call(this,e),t()},method:function(e,t){e.emulateHTTP&&/^(PUT|PATCH|DELETE)$/i.test(e.method)&&(e.headers.set("X-HTTP-Method-Override",e.method),e.method="POST"),t()},jsonp:function(e,t){"JSONP"==e.method&&(e.client=Mt),t()},json:function(e,t){var n=e.headers.get("Content-Type")||"";le(e.body)&&0===n.indexOf("application/json")&&(e.body=JSON.stringify(e.body)),t(function(e){return e.bodyText?de(e.text(),function(t){if(0===(n=e.headers.get("Content-Type")||"").indexOf("application/json")||function(e){var t=e.match(/^\[|^\{(?!\{)/);return t&&{"[":/]$/,"{":/}$/}[t[0]].test(e)}(t))try{e.body=JSON.parse(t)}catch(t){e.body=null}else e.body=t;return e}):e})},form:function(e,t){!function(e){return"undefined"!=typeof FormData&&e instanceof FormData}(e.body)?le(e.body)&&e.emulateJSON&&(e.body=Ce.params(e.body),e.headers.set("Content-Type","application/x-www-form-urlencoded")):e.headers.delete("Content-Type"),t()},header:function(e,t){me(Ot({},Se.headers.common,e.crossOrigin?{}:Se.headers.custom,Se.headers[ce(e.method)]),function(t,n){e.headers.has(n)||e.headers.set(n,t)}),t()},cors:function(e,t){if(Dt){var n=Ce.parse(location.href),r=Ce.parse(e.getUrl());r.protocol===n.protocol&&r.host===n.host||(e.crossOrigin=!0,e.emulateHTTP=!1,It||(e.client=Bt))}t()}},Se.interceptors=["before","method","jsonp","json","form","header","cors"],["get","delete","head","jsonp"].forEach(function(e){Se[e]=function(t,n){return this(Ot(n||{},{url:t,method:e}))}}),["post","put","patch"].forEach(function(e){Se[e]=function(t,n,r){return this(Ot(r||{},{url:t,method:e,body:n}))}}),Ee.actions={get:{method:"GET"},save:{method:"POST"},query:{method:"GET"},update:{method:"PUT"},remove:{method:"DELETE"},delete:{method:"DELETE"}},"undefined"!=typeof window&&window.Vue&&window.Vue.use(Ae);var $t=Ae;n(22),Re.a.use($t),Re.a.use(function(e){e.auth={setToken:function(e,t){localStorage.setItem("token",e),localStorage.setItem("expiration",t)},getToken:function(){var e=localStorage.getItem("token"),t=localStorage.getItem("expiration");return e&&t?Date.now()>parseInt(t)?(this.destroyToken,null):e:null},destroyToken:function(){localStorage.removeItem("token"),localStorage.removeItem("expiration")},isAuthenticated:function(){if(this.getToken())return!0;console.log("not")}},Object.defineProperties(e.prototype,{$auth:{get:function(){return e.auth}}})}),Re.a.http.options.root="http://localhost:8000",Re.a.http.headers.common.Authorization="Bearer "+Re.a.auth.getToken(),Ct.beforeEach(function(e,t,n){e.matched.some(function(e){return e.meta.forVisitors})?Re.a.auth.isAuthenticated()?n({path:"/admin"}):n():e.matched.some(function(e){return e.meta.forAdmin})?Re.a.auth.isAuthenticated()?n():n({path:"/login"}):n()});new Re.a({el:"#main",render:function(e){return e(Oe.a)},router:Ct})},function(e,t,n){window._=n(23),n(25),window.axios=n(28),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var r=document.head.querySelector('meta[name="csrf-token"]');r?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=r.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token")},function(e,t,n){(function(e,r){var o;(function(){function i(e,t){return e.set(t[0],t[1]),e}function a(e,t){return e.add(t),e}function c(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function s(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function u(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function l(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function f(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function d(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function p(e,t){return!!(null==e?0:e.length)&&C(e,t,0)>-1}function m(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function h(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function g(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function v(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function y(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function b(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function x(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function w(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function C(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):w(e,T,n)}function k(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function T(e){return e!=e}function _(e,t){var n=null==e?0:e.length;return n?N(e,t)/n:we}function S(e){return function(t){return null==t?$:t[e]}}function E(e){return function(t){return null==e?$:e[t]}}function A(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function N(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);i!==$&&(n=n===$?i:n+i)}return n}function D(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function R(e){return function(t){return e(t)}}function P(e,t){return h(t,function(t){return e[t]})}function O(e,t){return e.has(t)}function B(e,t){for(var n=-1,r=e.length;++n<r&&C(t,e[n],0)>-1;);return n}function I(e,t){for(var n=e.length;n--&&C(t,e[n],0)>-1;);return n}function M(e){return"\\"+Cn[e]}function L(e){return gn.test(e)}function F(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function U(e,t){return function(n){return e(t(n))}}function H(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==Y||(e[n]=Y,i[o++]=n)}return i}function z(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function j(e){return L(e)?function(e){var t=mn.lastIndex=0;for(;mn.test(e);)++t;return t}(e):Un(e)}function W(e){return L(e)?function(e){return e.match(mn)||[]}(e):function(e){return e.split("")}(e)}var $,q=200,V="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",K="Expected a function",G="__lodash_hash_undefined__",X=500,Y="__lodash_placeholder__",J=1,Q=2,Z=4,ee=1,te=2,ne=1,re=2,oe=4,ie=8,ae=16,ce=32,se=64,ue=128,le=256,fe=512,de=30,pe="...",me=800,he=16,ge=1,ve=2,ye=1/0,be=9007199254740991,xe=1.7976931348623157e308,we=NaN,Ce=4294967295,ke=Ce-1,Te=Ce>>>1,_e=[["ary",ue],["bind",ne],["bindKey",re],["curry",ie],["curryRight",ae],["flip",fe],["partial",ce],["partialRight",se],["rearg",le]],Se="[object Arguments]",Ee="[object Array]",Ae="[object AsyncFunction]",Ne="[object Boolean]",De="[object Date]",Re="[object DOMException]",Pe="[object Error]",Oe="[object Function]",Be="[object GeneratorFunction]",Ie="[object Map]",Me="[object Number]",Le="[object Null]",Fe="[object Object]",Ue="[object Promise]",He="[object Proxy]",ze="[object RegExp]",je="[object Set]",We="[object String]",$e="[object Symbol]",qe="[object Undefined]",Ve="[object WeakMap]",Ke="[object WeakSet]",Ge="[object ArrayBuffer]",Xe="[object DataView]",Ye="[object Float32Array]",Je="[object Float64Array]",Qe="[object Int8Array]",Ze="[object Int16Array]",et="[object Int32Array]",tt="[object Uint8Array]",nt="[object Uint8ClampedArray]",rt="[object Uint16Array]",ot="[object Uint32Array]",it=/\b__p \+= '';/g,at=/\b(__p \+=) '' \+/g,ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,st=/&(?:amp|lt|gt|quot|#39);/g,ut=/[&<>"']/g,lt=RegExp(st.source),ft=RegExp(ut.source),dt=/<%-([\s\S]+?)%>/g,pt=/<%([\s\S]+?)%>/g,mt=/<%=([\s\S]+?)%>/g,ht=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gt=/^\w*$/,vt=/^\./,yt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bt=/[\\^$.*+?()[\]{}|]/g,xt=RegExp(bt.source),wt=/^\s+|\s+$/g,Ct=/^\s+/,kt=/\s+$/,Tt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_t=/\{\n\/\* \[wrapped with (.+)\] \*/,St=/,? & /,Et=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,At=/\\(\\)?/g,Nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dt=/\w*$/,Rt=/^[-+]0x[0-9a-f]+$/i,Pt=/^0b[01]+$/i,Ot=/^\[object .+?Constructor\]$/,Bt=/^0o[0-7]+$/i,It=/^(?:0|[1-9]\d*)$/,Mt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Lt=/($^)/,Ft=/['\n\r\u2028\u2029\\]/g,Ut="\\ud800-\\udfff",Ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",zt="a-z\\xdf-\\xf6\\xf8-\\xff",jt="A-Z\\xc0-\\xd6\\xd8-\\xde",Wt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$t="["+Ut+"]",qt="["+Wt+"]",Vt="["+Ht+"]",Kt="\\d+",Gt="[\\u2700-\\u27bf]",Xt="["+zt+"]",Yt="[^"+Ut+Wt+Kt+"\\u2700-\\u27bf"+zt+jt+"]",Jt="\\ud83c[\\udffb-\\udfff]",Qt="[^"+Ut+"]",Zt="(?:\\ud83c[\\udde6-\\uddff]){2}",en="[\\ud800-\\udbff][\\udc00-\\udfff]",tn="["+jt+"]",nn="(?:"+Xt+"|"+Yt+")",rn="(?:"+tn+"|"+Yt+")",on="(?:['](?:d|ll|m|re|s|t|ve))?",an="(?:['](?:D|LL|M|RE|S|T|VE))?",cn="(?:"+Vt+"|"+Jt+")"+"?",sn="[\\ufe0e\\ufe0f]?",un=sn+cn+("(?:\\u200d(?:"+[Qt,Zt,en].join("|")+")"+sn+cn+")*"),ln="(?:"+[Gt,Zt,en].join("|")+")"+un,fn="(?:"+[Qt+Vt+"?",Vt,Zt,en,$t].join("|")+")",dn=RegExp("[']","g"),pn=RegExp(Vt,"g"),mn=RegExp(Jt+"(?="+Jt+")|"+fn+un,"g"),hn=RegExp([tn+"?"+Xt+"+"+on+"(?="+[qt,tn,"$"].join("|")+")",rn+"+"+an+"(?="+[qt,tn+nn,"$"].join("|")+")",tn+"?"+nn+"+"+on,tn+"+"+an,"\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Kt,ln].join("|"),"g"),gn=RegExp("[\\u200d"+Ut+Ht+"\\ufe0e\\ufe0f]"),vn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bn=-1,xn={};xn[Ye]=xn[Je]=xn[Qe]=xn[Ze]=xn[et]=xn[tt]=xn[nt]=xn[rt]=xn[ot]=!0,xn[Se]=xn[Ee]=xn[Ge]=xn[Ne]=xn[Xe]=xn[De]=xn[Pe]=xn[Oe]=xn[Ie]=xn[Me]=xn[Fe]=xn[ze]=xn[je]=xn[We]=xn[Ve]=!1;var wn={};wn[Se]=wn[Ee]=wn[Ge]=wn[Xe]=wn[Ne]=wn[De]=wn[Ye]=wn[Je]=wn[Qe]=wn[Ze]=wn[et]=wn[Ie]=wn[Me]=wn[Fe]=wn[ze]=wn[je]=wn[We]=wn[$e]=wn[tt]=wn[nt]=wn[rt]=wn[ot]=!0,wn[Pe]=wn[Oe]=wn[Ve]=!1;var Cn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kn=parseFloat,Tn=parseInt,_n="object"==typeof e&&e&&e.Object===Object&&e,Sn="object"==typeof self&&self&&self.Object===Object&&self,En=_n||Sn||Function("return this")(),An="object"==typeof t&&t&&!t.nodeType&&t,Nn=An&&"object"==typeof r&&r&&!r.nodeType&&r,Dn=Nn&&Nn.exports===An,Rn=Dn&&_n.process,Pn=function(){try{return Rn&&Rn.binding&&Rn.binding("util")}catch(e){}}(),On=Pn&&Pn.isArrayBuffer,Bn=Pn&&Pn.isDate,In=Pn&&Pn.isMap,Mn=Pn&&Pn.isRegExp,Ln=Pn&&Pn.isSet,Fn=Pn&&Pn.isTypedArray,Un=S("length"),Hn=E({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),zn=E({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),jn=E({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Wn=function e(t){function n(e){if(mi(e)&&!rs(e)&&!(e instanceof E)){if(e instanceof o)return e;if(ra.call(e,"__wrapped__"))return Lo(e)}return new o(e)}function r(){}function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=$}function E(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ce,this.__views__=[]}function Ut(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ht(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function zt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function jt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new zt;++t<n;)this.add(e[t])}function Wt(e){var t=this.__data__=new Ht(e);this.size=t.size}function $t(e,t){var n=rs(e),r=!n&&ns(e),o=!n&&!r&&is(e),i=!n&&!r&&!o&&ls(e),a=n||r||o||i,c=a?D(e.length,Yi):[],s=c.length;for(var u in e)!t&&!ra.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ko(u,s))||c.push(u);return c}function qt(e){var t=e.length;return t?e[cr(0,t-1)]:$}function Vt(e,t){return Bo(Fr(e),tn(t,0,e.length))}function Kt(e){return Bo(Fr(e))}function Gt(e,t,n){(n===$||ai(e[t],n))&&(n!==$||t in e)||Zt(e,t,n)}function Xt(e,t,n){var r=e[t];ra.call(e,t)&&ai(r,n)&&(n!==$||t in e)||Zt(e,t,n)}function Yt(e,t){for(var n=e.length;n--;)if(ai(e[n][0],t))return n;return-1}function Jt(e,t,n,r){return tc(e,function(e,o,i){t(r,e,n(e),i)}),r}function Qt(e,t){return e&&Ur(t,Ai(t),e)}function Zt(e,t,n){"__proto__"==t&&wa?wa(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function en(e,t){for(var n=-1,r=t.length,o=Wi(r),i=null==e;++n<r;)o[n]=i?$:Si(e,t[n]);return o}function tn(e,t,n){return e==e&&(n!==$&&(e=e<=n?e:n),t!==$&&(e=e>=t?e:t)),e}function nn(e,t,n,r,o,c){var s,l=t&J,f=t&Q,d=t&Z;if(n&&(s=o?n(e,r,o,c):n(e)),s!==$)return s;if(!pi(e))return e;var p=rs(e);if(p){if(s=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ra.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return Fr(e,s)}else{var m=pc(e),h=m==Oe||m==Be;if(is(e))return Pr(e,l);if(m==Fe||m==Se||h&&!o){if(s=f||h?{}:wo(e),!l)return f?function(e,t){return Ur(e,dc(e),t)}(e,function(e,t){return e&&Ur(t,Ni(t),e)}(s,e)):function(e,t){return Ur(e,fc(e),t)}(e,Qt(s,e))}else{if(!wn[m])return o?e:{};s=function(e,t,n,r){var o=e.constructor;switch(t){case Ge:return Or(e);case Ne:case De:return new o(+e);case Xe:return function(e,t){var n=t?Or(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case Ye:case Je:case Qe:case Ze:case et:case tt:case nt:case rt:case ot:return Br(e,r);case Ie:return function(e,t,n){return v(t?n(F(e),J):F(e),i,new e.constructor)}(e,r,n);case Me:case We:return new o(e);case ze:return function(e){var t=new e.constructor(e.source,Dt.exec(e));return t.lastIndex=e.lastIndex,t}(e);case je:return function(e,t,n){return v(t?n(z(e),J):z(e),a,new e.constructor)}(e,r,n);case $e:return function(e){return Qa?Gi(Qa.call(e)):{}}(e)}}(e,m,nn,l)}}c||(c=new Wt);var g=c.get(e);if(g)return g;c.set(e,s);var y=p?$:(d?f?po:fo:f?Ni:Ai)(e);return u(y||e,function(r,o){y&&(r=e[o=r]),Xt(s,o,nn(r,t,n,o,e,c))}),s}function rn(e,t,n){var r=n.length;if(null==e)return!r;for(e=Gi(e);r--;){var o=n[r],i=t[o],a=e[o];if(a===$&&!(o in e)||!i(a))return!1}return!0}function on(e,t,n){if("function"!=typeof e)throw new Ji(K);return gc(function(){e.apply($,n)},t)}function an(e,t,n,r){var o=-1,i=p,a=!0,c=e.length,s=[],u=t.length;if(!c)return s;n&&(t=h(t,R(n))),r?(i=m,a=!1):t.length>=q&&(i=O,a=!1,t=new jt(t));e:for(;++o<c;){var l=e[o],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var d=u;d--;)if(t[d]===f)continue e;s.push(l)}else i(t,f,r)||s.push(l)}return s}function cn(e,t){var n=!0;return tc(e,function(e,r,o){return n=!!t(e,r,o)}),n}function sn(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=t(i);if(null!=a&&(c===$?a==a&&!yi(a):n(a,c)))var c=a,s=i}return s}function un(e,t){var n=[];return tc(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function ln(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=Co),o||(o=[]);++i<a;){var c=e[i];t>0&&n(c)?t>1?ln(c,t-1,n,r,o):g(o,c):r||(o[o.length]=c)}return o}function fn(e,t){return e&&rc(e,t,Ai)}function mn(e,t){return e&&oc(e,t,Ai)}function gn(e,t){return d(t,function(t){return li(e[t])})}function Cn(e,t){for(var n=0,r=(t=Dr(t,e)).length;null!=e&&n<r;)e=e[Io(t[n++])];return n&&n==r?e:$}function _n(e,t,n){var r=t(e);return rs(e)?r:g(r,n(e))}function Sn(e){return null==e?e===$?qe:Le:xa&&xa in Gi(e)?function(e){var t=ra.call(e,xa),n=e[xa];try{e[xa]=$;var r=!0}catch(e){}var o=aa.call(e);return r&&(t?e[xa]=n:delete e[xa]),o}(e):function(e){return aa.call(e)}(e)}function An(e,t){return e>t}function Nn(e,t){return null!=e&&ra.call(e,t)}function Rn(e,t){return null!=e&&t in Gi(e)}function Pn(e,t,n){for(var r=n?m:p,o=e[0].length,i=e.length,a=i,c=Wi(i),s=1/0,u=[];a--;){var l=e[a];a&&t&&(l=h(l,R(t))),s=Oa(l.length,s),c[a]=!n&&(t||o>=120&&l.length>=120)?new jt(a&&l):$}l=e[0];var f=-1,d=c[0];e:for(;++f<o&&u.length<s;){var g=l[f],v=t?t(g):g;if(g=n||0!==g?g:0,!(d?O(d,v):r(u,v,n))){for(a=i;--a;){var y=c[a];if(!(y?O(y,v):r(e[a],v,n)))continue e}d&&d.push(v),u.push(g)}}return u}function Un(e,t,n){var r=null==(e=Ro(e,t=Dr(t,e)))?e:e[Io(jo(t))];return null==r?$:c(r,e,n)}function $n(e){return mi(e)&&Sn(e)==Se}function qn(e,t,n,r,o){return e===t||(null==e||null==t||!mi(e)&&!mi(t)?e!=e&&t!=t:function(e,t,n,r,o,i){var a=rs(e),c=rs(t),s=a?Ee:pc(e),u=c?Ee:pc(t),l=(s=s==Se?Fe:s)==Fe,f=(u=u==Se?Fe:u)==Fe,d=s==u;if(d&&is(e)){if(!is(t))return!1;a=!0,l=!1}if(d&&!l)return i||(i=new Wt),a||ls(e)?uo(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case Xe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ge:return!(e.byteLength!=t.byteLength||!i(new da(e),new da(t)));case Ne:case De:case Me:return ai(+e,+t);case Pe:return e.name==t.name&&e.message==t.message;case ze:case We:return e==t+"";case Ie:var c=F;case je:var s=r&ee;if(c||(c=z),e.size!=t.size&&!s)return!1;var u=a.get(e);if(u)return u==t;r|=te,a.set(e,t);var l=uo(c(e),c(t),r,o,i,a);return a.delete(e),l;case $e:if(Qa)return Qa.call(e)==Qa.call(t)}return!1}(e,t,s,n,r,o,i);if(!(n&ee)){var p=l&&ra.call(e,"__wrapped__"),m=f&&ra.call(t,"__wrapped__");if(p||m){var h=p?e.value():e,g=m?t.value():t;return i||(i=new Wt),o(h,g,n,r,i)}}return!!d&&(i||(i=new Wt),function(e,t,n,r,o,i){var a=n&ee,c=fo(e),s=c.length,u=fo(t).length;if(s!=u&&!a)return!1;for(var l=s;l--;){var f=c[l];if(!(a?f in t:ra.call(t,f)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var p=!0;i.set(e,t),i.set(t,e);for(var m=a;++l<s;){f=c[l];var h=e[f],g=t[f];if(r)var v=a?r(g,h,f,t,e,i):r(h,g,f,e,t,i);if(!(v===$?h===g||o(h,g,n,r,i):v)){p=!1;break}m||(m="constructor"==f)}if(p&&!m){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(p=!1)}return i.delete(e),i.delete(t),p}(e,t,n,r,o,i))}(e,t,n,r,qn,o))}function Vn(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Gi(e);o--;){var c=n[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){var s=(c=n[o])[0],u=e[s],l=c[1];if(a&&c[2]){if(u===$&&!(s in e))return!1}else{var f=new Wt;if(r)var d=r(u,l,s,e,t,f);if(!(d===$?qn(l,u,ee|te,r,f):d))return!1}}return!0}function Kn(e){return!(!pi(e)||function(e){return!!ia&&ia in e}(e))&&(li(e)?ua:Ot).test(Mo(e))}function Gn(e){return"function"==typeof e?e:null==e?Mi:"object"==typeof e?rs(e)?er(e[0],e[1]):Zn(e):Hi(e)}function Xn(e){if(!Eo(e))return Ra(e);var t=[];for(var n in Gi(e))ra.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Yn(e){if(!pi(e))return function(e){var t=[];if(null!=e)for(var n in Gi(e))t.push(n);return t}(e);var t=Eo(e),n=[];for(var r in e)("constructor"!=r||!t&&ra.call(e,r))&&n.push(r);return n}function Jn(e,t){return e<t}function Qn(e,t){var n=-1,r=ci(e)?Wi(e.length):[];return tc(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function Zn(e){var t=yo(e);return 1==t.length&&t[0][2]?No(t[0][0],t[0][1]):function(n){return n===e||Vn(n,e,t)}}function er(e,t){return _o(e)&&Ao(t)?No(Io(e),t):function(n){var r=Si(n,e);return r===$&&r===t?Ei(n,e):qn(t,r,ee|te)}}function tr(e,t,n,r,o){e!==t&&rc(t,function(i,a){if(pi(i))o||(o=new Wt),function(e,t,n,r,o,i,a){var c=e[n],s=t[n],u=a.get(s);if(u)Gt(e,n,u);else{var l=i?i(c,s,n+"",e,t,a):$,f=l===$;if(f){var d=rs(s),p=!d&&is(s),m=!d&&!p&&ls(s);l=s,d||p||m?rs(c)?l=c:si(c)?l=Fr(c):p?(f=!1,l=Pr(s,!0)):m?(f=!1,l=Br(s,!0)):l=[]:gi(s)||ns(s)?(l=c,ns(c)?l=Ti(c):(!pi(c)||r&&li(c))&&(l=wo(s))):f=!1}f&&(a.set(s,l),o(l,s,r,i,a),a.delete(s)),Gt(e,n,l)}}(e,t,a,n,tr,r,o);else{var c=r?r(e[a],i,a+"",e,t,o):$;c===$&&(c=i),Gt(e,a,c)}},Ni)}function nr(e,t){var n=e.length;if(n)return t+=t<0?n:0,ko(t,n)?e[t]:$}function rr(e,t,n){var r=-1;return t=h(t.length?t:[Mi],R(go())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Qn(e,function(e,n,o){return{criteria:h(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,c=n.length;++r<a;){var s=Ir(o[r],i[r]);if(s){if(r>=c)return s;var u=n[r];return s*("desc"==u?-1:1)}}return e.index-t.index}(e,t,n)})}function or(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],c=Cn(e,a);n(c,a)&&dr(i,Dr(a,e),c)}return i}function ir(e,t,n,r){var o=r?k:C,i=-1,a=t.length,c=e;for(e===t&&(t=Fr(t)),n&&(c=h(e,R(n)));++i<a;)for(var s=0,u=t[i],l=n?n(u):u;(s=o(c,l,s,r))>-1;)c!==e&&va.call(c,s,1),va.call(e,s,1);return e}function ar(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;ko(o)?va.call(e,o,1):Cr(e,o)}}return e}function cr(e,t){return e+Sa(Ma()*(t-e+1))}function sr(e,t){var n="";if(!e||t<1||t>be)return n;do{t%2&&(n+=e),(t=Sa(t/2))&&(e+=e)}while(t);return n}function ur(e,t){return vc(Do(e,t,Mi),e+"")}function lr(e){return qt(Ri(e))}function fr(e,t){var n=Ri(e);return Bo(n,tn(t,0,n.length))}function dr(e,t,n,r){if(!pi(e))return e;for(var o=-1,i=(t=Dr(t,e)).length,a=i-1,c=e;null!=c&&++o<i;){var s=Io(t[o]),u=n;if(o!=a){var l=c[s];(u=r?r(l,s,c):$)===$&&(u=pi(l)?l:ko(t[o+1])?[]:{})}Xt(c,s,u),c=c[s]}return e}function pr(e){return Bo(Ri(e))}function mr(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Wi(o);++r<o;)i[r]=e[r+t];return i}function hr(e,t){var n;return tc(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function gr(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=Te){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!yi(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return vr(e,t,Mi,n)}function vr(e,t,n,r){t=n(t);for(var o=0,i=null==e?0:e.length,a=t!=t,c=null===t,s=yi(t),u=t===$;o<i;){var l=Sa((o+i)/2),f=n(e[l]),d=f!==$,p=null===f,m=f==f,h=yi(f);if(a)var g=r||m;else g=u?m&&(r||d):c?m&&d&&(r||!p):s?m&&d&&!p&&(r||!h):!p&&!h&&(r?f<=t:f<t);g?o=l+1:i=l}return Oa(i,ke)}function yr(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],c=t?t(a):a;if(!n||!ai(c,s)){var s=c;i[o++]=0===a?0:a}}return i}function br(e){return"number"==typeof e?e:yi(e)?we:+e}function xr(e){if("string"==typeof e)return e;if(rs(e))return h(e,xr)+"";if(yi(e))return Za?Za.call(e):"";var t=e+"";return"0"==t&&1/e==-ye?"-0":t}function wr(e,t,n){var r=-1,o=p,i=e.length,a=!0,c=[],s=c;if(n)a=!1,o=m;else if(i>=q){var u=t?null:uc(e);if(u)return z(u);a=!1,o=O,s=new jt}else s=t?[]:c;e:for(;++r<i;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var d=s.length;d--;)if(s[d]===f)continue e;t&&s.push(f),c.push(l)}else o(s,f,n)||(s!==c&&s.push(f),c.push(l))}return c}function Cr(e,t){return t=Dr(t,e),null==(e=Ro(e,t))||delete e[Io(jo(t))]}function kr(e,t,n,r){return dr(e,t,n(Cn(e,t)),r)}function Tr(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?mr(e,r?0:i,r?i+1:o):mr(e,r?i+1:0,r?o:i)}function _r(e,t){var n=e;return n instanceof E&&(n=n.value()),v(t,function(e,t){return t.func.apply(t.thisArg,g([e],t.args))},n)}function Sr(e,t,n){var r=e.length;if(r<2)return r?wr(e[0]):[];for(var o=-1,i=Wi(r);++o<r;)for(var a=e[o],c=-1;++c<r;)c!=o&&(i[o]=an(i[o]||a,e[c],t,n));return wr(ln(i,1),t,n)}function Er(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var c=r<i?t[r]:$;n(a,e[r],c)}return a}function Ar(e){return si(e)?e:[]}function Nr(e){return"function"==typeof e?e:Mi}function Dr(e,t){return rs(e)?e:_o(e,t)?[e]:yc(_i(e))}function Rr(e,t,n){var r=e.length;return n=n===$?r:n,!t&&n>=r?e:mr(e,t,n)}function Pr(e,t){if(t)return e.slice();var n=e.length,r=pa?pa(n):new e.constructor(n);return e.copy(r),r}function Or(e){var t=new e.constructor(e.byteLength);return new da(t).set(new da(e)),t}function Br(e,t){var n=t?Or(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ir(e,t){if(e!==t){var n=e!==$,r=null===e,o=e==e,i=yi(e),a=t!==$,c=null===t,s=t==t,u=yi(t);if(!c&&!u&&!i&&e>t||i&&a&&s&&!c&&!u||r&&a&&s||!n&&s||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||c&&n&&o||!a&&o||!s)return-1}return 0}function Mr(e,t,n,r){for(var o=-1,i=e.length,a=n.length,c=-1,s=t.length,u=Pa(i-a,0),l=Wi(s+u),f=!r;++c<s;)l[c]=t[c];for(;++o<a;)(f||o<i)&&(l[n[o]]=e[o]);for(;u--;)l[c++]=e[o++];return l}function Lr(e,t,n,r){for(var o=-1,i=e.length,a=-1,c=n.length,s=-1,u=t.length,l=Pa(i-c,0),f=Wi(l+u),d=!r;++o<l;)f[o]=e[o];for(var p=o;++s<u;)f[p+s]=t[s];for(;++a<c;)(d||o<i)&&(f[p+n[a]]=e[o++]);return f}function Fr(e,t){var n=-1,r=e.length;for(t||(t=Wi(r));++n<r;)t[n]=e[n];return t}function Ur(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var c=t[i],s=r?r(n[c],e[c],c,n,e):$;s===$&&(s=e[c]),o?Zt(n,c,s):Xt(n,c,s)}return n}function Hr(e,t){return function(n,r){var o=rs(n)?s:Jt,i=t?t():{};return o(n,e,go(r,2),i)}}function zr(e){return ur(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:$,a=o>2?n[2]:$;for(i=e.length>3&&"function"==typeof i?(o--,i):$,a&&To(n[0],n[1],a)&&(i=o<3?$:i,o=1),t=Gi(t);++r<o;){var c=n[r];c&&e(t,c,r,i)}return t})}function jr(e,t){return function(n,r){if(null==n)return n;if(!ci(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Gi(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Wr(e){return function(t,n,r){for(var o=-1,i=Gi(t),a=r(t),c=a.length;c--;){var s=a[e?c:++o];if(!1===n(i[s],s,i))break}return t}}function $r(e){return function(t){var n=L(t=_i(t))?W(t):$,r=n?n[0]:t.charAt(0),o=n?Rr(n,1).join(""):t.slice(1);return r[e]()+o}}function qr(e){return function(t){return v(Bi(Oi(t).replace(dn,"")),e,"")}}function Vr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ec(e.prototype),r=e.apply(n,t);return pi(r)?r:n}}function Kr(e){return function(t,n,r){var o=Gi(t);if(!ci(t)){var i=go(n,3);t=Ai(t),n=function(e){return i(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[i?t[a]:a]:$}}function Gr(e){return lo(function(t){var n=t.length,r=n,i=o.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Ji(K);if(i&&!c&&"wrapper"==mo(a))var c=new o([],!0)}for(r=c?r:n;++r<n;){var s=mo(a=t[r]),u="wrapper"==s?lc(a):$;c=u&&So(u[0])&&u[1]==(ue|ie|ce|le)&&!u[4].length&&1==u[9]?c[mo(u[0])].apply(c,u[3]):1==a.length&&So(a)?c[s]():c.thru(a)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&rs(r))return c.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}function Xr(e,t,n,r,o,i,a,c,s,u){function l(){for(var v=arguments.length,y=Wi(v),b=v;b--;)y[b]=arguments[b];if(m)var x=ho(l),w=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(y,x);if(r&&(y=Mr(y,r,o,m)),i&&(y=Lr(y,i,a,m)),v-=w,m&&v<u){var C=H(y,x);return no(e,t,Xr,l.placeholder,n,y,C,c,s,u-v)}var k=d?n:this,T=p?k[e]:e;return v=y.length,c?y=function(e,t){for(var n=e.length,r=Oa(t.length,n),o=Fr(e);r--;){var i=t[r];e[r]=ko(i,n)?o[i]:$}return e}(y,c):h&&v>1&&y.reverse(),f&&s<v&&(y.length=s),this&&this!==En&&this instanceof l&&(T=g||Vr(T)),T.apply(k,y)}var f=t&ue,d=t&ne,p=t&re,m=t&(ie|ae),h=t&fe,g=p?$:Vr(e);return l}function Yr(e,t){return function(n,r){return function(e,t,n,r){return fn(e,function(e,o,i){t(r,n(e),o,i)}),r}(n,e,t(r),{})}}function Jr(e,t){return function(n,r){var o;if(n===$&&r===$)return t;if(n!==$&&(o=n),r!==$){if(o===$)return r;"string"==typeof n||"string"==typeof r?(n=xr(n),r=xr(r)):(n=br(n),r=br(r)),o=e(n,r)}return o}}function Qr(e){return lo(function(t){return t=h(t,R(go())),ur(function(n){var r=this;return e(t,function(e){return c(e,r,n)})})})}function Zr(e,t){var n=(t=t===$?" ":xr(t)).length;if(n<2)return n?sr(t,e):t;var r=sr(t,_a(e/j(t)));return L(t)?Rr(W(r),0,e).join(""):r.slice(0,e)}function eo(e){return function(t,n,r){return r&&"number"!=typeof r&&To(t,n,r)&&(n=r=$),t=xi(t),n===$?(n=t,t=0):n=xi(n),r=r===$?t<n?1:-1:xi(r),function(e,t,n,r){for(var o=-1,i=Pa(_a((t-e)/(n||1)),0),a=Wi(i);i--;)a[r?i:++o]=e,e+=n;return a}(t,n,r,e)}}function to(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ki(t),n=ki(n)),e(t,n)}}function no(e,t,n,r,o,i,a,c,s,u){var l=t&ie;t|=l?ce:se,(t&=~(l?se:ce))&oe||(t&=~(ne|re));var f=[e,t,o,l?i:$,l?a:$,l?$:i,l?$:a,c,s,u],d=n.apply($,f);return So(e)&&hc(d,f),d.placeholder=r,Po(d,e,t)}function ro(e){var t=Ki[e];return function(e,n){if(e=ki(e),n=null==n?0:Oa(wi(n),292)){var r=(_i(e)+"e").split("e");return+((r=(_i(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}function oo(e){return function(t){var n=pc(t);return n==Ie?F(t):n==je?function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}(t):function(e,t){return h(t,function(t){return[t,e[t]]})}(t,e(t))}}function io(e,t,n,r,o,i,a,s){var u=t&re;if(!u&&"function"!=typeof e)throw new Ji(K);var l=r?r.length:0;if(l||(t&=~(ce|se),r=o=$),a=a===$?a:Pa(wi(a),0),s=s===$?s:wi(s),l-=o?o.length:0,t&se){var f=r,d=o;r=o=$}var p=u?$:lc(e),m=[e,t,n,r,o,f,d,i,a,s];if(p&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<(ne|re|ue),a=r==ue&&n==ie||r==ue&&n==le&&e[7].length<=t[8]||r==(ue|le)&&t[7].length<=t[8]&&n==ie;if(!i&&!a)return e;r&ne&&(e[2]=t[2],o|=n&ne?0:oe);var c=t[3];if(c){var s=e[3];e[3]=s?Mr(s,c,t[4]):c,e[4]=s?H(e[3],Y):t[4]}(c=t[5])&&(s=e[5],e[5]=s?Lr(s,c,t[6]):c,e[6]=s?H(e[5],Y):t[6]),(c=t[7])&&(e[7]=c),r&ue&&(e[8]=null==e[8]?t[8]:Oa(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(m,p),e=m[0],t=m[1],n=m[2],r=m[3],o=m[4],!(s=m[9]=m[9]===$?u?0:e.length:Pa(m[9]-l,0))&&t&(ie|ae)&&(t&=~(ie|ae)),t&&t!=ne)h=t==ie||t==ae?function(e,t,n){function r(){for(var i=arguments.length,a=Wi(i),s=i,u=ho(r);s--;)a[s]=arguments[s];var l=i<3&&a[0]!==u&&a[i-1]!==u?[]:H(a,u);return(i-=l.length)<n?no(e,t,Xr,r.placeholder,$,a,l,$,$,n-i):c(this&&this!==En&&this instanceof r?o:e,this,a)}var o=Vr(e);return r}(e,t,s):t!=ce&&t!=(ne|ce)||o.length?Xr.apply($,m):function(e,t,n,r){function o(){for(var t=-1,s=arguments.length,u=-1,l=r.length,f=Wi(l+s),d=this&&this!==En&&this instanceof o?a:e;++u<l;)f[u]=r[u];for(;s--;)f[u++]=arguments[++t];return c(d,i?n:this,f)}var i=t&ne,a=Vr(e);return o}(e,t,n,r);else var h=function(e,t,n){function r(){return(this&&this!==En&&this instanceof r?i:e).apply(o?n:this,arguments)}var o=t&ne,i=Vr(e);return r}(e,t,n);return Po((p?ic:hc)(h,m),e,t)}function ao(e,t,n,r){return e===$||ai(e,ea[n])&&!ra.call(r,n)?t:e}function co(e,t,n,r,o,i){return pi(e)&&pi(t)&&(i.set(t,e),tr(e,t,$,co,i),i.delete(t)),e}function so(e){return gi(e)?$:e}function uo(e,t,n,r,o,i){var a=n&ee,c=e.length,s=t.length;if(c!=s&&!(a&&s>c))return!1;var u=i.get(e);if(u&&i.get(t))return u==t;var l=-1,f=!0,d=n&te?new jt:$;for(i.set(e,t),i.set(t,e);++l<c;){var p=e[l],m=t[l];if(r)var h=a?r(m,p,l,t,e,i):r(p,m,l,e,t,i);if(h!==$){if(h)continue;f=!1;break}if(d){if(!b(t,function(e,t){if(!O(d,t)&&(p===e||o(p,e,n,r,i)))return d.push(t)})){f=!1;break}}else if(p!==m&&!o(p,m,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f}function lo(e){return vc(Do(e,$,Ho),e+"")}function fo(e){return _n(e,Ai,fc)}function po(e){return _n(e,Ni,dc)}function mo(e){for(var t=e.name+"",n=qa[t],r=ra.call(qa,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ho(e){return(ra.call(n,"placeholder")?n:e).placeholder}function go(){var e=n.iteratee||Li;return e=e===Li?Gn:e,arguments.length?e(arguments[0],arguments[1]):e}function vo(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function yo(e){for(var t=Ai(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ao(o)]}return t}function bo(e,t){var n=function(e,t){return null==e?$:e[t]}(e,t);return Kn(n)?n:$}function xo(e,t,n){for(var r=-1,o=(t=Dr(t,e)).length,i=!1;++r<o;){var a=Io(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&di(o)&&ko(a,o)&&(rs(e)||ns(e))}function wo(e){return"function"!=typeof e.constructor||Eo(e)?{}:ec(ma(e))}function Co(e){return rs(e)||ns(e)||!!(ya&&e&&e[ya])}function ko(e,t){return!!(t=null==t?be:t)&&("number"==typeof e||It.test(e))&&e>-1&&e%1==0&&e<t}function To(e,t,n){if(!pi(n))return!1;var r=typeof t;return!!("number"==r?ci(n)&&ko(t,n.length):"string"==r&&t in n)&&ai(n[t],e)}function _o(e,t){if(rs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!yi(e))||gt.test(e)||!ht.test(e)||null!=t&&e in Gi(t)}function So(e){var t=mo(e),r=n[t];if("function"!=typeof r||!(t in E.prototype))return!1;if(e===r)return!0;var o=lc(r);return!!o&&e===o[0]}function Eo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ea)}function Ao(e){return e==e&&!pi(e)}function No(e,t){return function(n){return null!=n&&n[e]===t&&(t!==$||e in Gi(n))}}function Do(e,t,n){return t=Pa(t===$?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Pa(r.length-t,0),a=Wi(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Wi(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),c(e,this,s)}}function Ro(e,t){return t.length<2?e:Cn(e,mr(t,0,-1))}function Po(e,t,n){var r=t+"";return vc(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Tt,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return u(_e,function(n){var r="_."+n[0];t&n[1]&&!p(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(_t);return t?t[1].split(St):[]}(r),n)))}function Oo(e){var t=0,n=0;return function(){var r=Ba(),o=he-(r-n);if(n=r,o>0){if(++t>=me)return arguments[0]}else t=0;return e.apply($,arguments)}}function Bo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===$?r:t;++n<t;){var i=cr(n,o),a=e[i];e[i]=e[n],e[n]=a}return e.length=t,e}function Io(e){if("string"==typeof e||yi(e))return e;var t=e+"";return"0"==t&&1/e==-ye?"-0":t}function Mo(e){if(null!=e){try{return na.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Lo(e){if(e instanceof E)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=Fr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Fo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:wi(n);return o<0&&(o=Pa(r+o,0)),w(e,go(t,3),o)}function Uo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==$&&(o=wi(n),o=n<0?Pa(r+o,0):Oa(o,r-1)),w(e,go(t,3),o,!0)}function Ho(e){return null!=e&&e.length?ln(e,1):[]}function zo(e){return e&&e.length?e[0]:$}function jo(e){var t=null==e?0:e.length;return t?e[t-1]:$}function Wo(e,t){return e&&e.length&&t&&t.length?ir(e,t):e}function $o(e){return null==e?e:La.call(e)}function qo(e){if(!e||!e.length)return[];var t=0;return e=d(e,function(e){if(si(e))return t=Pa(e.length,t),!0}),D(t,function(t){return h(e,S(t))})}function Vo(e,t){if(!e||!e.length)return[];var n=qo(e);return null==t?n:h(n,function(e){return c(t,$,e)})}function Ko(e){var t=n(e);return t.__chain__=!0,t}function Go(e,t){return t(e)}function Xo(){return this}function Yo(e,t){return(rs(e)?u:tc)(e,go(t,3))}function Jo(e,t){return(rs(e)?l:nc)(e,go(t,3))}function Qo(e,t){return(rs(e)?h:Qn)(e,go(t,3))}function Zo(e,t,n){return t=n?$:t,t=e&&null==t?e.length:t,io(e,ue,$,$,$,$,t)}function ei(e,t){var n;if("function"!=typeof t)throw new Ji(K);return e=wi(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=$),n}}function ti(e,t,n){var r=io(e,ie,$,$,$,$,$,t=n?$:t);return r.placeholder=ti.placeholder,r}function ni(e,t,n){var r=io(e,ae,$,$,$,$,$,t=n?$:t);return r.placeholder=ni.placeholder,r}function ri(e,t,n){function r(t){var n=s,r=u;return s=u=$,m=t,f=e.apply(r,n)}function o(e){var n=e-p;return p===$||n>=t||n<0||g&&e-m>=l}function i(){var e=qc();if(o(e))return a(e);d=gc(i,function(e){var n=t-(e-p);return g?Oa(n,l-(e-m)):n}(e))}function a(e){return d=$,v&&s?r(e):(s=u=$,f)}function c(){var e=qc(),n=o(e);if(s=arguments,u=this,p=e,n){if(d===$)return function(e){return m=e,d=gc(i,t),h?r(e):f}(p);if(g)return d=gc(i,t),r(p)}return d===$&&(d=gc(i,t)),f}var s,u,l,f,d,p,m=0,h=!1,g=!1,v=!0;if("function"!=typeof e)throw new Ji(K);return t=ki(t)||0,pi(n)&&(h=!!n.leading,l=(g="maxWait"in n)?Pa(ki(n.maxWait)||0,t):l,v="trailing"in n?!!n.trailing:v),c.cancel=function(){d!==$&&sc(d),m=0,s=p=u=d=$},c.flush=function(){return d===$?f:a(qc())},c}function oi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ji(K);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(oi.Cache||zt),n}function ii(e){if("function"!=typeof e)throw new Ji(K);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function ai(e,t){return e===t||e!=e&&t!=t}function ci(e){return null!=e&&di(e.length)&&!li(e)}function si(e){return mi(e)&&ci(e)}function ui(e){if(!mi(e))return!1;var t=Sn(e);return t==Pe||t==Re||"string"==typeof e.message&&"string"==typeof e.name&&!gi(e)}function li(e){if(!pi(e))return!1;var t=Sn(e);return t==Oe||t==Be||t==Ae||t==He}function fi(e){return"number"==typeof e&&e==wi(e)}function di(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=be}function pi(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function mi(e){return null!=e&&"object"==typeof e}function hi(e){return"number"==typeof e||mi(e)&&Sn(e)==Me}function gi(e){if(!mi(e)||Sn(e)!=Fe)return!1;var t=ma(e);if(null===t)return!0;var n=ra.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&na.call(n)==ca}function vi(e){return"string"==typeof e||!rs(e)&&mi(e)&&Sn(e)==We}function yi(e){return"symbol"==typeof e||mi(e)&&Sn(e)==$e}function bi(e){if(!e)return[];if(ci(e))return vi(e)?W(e):Fr(e);if(ba&&e[ba])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[ba]());var t=pc(e);return(t==Ie?F:t==je?z:Ri)(e)}function xi(e){return e?(e=ki(e))===ye||e===-ye?(e<0?-1:1)*xe:e==e?e:0:0===e?e:0}function wi(e){var t=xi(e),n=t%1;return t==t?n?t-n:t:0}function Ci(e){return e?tn(wi(e),0,Ce):0}function ki(e){if("number"==typeof e)return e;if(yi(e))return we;if(pi(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=pi(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(wt,"");var n=Pt.test(e);return n||Bt.test(e)?Tn(e.slice(2),n?2:8):Rt.test(e)?we:+e}function Ti(e){return Ur(e,Ni(e))}function _i(e){return null==e?"":xr(e)}function Si(e,t,n){var r=null==e?$:Cn(e,t);return r===$?n:r}function Ei(e,t){return null!=e&&xo(e,t,Rn)}function Ai(e){return ci(e)?$t(e):Xn(e)}function Ni(e){return ci(e)?$t(e,!0):Yn(e)}function Di(e,t){if(null==e)return{};var n=h(po(e),function(e){return[e]});return t=go(t),or(e,n,function(e,n){return t(e,n[0])})}function Ri(e){return null==e?[]:P(e,Ai(e))}function Pi(e){return Ms(_i(e).toLowerCase())}function Oi(e){return(e=_i(e))&&e.replace(Mt,Hn).replace(pn,"")}function Bi(e,t,n){return e=_i(e),(t=n?$:t)===$?function(e){return vn.test(e)}(e)?function(e){return e.match(hn)||[]}(e):function(e){return e.match(Et)||[]}(e):e.match(t)||[]}function Ii(e){return function(){return e}}function Mi(e){return e}function Li(e){return Gn("function"==typeof e?e:nn(e,J))}function Fi(e,t,n){var r=Ai(t),o=gn(t,r);null!=n||pi(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=gn(t,Ai(t)));var i=!(pi(n)&&"chain"in n&&!n.chain),a=li(e);return u(o,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Fr(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,g([this.value()],arguments))})}),e}function Ui(){}function Hi(e){return _o(e)?S(Io(e)):function(e){return function(t){return Cn(t,e)}}(e)}function zi(){return[]}function ji(){return!1}var Wi=(t=null==t?En:Wn.defaults(En.Object(),t,Wn.pick(En,yn))).Array,$i=t.Date,qi=t.Error,Vi=t.Function,Ki=t.Math,Gi=t.Object,Xi=t.RegExp,Yi=t.String,Ji=t.TypeError,Qi=Wi.prototype,Zi=Vi.prototype,ea=Gi.prototype,ta=t["__core-js_shared__"],na=Zi.toString,ra=ea.hasOwnProperty,oa=0,ia=function(){var e=/[^.]+$/.exec(ta&&ta.keys&&ta.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),aa=ea.toString,ca=na.call(Gi),sa=En._,ua=Xi("^"+na.call(ra).replace(bt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),la=Dn?t.Buffer:$,fa=t.Symbol,da=t.Uint8Array,pa=la?la.allocUnsafe:$,ma=U(Gi.getPrototypeOf,Gi),ha=Gi.create,ga=ea.propertyIsEnumerable,va=Qi.splice,ya=fa?fa.isConcatSpreadable:$,ba=fa?fa.iterator:$,xa=fa?fa.toStringTag:$,wa=function(){try{var e=bo(Gi,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ca=t.clearTimeout!==En.clearTimeout&&t.clearTimeout,ka=$i&&$i.now!==En.Date.now&&$i.now,Ta=t.setTimeout!==En.setTimeout&&t.setTimeout,_a=Ki.ceil,Sa=Ki.floor,Ea=Gi.getOwnPropertySymbols,Aa=la?la.isBuffer:$,Na=t.isFinite,Da=Qi.join,Ra=U(Gi.keys,Gi),Pa=Ki.max,Oa=Ki.min,Ba=$i.now,Ia=t.parseInt,Ma=Ki.random,La=Qi.reverse,Fa=bo(t,"DataView"),Ua=bo(t,"Map"),Ha=bo(t,"Promise"),za=bo(t,"Set"),ja=bo(t,"WeakMap"),Wa=bo(Gi,"create"),$a=ja&&new ja,qa={},Va=Mo(Fa),Ka=Mo(Ua),Ga=Mo(Ha),Xa=Mo(za),Ya=Mo(ja),Ja=fa?fa.prototype:$,Qa=Ja?Ja.valueOf:$,Za=Ja?Ja.toString:$,ec=function(){function e(){}return function(t){if(!pi(t))return{};if(ha)return ha(t);e.prototype=t;var n=new e;return e.prototype=$,n}}();n.templateSettings={escape:dt,evaluate:pt,interpolate:mt,variable:"",imports:{_:n}},(n.prototype=r.prototype).constructor=n,(o.prototype=ec(r.prototype)).constructor=o,(E.prototype=ec(r.prototype)).constructor=E,Ut.prototype.clear=function(){this.__data__=Wa?Wa(null):{},this.size=0},Ut.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ut.prototype.get=function(e){var t=this.__data__;if(Wa){var n=t[e];return n===G?$:n}return ra.call(t,e)?t[e]:$},Ut.prototype.has=function(e){var t=this.__data__;return Wa?t[e]!==$:ra.call(t,e)},Ut.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Wa&&t===$?G:t,this},Ht.prototype.clear=function(){this.__data__=[],this.size=0},Ht.prototype.delete=function(e){var t=this.__data__,n=Yt(t,e);return!(n<0||(n==t.length-1?t.pop():va.call(t,n,1),--this.size,0))},Ht.prototype.get=function(e){var t=this.__data__,n=Yt(t,e);return n<0?$:t[n][1]},Ht.prototype.has=function(e){return Yt(this.__data__,e)>-1},Ht.prototype.set=function(e,t){var n=this.__data__,r=Yt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},zt.prototype.clear=function(){this.size=0,this.__data__={hash:new Ut,map:new(Ua||Ht),string:new Ut}},zt.prototype.delete=function(e){var t=vo(this,e).delete(e);return this.size-=t?1:0,t},zt.prototype.get=function(e){return vo(this,e).get(e)},zt.prototype.has=function(e){return vo(this,e).has(e)},zt.prototype.set=function(e,t){var n=vo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},jt.prototype.add=jt.prototype.push=function(e){return this.__data__.set(e,G),this},jt.prototype.has=function(e){return this.__data__.has(e)},Wt.prototype.clear=function(){this.__data__=new Ht,this.size=0},Wt.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Wt.prototype.get=function(e){return this.__data__.get(e)},Wt.prototype.has=function(e){return this.__data__.has(e)},Wt.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ht){var r=n.__data__;if(!Ua||r.length<q-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zt(r)}return n.set(e,t),this.size=n.size,this};var tc=jr(fn),nc=jr(mn,!0),rc=Wr(),oc=Wr(!0),ic=$a?function(e,t){return $a.set(e,t),e}:Mi,ac=wa?function(e,t){return wa(e,"toString",{configurable:!0,enumerable:!1,value:Ii(t),writable:!0})}:Mi,cc=ur,sc=Ca||function(e){return En.clearTimeout(e)},uc=za&&1/z(new za([,-0]))[1]==ye?function(e){return new za(e)}:Ui,lc=$a?function(e){return $a.get(e)}:Ui,fc=Ea?function(e){return null==e?[]:(e=Gi(e),d(Ea(e),function(t){return ga.call(e,t)}))}:zi,dc=Ea?function(e){for(var t=[];e;)g(t,fc(e)),e=ma(e);return t}:zi,pc=Sn;(Fa&&pc(new Fa(new ArrayBuffer(1)))!=Xe||Ua&&pc(new Ua)!=Ie||Ha&&pc(Ha.resolve())!=Ue||za&&pc(new za)!=je||ja&&pc(new ja)!=Ve)&&(pc=function(e){var t=Sn(e),n=t==Fe?e.constructor:$,r=n?Mo(n):"";if(r)switch(r){case Va:return Xe;case Ka:return Ie;case Ga:return Ue;case Xa:return je;case Ya:return Ve}return t});var mc=ta?li:ji,hc=Oo(ic),gc=Ta||function(e,t){return En.setTimeout(e,t)},vc=Oo(ac),yc=function(e){var t=oi(e,function(e){return n.size===X&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return vt.test(e)&&t.push(""),e.replace(yt,function(e,n,r,o){t.push(r?o.replace(At,"$1"):n||e)}),t}),bc=ur(function(e,t){return si(e)?an(e,ln(t,1,si,!0)):[]}),xc=ur(function(e,t){var n=jo(t);return si(n)&&(n=$),si(e)?an(e,ln(t,1,si,!0),go(n,2)):[]}),wc=ur(function(e,t){var n=jo(t);return si(n)&&(n=$),si(e)?an(e,ln(t,1,si,!0),$,n):[]}),Cc=ur(function(e){var t=h(e,Ar);return t.length&&t[0]===e[0]?Pn(t):[]}),kc=ur(function(e){var t=jo(e),n=h(e,Ar);return t===jo(n)?t=$:n.pop(),n.length&&n[0]===e[0]?Pn(n,go(t,2)):[]}),Tc=ur(function(e){var t=jo(e),n=h(e,Ar);return(t="function"==typeof t?t:$)&&n.pop(),n.length&&n[0]===e[0]?Pn(n,$,t):[]}),_c=ur(Wo),Sc=lo(function(e,t){var n=null==e?0:e.length,r=en(e,t);return ar(e,h(t,function(e){return ko(e,n)?+e:e}).sort(Ir)),r}),Ec=ur(function(e){return wr(ln(e,1,si,!0))}),Ac=ur(function(e){var t=jo(e);return si(t)&&(t=$),wr(ln(e,1,si,!0),go(t,2))}),Nc=ur(function(e){var t=jo(e);return t="function"==typeof t?t:$,wr(ln(e,1,si,!0),$,t)}),Dc=ur(function(e,t){return si(e)?an(e,t):[]}),Rc=ur(function(e){return Sr(d(e,si))}),Pc=ur(function(e){var t=jo(e);return si(t)&&(t=$),Sr(d(e,si),go(t,2))}),Oc=ur(function(e){var t=jo(e);return t="function"==typeof t?t:$,Sr(d(e,si),$,t)}),Bc=ur(qo),Ic=ur(function(e){var t=e.length,n=t>1?e[t-1]:$;return n="function"==typeof n?(e.pop(),n):$,Vo(e,n)}),Mc=lo(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return en(t,e)};return!(t>1||this.__actions__.length)&&r instanceof E&&ko(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:Go,args:[i],thisArg:$}),new o(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push($),e})):this.thru(i)}),Lc=Hr(function(e,t,n){ra.call(e,n)?++e[n]:Zt(e,n,1)}),Fc=Kr(Fo),Uc=Kr(Uo),Hc=Hr(function(e,t,n){ra.call(e,n)?e[n].push(t):Zt(e,n,[t])}),zc=ur(function(e,t,n){var r=-1,o="function"==typeof t,i=ci(e)?Wi(e.length):[];return tc(e,function(e){i[++r]=o?c(t,e,n):Un(e,t,n)}),i}),jc=Hr(function(e,t,n){Zt(e,n,t)}),Wc=Hr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),$c=ur(function(e,t){if(null==e)return[];var n=t.length;return n>1&&To(e,t[0],t[1])?t=[]:n>2&&To(t[0],t[1],t[2])&&(t=[t[0]]),rr(e,ln(t,1),[])}),qc=ka||function(){return En.Date.now()},Vc=ur(function(e,t,n){var r=ne;if(n.length){var o=H(n,ho(Vc));r|=ce}return io(e,r,t,n,o)}),Kc=ur(function(e,t,n){var r=ne|re;if(n.length){var o=H(n,ho(Kc));r|=ce}return io(t,r,e,n,o)}),Gc=ur(function(e,t){return on(e,1,t)}),Xc=ur(function(e,t,n){return on(e,ki(t)||0,n)});oi.Cache=zt;var Yc=cc(function(e,t){var n=(t=1==t.length&&rs(t[0])?h(t[0],R(go())):h(ln(t,1),R(go()))).length;return ur(function(r){for(var o=-1,i=Oa(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return c(e,this,r)})}),Jc=ur(function(e,t){var n=H(t,ho(Jc));return io(e,ce,$,t,n)}),Qc=ur(function(e,t){var n=H(t,ho(Qc));return io(e,se,$,t,n)}),Zc=lo(function(e,t){return io(e,le,$,$,$,t)}),es=to(An),ts=to(function(e,t){return e>=t}),ns=$n(function(){return arguments}())?$n:function(e){return mi(e)&&ra.call(e,"callee")&&!ga.call(e,"callee")},rs=Wi.isArray,os=On?R(On):function(e){return mi(e)&&Sn(e)==Ge},is=Aa||ji,as=Bn?R(Bn):function(e){return mi(e)&&Sn(e)==De},cs=In?R(In):function(e){return mi(e)&&pc(e)==Ie},ss=Mn?R(Mn):function(e){return mi(e)&&Sn(e)==ze},us=Ln?R(Ln):function(e){return mi(e)&&pc(e)==je},ls=Fn?R(Fn):function(e){return mi(e)&&di(e.length)&&!!xn[Sn(e)]},fs=to(Jn),ds=to(function(e,t){return e<=t}),ps=zr(function(e,t){if(Eo(t)||ci(t))Ur(t,Ai(t),e);else for(var n in t)ra.call(t,n)&&Xt(e,n,t[n])}),ms=zr(function(e,t){Ur(t,Ni(t),e)}),hs=zr(function(e,t,n,r){Ur(t,Ni(t),e,r)}),gs=zr(function(e,t,n,r){Ur(t,Ai(t),e,r)}),vs=lo(en),ys=ur(function(e){return e.push($,ao),c(hs,$,e)}),bs=ur(function(e){return e.push($,co),c(Ts,$,e)}),xs=Yr(function(e,t,n){e[t]=n},Ii(Mi)),ws=Yr(function(e,t,n){ra.call(e,t)?e[t].push(n):e[t]=[n]},go),Cs=ur(Un),ks=zr(function(e,t,n){tr(e,t,n)}),Ts=zr(function(e,t,n,r){tr(e,t,n,r)}),_s=lo(function(e,t){var n={};if(null==e)return n;var r=!1;t=h(t,function(t){return t=Dr(t,e),r||(r=t.length>1),t}),Ur(e,po(e),n),r&&(n=nn(n,J|Q|Z,so));for(var o=t.length;o--;)Cr(n,t[o]);return n}),Ss=lo(function(e,t){return null==e?{}:function(e,t){return or(e,t,function(t,n){return Ei(e,n)})}(e,t)}),Es=oo(Ai),As=oo(Ni),Ns=qr(function(e,t,n){return t=t.toLowerCase(),e+(n?Pi(t):t)}),Ds=qr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Rs=qr(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ps=$r("toLowerCase"),Os=qr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Bs=qr(function(e,t,n){return e+(n?" ":"")+Ms(t)}),Is=qr(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Ms=$r("toUpperCase"),Ls=ur(function(e,t){try{return c(e,$,t)}catch(e){return ui(e)?e:new qi(e)}}),Fs=lo(function(e,t){return u(t,function(t){t=Io(t),Zt(e,t,Vc(e[t],e))}),e}),Us=Gr(),Hs=Gr(!0),zs=ur(function(e,t){return function(n){return Un(n,e,t)}}),js=ur(function(e,t){return function(n){return Un(e,n,t)}}),Ws=Qr(h),$s=Qr(f),qs=Qr(b),Vs=eo(),Ks=eo(!0),Gs=Jr(function(e,t){return e+t},0),Xs=ro("ceil"),Ys=Jr(function(e,t){return e/t},1),Js=ro("floor"),Qs=Jr(function(e,t){return e*t},1),Zs=ro("round"),eu=Jr(function(e,t){return e-t},0);return n.after=function(e,t){if("function"!=typeof t)throw new Ji(K);return e=wi(e),function(){if(--e<1)return t.apply(this,arguments)}},n.ary=Zo,n.assign=ps,n.assignIn=ms,n.assignInWith=hs,n.assignWith=gs,n.at=vs,n.before=ei,n.bind=Vc,n.bindAll=Fs,n.bindKey=Kc,n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return rs(e)?e:[e]},n.chain=Ko,n.chunk=function(e,t,n){t=(n?To(e,t,n):t===$)?1:Pa(wi(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var o=0,i=0,a=Wi(_a(r/t));o<r;)a[i++]=mr(e,o,o+=t);return a},n.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Wi(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return g(rs(n)?Fr(n):[n],ln(t,1))},n.cond=function(e){var t=null==e?0:e.length,n=go();return e=t?h(e,function(e){if("function"!=typeof e[1])throw new Ji(K);return[n(e[0]),e[1]]}):[],ur(function(n){for(var r=-1;++r<t;){var o=e[r];if(c(o[0],this,n))return c(o[1],this,n)}})},n.conforms=function(e){return function(e){var t=Ai(e);return function(n){return rn(n,e,t)}}(nn(e,J))},n.constant=Ii,n.countBy=Lc,n.create=function(e,t){var n=ec(e);return null==t?n:Qt(n,t)},n.curry=ti,n.curryRight=ni,n.debounce=ri,n.defaults=ys,n.defaultsDeep=bs,n.defer=Gc,n.delay=Xc,n.difference=bc,n.differenceBy=xc,n.differenceWith=wc,n.drop=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===$?1:wi(t),mr(e,t<0?0:t,r)):[]},n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===$?1:wi(t),t=r-t,mr(e,0,t<0?0:t)):[]},n.dropRightWhile=function(e,t){return e&&e.length?Tr(e,go(t,3),!0,!0):[]},n.dropWhile=function(e,t){return e&&e.length?Tr(e,go(t,3),!0):[]},n.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&To(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=wi(n))<0&&(n=-n>o?0:o+n),(r=r===$||r>o?o:wi(r))<0&&(r+=o),r=n>r?0:Ci(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},n.filter=function(e,t){return(rs(e)?d:un)(e,go(t,3))},n.flatMap=function(e,t){return ln(Qo(e,t),1)},n.flatMapDeep=function(e,t){return ln(Qo(e,t),ye)},n.flatMapDepth=function(e,t,n){return n=n===$?1:wi(n),ln(Qo(e,t),n)},n.flatten=Ho,n.flattenDeep=function(e){return null!=e&&e.length?ln(e,ye):[]},n.flattenDepth=function(e,t){return null!=e&&e.length?(t=t===$?1:wi(t),ln(e,t)):[]},n.flip=function(e){return io(e,fe)},n.flow=Us,n.flowRight=Hs,n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},n.functions=function(e){return null==e?[]:gn(e,Ai(e))},n.functionsIn=function(e){return null==e?[]:gn(e,Ni(e))},n.groupBy=Hc,n.initial=function(e){return null!=e&&e.length?mr(e,0,-1):[]},n.intersection=Cc,n.intersectionBy=kc,n.intersectionWith=Tc,n.invert=xs,n.invertBy=ws,n.invokeMap=zc,n.iteratee=Li,n.keyBy=jc,n.keys=Ai,n.keysIn=Ni,n.map=Qo,n.mapKeys=function(e,t){var n={};return t=go(t,3),fn(e,function(e,r,o){Zt(n,t(e,r,o),e)}),n},n.mapValues=function(e,t){var n={};return t=go(t,3),fn(e,function(e,r,o){Zt(n,r,t(e,r,o))}),n},n.matches=function(e){return Zn(nn(e,J))},n.matchesProperty=function(e,t){return er(e,nn(t,J))},n.memoize=oi,n.merge=ks,n.mergeWith=Ts,n.method=zs,n.methodOf=js,n.mixin=Fi,n.negate=ii,n.nthArg=function(e){return e=wi(e),ur(function(t){return nr(t,e)})},n.omit=_s,n.omitBy=function(e,t){return Di(e,ii(go(t)))},n.once=function(e){return ei(2,e)},n.orderBy=function(e,t,n,r){return null==e?[]:(rs(t)||(t=null==t?[]:[t]),n=r?$:n,rs(n)||(n=null==n?[]:[n]),rr(e,t,n))},n.over=Ws,n.overArgs=Yc,n.overEvery=$s,n.overSome=qs,n.partial=Jc,n.partialRight=Qc,n.partition=Wc,n.pick=Ss,n.pickBy=Di,n.property=Hi,n.propertyOf=function(e){return function(t){return null==e?$:Cn(e,t)}},n.pull=_c,n.pullAll=Wo,n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?ir(e,t,go(n,2)):e},n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?ir(e,t,$,n):e},n.pullAt=Sc,n.range=Vs,n.rangeRight=Ks,n.rearg=Zc,n.reject=function(e,t){return(rs(e)?d:un)(e,ii(go(t,3)))},n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=go(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return ar(e,o),n},n.rest=function(e,t){if("function"!=typeof e)throw new Ji(K);return t=t===$?t:wi(t),ur(e,t)},n.reverse=$o,n.sampleSize=function(e,t,n){return t=(n?To(e,t,n):t===$)?1:wi(t),(rs(e)?Vt:fr)(e,t)},n.set=function(e,t,n){return null==e?e:dr(e,t,n)},n.setWith=function(e,t,n,r){return r="function"==typeof r?r:$,null==e?e:dr(e,t,n,r)},n.shuffle=function(e){return(rs(e)?Kt:pr)(e)},n.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&To(e,t,n)?(t=0,n=r):(t=null==t?0:wi(t),n=n===$?r:wi(n)),mr(e,t,n)):[]},n.sortBy=$c,n.sortedUniq=function(e){return e&&e.length?yr(e):[]},n.sortedUniqBy=function(e,t){return e&&e.length?yr(e,go(t,2)):[]},n.split=function(e,t,n){return n&&"number"!=typeof n&&To(e,t,n)&&(t=n=$),(n=n===$?Ce:n>>>0)?(e=_i(e))&&("string"==typeof t||null!=t&&!ss(t))&&!(t=xr(t))&&L(e)?Rr(W(e),0,n):e.split(t,n):[]},n.spread=function(e,t){if("function"!=typeof e)throw new Ji(K);return t=null==t?0:Pa(wi(t),0),ur(function(n){var r=n[t],o=Rr(n,0,t);return r&&g(o,r),c(e,this,o)})},n.tail=function(e){var t=null==e?0:e.length;return t?mr(e,1,t):[]},n.take=function(e,t,n){return e&&e.length?(t=n||t===$?1:wi(t),mr(e,0,t<0?0:t)):[]},n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===$?1:wi(t),t=r-t,mr(e,t<0?0:t,r)):[]},n.takeRightWhile=function(e,t){return e&&e.length?Tr(e,go(t,3),!1,!0):[]},n.takeWhile=function(e,t){return e&&e.length?Tr(e,go(t,3)):[]},n.tap=function(e,t){return t(e),e},n.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Ji(K);return pi(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ri(e,t,{leading:r,maxWait:t,trailing:o})},n.thru=Go,n.toArray=bi,n.toPairs=Es,n.toPairsIn=As,n.toPath=function(e){return rs(e)?h(e,Io):yi(e)?[e]:Fr(yc(_i(e)))},n.toPlainObject=Ti,n.transform=function(e,t,n){var r=rs(e),o=r||is(e)||ls(e);if(t=go(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:pi(e)&&li(i)?ec(ma(e)):{}}return(o?u:fn)(e,function(e,r,o){return t(n,e,r,o)}),n},n.unary=function(e){return Zo(e,1)},n.union=Ec,n.unionBy=Ac,n.unionWith=Nc,n.uniq=function(e){return e&&e.length?wr(e):[]},n.uniqBy=function(e,t){return e&&e.length?wr(e,go(t,2)):[]},n.uniqWith=function(e,t){return t="function"==typeof t?t:$,e&&e.length?wr(e,$,t):[]},n.unset=function(e,t){return null==e||Cr(e,t)},n.unzip=qo,n.unzipWith=Vo,n.update=function(e,t,n){return null==e?e:kr(e,t,Nr(n))},n.updateWith=function(e,t,n,r){return r="function"==typeof r?r:$,null==e?e:kr(e,t,Nr(n),r)},n.values=Ri,n.valuesIn=function(e){return null==e?[]:P(e,Ni(e))},n.without=Dc,n.words=Bi,n.wrap=function(e,t){return Jc(Nr(t),e)},n.xor=Rc,n.xorBy=Pc,n.xorWith=Oc,n.zip=Bc,n.zipObject=function(e,t){return Er(e||[],t||[],Xt)},n.zipObjectDeep=function(e,t){return Er(e||[],t||[],dr)},n.zipWith=Ic,n.entries=Es,n.entriesIn=As,n.extend=ms,n.extendWith=hs,Fi(n,n),n.add=Gs,n.attempt=Ls,n.camelCase=Ns,n.capitalize=Pi,n.ceil=Xs,n.clamp=function(e,t,n){return n===$&&(n=t,t=$),n!==$&&(n=(n=ki(n))==n?n:0),t!==$&&(t=(t=ki(t))==t?t:0),tn(ki(e),t,n)},n.clone=function(e){return nn(e,Z)},n.cloneDeep=function(e){return nn(e,J|Z)},n.cloneDeepWith=function(e,t){return t="function"==typeof t?t:$,nn(e,J|Z,t)},n.cloneWith=function(e,t){return t="function"==typeof t?t:$,nn(e,Z,t)},n.conformsTo=function(e,t){return null==t||rn(e,t,Ai(t))},n.deburr=Oi,n.defaultTo=function(e,t){return null==e||e!=e?t:e},n.divide=Ys,n.endsWith=function(e,t,n){e=_i(e),t=xr(t);var r=e.length,o=n=n===$?r:tn(wi(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},n.eq=ai,n.escape=function(e){return(e=_i(e))&&ft.test(e)?e.replace(ut,zn):e},n.escapeRegExp=function(e){return(e=_i(e))&&xt.test(e)?e.replace(bt,"\\$&"):e},n.every=function(e,t,n){var r=rs(e)?f:cn;return n&&To(e,t,n)&&(t=$),r(e,go(t,3))},n.find=Fc,n.findIndex=Fo,n.findKey=function(e,t){return x(e,go(t,3),fn)},n.findLast=Uc,n.findLastIndex=Uo,n.findLastKey=function(e,t){return x(e,go(t,3),mn)},n.floor=Js,n.forEach=Yo,n.forEachRight=Jo,n.forIn=function(e,t){return null==e?e:rc(e,go(t,3),Ni)},n.forInRight=function(e,t){return null==e?e:oc(e,go(t,3),Ni)},n.forOwn=function(e,t){return e&&fn(e,go(t,3))},n.forOwnRight=function(e,t){return e&&mn(e,go(t,3))},n.get=Si,n.gt=es,n.gte=ts,n.has=function(e,t){return null!=e&&xo(e,t,Nn)},n.hasIn=Ei,n.head=zo,n.identity=Mi,n.includes=function(e,t,n,r){e=ci(e)?e:Ri(e),n=n&&!r?wi(n):0;var o=e.length;return n<0&&(n=Pa(o+n,0)),vi(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&C(e,t,n)>-1},n.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:wi(n);return o<0&&(o=Pa(r+o,0)),C(e,t,o)},n.inRange=function(e,t,n){return t=xi(t),n===$?(n=t,t=0):n=xi(n),e=ki(e),function(e,t,n){return e>=Oa(t,n)&&e<Pa(t,n)}(e,t,n)},n.invoke=Cs,n.isArguments=ns,n.isArray=rs,n.isArrayBuffer=os,n.isArrayLike=ci,n.isArrayLikeObject=si,n.isBoolean=function(e){return!0===e||!1===e||mi(e)&&Sn(e)==Ne},n.isBuffer=is,n.isDate=as,n.isElement=function(e){return mi(e)&&1===e.nodeType&&!gi(e)},n.isEmpty=function(e){if(null==e)return!0;if(ci(e)&&(rs(e)||"string"==typeof e||"function"==typeof e.splice||is(e)||ls(e)||ns(e)))return!e.length;var t=pc(e);if(t==Ie||t==je)return!e.size;if(Eo(e))return!Xn(e).length;for(var n in e)if(ra.call(e,n))return!1;return!0},n.isEqual=function(e,t){return qn(e,t)},n.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:$)?n(e,t):$;return r===$?qn(e,t,$,n):!!r},n.isError=ui,n.isFinite=function(e){return"number"==typeof e&&Na(e)},n.isFunction=li,n.isInteger=fi,n.isLength=di,n.isMap=cs,n.isMatch=function(e,t){return e===t||Vn(e,t,yo(t))},n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:$,Vn(e,t,yo(t),n)},n.isNaN=function(e){return hi(e)&&e!=+e},n.isNative=function(e){if(mc(e))throw new qi(V);return Kn(e)},n.isNil=function(e){return null==e},n.isNull=function(e){return null===e},n.isNumber=hi,n.isObject=pi,n.isObjectLike=mi,n.isPlainObject=gi,n.isRegExp=ss,n.isSafeInteger=function(e){return fi(e)&&e>=-be&&e<=be},n.isSet=us,n.isString=vi,n.isSymbol=yi,n.isTypedArray=ls,n.isUndefined=function(e){return e===$},n.isWeakMap=function(e){return mi(e)&&pc(e)==Ve},n.isWeakSet=function(e){return mi(e)&&Sn(e)==Ke},n.join=function(e,t){return null==e?"":Da.call(e,t)},n.kebabCase=Ds,n.last=jo,n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==$&&(o=(o=wi(n))<0?Pa(r+o,0):Oa(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):w(e,T,o,!0)},n.lowerCase=Rs,n.lowerFirst=Ps,n.lt=fs,n.lte=ds,n.max=function(e){return e&&e.length?sn(e,Mi,An):$},n.maxBy=function(e,t){return e&&e.length?sn(e,go(t,2),An):$},n.mean=function(e){return _(e,Mi)},n.meanBy=function(e,t){return _(e,go(t,2))},n.min=function(e){return e&&e.length?sn(e,Mi,Jn):$},n.minBy=function(e,t){return e&&e.length?sn(e,go(t,2),Jn):$},n.stubArray=zi,n.stubFalse=ji,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=Qs,n.nth=function(e,t){return e&&e.length?nr(e,wi(t)):$},n.noConflict=function(){return En._===this&&(En._=sa),this},n.noop=Ui,n.now=qc,n.pad=function(e,t,n){e=_i(e);var r=(t=wi(t))?j(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Zr(Sa(o),n)+e+Zr(_a(o),n)},n.padEnd=function(e,t,n){e=_i(e);var r=(t=wi(t))?j(e):0;return t&&r<t?e+Zr(t-r,n):e},n.padStart=function(e,t,n){e=_i(e);var r=(t=wi(t))?j(e):0;return t&&r<t?Zr(t-r,n)+e:e},n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Ia(_i(e).replace(Ct,""),t||0)},n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&To(e,t,n)&&(t=n=$),n===$&&("boolean"==typeof t?(n=t,t=$):"boolean"==typeof e&&(n=e,e=$)),e===$&&t===$?(e=0,t=1):(e=xi(e),t===$?(t=e,e=0):t=xi(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Ma();return Oa(e+o*(t-e+kn("1e-"+((o+"").length-1))),t)}return cr(e,t)},n.reduce=function(e,t,n){var r=rs(e)?v:A,o=arguments.length<3;return r(e,go(t,4),n,o,tc)},n.reduceRight=function(e,t,n){var r=rs(e)?y:A,o=arguments.length<3;return r(e,go(t,4),n,o,nc)},n.repeat=function(e,t,n){return t=(n?To(e,t,n):t===$)?1:wi(t),sr(_i(e),t)},n.replace=function(){var e=arguments,t=_i(e[0]);return e.length<3?t:t.replace(e[1],e[2])},n.result=function(e,t,n){var r=-1,o=(t=Dr(t,e)).length;for(o||(o=1,e=$);++r<o;){var i=null==e?$:e[Io(t[r])];i===$&&(r=o,i=n),e=li(i)?i.call(e):i}return e},n.round=Zs,n.runInContext=e,n.sample=function(e){return(rs(e)?qt:lr)(e)},n.size=function(e){if(null==e)return 0;if(ci(e))return vi(e)?j(e):e.length;var t=pc(e);return t==Ie||t==je?e.size:Xn(e).length},n.snakeCase=Os,n.some=function(e,t,n){var r=rs(e)?b:hr;return n&&To(e,t,n)&&(t=$),r(e,go(t,3))},n.sortedIndex=function(e,t){return gr(e,t)},n.sortedIndexBy=function(e,t,n){return vr(e,t,go(n,2))},n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=gr(e,t);if(r<n&&ai(e[r],t))return r}return-1},n.sortedLastIndex=function(e,t){return gr(e,t,!0)},n.sortedLastIndexBy=function(e,t,n){return vr(e,t,go(n,2),!0)},n.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=gr(e,t,!0)-1;if(ai(e[n],t))return n}return-1},n.startCase=Bs,n.startsWith=function(e,t,n){return e=_i(e),n=null==n?0:tn(wi(n),0,e.length),t=xr(t),e.slice(n,n+t.length)==t},n.subtract=eu,n.sum=function(e){return e&&e.length?N(e,Mi):0},n.sumBy=function(e,t){return e&&e.length?N(e,go(t,2)):0},n.template=function(e,t,r){var o=n.templateSettings;r&&To(e,t,r)&&(t=$),e=_i(e),t=hs({},t,o,ao);var i,a,c=hs({},t.imports,o.imports,ao),s=Ai(c),u=P(c,s),l=0,f=t.interpolate||Lt,d="__p += '",p=Xi((t.escape||Lt).source+"|"+f.source+"|"+(f===mt?Nt:Lt).source+"|"+(t.evaluate||Lt).source+"|$","g"),m="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++bn+"]")+"\n";e.replace(p,function(t,n,r,o,c,s){return r||(r=o),d+=e.slice(l,s).replace(Ft,M),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),c&&(a=!0,d+="';\n"+c+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+t.length,t}),d+="';\n";var h=t.variable;h||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(it,""):d).replace(at,"$1").replace(ct,"$1;"),d="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Ls(function(){return Vi(s,m+"return "+d).apply($,u)});if(g.source=d,ui(g))throw g;return g},n.times=function(e,t){if((e=wi(e))<1||e>be)return[];var n=Ce,r=Oa(e,Ce);t=go(t),e-=Ce;for(var o=D(r,t);++n<e;)t(n);return o},n.toFinite=xi,n.toInteger=wi,n.toLength=Ci,n.toLower=function(e){return _i(e).toLowerCase()},n.toNumber=ki,n.toSafeInteger=function(e){return e?tn(wi(e),-be,be):0===e?e:0},n.toString=_i,n.toUpper=function(e){return _i(e).toUpperCase()},n.trim=function(e,t,n){if((e=_i(e))&&(n||t===$))return e.replace(wt,"");if(!e||!(t=xr(t)))return e;var r=W(e),o=W(t);return Rr(r,B(r,o),I(r,o)+1).join("")},n.trimEnd=function(e,t,n){if((e=_i(e))&&(n||t===$))return e.replace(kt,"");if(!e||!(t=xr(t)))return e;var r=W(e);return Rr(r,0,I(r,W(t))+1).join("")},n.trimStart=function(e,t,n){if((e=_i(e))&&(n||t===$))return e.replace(Ct,"");if(!e||!(t=xr(t)))return e;var r=W(e);return Rr(r,B(r,W(t))).join("")},n.truncate=function(e,t){var n=de,r=pe;if(pi(t)){var o="separator"in t?t.separator:o;n="length"in t?wi(t.length):n,r="omission"in t?xr(t.omission):r}var i=(e=_i(e)).length;if(L(e)){var a=W(e);i=a.length}if(n>=i)return e;var c=n-j(r);if(c<1)return r;var s=a?Rr(a,0,c).join(""):e.slice(0,c);if(o===$)return s+r;if(a&&(c+=s.length-c),ss(o)){if(e.slice(c).search(o)){var u,l=s;for(o.global||(o=Xi(o.source,_i(Dt.exec(o))+"g")),o.lastIndex=0;u=o.exec(l);)var f=u.index;s=s.slice(0,f===$?c:f)}}else if(e.indexOf(xr(o),c)!=c){var d=s.lastIndexOf(o);d>-1&&(s=s.slice(0,d))}return s+r},n.unescape=function(e){return(e=_i(e))&&lt.test(e)?e.replace(st,jn):e},n.uniqueId=function(e){var t=++oa;return _i(e)+t},n.upperCase=Is,n.upperFirst=Ms,n.each=Yo,n.eachRight=Jo,n.first=zo,Fi(n,function(){var e={};return fn(n,function(t,r){ra.call(n.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),n.VERSION="4.17.4",u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),u(["drop","take"],function(e,t){E.prototype[e]=function(n){n=n===$?1:Pa(wi(n),0);var r=this.__filtered__&&!t?new E(this):this.clone();return r.__filtered__?r.__takeCount__=Oa(n,r.__takeCount__):r.__views__.push({size:Oa(n,Ce),type:e+(r.__dir__<0?"Right":"")}),r},E.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),u(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==ge||3==n;E.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:go(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),u(["head","last"],function(e,t){var n="take"+(t?"Right":"");E.prototype[e]=function(){return this[n](1).value()[0]}}),u(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");E.prototype[e]=function(){return this.__filtered__?new E(this):this[n](1)}}),E.prototype.compact=function(){return this.filter(Mi)},E.prototype.find=function(e){return this.filter(e).head()},E.prototype.findLast=function(e){return this.reverse().find(e)},E.prototype.invokeMap=ur(function(e,t){return"function"==typeof e?new E(this):this.map(function(n){return Un(n,e,t)})}),E.prototype.reject=function(e){return this.filter(ii(go(e)))},E.prototype.slice=function(e,t){e=wi(e);var n=this;return n.__filtered__&&(e>0||t<0)?new E(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==$&&(n=(t=wi(t))<0?n.dropRight(-t):n.take(t-e)),n)},E.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},E.prototype.toArray=function(){return this.take(Ce)},fn(E.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=n[i?"take"+("last"==t?"Right":""):t],c=i||/^find/.test(t);a&&(n.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,u=t instanceof E,l=s[0],f=u||rs(t),d=function(e){var t=a.apply(n,g([e],s));return i&&p?t[0]:t};f&&r&&"function"==typeof l&&1!=l.length&&(u=f=!1);var p=this.__chain__,m=!!this.__actions__.length,h=c&&!p,v=u&&!m;if(!c&&f){t=v?t:new E(this);var y=e.apply(t,s);return y.__actions__.push({func:Go,args:[d],thisArg:$}),new o(y,p)}return h&&v?e.apply(this,s):(y=this.thru(d),h?i?y.value()[0]:y.value():y)})}),u(["pop","push","shift","sort","splice","unshift"],function(e){var t=Qi[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(o&&!this.__chain__){var n=this.value();return t.apply(rs(n)?n:[],e)}return this[r](function(n){return t.apply(rs(n)?n:[],e)})}}),fn(E.prototype,function(e,t){var r=n[t];if(r){var o=r.name+"";(qa[o]||(qa[o]=[])).push({name:t,func:r})}}),qa[Xr($,re).name]=[{name:"wrapper",func:$}],E.prototype.clone=function(){var e=new E(this.__wrapped__);return e.__actions__=Fr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Fr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Fr(this.__views__),e},E.prototype.reverse=function(){if(this.__filtered__){var e=new E(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},E.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=rs(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Oa(t,e+a);break;case"takeRight":e=Pa(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,c=i.end,s=c-a,u=r?c:a-1,l=this.__iteratees__,f=l.length,d=0,p=Oa(s,this.__takeCount__);if(!n||!r&&o==s&&p==s)return _r(e,this.__actions__);var m=[];e:for(;s--&&d<p;){for(var h=-1,g=e[u+=t];++h<f;){var v=l[h],y=v.iteratee,b=v.type,x=y(g);if(b==ve)g=x;else if(!x){if(b==ge)continue e;break e}}m[d++]=g}return m},n.prototype.at=Mc,n.prototype.chain=function(){return Ko(this)},n.prototype.commit=function(){return new o(this.value(),this.__chain__)},n.prototype.next=function(){this.__values__===$&&(this.__values__=bi(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?$:this.__values__[this.__index__++]}},n.prototype.plant=function(e){for(var t,n=this;n instanceof r;){var o=Lo(n);o.__index__=0,o.__values__=$,t?i.__wrapped__=o:t=o;var i=o;n=n.__wrapped__}return i.__wrapped__=e,t},n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof E){var t=e;return this.__actions__.length&&(t=new E(this)),(t=t.reverse()).__actions__.push({func:Go,args:[$o],thisArg:$}),new o(t,this.__chain__)}return this.thru($o)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return _r(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,ba&&(n.prototype[ba]=Xo),n}();En._=Wn,(o=function(){return Wn}.call(t,n,t,r))===$||(r.exports=o)}).call(this)}).call(t,n(2),n(24)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(e,t){if(void 0===e)throw new Error("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");!function(t){var n=e.fn.jquery.split(" ")[0].split(".");if(n[0]<2&&n[1]<9||1==n[0]&&9==n[1]&&n[2]<1||n[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),function(){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){function t(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function n(e){return(e[0]||e).nodeType}function r(t){var n=this,r=!1;return e(this).one(a.TRANSITION_END,function(){r=!0}),setTimeout(function(){r||a.triggerTransitionEnd(n)},t),this}var o=!1,i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},a={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement:function(t){var n=t.getAttribute("data-target");n&&"#"!==n||(n=t.getAttribute("href")||"");try{return e(n).length>0?n:null}catch(e){return null}},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger(o.end)},supportsTransitionEnd:function(){return Boolean(o)},typeCheckConfig:function(e,r,o){for(var i in o)if(o.hasOwnProperty(i)){var a=o[i],c=r[i],s=c&&n(c)?"element":t(c);if(!new RegExp(a).test(s))throw new Error(e.toUpperCase()+': Option "'+i+'" provided type "'+s+'" but expected type "'+a+'".')}}};return o=function(){if(window.QUnit)return!1;var e=document.createElement("bootstrap");for(var t in i)if(void 0!==e.style[t])return{end:i[t]};return!1}(),e.fn.emulateTransitionEnd=r,a.supportsTransitionEnd()&&(e.event.special[a.TRANSITION_END]={bindType:o.end,delegateType:o.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}),a}(e),a=(function(e){var t="bs.alert",r=e.fn.alert,a={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},c="alert",s="fade",u="show",l=function(){function r(e){n(this,r),this._element=e}return r.prototype.close=function(e){e=e||this._element;var t=this._getRootElement(e);this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},r.prototype.dispose=function(){e.removeData(this._element,t),this._element=null},r.prototype._getRootElement=function(t){var n=i.getSelectorFromElement(t),r=!1;return n&&(r=e(n)[0]),r||(r=e(t).closest("."+c)[0]),r},r.prototype._triggerCloseEvent=function(t){var n=e.Event(a.CLOSE);return e(t).trigger(n),n},r.prototype._removeElement=function(t){var n=this;e(t).removeClass(u),i.supportsTransitionEnd()&&e(t).hasClass(s)?e(t).one(i.TRANSITION_END,function(e){return n._destroyElement(t,e)}).emulateTransitionEnd(150):this._destroyElement(t)},r.prototype._destroyElement=function(t){e(t).detach().trigger(a.CLOSED).remove()},r._jQueryInterface=function(n){return this.each(function(){var o=e(this),i=o.data(t);i||(i=new r(this),o.data(t,i)),"close"===n&&i[n](this)})},r._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},o(r,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}}]),r}();e(document).on(a.CLICK_DATA_API,'[data-dismiss="alert"]',l._handleDismiss(new l)),e.fn.alert=l._jQueryInterface,e.fn.alert.Constructor=l,e.fn.alert.noConflict=function(){return e.fn.alert=r,l._jQueryInterface}}(e),function(e){var t="bs.button",r="."+t,i=e.fn.button,a="active",c="btn",s="focus",u='[data-toggle^="button"]',l='[data-toggle="buttons"]',f="input",d=".active",p=".btn",m={CLICK_DATA_API:"click"+r+".data-api",FOCUS_BLUR_DATA_API:"focus"+r+".data-api blur"+r+".data-api"},h=function(){function r(e){n(this,r),this._element=e}return r.prototype.toggle=function(){var t=!0,n=!0,r=e(this._element).closest(l)[0];if(r){var o=e(this._element).find(f)[0];if(o){if("radio"===o.type)if(o.checked&&e(this._element).hasClass(a))t=!1;else{var i=e(r).find(d)[0];i&&e(i).removeClass(a)}if(t){if(o.hasAttribute("disabled")||r.hasAttribute("disabled")||o.classList.contains("disabled")||r.classList.contains("disabled"))return;o.checked=!e(this._element).hasClass(a),e(o).trigger("change")}o.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!e(this._element).hasClass(a)),t&&e(this._element).toggleClass(a)},r.prototype.dispose=function(){e.removeData(this._element,t),this._element=null},r._jQueryInterface=function(n){return this.each(function(){var o=e(this).data(t);o||(o=new r(this),e(this).data(t,o)),"toggle"===n&&o[n]()})},o(r,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}}]),r}();e(document).on(m.CLICK_DATA_API,u,function(t){t.preventDefault();var n=t.target;e(n).hasClass(c)||(n=e(n).closest(p)),h._jQueryInterface.call(e(n),"toggle")}).on(m.FOCUS_BLUR_DATA_API,u,function(t){var n=e(t.target).closest(p)[0];e(n).toggleClass(s,/^focus(in)?$/.test(t.type))}),e.fn.button=h._jQueryInterface,e.fn.button.Constructor=h,e.fn.button.noConflict=function(){return e.fn.button=i,h._jQueryInterface}}(e),function(e){var t="carousel",a="bs.carousel",c="."+a,s=e.fn[t],u={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},l={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},f="next",d="prev",p="left",m="right",h={SLIDE:"slide"+c,SLID:"slid"+c,KEYDOWN:"keydown"+c,MOUSEENTER:"mouseenter"+c,MOUSELEAVE:"mouseleave"+c,TOUCHEND:"touchend"+c,LOAD_DATA_API:"load"+c+".data-api",CLICK_DATA_API:"click"+c+".data-api"},g="carousel",v="active",y="slide",b="carousel-item-right",x="carousel-item-left",w="carousel-item-next",C="carousel-item-prev",k={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},T=function(){function s(t,r){n(this,s),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(r),this._element=e(t)[0],this._indicatorsElement=e(this._element).find(k.INDICATORS)[0],this._addEventListeners()}return s.prototype.next=function(){this._isSliding||this._slide(f)},s.prototype.nextWhenVisible=function(){document.hidden||this.next()},s.prototype.prev=function(){this._isSliding||this._slide(d)},s.prototype.pause=function(t){t||(this._isPaused=!0),e(this._element).find(k.NEXT_PREV)[0]&&i.supportsTransitionEnd()&&(i.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},s.prototype.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},s.prototype.to=function(t){var n=this;this._activeElement=e(this._element).find(k.ACTIVE_ITEM)[0];var r=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one(h.SLID,function(){return n.to(t)});else{if(r===t)return this.pause(),void this.cycle();var o=t>r?f:d;this._slide(o,this._items[t])}},s.prototype.dispose=function(){e(this._element).off(c),e.removeData(this._element,a),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},s.prototype._getConfig=function(n){return n=e.extend({},u,n),i.typeCheckConfig(t,n,l),n},s.prototype._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on(h.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&(e(this._element).on(h.MOUSEENTER,function(e){return t.pause(e)}).on(h.MOUSELEAVE,function(e){return t.cycle(e)}),"ontouchstart"in document.documentElement&&e(this._element).on(h.TOUCHEND,function(){t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval)}))},s.prototype._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next();break;default:return}},s.prototype._getItemIndex=function(t){return this._items=e.makeArray(e(t).parent().find(k.ITEM)),this._items.indexOf(t)},s.prototype._getItemByDirection=function(e,t){var n=e===f,r=e===d,o=this._getItemIndex(t),i=this._items.length-1;if((r&&0===o||n&&o===i)&&!this._config.wrap)return t;var a=(o+(e===d?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},s.prototype._triggerSlideEvent=function(t,n){var r=this._getItemIndex(t),o=this._getItemIndex(e(this._element).find(k.ACTIVE_ITEM)[0]),i=e.Event(h.SLIDE,{relatedTarget:t,direction:n,from:o,to:r});return e(this._element).trigger(i),i},s.prototype._setActiveIndicatorElement=function(t){if(this._indicatorsElement){e(this._indicatorsElement).find(k.ACTIVE).removeClass(v);var n=this._indicatorsElement.children[this._getItemIndex(t)];n&&e(n).addClass(v)}},s.prototype._slide=function(t,n){var r=this,o=e(this._element).find(k.ACTIVE_ITEM)[0],a=this._getItemIndex(o),c=n||o&&this._getItemByDirection(t,o),s=this._getItemIndex(c),u=Boolean(this._interval),l=void 0,d=void 0,g=void 0;if(t===f?(l=x,d=w,g=p):(l=b,d=C,g=m),c&&e(c).hasClass(v))this._isSliding=!1;else{if(!this._triggerSlideEvent(c,g).isDefaultPrevented()&&o&&c){this._isSliding=!0,u&&this.pause(),this._setActiveIndicatorElement(c);var T=e.Event(h.SLID,{relatedTarget:c,direction:g,from:a,to:s});i.supportsTransitionEnd()&&e(this._element).hasClass(y)?(e(c).addClass(d),i.reflow(c),e(o).addClass(l),e(c).addClass(l),e(o).one(i.TRANSITION_END,function(){e(c).removeClass(l+" "+d).addClass(v),e(o).removeClass(v+" "+d+" "+l),r._isSliding=!1,setTimeout(function(){return e(r._element).trigger(T)},0)}).emulateTransitionEnd(600)):(e(o).removeClass(v),e(c).addClass(v),this._isSliding=!1,e(this._element).trigger(T)),u&&this.cycle()}}},s._jQueryInterface=function(t){return this.each(function(){var n=e(this).data(a),o=e.extend({},u,e(this).data());"object"===(void 0===t?"undefined":r(t))&&e.extend(o,t);var i="string"==typeof t?t:o.slide;if(n||(n=new s(this,o),e(this).data(a,n)),"number"==typeof t)n.to(t);else if("string"==typeof i){if(void 0===n[i])throw new Error('No method named "'+i+'"');n[i]()}else o.interval&&(n.pause(),n.cycle())})},s._dataApiClickHandler=function(t){var n=i.getSelectorFromElement(this);if(n){var r=e(n)[0];if(r&&e(r).hasClass(g)){var o=e.extend({},e(r).data(),e(this).data()),c=this.getAttribute("data-slide-to");c&&(o.interval=!1),s._jQueryInterface.call(e(r),o),c&&e(r).data(a).to(c),t.preventDefault()}}},o(s,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}},{key:"Default",get:function(){return u}}]),s}();e(document).on(h.CLICK_DATA_API,k.DATA_SLIDE,T._dataApiClickHandler),e(window).on(h.LOAD_DATA_API,function(){e(k.DATA_RIDE).each(function(){var t=e(this);T._jQueryInterface.call(t,t.data())})}),e.fn[t]=T._jQueryInterface,e.fn[t].Constructor=T,e.fn[t].noConflict=function(){return e.fn[t]=s,T._jQueryInterface}}(e),function(e){var t="collapse",a="bs.collapse",c="."+a,s=e.fn[t],u={toggle:!0,parent:""},l={toggle:"boolean",parent:"string"},f={SHOW:"show"+c,SHOWN:"shown"+c,HIDE:"hide"+c,HIDDEN:"hidden"+c,CLICK_DATA_API:"click"+c+".data-api"},d="show",p="collapse",m="collapsing",h="collapsed",g="width",v="height",y={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},b=function(){function c(t,r){n(this,c),this._isTransitioning=!1,this._element=t,this._config=this._getConfig(r),this._triggerArray=e.makeArray(e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var o=e(y.DATA_TOGGLE),a=0;a<o.length;a++){var s=o[a],u=i.getSelectorFromElement(s);null!==u&&e(u).filter(t).length>0&&this._triggerArray.push(s)}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return c.prototype.toggle=function(){e(this._element).hasClass(d)?this.hide():this.show()},c.prototype.show=function(){var t=this;if(!this._isTransitioning&&!e(this._element).hasClass(d)){var n=void 0,r=void 0;if(this._parent&&((n=e.makeArray(e(this._parent).children().children(y.ACTIVES))).length||(n=null)),!(n&&(r=e(n).data(a))&&r._isTransitioning)){var o=e.Event(f.SHOW);if(e(this._element).trigger(o),!o.isDefaultPrevented()){n&&(c._jQueryInterface.call(e(n),"hide"),r||e(n).data(a,null));var s=this._getDimension();e(this._element).removeClass(p).addClass(m),this._element.style[s]=0,this._triggerArray.length&&e(this._triggerArray).removeClass(h).attr("aria-expanded",!0),this.setTransitioning(!0);var u=function(){e(t._element).removeClass(m).addClass(p).addClass(d),t._element.style[s]="",t.setTransitioning(!1),e(t._element).trigger(f.SHOWN)};if(i.supportsTransitionEnd()){var l="scroll"+(s[0].toUpperCase()+s.slice(1));e(this._element).one(i.TRANSITION_END,u).emulateTransitionEnd(600),this._element.style[s]=this._element[l]+"px"}else u()}}}},c.prototype.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass(d)){var n=e.Event(f.HIDE);if(e(this._element).trigger(n),!n.isDefaultPrevented()){var r=this._getDimension();if(this._element.style[r]=this._element.getBoundingClientRect()[r]+"px",i.reflow(this._element),e(this._element).addClass(m).removeClass(p).removeClass(d),this._triggerArray.length)for(var o=0;o<this._triggerArray.length;o++){var a=this._triggerArray[o],c=i.getSelectorFromElement(a);if(null!==c){e(c).hasClass(d)||e(a).addClass(h).attr("aria-expanded",!1)}}this.setTransitioning(!0);var s=function(){t.setTransitioning(!1),e(t._element).removeClass(m).addClass(p).trigger(f.HIDDEN)};this._element.style[r]="",i.supportsTransitionEnd()?e(this._element).one(i.TRANSITION_END,s).emulateTransitionEnd(600):s()}}},c.prototype.setTransitioning=function(e){this._isTransitioning=e},c.prototype.dispose=function(){e.removeData(this._element,a),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},c.prototype._getConfig=function(n){return n=e.extend({},u,n),n.toggle=Boolean(n.toggle),i.typeCheckConfig(t,n,l),n},c.prototype._getDimension=function(){return e(this._element).hasClass(g)?g:v},c.prototype._getParent=function(){var t=this,n=e(this._config.parent)[0],r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return e(n).find(r).each(function(e,n){t._addAriaAndCollapsedClass(c._getTargetFromElement(n),[n])}),n},c.prototype._addAriaAndCollapsedClass=function(t,n){if(t){var r=e(t).hasClass(d);n.length&&e(n).toggleClass(h,!r).attr("aria-expanded",r)}},c._getTargetFromElement=function(t){var n=i.getSelectorFromElement(t);return n?e(n)[0]:null},c._jQueryInterface=function(t){return this.each(function(){var n=e(this),o=n.data(a),i=e.extend({},u,n.data(),"object"===(void 0===t?"undefined":r(t))&&t);if(!o&&i.toggle&&/show|hide/.test(t)&&(i.toggle=!1),o||(o=new c(this,i),n.data(a,o)),"string"==typeof t){if(void 0===o[t])throw new Error('No method named "'+t+'"');o[t]()}})},o(c,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}},{key:"Default",get:function(){return u}}]),c}();e(document).on(f.CLICK_DATA_API,y.DATA_TOGGLE,function(t){/input|textarea/i.test(t.target.tagName)||t.preventDefault();var n=e(this),r=i.getSelectorFromElement(this);e(r).each(function(){var t=e(this),r=t.data(a)?"toggle":n.data();b._jQueryInterface.call(t,r)})}),e.fn[t]=b._jQueryInterface,e.fn[t].Constructor=b,e.fn[t].noConflict=function(){return e.fn[t]=s,b._jQueryInterface}}(e),function(e){if(void 0===t)throw new Error("Bootstrap dropdown require Popper.js (https://popper.js.org)");var a="dropdown",c="bs.dropdown",s="."+c,u=e.fn[a],l=new RegExp("38|40|27"),f={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,CLICK:"click"+s,CLICK_DATA_API:"click"+s+".data-api",KEYDOWN_DATA_API:"keydown"+s+".data-api",KEYUP_DATA_API:"keyup"+s+".data-api"},d="disabled",p="show",m="dropup",h="dropdown-menu-right",g="dropdown-menu-left",v='[data-toggle="dropdown"]',y=".dropdown form",b=".dropdown-menu",x=".navbar-nav",w=".dropdown-menu .dropdown-item:not(.disabled)",C={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end"},k={placement:C.BOTTOM,offset:0,flip:!0},T={placement:"string",offset:"(number|string)",flip:"boolean"},_=function(){function u(e,t){n(this,u),this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}return u.prototype.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass(d)){var n=u._getParentFromElement(this._element),r=e(this._menu).hasClass(p);if(u._clearMenus(),!r){var o={relatedTarget:this._element},i=e.Event(f.SHOW,o);if(e(n).trigger(i),!i.isDefaultPrevented()){var a=this._element;e(n).hasClass(m)&&(e(this._menu).hasClass(g)||e(this._menu).hasClass(h))&&(a=n),this._popper=new t(a,this._menu,this._getPopperConfig()),"ontouchstart"in document.documentElement&&!e(n).closest(x).length&&e("body").children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass(p),e(n).toggleClass(p).trigger(e.Event(f.SHOWN,o))}}}},u.prototype.dispose=function(){e.removeData(this._element,c),e(this._element).off(s),this._element=null,this._menu=null,null!==this._popper&&this._popper.destroy(),this._popper=null},u.prototype.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},u.prototype._addEventListeners=function(){var t=this;e(this._element).on(f.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},u.prototype._getConfig=function(t){var n=e(this._element).data();return void 0!==n.placement&&(n.placement=C[n.placement.toUpperCase()]),t=e.extend({},this.constructor.Default,e(this._element).data(),t),i.typeCheckConfig(a,t,this.constructor.DefaultType),t},u.prototype._getMenuElement=function(){if(!this._menu){var t=u._getParentFromElement(this._element);this._menu=e(t).find(b)[0]}return this._menu},u.prototype._getPlacement=function(){var t=e(this._element).parent(),n=this._config.placement;return t.hasClass(m)||this._config.placement===C.TOP?(n=C.TOP,e(this._menu).hasClass(h)&&(n=C.TOPEND)):e(this._menu).hasClass(h)&&(n=C.BOTTOMEND),n},u.prototype._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},u.prototype._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:{offset:this._config.offset},flip:{enabled:this._config.flip}}};return this._inNavbar&&(e.modifiers.applyStyle={enabled:!this._inNavbar}),e},u._jQueryInterface=function(t){return this.each(function(){var n=e(this).data(c),o="object"===(void 0===t?"undefined":r(t))?t:null;if(n||(n=new u(this,o),e(this).data(c,n)),"string"==typeof t){if(void 0===n[t])throw new Error('No method named "'+t+'"');n[t]()}})},u._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var n=e.makeArray(e(v)),r=0;r<n.length;r++){var o=u._getParentFromElement(n[r]),i=e(n[r]).data(c),a={relatedTarget:n[r]};if(i){var s=i._menu;if(e(o).hasClass(p)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&e.contains(o,t.target))){var l=e.Event(f.HIDE,a);e(o).trigger(l),l.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e("body").children().off("mouseover",null,e.noop),n[r].setAttribute("aria-expanded","false"),e(s).removeClass(p),e(o).removeClass(p).trigger(e.Event(f.HIDDEN,a)))}}}},u._getParentFromElement=function(t){var n=void 0,r=i.getSelectorFromElement(t);return r&&(n=e(r)[0]),n||t.parentNode},u._dataApiKeydownHandler=function(t){if(!(!l.test(t.which)||/button/i.test(t.target.tagName)&&32===t.which||/input|textarea/i.test(t.target.tagName)||(t.preventDefault(),t.stopPropagation(),this.disabled||e(this).hasClass(d)))){var n=u._getParentFromElement(this),r=e(n).hasClass(p);if((r||27===t.which&&32===t.which)&&(!r||27!==t.which&&32!==t.which)){var o=e(n).find(w).get();if(o.length){var i=o.indexOf(t.target);38===t.which&&i>0&&i--,40===t.which&&i<o.length-1&&i++,i<0&&(i=0),o[i].focus()}}else{if(27===t.which){var a=e(n).find(v)[0];e(a).trigger("focus")}e(this).trigger("click")}}},o(u,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}},{key:"Default",get:function(){return k}},{key:"DefaultType",get:function(){return T}}]),u}();e(document).on(f.KEYDOWN_DATA_API,v,_._dataApiKeydownHandler).on(f.KEYDOWN_DATA_API,b,_._dataApiKeydownHandler).on(f.CLICK_DATA_API+" "+f.KEYUP_DATA_API,_._clearMenus).on(f.CLICK_DATA_API,v,function(t){t.preventDefault(),t.stopPropagation(),_._jQueryInterface.call(e(this),"toggle")}).on(f.CLICK_DATA_API,y,function(e){e.stopPropagation()}),e.fn[a]=_._jQueryInterface,e.fn[a].Constructor=_,e.fn[a].noConflict=function(){return e.fn[a]=u,_._jQueryInterface}}(e),function(e){var t="bs.modal",a="."+t,c=e.fn.modal,s={backdrop:!0,keyboard:!0,focus:!0,show:!0},u={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},l={HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a,FOCUSIN:"focusin"+a,RESIZE:"resize"+a,CLICK_DISMISS:"click.dismiss"+a,KEYDOWN_DISMISS:"keydown.dismiss"+a,MOUSEUP_DISMISS:"mouseup.dismiss"+a,MOUSEDOWN_DISMISS:"mousedown.dismiss"+a,CLICK_DATA_API:"click.bs.modal.data-api"},f="modal-scrollbar-measure",d="modal-backdrop",p="modal-open",m="fade",h="show",g={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},v=function(){function c(t,r){n(this,c),this._config=this._getConfig(r),this._element=t,this._dialog=e(t).find(g.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}return c.prototype.toggle=function(e){return this._isShown?this.hide():this.show(e)},c.prototype.show=function(t){var n=this;if(!this._isTransitioning){i.supportsTransitionEnd()&&e(this._element).hasClass(m)&&(this._isTransitioning=!0);var r=e.Event(l.SHOW,{relatedTarget:t});e(this._element).trigger(r),this._isShown||r.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),e(document.body).addClass(p),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(l.CLICK_DISMISS,g.DATA_DISMISS,function(e){return n.hide(e)}),e(this._dialog).on(l.MOUSEDOWN_DISMISS,function(){e(n._element).one(l.MOUSEUP_DISMISS,function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(t)}))}},c.prototype.hide=function(t){var n=this;if(t&&t.preventDefault(),!this._isTransitioning&&this._isShown){var r=i.supportsTransitionEnd()&&e(this._element).hasClass(m);r&&(this._isTransitioning=!0);var o=e.Event(l.HIDE);e(this._element).trigger(o),this._isShown&&!o.isDefaultPrevented()&&(this._isShown=!1,this._setEscapeEvent(),this._setResizeEvent(),e(document).off(l.FOCUSIN),e(this._element).removeClass(h),e(this._element).off(l.CLICK_DISMISS),e(this._dialog).off(l.MOUSEDOWN_DISMISS),r?e(this._element).one(i.TRANSITION_END,function(e){return n._hideModal(e)}).emulateTransitionEnd(300):this._hideModal())}},c.prototype.dispose=function(){e.removeData(this._element,t),e(window,document,this._element,this._backdrop).off(a),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},c.prototype.handleUpdate=function(){this._adjustDialog()},c.prototype._getConfig=function(t){return t=e.extend({},s,t),i.typeCheckConfig("modal",t,u),t},c.prototype._showElement=function(t){var n=this,r=i.supportsTransitionEnd()&&e(this._element).hasClass(m);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,r&&i.reflow(this._element),e(this._element).addClass(h),this._config.focus&&this._enforceFocus();var o=e.Event(l.SHOWN,{relatedTarget:t}),a=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,e(n._element).trigger(o)};r?e(this._dialog).one(i.TRANSITION_END,a).emulateTransitionEnd(300):a()},c.prototype._enforceFocus=function(){var t=this;e(document).off(l.FOCUSIN).on(l.FOCUSIN,function(n){document===n.target||t._element===n.target||e(t._element).has(n.target).length||t._element.focus()})},c.prototype._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(l.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||e(this._element).off(l.KEYDOWN_DISMISS)},c.prototype._setResizeEvent=function(){var t=this;this._isShown?e(window).on(l.RESIZE,function(e){return t.handleUpdate(e)}):e(window).off(l.RESIZE)},c.prototype._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){e(document.body).removeClass(p),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(l.HIDDEN)})},c.prototype._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},c.prototype._showBackdrop=function(t){var n=this,r=e(this._element).hasClass(m)?m:"";if(this._isShown&&this._config.backdrop){var o=i.supportsTransitionEnd()&&r;if(this._backdrop=document.createElement("div"),this._backdrop.className=d,r&&e(this._backdrop).addClass(r),e(this._backdrop).appendTo(document.body),e(this._element).on(l.CLICK_DISMISS,function(e){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())}),o&&i.reflow(this._backdrop),e(this._backdrop).addClass(h),!t)return;if(!o)return void t();e(this._backdrop).one(i.TRANSITION_END,t).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(h);var a=function(){n._removeBackdrop(),t&&t()};i.supportsTransitionEnd()&&e(this._element).hasClass(m)?e(this._backdrop).one(i.TRANSITION_END,a).emulateTransitionEnd(150):a()}else t&&t()},c.prototype._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},c.prototype._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},c.prototype._checkScrollbar=function(){this._isBodyOverflowing=document.body.clientWidth<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},c.prototype._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){e(g.FIXED_CONTENT).each(function(n,r){var o=e(r)[0].style.paddingRight,i=e(r).css("padding-right");e(r).data("padding-right",o).css("padding-right",parseFloat(i)+t._scrollbarWidth+"px")}),e(g.NAVBAR_TOGGLER).each(function(n,r){var o=e(r)[0].style.marginRight,i=e(r).css("margin-right");e(r).data("margin-right",o).css("margin-right",parseFloat(i)+t._scrollbarWidth+"px")});var n=document.body.style.paddingRight,r=e("body").css("padding-right");e("body").data("padding-right",n).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}},c.prototype._resetScrollbar=function(){e(g.FIXED_CONTENT).each(function(t,n){var r=e(n).data("padding-right");void 0!==r&&e(n).css("padding-right",r).removeData("padding-right")}),e(g.NAVBAR_TOGGLER).each(function(t,n){var r=e(n).data("margin-right");void 0!==r&&e(n).css("margin-right",r).removeData("margin-right")});var t=e("body").data("padding-right");void 0!==t&&e("body").css("padding-right",t).removeData("padding-right")},c.prototype._getScrollbarWidth=function(){var e=document.createElement("div");e.className=f,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},c._jQueryInterface=function(n,o){return this.each(function(){var i=e(this).data(t),a=e.extend({},c.Default,e(this).data(),"object"===(void 0===n?"undefined":r(n))&&n);if(i||(i=new c(this,a),e(this).data(t,i)),"string"==typeof n){if(void 0===i[n])throw new Error('No method named "'+n+'"');i[n](o)}else a.show&&i.show(o)})},o(c,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}},{key:"Default",get:function(){return s}}]),c}();e(document).on(l.CLICK_DATA_API,g.DATA_TOGGLE,function(n){var r=this,o=void 0,a=i.getSelectorFromElement(this);a&&(o=e(a)[0]);var c=e(o).data(t)?"toggle":e.extend({},e(o).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||n.preventDefault();var s=e(o).one(l.SHOW,function(t){t.isDefaultPrevented()||s.one(l.HIDDEN,function(){e(r).is(":visible")&&r.focus()})});v._jQueryInterface.call(e(o),c,this)}),e.fn.modal=v._jQueryInterface,e.fn.modal.Constructor=v,e.fn.modal.noConflict=function(){return e.fn.modal=c,v._jQueryInterface}}(e),function(e){var t="scrollspy",a="bs.scrollspy",c="."+a,s=e.fn[t],u={offset:10,method:"auto",target:""},l={offset:"number",method:"string",target:"(string|element)"},f={ACTIVATE:"activate"+c,SCROLL:"scroll"+c,LOAD_DATA_API:"load"+c+".data-api"},d="dropdown-item",p="active",m={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},h="offset",g="position",v=function(){function s(t,r){var o=this;n(this,s),this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(r),this._selector=this._config.target+" "+m.NAV_LINKS+","+this._config.target+" "+m.LIST_ITEMS+","+this._config.target+" "+m.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(f.SCROLL,function(e){return o._process(e)}),this.refresh(),this._process()}return s.prototype.refresh=function(){var t=this,n=this._scrollElement!==this._scrollElement.window?g:h,r="auto"===this._config.method?n:this._config.method,o=r===g?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();e.makeArray(e(this._selector)).map(function(t){var n=void 0,a=i.getSelectorFromElement(t);if(a&&(n=e(a)[0]),n){var c=n.getBoundingClientRect();if(c.width||c.height)return[e(n)[r]().top+o,a]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},s.prototype.dispose=function(){e.removeData(this._element,a),e(this._scrollElement).off(c),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},s.prototype._getConfig=function(n){if("string"!=typeof(n=e.extend({},u,n)).target){var r=e(n.target).attr("id");r||(r=i.getUID(t),e(n.target).attr("id",r)),n.target="#"+r}return i.typeCheckConfig(t,n,l),n},s.prototype._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},s.prototype._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},s.prototype._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},s.prototype._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var o=this._offsets.length;o--;){this._activeTarget!==this._targets[o]&&e>=this._offsets[o]&&(void 0===this._offsets[o+1]||e<this._offsets[o+1])&&this._activate(this._targets[o])}}},s.prototype._activate=function(t){this._activeTarget=t,this._clear();var n=this._selector.split(",");n=n.map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'});var r=e(n.join(","));r.hasClass(d)?(r.closest(m.DROPDOWN).find(m.DROPDOWN_TOGGLE).addClass(p),r.addClass(p)):(r.addClass(p),r.parents(m.NAV_LIST_GROUP).prev(m.NAV_LINKS+", "+m.LIST_ITEMS).addClass(p)),e(this._scrollElement).trigger(f.ACTIVATE,{relatedTarget:t})},s.prototype._clear=function(){e(this._selector).filter(m.ACTIVE).removeClass(p)},s._jQueryInterface=function(t){return this.each(function(){var n=e(this).data(a),o="object"===(void 0===t?"undefined":r(t))&&t;if(n||(n=new s(this,o),e(this).data(a,n)),"string"==typeof t){if(void 0===n[t])throw new Error('No method named "'+t+'"');n[t]()}})},o(s,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}},{key:"Default",get:function(){return u}}]),s}();e(window).on(f.LOAD_DATA_API,function(){for(var t=e.makeArray(e(m.DATA_SPY)),n=t.length;n--;){var r=e(t[n]);v._jQueryInterface.call(r,r.data())}}),e.fn[t]=v._jQueryInterface,e.fn[t].Constructor=v,e.fn[t].noConflict=function(){return e.fn[t]=s,v._jQueryInterface}}(e),function(e){var t=".bs.tab",r=e.fn.tab,a={HIDE:"hide"+t,HIDDEN:"hidden"+t,SHOW:"show"+t,SHOWN:"shown"+t,CLICK_DATA_API:"click.bs.tab.data-api"},c="dropdown-menu",s="active",u="disabled",l="fade",f="show",d=".dropdown",p=".nav, .list-group",m=".active",h='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',g=".dropdown-toggle",v="> .dropdown-menu .active",y=function(){function t(e){n(this,t),this._element=e}return t.prototype.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass(s)||e(this._element).hasClass(u))){var n=void 0,r=void 0,o=e(this._element).closest(p)[0],c=i.getSelectorFromElement(this._element);o&&(r=(r=e.makeArray(e(o).find(m)))[r.length-1]);var l=e.Event(a.HIDE,{relatedTarget:this._element}),f=e.Event(a.SHOW,{relatedTarget:r});if(r&&e(r).trigger(l),e(this._element).trigger(f),!f.isDefaultPrevented()&&!l.isDefaultPrevented()){c&&(n=e(c)[0]),this._activate(this._element,o);var d=function(){var n=e.Event(a.HIDDEN,{relatedTarget:t._element}),o=e.Event(a.SHOWN,{relatedTarget:r});e(r).trigger(n),e(t._element).trigger(o)};n?this._activate(n,n.parentNode,d):d()}}},t.prototype.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},t.prototype._activate=function(t,n,r){var o=this,a=e(n).find(m)[0],c=r&&i.supportsTransitionEnd()&&a&&e(a).hasClass(l),s=function(){return o._transitionComplete(t,a,c,r)};a&&c?e(a).one(i.TRANSITION_END,s).emulateTransitionEnd(150):s(),a&&e(a).removeClass(f)},t.prototype._transitionComplete=function(t,n,r,o){if(n){e(n).removeClass(s);var a=e(n.parentNode).find(v)[0];a&&e(a).removeClass(s),n.setAttribute("aria-expanded",!1)}if(e(t).addClass(s),t.setAttribute("aria-expanded",!0),r?(i.reflow(t),e(t).addClass(f)):e(t).removeClass(l),t.parentNode&&e(t.parentNode).hasClass(c)){var u=e(t).closest(d)[0];u&&e(u).find(g).addClass(s),t.setAttribute("aria-expanded",!0)}o&&o()},t._jQueryInterface=function(n){return this.each(function(){var r=e(this),o=r.data("bs.tab");if(o||(o=new t(this),r.data("bs.tab",o)),"string"==typeof n){if(void 0===o[n])throw new Error('No method named "'+n+'"');o[n]()}})},o(t,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}}]),t}();e(document).on(a.CLICK_DATA_API,h,function(t){t.preventDefault(),y._jQueryInterface.call(e(this),"show")}),e.fn.tab=y._jQueryInterface,e.fn.tab.Constructor=y,e.fn.tab.noConflict=function(){return e.fn.tab=r,y._jQueryInterface}}(e),function(e){if(void 0===t)throw new Error("Bootstrap tooltips require Popper.js (https://popper.js.org)");var a="tooltip",c="bs.tooltip",s="."+c,u=e.fn.tooltip,l=new RegExp("(^|\\s)bs-tooltip\\S+","g"),f={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)"},d={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},p={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip"},m="show",h="out",g={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,INSERTED:"inserted"+s,CLICK:"click"+s,FOCUSIN:"focusin"+s,FOCUSOUT:"focusout"+s,MOUSEENTER:"mouseenter"+s,MOUSELEAVE:"mouseleave"+s},v="fade",y="show",b=".tooltip-inner",x=".arrow",w="hover",C="focus",k="click",T="manual",_=function(){function u(e,t){n(this,u),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}return u.prototype.enable=function(){this._isEnabled=!0},u.prototype.disable=function(){this._isEnabled=!1},u.prototype.toggleEnabled=function(){this._isEnabled=!this._isEnabled},u.prototype.toggle=function(t){if(t){var n=this.constructor.DATA_KEY,r=e(t.currentTarget).data(n);r||(r=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,r)),r._activeTrigger.click=!r._activeTrigger.click,r._isWithActiveTrigger()?r._enter(null,r):r._leave(null,r)}else{if(e(this.getTipElement()).hasClass(y))return void this._leave(null,this);this._enter(null,this)}},u.prototype.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},u.prototype.show=function(){var n=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var r=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(r);var o=e.contains(this.element.ownerDocument.documentElement,this.element);if(r.isDefaultPrevented()||!o)return;var a=this.getTipElement(),c=i.getUID(this.constructor.NAME);a.setAttribute("id",c),this.element.setAttribute("aria-describedby",c),this.setContent(),this.config.animation&&e(a).addClass(v);var s="function"==typeof this.config.placement?this.config.placement.call(this,a,this.element):this.config.placement,l=this._getAttachment(s);this.addAttachmentClass(l);var f=!1===this.config.container?document.body:e(this.config.container);e(a).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(a).appendTo(f),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new t(this.element,a,{placement:l,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:x}},onCreate:function(e){e.originalPlacement!==e.placement&&n._handlePopperPlacementChange(e)},onUpdate:function(e){n._handlePopperPlacementChange(e)}}),e(a).addClass(y),"ontouchstart"in document.documentElement&&e("body").children().on("mouseover",null,e.noop);var d=function(){n.config.animation&&n._fixTransition();var t=n._hoverState;n._hoverState=null,e(n.element).trigger(n.constructor.Event.SHOWN),t===h&&n._leave(null,n)};i.supportsTransitionEnd()&&e(this.tip).hasClass(v)?e(this.tip).one(i.TRANSITION_END,d).emulateTransitionEnd(u._TRANSITION_DURATION):d()}},u.prototype.hide=function(t){var n=this,r=this.getTipElement(),o=e.Event(this.constructor.Event.HIDE),a=function(){n._hoverState!==m&&r.parentNode&&r.parentNode.removeChild(r),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),e(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()};e(this.element).trigger(o),o.isDefaultPrevented()||(e(r).removeClass(y),"ontouchstart"in document.documentElement&&e("body").children().off("mouseover",null,e.noop),this._activeTrigger[k]=!1,this._activeTrigger[C]=!1,this._activeTrigger[w]=!1,i.supportsTransitionEnd()&&e(this.tip).hasClass(v)?e(r).one(i.TRANSITION_END,a).emulateTransitionEnd(150):a(),this._hoverState="")},u.prototype.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},u.prototype.isWithContent=function(){return Boolean(this.getTitle())},u.prototype.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},u.prototype.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0]},u.prototype.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(b),this.getTitle()),t.removeClass(v+" "+y)},u.prototype.setElementContent=function(t,n){var o=this.config.html;"object"===(void 0===n?"undefined":r(n))&&(n.nodeType||n.jquery)?o?e(n).parent().is(t)||t.empty().append(n):t.text(e(n).text()):t[o?"html":"text"](n)},u.prototype.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},u.prototype._getAttachment=function(e){return d[e.toUpperCase()]},u.prototype._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach(function(n){if("click"===n)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,function(e){return t.toggle(e)});else if(n!==T){var r=n===w?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,o=n===w?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(r,t.config.selector,function(e){return t._enter(e)}).on(o,t.config.selector,function(e){return t._leave(e)})}e(t.element).closest(".modal").on("hide.bs.modal",function(){return t.hide()})}),this.config.selector?this.config=e.extend({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},u.prototype._fixTitle=function(){var e=r(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},u.prototype._enter=function(t,n){var r=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(r))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(r,n)),t&&(n._activeTrigger["focusin"===t.type?C:w]=!0),e(n.getTipElement()).hasClass(y)||n._hoverState===m?n._hoverState=m:(clearTimeout(n._timeout),n._hoverState=m,n.config.delay&&n.config.delay.show?n._timeout=setTimeout(function(){n._hoverState===m&&n.show()},n.config.delay.show):n.show())},u.prototype._leave=function(t,n){var r=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(r))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(r,n)),t&&(n._activeTrigger["focusout"===t.type?C:w]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=h,n.config.delay&&n.config.delay.hide?n._timeout=setTimeout(function(){n._hoverState===h&&n.hide()},n.config.delay.hide):n.hide())},u.prototype._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},u.prototype._getConfig=function(t){return(t=e.extend({},this.constructor.Default,e(this.element).data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t.title&&"number"==typeof t.title&&(t.title=t.title.toString()),t.content&&"number"==typeof t.content&&(t.content=t.content.toString()),i.typeCheckConfig(a,t,this.constructor.DefaultType),t},u.prototype._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},u.prototype._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(l);null!==n&&n.length>0&&t.removeClass(n.join(""))},u.prototype._handlePopperPlacementChange=function(e){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},u.prototype._fixTransition=function(){var t=this.getTipElement(),n=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass(v),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},u._jQueryInterface=function(t){return this.each(function(){var n=e(this).data(c),o="object"===(void 0===t?"undefined":r(t))&&t;if((n||!/dispose|hide/.test(t))&&(n||(n=new u(this,o),e(this).data(c,n)),"string"==typeof t)){if(void 0===n[t])throw new Error('No method named "'+t+'"');n[t]()}})},o(u,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}},{key:"Default",get:function(){return p}},{key:"NAME",get:function(){return a}},{key:"DATA_KEY",get:function(){return c}},{key:"Event",get:function(){return g}},{key:"EVENT_KEY",get:function(){return s}},{key:"DefaultType",get:function(){return f}}]),u}();return e.fn.tooltip=_._jQueryInterface,e.fn.tooltip.Constructor=_,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=u,_._jQueryInterface},_}(e));!function(e){var t="popover",i="bs.popover",c="."+i,s=e.fn.popover,u=new RegExp("(^|\\s)bs-popover\\S+","g"),l=e.extend({},a.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),f=e.extend({},a.DefaultType,{content:"(string|element|function)"}),d="fade",p="show",m=".popover-header",h=".popover-body",g={HIDE:"hide"+c,HIDDEN:"hidden"+c,SHOW:"show"+c,SHOWN:"shown"+c,INSERTED:"inserted"+c,CLICK:"click"+c,FOCUSIN:"focusin"+c,FOCUSOUT:"focusout"+c,MOUSEENTER:"mouseenter"+c,MOUSELEAVE:"mouseleave"+c},v=function(a){function s(){return n(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,a.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,a),s.prototype.isWithContent=function(){return this.getTitle()||this._getContent()},s.prototype.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},s.prototype.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0]},s.prototype.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(m),this.getTitle()),this.setElementContent(t.find(h),this._getContent()),t.removeClass(d+" "+p)},s.prototype._getContent=function(){return this.element.getAttribute("data-content")||("function"==typeof this.config.content?this.config.content.call(this.element):this.config.content)},s.prototype._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(u);null!==n&&n.length>0&&t.removeClass(n.join(""))},s._jQueryInterface=function(t){return this.each(function(){var n=e(this).data(i),o="object"===(void 0===t?"undefined":r(t))?t:null;if((n||!/destroy|hide/.test(t))&&(n||(n=new s(this,o),e(this).data(i,n)),"string"==typeof t)){if(void 0===n[t])throw new Error('No method named "'+t+'"');n[t]()}})},o(s,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}},{key:"Default",get:function(){return l}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return i}},{key:"Event",get:function(){return g}},{key:"EVENT_KEY",get:function(){return c}},{key:"DefaultType",get:function(){return f}}]),s}(a);e.fn.popover=v._jQueryInterface,e.fn.popover.Constructor=v,e.fn.popover.noConflict=function(){return e.fn.popover=s,v._jQueryInterface}}(e)}()}).call(t,n(26),n(27))},function(e,t,n){var r;!function(t,n){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,o){"use strict";function i(e,t){var n=(t=t||Q).createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function a(e){var t=!!e&&"length"in e&&e.length,n=le.type(e);return"function"!==n&&!le.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function c(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function s(e,t,n){return le.isFunction(t)?le.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?le.grep(e,function(e){return e===t!==n}):"string"!=typeof t?le.grep(e,function(e){return re.call(t,e)>-1!==n}):xe.test(t)?le.filter(t,e,n):(t=le.filter(t,e),le.grep(e,function(e){return re.call(t,e)>-1!==n&&1===e.nodeType}))}function u(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){return e}function f(e){throw e}function d(e,t,n,r){var o;try{e&&le.isFunction(o=e.promise)?o.call(e).done(t).fail(n):e&&le.isFunction(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function p(){Q.removeEventListener("DOMContentLoaded",p),n.removeEventListener("load",p),le.ready()}function m(){this.expando=le.expando+m.uid++}function h(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Oe,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Pe.test(e)?JSON.parse(e):e)}(n)}catch(e){}Re.set(e,t,n)}else n=void 0;return n}function g(e,t,n,r){var o,i=1,a=20,c=r?function(){return r.cur()}:function(){return le.css(e,t,"")},s=c(),u=n&&n[3]||(le.cssNumber[t]?"":"px"),l=(le.cssNumber[t]||"px"!==u&&+s)&&Ie.exec(le.css(e,t));if(l&&l[3]!==u){u=u||l[3],n=n||[],l=+s||1;do{l/=i=i||".5",le.style(e,t,l+u)}while(i!==(i=c()/s)&&1!==i&&--a)}return n&&(l=+l||+s||0,o=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=l,r.end=o)),o}function v(e){var t,n=e.ownerDocument,r=e.nodeName,o=Ue[r];return o||(t=n.body.appendChild(n.createElement(r)),o=le.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),Ue[r]=o,o)}function y(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(o[i]=De.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&Le(r)&&(o[i]=v(r))):"none"!==n&&(o[i]="none",De.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}function b(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&c(e,t)?le.merge([e],n):n}function x(e,t){for(var n=0,r=e.length;n<r;n++)De.set(e[n],"globalEval",!t||De.get(t[n],"globalEval"))}function w(e,t,n,r,o){for(var i,a,c,s,u,l,f=t.createDocumentFragment(),d=[],p=0,m=e.length;p<m;p++)if((i=e[p])||0===i)if("object"===le.type(i))le.merge(d,i.nodeType?[i]:i);else if($e.test(i)){for(a=a||f.appendChild(t.createElement("div")),c=(ze.exec(i)||["",""])[1].toLowerCase(),s=We[c]||We._default,a.innerHTML=s[1]+le.htmlPrefilter(i)+s[2],l=s[0];l--;)a=a.lastChild;le.merge(d,a.childNodes),(a=f.firstChild).textContent=""}else d.push(t.createTextNode(i));for(f.textContent="",p=0;i=d[p++];)if(r&&le.inArray(i,r)>-1)o&&o.push(i);else if(u=le.contains(i.ownerDocument,i),a=b(f.appendChild(i),"script"),u&&x(a),n)for(l=0;i=a[l++];)je.test(i.type||"")&&n.push(i);return f}function C(){return!0}function k(){return!1}function T(){try{return Q.activeElement}catch(e){}}function _(e,t,n,r,o,i){var a,c;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(c in t)_(e,c,n,r,t[c],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=k;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return le().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=le.guid++)),e.each(function(){le.event.add(this,t,o,r,n)})}function S(e,t){return c(e,"table")&&c(11!==t.nodeType?t:t.firstChild,"tr")?le(">tbody",e)[0]||e:e}function E(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function A(e){var t=Qe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function N(e,t){var n,r,o,i,a,c,s,u;if(1===t.nodeType){if(De.hasData(e)&&(i=De.access(e),a=De.set(t,i),u=i.events)){delete a.handle,a.events={};for(o in u)for(n=0,r=u[o].length;n<r;n++)le.event.add(t,o,u[o][n])}Re.hasData(e)&&(c=Re.access(e),s=le.extend({},c),Re.set(t,s))}}function D(e,t){var n=t.nodeName.toLowerCase();"input"===n&&He.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function R(e,t,n,r){t=te.apply([],t);var o,a,c,s,u,l,f=0,d=e.length,p=d-1,m=t[0],h=le.isFunction(m);if(h||d>1&&"string"==typeof m&&!ue.checkClone&&Je.test(m))return e.each(function(o){var i=e.eq(o);h&&(t[0]=m.call(this,o,i.html())),R(i,t,n,r)});if(d&&(o=w(t,e[0].ownerDocument,!1,e,r),a=o.firstChild,1===o.childNodes.length&&(o=a),a||r)){for(s=(c=le.map(b(o,"script"),E)).length;f<d;f++)u=o,f!==p&&(u=le.clone(u,!0,!0),s&&le.merge(c,b(u,"script"))),n.call(e[f],u,f);if(s)for(l=c[c.length-1].ownerDocument,le.map(c,A),f=0;f<s;f++)u=c[f],je.test(u.type||"")&&!De.access(u,"globalEval")&&le.contains(l,u)&&(u.src?le._evalUrl&&le._evalUrl(u.src):i(u.textContent.replace(Ze,""),l))}return e}function P(e,t,n){for(var r,o=t?le.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||le.cleanData(b(r)),r.parentNode&&(n&&le.contains(r.ownerDocument,r)&&x(b(r,"script")),r.parentNode.removeChild(r));return e}function O(e,t,n){var r,o,i,a,c=e.style;return(n=n||nt(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||le.contains(e.ownerDocument,e)||(a=le.style(e,t)),!ue.pixelMarginRight()&&tt.test(a)&&et.test(t)&&(r=c.width,o=c.minWidth,i=c.maxWidth,c.minWidth=c.maxWidth=c.width=a,a=n.width,c.width=r,c.minWidth=o,c.maxWidth=i)),void 0!==a?a+"":a}function B(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function I(e){var t=le.cssProps[e];return t||(t=le.cssProps[e]=function(e){if(e in st)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ct.length;n--;)if((e=ct[n]+t)in st)return e}(e)||e),t}function M(e,t,n){var r=Ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function L(e,t,n,r,o){var i,a=0;for(i=n===(r?"border":"content")?4:"width"===t?1:0;i<4;i+=2)"margin"===n&&(a+=le.css(e,n+Me[i],!0,o)),r?("content"===n&&(a-=le.css(e,"padding"+Me[i],!0,o)),"margin"!==n&&(a-=le.css(e,"border"+Me[i]+"Width",!0,o))):(a+=le.css(e,"padding"+Me[i],!0,o),"padding"!==n&&(a+=le.css(e,"border"+Me[i]+"Width",!0,o)));return a}function F(e,t,n){var r,o=nt(e),i=O(e,t,o),a="border-box"===le.css(e,"boxSizing",!1,o);return tt.test(i)?i:(r=a&&(ue.boxSizingReliable()||i===e.style[t]),"auto"===i&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)]),(i=parseFloat(i)||0)+L(e,t,n||(a?"border":"content"),r,o)+"px")}function U(e,t,n,r,o){return new U.prototype.init(e,t,n,r,o)}function H(){lt&&(!1===Q.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(H):n.setTimeout(H,le.fx.interval),le.fx.tick())}function z(){return n.setTimeout(function(){ut=void 0}),ut=le.now()}function j(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=Me[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function W(e,t,n){for(var r,o=($.tweeners[t]||[]).concat($.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function $(e,t,n){var r,o,i=0,a=$.prefilters.length,c=le.Deferred().always(function(){delete s.elem}),s=function(){if(o)return!1;for(var t=ut||z(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),i=0,a=u.tweens.length;i<a;i++)u.tweens[i].run(r);return c.notifyWith(e,[u,r,n]),r<1&&a?n:(a||c.notifyWith(e,[u,1,0]),c.resolveWith(e,[u]),!1)},u=c.promise({elem:e,props:le.extend({},t),opts:le.extend(!0,{specialEasing:{},easing:le.easing._default},n),originalProperties:t,originalOptions:n,startTime:ut||z(),duration:n.duration,tweens:[],createTween:function(t,n){var r=le.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)u.tweens[n].run(1);return t?(c.notifyWith(e,[u,1,0]),c.resolveWith(e,[u,t])):c.rejectWith(e,[u,t]),this}}),l=u.props;for(!function(e,t){var n,r,o,i,a;for(n in e)if(r=le.camelCase(n),o=t[r],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=le.cssHooks[r])&&"expand"in a){i=a.expand(i),delete e[r];for(n in i)n in e||(e[n]=i[n],t[n]=o)}else t[r]=o}(l,u.opts.specialEasing);i<a;i++)if(r=$.prefilters[i].call(u,e,l,u.opts))return le.isFunction(r.stop)&&(le._queueHooks(u.elem,u.opts.queue).stop=le.proxy(r.stop,r)),r;return le.map(l,W,u),le.isFunction(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),le.fx.timer(le.extend(s,{elem:e,anim:u,queue:u.opts.queue})),u}function q(e){return(e.match(_e)||[]).join(" ")}function V(e){return e.getAttribute&&e.getAttribute("class")||""}function K(e,t,n,r){var o;if(Array.isArray(t))le.each(t,function(t,o){n||Ct.test(e)?r(e,o):K(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==le.type(t))r(e,t);else for(o in t)K(e+"["+o+"]",t[o],n,r)}function G(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(_e)||[];if(le.isFunction(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function X(e,t,n,r){function o(c){var s;return i[c]=!0,le.each(e[c]||[],function(e,c){var u=c(t,n,r);return"string"!=typeof u||a||i[u]?a?!(s=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),s}var i={},a=e===Ot;return o(t.dataTypes[0])||!i["*"]&&o("*")}function Y(e,t){var n,r,o=le.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&le.extend(!0,e,r),e}var J=[],Q=n.document,Z=Object.getPrototypeOf,ee=J.slice,te=J.concat,ne=J.push,re=J.indexOf,oe={},ie=oe.toString,ae=oe.hasOwnProperty,ce=ae.toString,se=ce.call(Object),ue={},le=function(e,t){return new le.fn.init(e,t)},fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,de=/^-ms-/,pe=/-([a-z])/g,me=function(e,t){return t.toUpperCase()};le.fn=le.prototype={jquery:"3.2.1",constructor:le,length:0,toArray:function(){return ee.call(this)},get:function(e){return null==e?ee.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=le.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return le.each(this,e)},map:function(e){return this.pushStack(le.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ee.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ne,sort:J.sort,splice:J.splice},le.extend=le.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},c=1,s=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[c]||{},c++),"object"==typeof a||le.isFunction(a)||(a={}),c===s&&(a=this,c--);c<s;c++)if(null!=(e=arguments[c]))for(t in e)n=a[t],a!==(r=e[t])&&(u&&r&&(le.isPlainObject(r)||(o=Array.isArray(r)))?(o?(o=!1,i=n&&Array.isArray(n)?n:[]):i=n&&le.isPlainObject(n)?n:{},a[t]=le.extend(u,i,r)):void 0!==r&&(a[t]=r));return a},le.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===le.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=le.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==ie.call(e))&&(!(t=Z(e))||"function"==typeof(n=ae.call(t,"constructor")&&t.constructor)&&ce.call(n)===se)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?oe[ie.call(e)]||"object":typeof e},globalEval:function(e){i(e)},camelCase:function(e){return e.replace(de,"ms-").replace(pe,me)},each:function(e,t){var n,r=0;if(a(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(fe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(a(Object(e))?le.merge(n,"string"==typeof e?[e]:e):ne.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:re.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,c=[];if(a(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&c.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&c.push(o);return te.apply([],c)},guid:1,proxy:function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),le.isFunction(e))return r=ee.call(arguments,2),o=function(){return e.apply(t||this,r.concat(ee.call(arguments)))},o.guid=e.guid=e.guid||le.guid++,o},now:Date.now,support:ue}),"function"==typeof Symbol&&(le.fn[Symbol.iterator]=J[Symbol.iterator]),le.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){oe["[object "+t+"]"]=t.toLowerCase()});var he=function(e){function t(e,t,n,r){var o,i,a,c,s,u,l,d=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!r&&((t?t.ownerDocument||t:U)!==R&&D(t),t=t||R,O)){if(11!==m&&(s=he.exec(e)))if(o=s[1]){if(9===m){if(!(a=t.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(d&&(a=d.getElementById(o))&&L(t,a)&&a.id===o)return n.push(a),n}else{if(s[2])return Y.apply(n,t.getElementsByTagName(e)),n;if((o=s[3])&&x.getElementsByClassName&&t.getElementsByClassName)return Y.apply(n,t.getElementsByClassName(o)),n}if(x.qsa&&!$[e+" "]&&(!B||!B.test(e))){if(1!==m)d=t,l=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(be,xe):t.setAttribute("id",c=F),i=(u=T(e)).length;i--;)u[i]="#"+c+" "+p(u[i]);l=u.join(","),d=ge.test(e)&&f(t.parentNode)||t}if(l)try{return Y.apply(n,d.querySelectorAll(l)),n}catch(e){}finally{c===F&&t.removeAttribute("id")}}}return S(e.replace(ie,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[F]=!0,e}function o(e){var t=R.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function c(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function s(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ce(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function f(e){return e&&void 0!==e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function m(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,c=z++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,s){var u,l,f,d=[H,c];if(s){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[F]||(t[F]={}),l=f[t.uniqueID]||(f[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=l[i])&&u[0]===H&&u[1]===c)return d[2]=u[2];if(l[i]=d,d[2]=e(t,n,s))return!0}return!1}}function h(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function g(e,t,n,r,o){for(var i,a=[],c=0,s=e.length,u=null!=t;c<s;c++)(i=e[c])&&(n&&!n(i,r,o)||(a.push(i),u&&t.push(c)));return a}function v(e,n,o,i,a,c){return i&&!i[F]&&(i=v(i)),a&&!a[F]&&(a=v(a,c)),r(function(r,c,s,u){var l,f,d,p=[],m=[],h=c.length,v=r||function(e,n,r){for(var o=0,i=n.length;o<i;o++)t(e,n[o],r);return r}(n||"*",s.nodeType?[s]:s,[]),y=!e||!r&&n?v:g(v,p,e,s,u),b=o?a||(r?e:h||i)?[]:c:y;if(o&&o(y,b,s,u),i)for(l=g(b,m),i(l,[],s,u),f=l.length;f--;)(d=l[f])&&(b[m[f]]=!(y[m[f]]=d));if(r){if(a||e){if(a){for(l=[],f=b.length;f--;)(d=b[f])&&l.push(y[f]=d);a(null,b=[],l,u)}for(f=b.length;f--;)(d=b[f])&&(l=a?Q(r,d):p[f])>-1&&(r[l]=!(c[l]=d))}}else b=g(b===c?b.splice(h,b.length):b),a?a(null,c,b,u):Y.apply(c,b)})}function y(e){for(var t,n,r,o=e.length,i=w.relative[e[0].type],a=i||w.relative[" "],c=i?1:0,s=m(function(e){return e===t},a,!0),u=m(function(e){return Q(t,e)>-1},a,!0),l=[function(e,n,r){var o=!i&&(r||n!==E)||((t=n).nodeType?s(e,n,r):u(e,n,r));return t=null,o}];c<o;c++)if(n=w.relative[e[c].type])l=[m(h(l),n)];else{if((n=w.filter[e[c].type].apply(null,e[c].matches))[F]){for(r=++c;r<o&&!w.relative[e[r].type];r++);return v(c>1&&h(l),c>1&&p(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(ie,"$1"),n,c<r&&y(e.slice(c,r)),r<o&&y(e=e.slice(r)),r<o&&p(e))}l.push(n)}return h(l)}var b,x,w,C,k,T,_,S,E,A,N,D,R,P,O,B,I,M,L,F="sizzle"+1*new Date,U=e.document,H=0,z=0,j=n(),W=n(),$=n(),q=function(e,t){return e===t&&(N=!0),0},V={}.hasOwnProperty,K=[],G=K.pop,X=K.push,Y=K.push,J=K.slice,Q=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",re=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",oe=new RegExp(ee+"+","g"),ie=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),ce=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),se=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ue=new RegExp(re),le=new RegExp("^"+te+"$"),fe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},de=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,he=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,ve=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),ye=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xe=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},we=function(){D()},Ce=m(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{Y.apply(K=J.call(U.childNodes),U.childNodes),K[U.childNodes.length].nodeType}catch(e){Y={apply:K.length?function(e,t){X.apply(e,J.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}x=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},D=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:U;return r!==R&&9===r.nodeType&&r.documentElement?(R=r,P=R.documentElement,O=!k(R),U!==R&&(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),x.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=o(function(e){return e.appendChild(R.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=me.test(R.getElementsByClassName),x.getById=o(function(e){return P.appendChild(e).id=F,!R.getElementsByName||!R.getElementsByName(F).length}),x.getById?(w.filter.ID=function(e){var t=e.replace(ve,ye);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&O){var n=t.getElementById(e);return n?[n]:[]}}):(w.filter.ID=function(e){var t=e.replace(ve,ye);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&O){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),w.find.TAG=x.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},w.find.CLASS=x.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&O)return t.getElementsByClassName(e)},I=[],B=[],(x.qsa=me.test(R.querySelectorAll))&&(o(function(e){P.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&B.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||B.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+F+"-]").length||B.push("~="),e.querySelectorAll(":checked").length||B.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||B.push(".#.+[+~]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=R.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&B.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&B.push(":enabled",":disabled"),P.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&B.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),B.push(",.*:")})),(x.matchesSelector=me.test(M=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&o(function(e){x.disconnectedMatch=M.call(e,"*"),M.call(e,"[s!='']:x"),I.push("!=",re)}),B=B.length&&new RegExp(B.join("|")),I=I.length&&new RegExp(I.join("|")),t=me.test(P.compareDocumentPosition),L=t||me.test(P.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return N=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===R||e.ownerDocument===U&&L(U,e)?-1:t===R||t.ownerDocument===U&&L(U,t)?1:A?Q(A,e)-Q(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return N=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,c=[e],s=[t];if(!o||!i)return e===R?-1:t===R?1:o?-1:i?1:A?Q(A,e)-Q(A,t):0;if(o===i)return a(e,t);for(n=e;n=n.parentNode;)c.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;c[r]===s[r];)r++;return r?a(c[r],s[r]):c[r]===U?-1:s[r]===U?1:0},R):R},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==R&&D(e),n=n.replace(se,"='$1']"),x.matchesSelector&&O&&!$[n+" "]&&(!I||!I.test(n))&&(!B||!B.test(n)))try{var r=M.call(e,n);if(r||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,R,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==R&&D(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==R&&D(e);var n=w.attrHandle[t.toLowerCase()],r=n&&V.call(w.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:x.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(be,xe)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(N=!x.detectDuplicates,A=!x.sortStable&&e.slice(0),e.sort(q),N){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return A=null,e},C=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},(w=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,ye),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,ye),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,ye).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=j[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&j(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var i=t.attr(o,e);return null==i?"!="===n:!n||(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i.replace(oe," ")+" ").indexOf(r)>-1:"|="===n&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),c="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,s){var u,l,f,d,p,m,h=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=c&&t.nodeName.toLowerCase(),y=!s&&!c,b=!1;if(g){if(i){for(;h;){for(d=t;d=d[h];)if(c?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;m=h="only"===e&&!m&&"nextSibling"}return!0}if(m=[a?g.firstChild:g.lastChild],a&&y){for(b=(p=(u=(l=(f=(d=g)[F]||(d[F]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===H&&u[1])&&u[2],d=p&&g.childNodes[p];d=++p&&d&&d[h]||(b=p=0)||m.pop();)if(1===d.nodeType&&++b&&d===t){l[e]=[H,p,b];break}}else if(y&&(b=p=(u=(l=(f=(d=t)[F]||(d[F]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===H&&u[1]),!1===b)for(;(d=++p&&d&&d[h]||(b=p=0)||m.pop())&&((c?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((l=(f=d[F]||(d[F]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]=[H,b]),d!==t)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,n){var o,i=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[F]?i(n):i.length>1?(o=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,o=i(e,n),a=o.length;a--;)e[r=Q(e,o[a])]=!(t[r]=o[a])}):function(e){return i(e,0,o)}):i}},pseudos:{not:r(function(e){var t=[],n=[],o=_(e.replace(ie,"$1"));return o[F]?r(function(e,t,n,r){for(var i,a=o(e,null,r,[]),c=e.length;c--;)(i=a[c])&&(e[c]=!(t[c]=i))}):function(e,r,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(ve,ye),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return le.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ve,ye).toLowerCase(),function(t){var n;do{if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return de.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=c(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=s(b);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,T=t.tokenize=function(e,n){var r,o,i,a,c,s,u,l=W[e+" "];if(l)return n?0:l.slice(0);for(c=e,s=[],u=w.preFilter;c;){r&&!(o=ae.exec(c))||(o&&(c=c.slice(o[0].length)||c),s.push(i=[])),r=!1,(o=ce.exec(c))&&(r=o.shift(),i.push({value:r,type:o[0].replace(ie," ")}),c=c.slice(r.length));for(a in w.filter)!(o=fe[a].exec(c))||u[a]&&!(o=u[a](o))||(r=o.shift(),i.push({value:r,type:a,matches:o}),c=c.slice(r.length));if(!r)break}return n?c.length:c?t.error(e):W(e,s).slice(0)},_=t.compile=function(e,n){var o,i=[],a=[],c=$[e+" "];if(!c){for(n||(n=T(e)),o=n.length;o--;)(c=y(n[o]))[F]?i.push(c):a.push(c);(c=$(e,function(e,n){var o=n.length>0,i=e.length>0,a=function(r,a,c,s,u){var l,f,d,p=0,m="0",h=r&&[],v=[],y=E,b=r||i&&w.find.TAG("*",u),x=H+=null==y?1:Math.random()||.1,C=b.length;for(u&&(E=a===R||a||u);m!==C&&null!=(l=b[m]);m++){if(i&&l){for(f=0,a||l.ownerDocument===R||(D(l),c=!O);d=e[f++];)if(d(l,a||R,c)){s.push(l);break}u&&(H=x)}o&&((l=!d&&l)&&p--,r&&h.push(l))}if(p+=m,o&&m!==p){for(f=0;d=n[f++];)d(h,v,a,c);if(r){if(p>0)for(;m--;)h[m]||v[m]||(v[m]=G.call(s));v=g(v)}Y.apply(s,v),u&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(s)}return u&&(H=x,E=y),h};return o?r(a):a}(a,i))).selector=e}return c},S=t.select=function(e,t,n,r){var o,i,a,c,s,u="function"==typeof e&&e,l=!r&&T(e=u.selector||e);if(n=n||[],1===l.length){if((i=l[0]=l[0].slice(0)).length>2&&"ID"===(a=i[0]).type&&9===t.nodeType&&O&&w.relative[i[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(ve,ye),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=fe.needsContext.test(e)?0:i.length;o--&&(a=i[o],!w.relative[c=a.type]);)if((s=w.find[c])&&(r=s(a.matches[0].replace(ve,ye),ge.test(i[0].type)&&f(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&p(i)))return Y.apply(n,r),n;break}}return(u||_(e,l))(r,t,!O,n,!t||ge.test(e)&&f(t.parentNode)||t),n},x.sortStable=F.split("").sort(q).join("")===F,x.detectDuplicates=!!N,D(),x.sortDetached=o(function(e){return 1&e.compareDocumentPosition(R.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||i(Z,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(n);le.find=he,le.expr=he.selectors,le.expr[":"]=le.expr.pseudos,le.uniqueSort=le.unique=he.uniqueSort,le.text=he.getText,le.isXMLDoc=he.isXML,le.contains=he.contains,le.escapeSelector=he.escape;var ge=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&le(e).is(n))break;r.push(e)}return r},ve=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},ye=le.expr.match.needsContext,be=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,xe=/^.[^:#\[\.,]*$/;le.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?le.find.matchesSelector(r,e)?[r]:[]:le.find.matches(e,le.grep(t,function(e){return 1===e.nodeType}))},le.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(le(e).filter(function(){for(t=0;t<r;t++)if(le.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)le.find(e,o[t],n);return r>1?le.uniqueSort(n):n},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&ye.test(e)?le(e):e||[],!1).length}});var we,Ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(le.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||we,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ce.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof le?t[0]:t,le.merge(this,le.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:Q,!0)),be.test(r[1])&&le.isPlainObject(t))for(r in t)le.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=Q.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):le.isFunction(e)?void 0!==n.ready?n.ready(e):e(le):le.makeArray(e,this)}).prototype=le.fn,we=le(Q);var ke=/^(?:parents|prev(?:Until|All))/,Te={children:!0,contents:!0,next:!0,prev:!0};le.fn.extend({has:function(e){var t=le(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(le.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&le(e);if(!ye.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&le.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?le.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?re.call(le(e),this[0]):re.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(le.uniqueSort(le.merge(this.get(),le(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),le.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ge(e,"parentNode")},parentsUntil:function(e,t,n){return ge(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return ge(e,"nextSibling")},prevAll:function(e){return ge(e,"previousSibling")},nextUntil:function(e,t,n){return ge(e,"nextSibling",n)},prevUntil:function(e,t,n){return ge(e,"previousSibling",n)},siblings:function(e){return ve((e.parentNode||{}).firstChild,e)},children:function(e){return ve(e.firstChild)},contents:function(e){return c(e,"iframe")?e.contentDocument:(c(e,"template")&&(e=e.content||e),le.merge([],e.childNodes))}},function(e,t){le.fn[e]=function(n,r){var o=le.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=le.filter(r,o)),this.length>1&&(Te[e]||le.uniqueSort(o),ke.test(e)&&o.reverse()),this.pushStack(o)}});var _e=/[^\x20\t\r\n\f]+/g;le.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return le.each(e.match(_e)||[],function(e,n){t[n]=!0}),t}(e):le.extend({},e);var t,n,r,o,i=[],a=[],c=-1,s=function(){for(o=o||e.once,r=t=!0;a.length;c=-1)for(n=a.shift();++c<i.length;)!1===i[c].apply(n[0],n[1])&&e.stopOnFalse&&(c=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},u={add:function(){return i&&(n&&!t&&(c=i.length-1,a.push(n)),function t(n){le.each(n,function(n,r){le.isFunction(r)?e.unique&&u.has(r)||i.push(r):r&&r.length&&"string"!==le.type(r)&&t(r)})}(arguments),n&&!t&&s()),this},remove:function(){return le.each(arguments,function(e,t){for(var n;(n=le.inArray(t,i,n))>-1;)i.splice(n,1),n<=c&&c--}),this},has:function(e){return e?le.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||s()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},le.extend({Deferred:function(e){var t=[["notify","progress",le.Callbacks("memory"),le.Callbacks("memory"),2],["resolve","done",le.Callbacks("once memory"),le.Callbacks("once memory"),0,"resolved"],["reject","fail",le.Callbacks("once memory"),le.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return le.Deferred(function(n){le.each(t,function(t,r){var o=le.isFunction(e[r[4]])&&e[r[4]];i[r[1]](function(){var e=o&&o.apply(this,arguments);e&&le.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(e,r,o){function i(e,t,r,o){return function(){var c=this,s=arguments,u=function(){var n,u;if(!(e<a)){if((n=r.apply(c,s))===t.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,le.isFunction(u)?o?u.call(n,i(a,t,l,o),i(a,t,f,o)):(a++,u.call(n,i(a,t,l,o),i(a,t,f,o),i(a,t,l,t.notifyWith))):(r!==l&&(c=void 0,s=[n]),(o||t.resolveWith)(c,s))}},d=o?u:function(){try{u()}catch(n){le.Deferred.exceptionHook&&le.Deferred.exceptionHook(n,d.stackTrace),e+1>=a&&(r!==f&&(c=void 0,s=[n]),t.rejectWith(c,s))}};e?d():(le.Deferred.getStackHook&&(d.stackTrace=le.Deferred.getStackHook()),n.setTimeout(d))}}var a=0;return le.Deferred(function(n){t[0][3].add(i(0,n,le.isFunction(o)?o:l,n.notifyWith)),t[1][3].add(i(0,n,le.isFunction(e)?e:l)),t[2][3].add(i(0,n,le.isFunction(r)?r:f))}).promise()},promise:function(e){return null!=e?le.extend(e,o):o}},i={};return le.each(t,function(e,n){var a=n[2],c=n[5];o[n[1]]=a.add,c&&a.add(function(){r=c},t[3-e][2].disable,t[0][2].lock),a.add(n[3].fire),i[n[0]]=function(){return i[n[0]+"With"](this===i?void 0:this,arguments),this},i[n[0]+"With"]=a.fireWith}),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=ee.call(arguments),i=le.Deferred(),a=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?ee.call(arguments):n,--t||i.resolveWith(r,o)}};if(t<=1&&(d(e,i.done(a(n)).resolve,i.reject,!t),"pending"===i.state()||le.isFunction(o[n]&&o[n].then)))return i.then();for(;n--;)d(o[n],a(n),i.reject);return i.promise()}});var Se=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;le.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&Se.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},le.readyException=function(e){n.setTimeout(function(){throw e})};var Ee=le.Deferred();le.fn.ready=function(e){return Ee.then(e).catch(function(e){le.readyException(e)}),this},le.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--le.readyWait:le.isReady)||(le.isReady=!0,!0!==e&&--le.readyWait>0||Ee.resolveWith(Q,[le]))}}),le.ready.then=Ee.then,"complete"===Q.readyState||"loading"!==Q.readyState&&!Q.documentElement.doScroll?n.setTimeout(le.ready):(Q.addEventListener("DOMContentLoaded",p),n.addEventListener("load",p));var Ae=function(e,t,n,r,o,i,a){var c=0,s=e.length,u=null==n;if("object"===le.type(n)){o=!0;for(c in n)Ae(e,t,c,n[c],!0,i,a)}else if(void 0!==r&&(o=!0,le.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(le(e),n)})),t))for(;c<s;c++)t(e[c],n,a?r:r.call(e[c],c,t(e[c],n)));return o?e:u?t.call(e):s?t(e[0],n):i},Ne=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};m.uid=1,m.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ne(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[le.camelCase(t)]=n;else for(r in t)o[le.camelCase(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][le.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(le.camelCase):(t=le.camelCase(t))in r?[t]:t.match(_e)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||le.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!le.isEmptyObject(t)}};var De=new m,Re=new m,Pe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Oe=/[A-Z]/g;le.extend({hasData:function(e){return Re.hasData(e)||De.hasData(e)},data:function(e,t,n){return Re.access(e,t,n)},removeData:function(e,t){Re.remove(e,t)},_data:function(e,t,n){return De.access(e,t,n)},_removeData:function(e,t){De.remove(e,t)}}),le.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=Re.get(i),1===i.nodeType&&!De.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=le.camelCase(r.slice(5)),h(i,r,o[r]));De.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){Re.set(this,e)}):Ae(this,function(t){var n;if(i&&void 0===t){if(void 0!==(n=Re.get(i,e)))return n;if(void 0!==(n=h(i,e)))return n}else this.each(function(){Re.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Re.remove(this,e)})}}),le.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=De.get(e,t),n&&(!r||Array.isArray(n)?r=De.access(e,t,le.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=le.queue(e,t),r=n.length,o=n.shift(),i=le._queueHooks(e,t),a=function(){le.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return De.get(e,n)||De.access(e,n,{empty:le.Callbacks("once memory").add(function(){De.remove(e,[t+"queue",n])})})}}),le.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?le.queue(this[0],e):void 0===t?this:this.each(function(){var n=le.queue(this,e,t);le._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&le.dequeue(this,e)})},dequeue:function(e){return this.each(function(){le.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=le.Deferred(),i=this,a=this.length,c=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=De.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(c));return c(),o.promise(t)}});var Be=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ie=new RegExp("^(?:([+-])=|)("+Be+")([a-z%]*)$","i"),Me=["Top","Right","Bottom","Left"],Le=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&le.contains(e.ownerDocument,e)&&"none"===le.css(e,"display")},Fe=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];o=n.apply(e,r||[]);for(i in t)e.style[i]=a[i];return o},Ue={};le.fn.extend({show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Le(this)?le(this).show():le(this).hide()})}});var He=/^(?:checkbox|radio)$/i,ze=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,je=/^$|\/(?:java|ecma)script/i,We={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};We.optgroup=We.option,We.tbody=We.tfoot=We.colgroup=We.caption=We.thead,We.th=We.td;var $e=/<|&#?\w+;/;!function(){var e=Q.createDocumentFragment().appendChild(Q.createElement("div")),t=Q.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),ue.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ue.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var qe=Q.documentElement,Ve=/^key/,Ke=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ge=/^([^.]*)(?:\.(.+)|)/;le.event={global:{},add:function(e,t,n,r,o){var i,a,c,s,u,l,f,d,p,m,h,g=De.get(e);if(g)for(n.handler&&(n=(i=n).handler,o=i.selector),o&&le.find.matchesSelector(qe,o),n.guid||(n.guid=le.guid++),(s=g.events)||(s=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==le&&le.event.triggered!==t.type?le.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(_e)||[""]).length;u--;)p=h=(c=Ge.exec(t[u])||[])[1],m=(c[2]||"").split(".").sort(),p&&(f=le.event.special[p]||{},p=(o?f.delegateType:f.bindType)||p,f=le.event.special[p]||{},l=le.extend({type:p,origType:h,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&le.expr.match.needsContext.test(o),namespace:m.join(".")},i),(d=s[p])||((d=s[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,m,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,l):d.push(l),le.event.global[p]=!0)},remove:function(e,t,n,r,o){var i,a,c,s,u,l,f,d,p,m,h,g=De.hasData(e)&&De.get(e);if(g&&(s=g.events)){for(u=(t=(t||"").match(_e)||[""]).length;u--;)if(c=Ge.exec(t[u])||[],p=h=c[1],m=(c[2]||"").split(".").sort(),p){for(f=le.event.special[p]||{},d=s[p=(r?f.delegateType:f.bindType)||p]||[],c=c[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=d.length;i--;)l=d[i],!o&&h!==l.origType||n&&n.guid!==l.guid||c&&!c.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(d.splice(i,1),l.selector&&d.delegateCount--,f.remove&&f.remove.call(e,l));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,m,g.handle)||le.removeEvent(e,p,g.handle),delete s[p])}else for(p in s)le.event.remove(e,p+t[u],n,r,!0);le.isEmptyObject(s)&&De.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,c=le.event.fix(e),s=new Array(arguments.length),u=(De.get(this,"events")||{})[c.type]||[],l=le.event.special[c.type]||{};for(s[0]=c,t=1;t<arguments.length;t++)s[t]=arguments[t];if(c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){for(a=le.event.handlers.call(this,c,u),t=0;(o=a[t++])&&!c.isPropagationStopped();)for(c.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!c.rnamespace.test(i.namespace)||(c.handleObj=i,c.data=i.data,void 0!==(r=((le.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))&&!1===(c.result=r)&&(c.preventDefault(),c.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,r,o,i,a,c=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(i=[],a={},n=0;n<s;n++)void 0===a[o=(r=t[n]).selector+" "]&&(a[o]=r.needsContext?le(o,this).index(u)>-1:le.find(o,this,null,[u]).length),a[o]&&i.push(r);i.length&&c.push({elem:u,handlers:i})}return u=this,s<t.length&&c.push({elem:u,handlers:t.slice(s)}),c},addProp:function(e,t){Object.defineProperty(le.Event.prototype,e,{enumerable:!0,configurable:!0,get:le.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[le.expando]?e:new le.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==T()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===T()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&c(this,"input"))return this.click(),!1},_default:function(e){return c(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},le.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},le.Event=function(e,t){if(!(this instanceof le.Event))return new le.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?C:k,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&le.extend(this,t),this.timeStamp=e&&e.timeStamp||le.now(),this[le.expando]=!0},le.Event.prototype={constructor:le.Event,isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=C,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=C,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=C,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},le.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ve.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ke.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},le.event.addProp),le.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){le.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,o=e.handleObj;return r&&(r===this||le.contains(this,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),le.fn.extend({on:function(e,t,n,r){return _(this,e,t,n,r)},one:function(e,t,n,r){return _(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,le(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=k),this.each(function(){le.event.remove(this,e,n,t)})}});var Xe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ye=/<script|<style|<link/i,Je=/checked\s*(?:[^=]|=\s*.checked.)/i,Qe=/^true\/(.*)/,Ze=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;le.extend({htmlPrefilter:function(e){return e.replace(Xe,"<$1></$2>")},clone:function(e,t,n){var r,o,i,a,c=e.cloneNode(!0),s=le.contains(e.ownerDocument,e);if(!(ue.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||le.isXMLDoc(e)))for(a=b(c),r=0,o=(i=b(e)).length;r<o;r++)D(i[r],a[r]);if(t)if(n)for(i=i||b(e),a=a||b(c),r=0,o=i.length;r<o;r++)N(i[r],a[r]);else N(e,c);return(a=b(c,"script")).length>0&&x(a,!s&&b(e,"script")),c},cleanData:function(e){for(var t,n,r,o=le.event.special,i=0;void 0!==(n=e[i]);i++)if(Ne(n)){if(t=n[De.expando]){if(t.events)for(r in t.events)o[r]?le.event.remove(n,r):le.removeEvent(n,r,t.handle);n[De.expando]=void 0}n[Re.expando]&&(n[Re.expando]=void 0)}}}),le.fn.extend({detach:function(e){return P(this,e,!0)},remove:function(e){return P(this,e)},text:function(e){return Ae(this,function(e){return void 0===e?le.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return R(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){S(this,e).appendChild(e)}})},prepend:function(){return R(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=S(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return R(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return R(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(le.cleanData(b(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return le.clone(this,e,t)})},html:function(e){return Ae(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ye.test(e)&&!We[(ze.exec(e)||["",""])[1].toLowerCase()]){e=le.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(le.cleanData(b(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return R(this,arguments,function(t){var n=this.parentNode;le.inArray(this,e)<0&&(le.cleanData(b(this)),n&&n.replaceChild(t,this))},e)}}),le.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){le.fn[e]=function(e){for(var n,r=[],o=le(e),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),le(o[a])[t](n),ne.apply(r,n.get());return this.pushStack(r)}});var et=/^margin/,tt=new RegExp("^("+Be+")(?!px)[a-z%]+$","i"),nt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)};!function(){function e(){if(c){c.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",c.innerHTML="",qe.appendChild(a);var e=n.getComputedStyle(c);t="1%"!==e.top,i="2px"===e.marginLeft,r="4px"===e.width,c.style.marginRight="50%",o="4px"===e.marginRight,qe.removeChild(a),c=null}}var t,r,o,i,a=Q.createElement("div"),c=Q.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ue.clearCloneStyle="content-box"===c.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(c),le.extend(ue,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return e(),r},pixelMarginRight:function(){return e(),o},reliableMarginLeft:function(){return e(),i}}))}();var rt=/^(none|table(?!-c[ea]).+)/,ot=/^--/,it={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"},ct=["Webkit","Moz","ms"],st=Q.createElement("div").style;le.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=O(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,c=le.camelCase(t),s=ot.test(t),u=e.style;if(s||(t=I(c)),a=le.cssHooks[t]||le.cssHooks[c],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:u[t];"string"==(i=typeof n)&&(o=Ie.exec(n))&&o[1]&&(n=g(e,t,o),i="number"),null!=n&&n==n&&("number"===i&&(n+=o&&o[3]||(le.cssNumber[c]?"":"px")),ue.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(s?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var o,i,a,c=le.camelCase(t);return ot.test(t)||(t=I(c)),(a=le.cssHooks[t]||le.cssHooks[c])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=O(e,t,r)),"normal"===o&&t in at&&(o=at[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),le.each(["height","width"],function(e,t){le.cssHooks[t]={get:function(e,n,r){if(n)return!rt.test(le.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?F(e,t,r):Fe(e,it,function(){return F(e,t,r)})},set:function(e,n,r){var o,i=r&&nt(e),a=r&&L(e,t,r,"border-box"===le.css(e,"boxSizing",!1,i),i);return a&&(o=Ie.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=le.css(e,t)),M(0,n,a)}}}),le.cssHooks.marginLeft=B(ue.reliableMarginLeft,function(e,t){if(t)return(parseFloat(O(e,"marginLeft"))||e.getBoundingClientRect().left-Fe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),le.each({margin:"",padding:"",border:"Width"},function(e,t){le.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+Me[r]+t]=i[r]||i[r-2]||i[0];return o}},et.test(e)||(le.cssHooks[e+t].set=M)}),le.fn.extend({css:function(e,t){return Ae(this,function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=nt(e),o=t.length;a<o;a++)i[t[a]]=le.css(e,t[a],!1,r);return i}return void 0!==n?le.style(e,t,n):le.css(e,t)},e,t,arguments.length>1)}}),le.Tween=U,(U.prototype={constructor:U,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||le.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(le.cssNumber[n]?"":"px")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(e){var t,n=U.propHooks[this.prop];return this.options.duration?this.pos=t=le.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}}).init.prototype=U.prototype,(U.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=le.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){le.fx.step[e.prop]?le.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[le.cssProps[e.prop]]&&!le.cssHooks[e.prop]?e.elem[e.prop]=e.now:le.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=U.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},le.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},le.fx=U.prototype.init,le.fx.step={};var ut,lt,ft=/^(?:toggle|show|hide)$/,dt=/queueHooks$/;le.Animation=le.extend($,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return g(n.elem,e,Ie.exec(t),n),n}]},tweener:function(e,t){le.isFunction(e)?(t=e,e=["*"]):e=e.match(_e);for(var n,r=0,o=e.length;r<o;r++)n=e[r],$.tweeners[n]=$.tweeners[n]||[],$.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,i,a,c,s,u,l,f="width"in t||"height"in t,d=this,p={},m=e.style,h=e.nodeType&&Le(e),g=De.get(e,"fxshow");n.queue||(null==(a=le._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,c=a.empty.fire,a.empty.fire=function(){a.unqueued||c()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,le.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(o=t[r],ft.test(o)){if(delete t[r],i=i||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!g||void 0===g[r])continue;h=!0}p[r]=g&&g[r]||le.style(e,r)}if((s=!le.isEmptyObject(t))||!le.isEmptyObject(p)){f&&1===e.nodeType&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],null==(u=g&&g.display)&&(u=De.get(e,"display")),"none"===(l=le.css(e,"display"))&&(u?l=u:(y([e],!0),u=e.style.display||u,l=le.css(e,"display"),y([e]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===le.css(e,"float")&&(s||(d.done(function(){m.display=u}),null==u&&(l=m.display,u="none"===l?"":l)),m.display="inline-block")),n.overflow&&(m.overflow="hidden",d.always(function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]})),s=!1;for(r in p)s||(g?"hidden"in g&&(h=g.hidden):g=De.access(e,"fxshow",{display:u}),i&&(g.hidden=!h),h&&y([e],!0),d.done(function(){h||y([e]),De.remove(e,"fxshow");for(r in p)le.style(e,r,p[r])})),s=W(h?g[r]:0,r,d),r in g||(g[r]=s.start,h&&(s.end=s.start,s.start=0))}}],prefilter:function(e,t){t?$.prefilters.unshift(e):$.prefilters.push(e)}}),le.speed=function(e,t,n){var r=e&&"object"==typeof e?le.extend({},e):{complete:n||!n&&t||le.isFunction(e)&&e,duration:e,easing:n&&t||t&&!le.isFunction(t)&&t};return le.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in le.fx.speeds?r.duration=le.fx.speeds[r.duration]:r.duration=le.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){le.isFunction(r.old)&&r.old.call(this),r.queue&&le.dequeue(this,r.queue)},r},le.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Le).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=le.isEmptyObject(e),i=le.speed(t,n,r),a=function(){var t=$(this,le.extend({},e),i);(o||De.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=le.timers,a=De.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&dt.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||le.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=De.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=le.timers,a=r?r.length:0;for(n.finish=!0,le.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),le.each(["toggle","show","hide"],function(e,t){var n=le.fn[t];le.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(j(t,!0),e,r,o)}}),le.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){le.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),le.timers=[],le.fx.tick=function(){var e,t=0,n=le.timers;for(ut=le.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||le.fx.stop(),ut=void 0},le.fx.timer=function(e){le.timers.push(e),le.fx.start()},le.fx.interval=13,le.fx.start=function(){lt||(lt=!0,H())},le.fx.stop=function(){lt=null},le.fx.speeds={slow:600,fast:200,_default:400},le.fn.delay=function(e,t){return e=le.fx?le.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,r){var o=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(o)}})},function(){var e=Q.createElement("input"),t=Q.createElement("select").appendChild(Q.createElement("option"));e.type="checkbox",ue.checkOn=""!==e.value,ue.optSelected=t.selected,(e=Q.createElement("input")).value="t",e.type="radio",ue.radioValue="t"===e.value}();var pt,mt=le.expr.attrHandle;le.fn.extend({attr:function(e,t){return Ae(this,le.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){le.removeAttr(this,e)})}}),le.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?le.prop(e,t,n):(1===i&&le.isXMLDoc(e)||(o=le.attrHooks[t.toLowerCase()]||(le.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void le.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=le.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!ue.radioValue&&"radio"===t&&c(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(_e);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?le.removeAttr(e,n):e.setAttribute(n,n),n}},le.each(le.expr.match.bool.source.match(/\w+/g),function(e,t){var n=mt[t]||le.find.attr;mt[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=mt[a],mt[a]=o,o=null!=n(e,t,r)?a:null,mt[a]=i),o}});var ht=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;le.fn.extend({prop:function(e,t){return Ae(this,le.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[le.propFix[e]||e]})}}),le.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&le.isXMLDoc(e)||(t=le.propFix[t]||t,o=le.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=le.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ue.optSelected||(le.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),le.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){le.propFix[this.toLowerCase()]=this}),le.fn.extend({addClass:function(e){var t,n,r,o,i,a,c,s=0;if(le.isFunction(e))return this.each(function(t){le(this).addClass(e.call(this,t,V(this)))});if("string"==typeof e&&e)for(t=e.match(_e)||[];n=this[s++];)if(o=V(n),r=1===n.nodeType&&" "+q(o)+" "){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(c=q(r))&&n.setAttribute("class",c)}return this},removeClass:function(e){var t,n,r,o,i,a,c,s=0;if(le.isFunction(e))return this.each(function(t){le(this).removeClass(e.call(this,t,V(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(_e)||[];n=this[s++];)if(o=V(n),r=1===n.nodeType&&" "+q(o)+" "){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(c=q(r))&&n.setAttribute("class",c)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):le.isFunction(e)?this.each(function(n){le(this).toggleClass(e.call(this,n,V(this),t),t)}):this.each(function(){var t,r,o,i;if("string"===n)for(r=0,o=le(this),i=e.match(_e)||[];t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=V(this))&&De.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":De.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+q(V(n))+" ").indexOf(t)>-1)return!0;return!1}});var vt=/\r/g;le.fn.extend({val:function(e){var t,n,r,o=this[0];if(arguments.length)return r=le.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,le(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=le.map(o,function(e){return null==e?"":e+""})),(t=le.valHooks[this.type]||le.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return(t=le.valHooks[o.type]||le.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(vt,""):null==n?"":n}}),le.extend({valHooks:{option:{get:function(e){var t=le.find.attr(e,"value");return null!=t?t:q(le.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?i+1:o.length;for(r=i<0?u:a?i:0;r<u;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!c(n.parentNode,"optgroup"))){if(t=le(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,o=e.options,i=le.makeArray(t),a=o.length;a--;)((r=o[a]).selected=le.inArray(le.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),le.each(["radio","checkbox"],function(){le.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=le.inArray(le(e).val(),t)>-1}},ue.checkOn||(le.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var yt=/^(?:focusinfocus|focusoutblur)$/;le.extend(le.event,{trigger:function(e,t,r,o){var i,a,c,s,u,l,f,d=[r||Q],p=ae.call(e,"type")?e.type:e,m=ae.call(e,"namespace")?e.namespace.split("."):[];if(a=c=r=r||Q,3!==r.nodeType&&8!==r.nodeType&&!yt.test(p+le.event.triggered)&&(p.indexOf(".")>-1&&(p=(m=p.split(".")).shift(),m.sort()),u=p.indexOf(":")<0&&"on"+p,e=e[le.expando]?e:new le.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:le.makeArray(t,[e]),f=le.event.special[p]||{},o||!f.trigger||!1!==f.trigger.apply(r,t))){if(!o&&!f.noBubble&&!le.isWindow(r)){for(s=f.delegateType||p,yt.test(s+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),c=a;c===(r.ownerDocument||Q)&&d.push(c.defaultView||c.parentWindow||n)}for(i=0;(a=d[i++])&&!e.isPropagationStopped();)e.type=i>1?s:f.bindType||p,(l=(De.get(a,"events")||{})[e.type]&&De.get(a,"handle"))&&l.apply(a,t),(l=u&&a[u])&&l.apply&&Ne(a)&&(e.result=l.apply(a,t),!1===e.result&&e.preventDefault());return e.type=p,o||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(d.pop(),t)||!Ne(r)||u&&le.isFunction(r[p])&&!le.isWindow(r)&&((c=r[u])&&(r[u]=null),le.event.triggered=p,r[p](),le.event.triggered=void 0,c&&(r[u]=c)),e.result}},simulate:function(e,t,n){var r=le.extend(new le.Event,n,{type:e,isSimulated:!0});le.event.trigger(r,null,t)}}),le.fn.extend({trigger:function(e,t){return this.each(function(){le.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return le.event.trigger(e,t,n,!0)}}),le.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){le.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),le.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ue.focusin="onfocusin"in n,ue.focusin||le.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){le.event.simulate(t,e.target,le.event.fix(e))};le.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=De.access(r,t);o||r.addEventListener(e,n,!0),De.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=De.access(r,t)-1;o?De.access(r,t,o):(r.removeEventListener(e,n,!0),De.remove(r,t))}}});var bt=n.location,xt=le.now(),wt=/\?/;le.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||le.error("Invalid XML: "+e),t};var Ct=/\[\]$/,kt=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,_t=/^(?:input|select|textarea|keygen)/i;le.param=function(e,t){var n,r=[],o=function(e,t){var n=le.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!le.isPlainObject(e))le.each(e,function(){o(this.name,this.value)});else for(n in e)K(n,e[n],t,o);return r.join("&")},le.fn.extend({serialize:function(){return le.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=le.prop(this,"elements");return e?le.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!le(this).is(":disabled")&&_t.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!He.test(e))}).map(function(e,t){var n=le(this).val();return null==n?null:Array.isArray(n)?le.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var St=/%20/g,Et=/#.*$/,At=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Dt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Pt={},Ot={},Bt="*/".concat("*"),It=Q.createElement("a");It.href=bt.href,le.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":le.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Y(Y(e,le.ajaxSettings),t):Y(le.ajaxSettings,e)},ajaxPrefilter:G(Pt),ajaxTransport:G(Ot),ajax:function(e,t){function r(e,t,r,c){var u,d,p,x,w,C=t;l||(l=!0,s&&n.clearTimeout(s),o=void 0,a=c||"",k.readyState=e>0?4:0,u=e>=200&&e<300||304===e,r&&(x=function(e,t,n){for(var r,o,i,a,c=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in c)if(c[o]&&c[o].test(r)){s.unshift(o);break}if(s[0]in n)i=s[0];else{for(o in n){if(!s[0]||e.converters[o+" "+s[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==s[0]&&s.unshift(i),n[i]}(m,k,r)),x=function(e,t,n,r){var o,i,a,c,s,u={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!s&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s=i,i=l.shift())if("*"===i)i=s;else if("*"!==s&&s!==i){if(!(a=u[s+" "+i]||u["* "+i]))for(o in u)if((c=o.split(" "))[1]===i&&(a=u[s+" "+c[0]]||u["* "+c[0]])){!0===a?a=u[o]:!0!==u[o]&&(i=c[0],l.unshift(c[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+s+" to "+i}}}return{state:"success",data:t}}(m,x,k,u),u?(m.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(le.lastModified[i]=w),(w=k.getResponseHeader("etag"))&&(le.etag[i]=w)),204===e||"HEAD"===m.type?C="nocontent":304===e?C="notmodified":(C=x.state,d=x.data,u=!(p=x.error))):(p=C,!e&&C||(C="error",e<0&&(e=0))),k.status=e,k.statusText=(t||C)+"",u?v.resolveWith(h,[d,C,k]):v.rejectWith(h,[k,C,p]),k.statusCode(b),b=void 0,f&&g.trigger(u?"ajaxSuccess":"ajaxError",[k,m,u?d:p]),y.fireWith(h,[k,C]),f&&(g.trigger("ajaxComplete",[k,m]),--le.active||le.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var o,i,a,c,s,u,l,f,d,p,m=le.ajaxSetup({},t),h=m.context||m,g=m.context&&(h.nodeType||h.jquery)?le(h):le.event,v=le.Deferred(),y=le.Callbacks("once memory"),b=m.statusCode||{},x={},w={},C="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(l){if(!c)for(c={};t=Nt.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return l?a:null},setRequestHeader:function(e,t){return null==l&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==l&&(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)k.always(e[k.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||C;return o&&o.abort(t),r(0,t),this}};if(v.promise(k),m.url=((e||m.url||bt.href)+"").replace(Rt,bt.protocol+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(_e)||[""],null==m.crossDomain){u=Q.createElement("a");try{u.href=m.url,u.href=u.href,m.crossDomain=It.protocol+"//"+It.host!=u.protocol+"//"+u.host}catch(e){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=le.param(m.data,m.traditional)),X(Pt,m,t,k),l)return k;(f=le.event&&m.global)&&0==le.active++&&le.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Dt.test(m.type),i=m.url.replace(Et,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(St,"+")):(p=m.url.slice(i.length),m.data&&(i+=(wt.test(i)?"&":"?")+m.data,delete m.data),!1===m.cache&&(i=i.replace(At,"$1"),p=(wt.test(i)?"&":"?")+"_="+xt+++p),m.url=i+p),m.ifModified&&(le.lastModified[i]&&k.setRequestHeader("If-Modified-Since",le.lastModified[i]),le.etag[i]&&k.setRequestHeader("If-None-Match",le.etag[i])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&k.setRequestHeader("Content-Type",m.contentType),k.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Bt+"; q=0.01":""):m.accepts["*"]);for(d in m.headers)k.setRequestHeader(d,m.headers[d]);if(m.beforeSend&&(!1===m.beforeSend.call(h,k,m)||l))return k.abort();if(C="abort",y.add(m.complete),k.done(m.success),k.fail(m.error),o=X(Ot,m,t,k)){if(k.readyState=1,f&&g.trigger("ajaxSend",[k,m]),l)return k;m.async&&m.timeout>0&&(s=n.setTimeout(function(){k.abort("timeout")},m.timeout));try{l=!1,o.send(x,r)}catch(e){if(l)throw e;r(-1,e)}}else r(-1,"No Transport");return k},getJSON:function(e,t,n){return le.get(e,t,n,"json")},getScript:function(e,t){return le.get(e,void 0,t,"script")}}),le.each(["get","post"],function(e,t){le[t]=function(e,n,r,o){return le.isFunction(n)&&(o=o||r,r=n,n=void 0),le.ajax(le.extend({url:e,type:t,dataType:o,data:n,success:r},le.isPlainObject(e)&&e))}}),le._evalUrl=function(e){return le.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},le.fn.extend({wrapAll:function(e){var t;return this[0]&&(le.isFunction(e)&&(e=e.call(this[0])),t=le(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return le.isFunction(e)?this.each(function(t){le(this).wrapInner(e.call(this,t))}):this.each(function(){var t=le(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=le.isFunction(e);return this.each(function(n){le(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){le(this).replaceWith(this.childNodes)}),this}}),le.expr.pseudos.hidden=function(e){return!le.expr.pseudos.visible(e)},le.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},le.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Mt={0:200,1223:204},Lt=le.ajaxSettings.xhr();ue.cors=!!Lt&&"withCredentials"in Lt,ue.ajax=Lt=!!Lt,le.ajaxTransport(function(e){var t,r;if(ue.cors||Lt&&!e.crossDomain)return{send:function(o,i){var a,c=e.xhr();if(c.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)c[a]=e.xhrFields[a];e.mimeType&&c.overrideMimeType&&c.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(a in o)c.setRequestHeader(a,o[a]);t=function(e){return function(){t&&(t=r=c.onload=c.onerror=c.onabort=c.onreadystatechange=null,"abort"===e?c.abort():"error"===e?"number"!=typeof c.status?i(0,"error"):i(c.status,c.statusText):i(Mt[c.status]||c.status,c.statusText,"text"!==(c.responseType||"text")||"string"!=typeof c.responseText?{binary:c.response}:{text:c.responseText},c.getAllResponseHeaders()))}},c.onload=t(),r=c.onerror=t("error"),void 0!==c.onabort?c.onabort=r:c.onreadystatechange=function(){4===c.readyState&&n.setTimeout(function(){t&&r()})},t=t("abort");try{c.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),le.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),le.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return le.globalEval(e),e}}}),le.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),le.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,o){t=le("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),Q.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Ft=[],Ut=/(=)\?(?=&|$)|\?\?/;le.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ft.pop()||le.expando+"_"+xt++;return this[e]=!0,e}}),le.ajaxPrefilter("json jsonp",function(e,t,r){var o,i,a,c=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(c||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=le.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,c?e[c]=e[c].replace(Ut,"$1"+o):!1!==e.jsonp&&(e.url+=(wt.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||le.error(o+" was not called"),a[0]},e.dataTypes[0]="json",i=n[o],n[o]=function(){a=arguments},r.always(function(){void 0===i?le(n).removeProp(o):n[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,Ft.push(o)),a&&le.isFunction(i)&&i(a[0]),a=i=void 0}),"script"}),ue.createHTMLDocument=function(){var e=Q.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),le.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,o,i;return t||(ue.createHTMLDocument?((r=(t=Q.implementation.createHTMLDocument("")).createElement("base")).href=Q.location.href,t.head.appendChild(r)):t=Q),o=be.exec(e),i=!n&&[],o?[t.createElement(o[1])]:(o=w([e],t,i),i&&i.length&&le(i).remove(),le.merge([],o.childNodes))},le.fn.load=function(e,t,n){var r,o,i,a=this,c=e.indexOf(" ");return c>-1&&(r=q(e.slice(c)),e=e.slice(0,c)),le.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&le.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?le("<div>").append(le.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},le.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){le.fn[t]=function(e){return this.on(t,e)}}),le.expr.pseudos.animated=function(e){return le.grep(le.timers,function(t){return e===t.elem}).length},le.offset={setOffset:function(e,t,n){var r,o,i,a,c,s,u=le.css(e,"position"),l=le(e),f={};"static"===u&&(e.style.position="relative"),c=l.offset(),i=le.css(e,"top"),s=le.css(e,"left"),("absolute"===u||"fixed"===u)&&(i+s).indexOf("auto")>-1?(a=(r=l.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(s)||0),le.isFunction(t)&&(t=t.call(e,n,le.extend({},c))),null!=t.top&&(f.top=t.top-c.top+a),null!=t.left&&(f.left=t.left-c.left+o),"using"in t?t.using.call(e,f):l.css(f)}},le.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){le.offset.setOffset(this,e,t)});var t,n,r,o,i=this[0];if(i)return i.getClientRects().length?(r=i.getBoundingClientRect(),t=i.ownerDocument,n=t.documentElement,o=t.defaultView,{top:r.top+o.pageYOffset-n.clientTop,left:r.left+o.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===le.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),c(e[0],"html")||(r=e.offset()),r={top:r.top+le.css(e[0],"borderTopWidth",!0),left:r.left+le.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-le.css(n,"marginTop",!0),left:t.left-r.left-le.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===le.css(e,"position");)e=e.offsetParent;return e||qe})}}),le.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;le.fn[e]=function(r){return Ae(this,function(e,r,o){var i;if(le.isWindow(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o},e,r,arguments.length)}}),le.each(["top","left"],function(e,t){le.cssHooks[t]=B(ue.pixelPosition,function(e,n){if(n)return n=O(e,t),tt.test(n)?le(e).position()[t]+"px":n})}),le.each({Height:"height",Width:"width"},function(e,t){le.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){le.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),c=n||(!0===o||!0===i?"margin":"border");return Ae(this,function(t,n,o){var i;return le.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?le.css(t,n,c):le.style(t,n,o,c)},t,a?o:void 0,a)}})}),le.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),le.holdReady=function(e){e?le.readyWait++:le.ready(!0)},le.isArray=Array.isArray,le.parseJSON=JSON.parse,le.nodeName=c,void 0===(r=function(){return le}.apply(t,[]))||(e.exports=r);var Ht=n.jQuery,zt=n.$;return le.noConflict=function(e){return n.$===le&&(n.$=zt),e&&n.jQuery===le&&(n.jQuery=Ht),le},o||(n.jQuery=n.$=le),le})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function n(e){return e&&"[object Function]"==={}.toString.call(e)}function r(e,t){if(1!==e.nodeType)return[];var n=getComputedStyle(e,null);return t?n[t]:n}function o(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function i(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=r(e),n=t.overflow,a=t.overflowX,c=t.overflowY;return/(auto|scroll)/.test(n+c+a)?e:i(o(e))}function a(e){var t=e&&e.offsetParent,n=t&&t.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TD","TABLE"].indexOf(t.nodeName)&&"static"===r(t,"position")?a(t):t:e?e.ownerDocument.documentElement:document.documentElement}function c(e){return null!==e.parentNode?c(e.parentNode):e}function s(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var u=i.commonAncestorContainer;if(e!==u&&t!==u||r.contains(o))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||a(e.firstElementChild)===e)}(u)?u:a(u);var l=c(e);return l.host?s(l.host,t):s(e,c(t).host)}function u(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function l(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function f(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],j()?n["offset"+e]+r["margin"+("Height"===e?"Top":"Left")]+r["margin"+("Height"===e?"Bottom":"Right")]:0)}function d(){var e=document.body,t=document.documentElement,n=j()&&getComputedStyle(t);return{height:f("Height",e,t,n),width:f("Width",e,t,n)}}function p(e){return V({},e,{right:e.left+e.width,bottom:e.top+e.height})}function m(e){var t={};if(j())try{t=e.getBoundingClientRect();var n=u(e,"top"),o=u(e,"left");t.top+=n,t.left+=o,t.bottom+=n,t.right+=o}catch(e){}else t=e.getBoundingClientRect();var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?d():{},c=a.width||e.clientWidth||i.right-i.left,s=a.height||e.clientHeight||i.bottom-i.top,f=e.offsetWidth-c,m=e.offsetHeight-s;if(f||m){var h=r(e);f-=l(h,"x"),m-=l(h,"y"),i.width-=f,i.height-=m}return p(i)}function h(e,t){var n=j(),o="HTML"===t.nodeName,a=m(e),c=m(t),s=i(e),l=r(t),f=parseFloat(l.borderTopWidth,10),d=parseFloat(l.borderLeftWidth,10),h=p({top:a.top-c.top-f,left:a.left-c.left-d,width:a.width,height:a.height});if(h.marginTop=0,h.marginLeft=0,!n&&o){var g=parseFloat(l.marginTop,10),v=parseFloat(l.marginLeft,10);h.top-=f-g,h.bottom-=f-g,h.left-=d-v,h.right-=d-v,h.marginTop=g,h.marginLeft=v}return(n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=u(t,"top"),o=u(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}(h,t)),h}function g(e){var t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===r(e,"position")||g(o(e)))}function v(e,t,n,r){var a={top:0,left:0},c=s(e,t);if("viewport"===r)a=function(e){var t=e.ownerDocument.documentElement,n=h(e,t),r=Math.max(t.clientWidth,window.innerWidth||0),o=Math.max(t.clientHeight,window.innerHeight||0),i=u(t),a=u(t,"left");return p({top:i-n.top+n.marginTop,left:a-n.left+n.marginLeft,width:r,height:o})}(c);else{var l=void 0;"scrollParent"===r?"BODY"===(l=i(o(t))).nodeName&&(l=e.ownerDocument.documentElement):l="window"===r?e.ownerDocument.documentElement:r;var f=h(l,c);if("HTML"!==l.nodeName||g(c))a=f;else{var m=d(),v=m.height,y=m.width;a.top+=f.top-f.marginTop,a.bottom=v+f.top,a.left+=f.left-f.marginLeft,a.right=y+f.left}}return a.left+=n,a.top+=n,a.right-=n,a.bottom-=n,a}function y(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=v(n,r,i,o),c={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},s=Object.keys(c).map(function(e){return V({key:e},c[e],{area:function(e){return e.width*e.height}(c[e])})}).sort(function(e,t){return t.area-e.area}),u=s.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),l=u.length>0?u[0].key:s[0].key,f=e.split("-")[1];return l+(f?"-"+f:"")}function b(e,t,n){return h(n,s(t,n))}function x(e){var t=getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),r=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function w(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function C(e,t,n){n=n.split("-")[0];var r=x(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",c=i?"left":"top",s=i?"height":"width",u=i?"width":"height";return o[a]=t[a]+t[s]/2-r[s]/2,o[c]=n===c?t[c]-r[u]:t[w(c)],o}function k(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function T(e,t,r){return(void 0===r?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=k(e,function(e){return e[t]===n});return e.indexOf(r)}(e,"name",r))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=e.function||e.fn;e.enabled&&n(r)&&(t.offsets.popper=p(t.offsets.popper),t.offsets.reference=p(t.offsets.reference),t=r(t,e))}),t}function _(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function S(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length-1;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==document.body.style[i])return i}return null}function E(e){var t=e.ownerDocument;return t?t.defaultView:window}function A(e,t,n,r){var o="BODY"===e.nodeName,a=o?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),o||A(i(a.parentNode),t,n,r),r.push(a)}function N(){this.state.eventsEnabled||(this.state=function(e,t,n,r){n.updateBound=r,E(e).addEventListener("resize",n.updateBound,{passive:!0});var o=i(e);return A(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}(this.reference,this.options,this.state,this.scheduleUpdate))}function D(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function(e,t){return E(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}(this.reference,this.state))}function R(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function P(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&R(t[n])&&(r="px"),e.style[n]=t[n]+r})}function O(e,t,n){var r=k(e,function(e){return e.name===t}),o=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!o){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}function B(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=G.indexOf(e),r=G.slice(n+1).concat(G.slice(0,n));return t?r.reverse():r}function I(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),c=a.indexOf(k(a,function(e){return-1!==e.search(/,|\s/)}));a[c]&&-1===a[c].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var s=/\s*,\s*|\s+/,u=-1!==c?[a.slice(0,c).concat([a[c].split(s)[0]]),[a[c].split(s)[1]].concat(a.slice(c+1))]:[a];return(u=u.map(function(e,r){var o=(1===r?!i:i)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){var c=void 0;switch(a){case"%p":c=n;break;case"%":case"%r":default:c=r}return p(c)[t]/100*i}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(e,o,t,n)})})).forEach(function(e,t){e.forEach(function(n,r){R(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))})}),o}for(var M="undefined"!=typeof window&&"undefined"!=typeof document,L=["Edge","Trident","Firefox"],F=0,U=0;U<L.length;U+=1)if(M&&navigator.userAgent.indexOf(L[U])>=0){F=1;break}var H=M&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},F))}},z=void 0,j=function(){return void 0===z&&(z=-1!==navigator.appVersion.indexOf("MSIE 10")),z},W=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},$=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),q=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],G=K.slice(3),X={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},Y={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,c=-1!==["bottom","top"].indexOf(n),s=c?"left":"top",u=c?"width":"height",l={start:q({},s,i[s]),end:q({},s,i[s]+i[u]-a[u])};e.offsets.popper=V({},a,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,a=o.reference,c=r.split("-")[0],s=void 0;return s=R(+n)?[+n,0]:I(n,i,a,c),"left"===c?(i.top+=s[0],i.left-=s[1]):"right"===c?(i.top+=s[0],i.left+=s[1]):"top"===c?(i.left+=s[0],i.top-=s[1]):"bottom"===c&&(i.left+=s[0],i.top+=s[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||a(e.instance.popper);e.instance.reference===n&&(n=a(n));var r=v(e.instance.popper,e.instance.reference,t.padding,n);t.boundaries=r;var o=t.priority,i=e.offsets.popper,c={primary:function(e){var n=i[e];return i[e]<r[e]&&!t.escapeWithReference&&(n=Math.max(i[e],r[e])),q({},e,n)},secondary:function(e){var n="right"===e?"left":"top",o=i[n];return i[e]>r[e]&&!t.escapeWithReference&&(o=Math.min(i[n],r[e]-("right"===e?i.width:i.height))),q({},n,o)}};return o.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";i=V({},i,c[t](e))}),e.offsets.popper=i,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),c=a?"right":"bottom",s=a?"left":"top",u=a?"width":"height";return n[c]<i(r[s])&&(e.offsets.popper[s]=i(r[s])-n[u]),n[s]>i(r[c])&&(e.offsets.popper[s]=i(r[c])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!O(e.instance.modifiers,"arrow","keepTogether"))return e;var o=t.element;if("string"==typeof o){if(!(o=e.instance.popper.querySelector(o)))return e}else if(!e.instance.popper.contains(o))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,c=a.popper,s=a.reference,u=-1!==["left","right"].indexOf(i),l=u?"height":"width",f=u?"Top":"Left",d=f.toLowerCase(),m=u?"left":"top",h=u?"bottom":"right",g=x(o)[l];s[h]-g<c[d]&&(e.offsets.popper[d]-=c[d]-(s[h]-g)),s[d]+g>c[h]&&(e.offsets.popper[d]+=s[d]+g-c[h]),e.offsets.popper=p(e.offsets.popper);var v=s[d]+s[l]/2-g/2,y=r(e.instance.popper),b=parseFloat(y["margin"+f],10),w=parseFloat(y["border"+f+"Width"],10),C=v-e.offsets.popper[d]-b-w;return C=Math.max(Math.min(c[l]-g,C),0),e.arrowElement=o,e.offsets.arrow=(n={},q(n,d,Math.round(C)),q(n,m,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(_(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=v(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),r=e.placement.split("-")[0],o=w(r),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case X.FLIP:a=[r,o];break;case X.CLOCKWISE:a=B(r);break;case X.COUNTERCLOCKWISE:a=B(r,!0);break;default:a=t.behavior}return a.forEach(function(c,s){if(r!==c||a.length===s+1)return e;r=e.placement.split("-")[0],o=w(r);var u=e.offsets.popper,l=e.offsets.reference,f=Math.floor,d="left"===r&&f(u.right)>f(l.left)||"right"===r&&f(u.left)<f(l.right)||"top"===r&&f(u.bottom)>f(l.top)||"bottom"===r&&f(u.top)<f(l.bottom),p=f(u.left)<f(n.left),m=f(u.right)>f(n.right),h=f(u.top)<f(n.top),g=f(u.bottom)>f(n.bottom),v="left"===r&&p||"right"===r&&m||"top"===r&&h||"bottom"===r&&g,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===i&&p||y&&"end"===i&&m||!y&&"start"===i&&h||!y&&"end"===i&&g);(d||v||b)&&(e.flipped=!0,(d||v)&&(r=a[s+1]),b&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=V({},e.offsets.popper,C(e.instance.popper,e.offsets.reference,e.placement)),e=T(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),c=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(c?o[a?"width":"height"]:0),e.placement=w(t),e.offsets.popper=p(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!O(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=k(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=k(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var c=void 0!==i?i:t.gpuAcceleration,s=m(a(e.instance.popper)),u={position:o.position},l={left:Math.floor(o.left),top:Math.floor(o.top),bottom:Math.floor(o.bottom),right:Math.floor(o.right)},f="bottom"===n?"top":"bottom",d="right"===r?"left":"right",p=S("transform"),h=void 0,g=void 0;if(g="bottom"===f?-s.height+l.bottom:l.top,h="right"===d?-s.width+l.right:l.left,c&&p)u[p]="translate3d("+h+"px, "+g+"px, 0)",u[f]=0,u[d]=0,u.willChange="transform";else{var v="bottom"===f?-1:1,y="right"===d?-1:1;u[f]=g*v,u[d]=h*y,u.willChange=f+", "+d}var b={"x-placement":e.placement};return e.attributes=V({},b,e.attributes),e.styles=V({},u,e.styles),e.arrowStyles=V({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return P(e.instance.popper,e.styles),function(e,t){Object.keys(t).forEach(function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)})}(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&P(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=b(0,t,e),a=y(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),P(t,{position:"absolute"}),n},gpuAcceleration:void 0}}},J=function(){function e(t,r){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};W(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=H(this.update.bind(this)),this.options=V({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(V({},e.Defaults.modifiers,i.modifiers)).forEach(function(t){o.options.modifiers[t]=V({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return V({name:e},o.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&n(e.onLoad)&&e.onLoad(o.reference,o.popper,o.options,e,o.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return $(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=b(this.state,this.popper,this.reference),e.placement=y(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=C(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position="absolute",e=T(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,_(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[S("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return N.call(this)}},{key:"disableEventListeners",value:function(){return D.call(this)}}]),e}();J.Utils=("undefined"!=typeof window?window:e).PopperUtils,J.placements=K,J.Defaults=Y,t.default=J}.call(t,n(2))},function(e,t,n){e.exports=n(29)},function(e,t,n){"use strict";function r(e){var t=new a(e),n=i(a.prototype.request,t);return o.extend(n,a.prototype,t),o.extend(n,t),n}var o=n(1),i=n(7),a=n(31),c=n(4),s=r(c);s.Axios=a,s.create=function(e){return r(o.merge(c,e))},s.Cancel=n(12),s.CancelToken=n(45),s.isCancel=n(11),s.all=function(e){return Promise.all(e)},s.spread=n(46),e.exports=s,e.exports.default=s},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";function r(e){this.defaults=e,this.interceptors={request:new a,response:new a}}var o=n(4),i=n(1),a=n(40),c=n(41);r.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(o,this.defaults,{method:"get"},e)).method=e.method.toLowerCase();var t=[c,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head","options"],function(e){r.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){r.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=r},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(10);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},function(e,t,n){"use strict";function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var o=n(1);e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(o.isURLSearchParams(t))i=t.toString();else{var a=[];o.forEach(t,function(e,t){null!==e&&void 0!==e&&(o.isArray(e)&&(t+="[]"),o.isArray(e)||(e=[e]),o.forEach(e,function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))}))}),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,n){"use strict";var r=n(1),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(1);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(o.setAttribute("href",t),t=o.href),o.setAttribute("href",t),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return t=e(window.location.href),function(n){var o=r.isString(n)?e(n):n;return o.protocol===t.protocol&&o.host===t.host}}():function(){return!0}},function(e,t,n){"use strict";function r(){this.message="String contains an invalid character"}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";(r.prototype=new Error).code=5,r.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,i=String(e),a="",c=0,s=o;i.charAt(0|c)||(s="=",c%1);a+=s.charAt(63&t>>8-c%1*8)){if((n=i.charCodeAt(c+=.75))>255)throw new r;t=t<<8|n}return a}},function(e,t,n){"use strict";var r=n(1);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var c=[];c.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),r.isString(o)&&c.push("path="+o),r.isString(i)&&c.push("domain="+i),!0===a&&c.push("secure"),document.cookie=c.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";function r(){this.handlers=[]}var o=n(1);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){o.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){"use strict";function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var o=n(1),i=n(42),a=n(11),c=n(4),s=n(43),u=n(44);e.exports=function(e){r(e),e.baseURL&&!s(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),o.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]});return(e.adapter||c.adapter)(e).then(function(t){return r(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return a(t)||(r(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new o(e),t(n.reason))})}var o=n(12);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r(function(t){e=t}),cancel:e}},e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){delete c[e]}function o(e){if(s)setTimeout(o,0,e);else{var t=c[e];if(t){s=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{r(e),s=!1}}}}if(!e.setImmediate){var i,a=1,c={},s=!1,u=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick(function(){o(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&o(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),i=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){o(e.data)},i=function(t){e.port2.postMessage(t)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var e=u.documentElement;i=function(t){var n=u.createElement("script");n.onreadystatechange=function(){o(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():i=function(e){setTimeout(o,0,e)},l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[a]=r,i(a),a++},l.clearImmediate=r}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(2),n(8))},function(e,t,n){var r=n(0)(n(52),n(55),!1,function(e){n(49)},null,null);e.exports=r.exports},function(e,t,n){var r=n(50);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(6)("1e1bae0a",r,!0)},function(e,t,n){(e.exports=n(3)(void 0)).push([e.i,"",""])},function(e,t){e.exports=function(e,t){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=i[0],c={id:e+":"+o,css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(c):n.push(r[a]={id:a,parts:[c]})}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(53),o=n.n(r);t.default={components:{navbar:o.a}}},function(e,t,n){var r=n(0)(null,n(54),!1,null,null,null);e.exports=r.exports},function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("nav",{staticClass:"navbar navbar-expand-sm bg-dark navbar-dark sticky-top"},[t("div",{staticClass:"container"},[t("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[this._v("\n\t\t\t\tAammui\n\t\t\t")]),this._v(" "),this._m(0),this._v(" "),t("div",{staticClass:"collapse navbar-collapse bg-dark",attrs:{id:"navbarCollapse"}},[t("ul",{staticClass:"navbar-nav ml-auto"},[this._m(1),this._v(" "),this._m(2),this._v(" "),this._m(3),this._v(" "),this._m(4),this._v(" "),t("li",{staticClass:"nav-item"},[t("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[this._v("Login")])],1)])])],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"navbar-toggler",attrs:{"data-toggle":"collapse","data-target":"#navbarCollapse"}},[t("span",{staticClass:"navbar-toggler-icon"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link",attrs:{"data-target":"#ho",href:"#home"}},[this._v("Home")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link",attrs:{"data-target":"#explore-head-section\n\t\t\t\t\t\t",href:"#explore-head-section"}},[this._v("Service")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link",attrs:{href:"#create"}},[this._v("Create")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link",attrs:{href:"#shae"}},[this._v("Share")])])}]}},function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("navbar"),this._v(" "),t("router-view")],1)},staticRenderFns:[]}},function(e,t,n){var r=n(0)(n(57),n(58),!1,null,null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{email:"",password:""}},methods:{login:function(){var e={client_id:2,client_secret:"YoiIVWoyvfNAgREg9V6EgTRyx1jzezIVbXS4YM1d",grant_type:"password",username:this.email,password:this.password};this.$http.post("oauth/token",e).then(function(e){this.$auth.setToken(e.body.access_token,e.body.expires_in+Date.now()),this.$router.push("/admin"),console.log(e)})}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"row justify-content-center "},[n("div",{staticClass:"col-md-6"},[n("form",{staticClass:"m-4"},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",name:"email",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-group"},[n("input",{staticClass:"btn btn-success float-right",attrs:{type:"button",value:"Login"},on:{click:e.login}})])])])])])},staticRenderFns:[]}},function(e,t,n){var r=n(0)(n(60),n(61),!1,null,null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{name:"",email:"",password:""}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-md-6"},[n("form",{staticClass:"m-2"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"name",name:"name",placeholder:"Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",name:"email",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),e._m(0)])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"form-group"},[t("input",{staticClass:"btn btn-success float-right",attrs:{type:"submit",value:"Login"}})])}]}},function(e,t,n){var r=n(0)(n(63),n(65),!1,null,null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={components:{sidenav:n(14)}}},function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("router-link",{attrs:{to:"/admin/posts/create"}},[this._v("CreatePost")])],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-3"},[t("sidenav")],1),this._v(" "),this._m(0)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-md-9"},[t("div",{staticClass:"container"},[t("div",{staticClass:"row"})])])}]}},function(e,t,n){var r=n(0)(n(67),n(76),!1,null,null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(68),o=n.n(r);t.default={components:{Posts:o.a}}},function(e,t,n){var r=n(0)(n(69),n(75),!1,null,null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70),o=n.n(r);t.default={data:function(){return{products:[]}},components:{Post:o.a},created:function(){var e=this;this.$http.get("api/products").then(function(t){e.products=t.body})}}},function(e,t,n){var r=n(0)(n(73),n(74),!1,function(e){n(71)},null,null);e.exports=r.exports},function(e,t,n){var r=n(72);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(6)("53c7633c",r,!0)},function(e,t,n){(e.exports=n(3)(void 0)).push([e.i,".font-image{height:230px;width:100%}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={created:function(){this.post.post_content=this.trunk(this.post.post_content,100)},methods:{trunk:function(e,t){return e.substring(0,t)+"..."}},props:["post"]}},function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"card"},[t("img",{staticClass:"card-img-top font-image",attrs:{src:this.post.avatar,alt:"Card image cap"}}),this._v(" "),t("div",{staticClass:"card-block"},[t("h4",{staticClass:"card-title"},[this._v(this._s(this.post.name))]),this._v(" "),t("p",{staticClass:"card-text",domProps:{innerHTML:this._s(this.post.post_content)}}),this._v(" "),t("router-link",{staticClass:"btn btn-primary float-right",attrs:{to:{path:"Details/"+this.post.name}}},[this._v("read more...")])],1)])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",{staticClass:"row"},this._l(this.products,function(e){return t("Post",{key:e.id,attrs:{post:e}})}))])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[this._m(0),this._v(" "),t("div",{staticClass:"col-md-6"},[t("Posts")],1),this._v(" "),t("div",{staticClass:"col-md-3"})])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-md-3"},[t("ul",{staticClass:"list-group"},[t("li",{staticClass:"list-group-item active text-center"},[this._v("\n\t\t\t\t\tCategory\n\t\t\t\t")]),this._v(" "),t("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[this._v("\n\t\t\t\t\tFoot ware\n\t\t\t\t\t"),t("span",{staticClass:"badge badge-primary badge-pill"},[this._v("14")])]),this._v(" "),t("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[this._v("\n\t\t\t\t\tBooks\n\t\t\t\t\t"),t("span",{staticClass:"badge badge-primary badge-pill"},[this._v("2")])]),this._v(" "),t("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[this._v("\n\t\t\t\t\tElectronics\n\t\t\t\t\t"),t("span",{staticClass:"badge badge-primary badge-pill"},[this._v("1")])])])])}]}},function(e,t,n){var r=n(0)(null,null,!1,null,null,null);e.exports=r.exports},function(e,t,n){var r=n(0)(n(79),n(80),!1,null,null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["title"]}},function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"pageDetail"}},[t("div",{staticClass:"container"},[this._v("\n\t\t"+this._s(this.title)+"\n\t")])])},staticRenderFns:[]}},function(e,t,n){var r=n(0)(n(82),n(188),!1,null,null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(83),o=n.n(r).a;t.default={data:function(){return{message:null,imageLink:"",title:"",editorContent:"",tinyOptions:{height:300}}},methods:{set_featured_image:function(){var e=this,t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept","image/*"),t.onchange=function(){var t=this.files[0],n=new FormData;n.append("file",t),e.$http.post("api/upload/image",n).then(function(t){e.imageLink="http://localhost:8000/uploads/"+t.data,console.log(t.data)}).catch(function(e){console.log(e.response)})},t.click()},create_post:function(){var e=this;this.$http.post("api/create/product",{title:this.title,featured_photo:this.imageLink,content:this.editorContent}).then(function(t){console.log(t),e.message=t.data,e.title="",e.this.editorContent="",e.imageLink=""}).catch(function(e){console.log(e.response)})}},components:{sidenav:n(14),tinymce:o}}},function(e,t,n){var r=n(0)(n(86),n(187),!1,function(e){n(84)},"data-v-47c66e99",null);e.exports=r.exports},function(e,t,n){var r=n(85);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(6)("4d7afde4",r,!0)},function(e,t,n){(e.exports=n(3)(void 0)).push([e.i,"",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(87),o=n.n(r),i=n(88),a=(n.n(i),n(89)),c=(n.n(a),n(91)),s=(n.n(c),n(93)),u=(n.n(s),n(95)),l=(n.n(u),n(97)),f=(n.n(l),n(15)),d=(n.n(f),n(100)),p=(n.n(d),n(102)),m=(n.n(p),n(104)),h=(n.n(m),n(106)),g=(n.n(h),n(108)),v=(n.n(g),n(110)),y=(n.n(v),n(112)),b=(n.n(y),n(114)),x=(n.n(b),n(116)),w=(n.n(x),n(118)),C=(n.n(w),n(120)),k=(n.n(C),n(122)),T=(n.n(k),n(124)),_=(n.n(T),n(126)),S=(n.n(_),n(128)),E=(n.n(S),n(130)),A=(n.n(E),n(132)),N=(n.n(A),n(134)),D=(n.n(N),n(136)),R=(n.n(D),n(138)),P=(n.n(R),n(140)),O=(n.n(P),n(142)),B=(n.n(O),n(144)),I=(n.n(B),n(146)),M=(n.n(I),n(148)),L=(n.n(M),n(150)),F=(n.n(L),n(152)),U=(n.n(F),n(154)),H=(n.n(U),n(156)),z=(n.n(H),n(158)),j=(n.n(z),n(160)),W=(n.n(j),n(162)),$=(n.n(W),n(164)),q=(n.n($),n(166)),V=(n.n(q),n(168)),K=(n.n(V),n(170)),G=(n.n(K),n(172)),X=(n.n(G),n(174)),Y=(n.n(X),n(184));n.n(Y);t.default={name:"tinymce",props:{id:{type:String,required:!0},htmlClass:{default:"",type:String},value:{default:""},plugins:{default:function(){return["advlist autolink lists link image charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen","insertdatetime media nonbreaking save table contextmenu directionality","template paste textcolor colorpicker textpattern imagetools toc help emoticons hr"]},type:Array},toolbar1:{default:"formatselect | bold italic  strikethrough  forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat",type:String},toolbar2:{default:"",type:String},other_options:{default:function(){return{}},type:Object}},data:function(){return{content:"",editor:null,cTinyMce:null,checkerTimeout:null,isTyping:!1}},mounted:function(){this.content=this.value,this.init()},beforeDestroy:function(){this.editor.destroy()},watch:{value:function(e){this.isTyping||(null!==this.editor?this.editor.setContent(e):this.content=e)}},methods:{init:function(){var e=this,t={selector:"#"+this.id,skin:!1,toolbar1:this.toolbar1,toolbar2:this.toolbar2,plugins:this.plugins,init_instance_callback:function(t){e.editor=t,t.on("KeyUp",function(t){e.submitNewContent()}),t.on("Change",function(t){e.editor.getContent()!==e.value&&e.submitNewContent()}),t.on("init",function(n){t.setContent(e.content),e.$emit("input",e.content)})}};o.a.init(this.concatAssciativeArrays(t,this.other_options))},concatAssciativeArrays:function(e,t){if(0===t.length)return e;if(0===e.length)return t;var n=[];for(var r in e)n[r]=e[r];for(var o in t)n[o]=t[o];return n},submitNewContent:function(){var e=this;this.isTyping=!0,null!==this.checkerTimeout&&clearTimeout(this.checkerTimeout),this.checkerTimeout=setTimeout(function(){e.isTyping=!1},300),this.$emit("input",this.editor.getContent())}}}},function(e,t,n){(function(t){!function(){var n={},r=function(e,t,r){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===r)throw"no definition function for "+e;n[e]={deps:t,defn:r,instance:void 0}},o=function(e){var t=n[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=n[e],r=t.deps,i=t.defn,a=r.length,c=new Array(a),s=0;s<a;++s)c[s]=o(r[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+e+"] returned undefined";t.instance=u}(e),t.instance},i=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=o(e[i]);t.apply(null,r)};({}).bolt={module:{api:{define:r,require:i,demand:o}}};var a=r,c=function(e,t){a(e,[],function(){return t})};c("global!Array",Array),c("global!Error",Error),a("ephox.katamari.api.Fun",["global!Array","global!Error"],function(e,t){var n=function(e){return function(){return e}};return{noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:n,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(t){for(var n=new e(arguments.length-1),r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){for(var r=new e(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];var i=n.concat(r);return t.apply(null,i)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new t(e)}},apply:function(e){return e()},call:function(e){e()},never:n(!1),always:n(!0)}}),c("global!window",window),c("global!Object",Object),a("ephox.katamari.api.Option",["ephox.katamari.api.Fun","global!Object"],function(e,t){var n=e.never,r=e.always,o=function(){return i},i=function(){var i=function(e){return e.isNone()},a=function(e){return e()},c=function(e){return e},s={fold:function(e,t){return e()},is:n,isSome:n,isNone:r,getOr:c,getOrThunk:a,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:c,orThunk:a,map:o,ap:o,each:function(){},bind:o,flatten:o,exists:n,forall:r,filter:o,equals:i,equals_:i,toArray:function(){return[]},toString:e.constant("none()")};return t.freeze&&t.freeze(s),s}(),a=function(e){var t=function(){return e},c=function(){return u},s=function(t){return t(e)},u={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:r,isNone:n,getOr:t,getOrThunk:t,getOrDie:t,or:c,orThunk:c,map:function(t){return a(t(e))},ap:function(t){return t.fold(o,function(t){return a(t(e))})},each:function(t){t(e)},bind:s,flatten:t,exists:s,forall:s,filter:function(t){return t(e)?u:i},equals:function(t){return t.is(e)},equals_:function(t,r){return t.fold(n,function(t){return r(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return u};return{some:a,none:o,from:function(e){return null===e||void 0===e?i:a(e)}}}),c("global!String",String),a("ephox.katamari.api.Arr",["ephox.katamari.api.Option","global!Array","global!Error","global!String"],function(e,t,n,r){var o=function(){var e=t.prototype.indexOf;return void 0===e?function(e,t){return f(e,t)}:function(t,n){return e.call(t,n)}}(),i=function(e,t){return o(e,t)>-1},a=function(e,n){for(var r=e.length,o=new t(r),i=0;i<r;i++){var a=e[i];o[i]=n(a,i,e)}return o},c=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n,e)}},s=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n,e)}},u=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},l=function(t,n){for(var r=0,o=t.length;r<o;r++){if(n(t[r],r,t))return e.some(r)}return e.none()},f=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},d=t.prototype.push,p=function(e){for(var r=[],o=0,i=e.length;o<i;++o){if(!t.prototype.isPrototypeOf(e[o]))throw new n("Arr.flatten item "+o+" was not an array, input: "+e);d.apply(r,e[o])}return r},m=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n,e))return!1}return!0},h=t.prototype.slice;return{map:a,each:c,eachr:s,partition:function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o,e)?n:r).push(a)}return{pass:n,fail:r}},filter:u,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var c=e[i],s=t(c);s!==n&&(r.push(o),o=[]),n=s,o.push(c)}return 0!==o.length&&r.push(o),r},indexOf:function(t,n){var r=o(t,n);return-1===r?e.none():e.some(r)},foldr:function(e,t,n){return s(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return c(e,function(e){n=t(n,e)}),n},find:function(t,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(n(i,r,t))return e.some(i)}return e.none()},findIndex:l,flatten:p,bind:function(e,t){var n=a(e,t);return p(n)},forall:m,exists:function(e,t){return l(e,t).isSome()},contains:i,equal:function(e,t){return e.length===t.length&&m(e,function(e,n){return e===t[n]})},reverse:function(e){var t=h.call(e,0);return t.reverse(),t},chunk:function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=e.slice(r,r+t);n.push(o)}return n},difference:function(e,t){return u(e,function(e){return!i(t,e)})},mapToObject:function(e,t){for(var n={},o=0,i=e.length;o<i;o++){var a=e[o];n[r(a)]=t(a,o)}return n},pure:function(e){return[e]},sort:function(e,t){var n=h.call(e,0);return n.sort(t),n},range:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},head:function(t){return 0===t.length?e.none():e.some(t[0])},last:function(t){return 0===t.length?e.none():e.some(t[t.length-1])}}}),c("global!document",document),a("ephox.katamari.api.Global",[],function(){return"undefined"!=typeof window?window:Function("return this;")()}),a("ephox.katamari.api.Resolve",["ephox.katamari.api.Global"],function(e){var t=function(t,n){for(var r=void 0!==n?n:e,o=0;o<t.length&&void 0!==r&&null!==r;++o)r=r[t[o]];return r},n=function(e,t){return void 0!==e[t]&&null!==e[t]||(e[t]={}),e[t]},r=function(t,r){for(var o=void 0!==r?r:e,i=0;i<t.length;++i)o=n(o,t[i]);return o};return{path:t,resolve:function(e,n){var r=e.split(".");return t(r,n)},forge:r,namespace:function(e,t){var n=e.split(".");return r(n,t)}}}),a("ephox.sand.util.Global",["ephox.katamari.api.Resolve"],function(e){return{getOrDie:function(t,n){var r=function(t,n){return e.resolve(t,n)}(t,n);if(void 0===r)throw t+" not available on this browser";return r}}}),a("ephox.sand.api.URL",["ephox.sand.util.Global"],function(e){var t=function(){return e.getOrDie("URL")};return{createObjectURL:function(e){return t().createObjectURL(e)},revokeObjectURL:function(e){t().revokeObjectURL(e)}}}),c("global!matchMedia",matchMedia),c("global!navigator",navigator),a("tinymce.core.Env",["ephox.sand.api.URL","global!document","global!matchMedia","global!navigator","global!window"],function(e,t,n,r,o){var i,a,c,s,u,l,f,d,p,m,h,g,v,y=r,b=y.userAgent,x=function(e){return"matchMedia"in o&&n(e).matches};i=o.opera&&o.opera.buildNumber,p=/Android/.test(b),c=(c=!(a=/WebKit/.test(b))&&!i&&/MSIE/gi.test(b)&&/Explorer/gi.test(y.appName))&&/MSIE (\w+)\./.exec(b)[1],s=-1!=b.indexOf("Trident/")&&(-1!=b.indexOf("rv:")||-1!=y.appName.indexOf("Netscape"))&&11,u=-1!=b.indexOf("Edge/")&&!c&&!s&&12,c=c||s||u,l=!a&&!s&&/Gecko/.test(b),f=-1!=b.indexOf("Mac"),d=/(iPad|iPhone)/.test(b),m="FormData"in o&&"FileReader"in o&&"URL"in o&&!!e.createObjectURL,h=x("only screen and (max-device-width: 480px)")&&(p||d),g=x("only screen and (min-width: 800px)")&&(p||d),v=-1!=b.indexOf("Windows Phone"),u&&(a=!1);return{opera:i,webkit:a,ie:c,gecko:l,mac:f,iOS:d,android:p,contentEditable:!d||m||b.match(/AppleWebKit\/(\d*)/)[1]>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=c,range:o.getSelection&&"Range"in o,documentMode:c&&!u?t.documentMode||7:10,fileApi:m,ceFalse:!1===c||c>8,canHaveCSP:!1===c||c>11,desktop:!h&&!g,windowsPhone:v}}),c("global!clearInterval",clearInterval),c("global!clearTimeout",clearTimeout),c("global!setInterval",setInterval),c("global!setTimeout",setTimeout),a("tinymce.core.util.Promise",[],function(){function e(e,t){return function(){e.apply(t,arguments)}}function n(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(t,e(o,this),e(i,this))}function r(e){var t=this;null!==this._state?s(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)}):this._deferreds.push(e)}function o(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void c(e(n,t),e(o,this),e(i,this))}this._state=!0,this._value=t,a.call(this)}catch(e){i.call(this,e)}}function i(e){this._state=!1,this._value=e,a.call(this)}function a(){for(var e=0,t=this._deferreds.length;e<t;e++)r.call(this,this._deferreds[e]);this._deferreds=null}function c(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(e){if(r)return;r=!0,n(e)}}if(window.Promise)return window.Promise;var s=n.immediateFn||"function"==typeof t&&t||function(e){setTimeout(e,1)},u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,t){var o=this;return new n(function(n,i){r.call(o,new function(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}(e,t,n,i))})},n.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&u(arguments[0])?arguments[0]:arguments);return new n(function(t,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var c=a.then;if("function"==typeof c)return void c.call(a,function(e){r(i,e)},n)}e[i]=a,0==--o&&t(e)}catch(e){n(e)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n(function(t){t(e)})},n.reject=function(e){return new n(function(t,n){n(e)})},n.race=function(e){return new n(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},n}),a("tinymce.core.util.Delay",["global!clearInterval","global!clearTimeout","global!document","global!setInterval","global!setTimeout","global!window","tinymce.core.util.Promise"],function(e,t,n,r,o,i,a){var c,s=function(e,t){return"number"!=typeof t&&(t=0),o(e,t)},u=function(e,t){return"number"!=typeof t&&(t=1),r(e,t)},l=function(e,n){var r,o;return o=function(){var o=arguments;t(r),r=s(function(){e.apply(this,o)},n)},o.stop=function(){t(r)},o};return{requestAnimationFrame:function(e,t){c?c.then(e):c=new a(function(e){t||(t=n.body),function(e,t){var n,r=i.requestAnimationFrame,o=["ms","moz","webkit"],a=function(e){i.setTimeout(e,0)};for(n=0;n<o.length&&!r;n++)r=i[o[n]+"RequestAnimationFrame"];r||(r=a),r(e,t)}(e,t)}).then(e)},setTimeout:s,setInterval:u,setEditorTimeout:function(e,t,n){return s(function(){e.removed||t()},n)},setEditorInterval:function(t,n,r){var o;return o=u(function(){t.removed?e(o):n()},r)},debounce:l,throttle:l,clearInterval:function(t){return e(t)},clearTimeout:function(e){return t(e)}}}),a("tinymce.core.dom.EventUtils",["global!document","global!window","tinymce.core.Env","tinymce.core.util.Delay"],function(e,t,n,r){"use strict";var o=/^(?:mouse|contextmenu)|click/,i={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},a=function(){return!1},c=function(){return!0},s=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},u=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},l=function(t,r){var s,u=r||{};for(s in t)i[s]||(u[s]=t[s]);if(u.target||(u.target=u.srcElement||e),n.experimentalShadowDom&&(u.target=function(e,t){var n,r=t;return(n=e.path)&&n.length>0&&(r=n[0]),e.deepPath&&(n=e.deepPath())&&n.length>0&&(r=n[0]),r}(t,u.target)),t&&o.test(t.type)&&void 0===t.pageX&&void 0!==t.clientX){var l=u.target.ownerDocument||e,f=l.documentElement,d=l.body;u.pageX=t.clientX+(f&&f.scrollLeft||d&&d.scrollLeft||0)-(f&&f.clientLeft||d&&d.clientLeft||0),u.pageY=t.clientY+(f&&f.scrollTop||d&&d.scrollTop||0)-(f&&f.clientTop||d&&d.clientTop||0)}return u.preventDefault=function(){u.isDefaultPrevented=c,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},u.stopPropagation=function(){u.isPropagationStopped=c,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},u.stopImmediatePropagation=function(){u.isImmediatePropagationStopped=c,u.stopPropagation()},!1===function(e){return e.isDefaultPrevented===c||e.isDefaultPrevented===a}(u)&&(u.isDefaultPrevented=a,u.isPropagationStopped=a,u.isImmediatePropagationStopped=a),void 0===u.metaKey&&(u.metaKey=!1),u},f=function(e,t,o){var i=e.document,a={type:"ready"};if(o.domLoaded)t(a);else{var c=function(){return"complete"===i.readyState||"interactive"===i.readyState&&i.body},l=function(){o.domLoaded||(o.domLoaded=!0,t(a))},f=function(){c()&&(u(i,"readystatechange",f),l())},d=function(){try{i.documentElement.doScroll("left")}catch(e){return void r.setTimeout(d)}l()};!i.addEventListener||n.ie&&n.ie<11?(s(i,"readystatechange",f),i.documentElement.doScroll&&e.self===e.top&&d()):c()?l():s(e,"DOMContentLoaded",l),s(e,"load",l)}},d=function(){var n,r,o,i,a,c=this,d={};r="mce-data-"+(+new Date).toString(32),i="onmouseenter"in e.documentElement,o="onfocusin"in e.documentElement,a={mouseenter:"mouseover",mouseleave:"mouseout"},n=1,c.domLoaded=!1,c.events=d;var p=function(e,t){var n,r,o,i,a=d[t];if(n=a&&a[e.type])for(r=0,o=n.length;r<o;r++)if((i=n[r])&&!1===i.func.call(i.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return};c.bind=function(e,u,m,h){var g,v,y,b,x,w,C,k=t,T=function(e){p(l(e||k.event),g)};if(e&&3!==e.nodeType&&8!==e.nodeType){for(e[r]?g=e[r]:(g=n++,e[r]=g,d[g]={}),h=h||e,y=(u=u.split(" ")).length;y--;)w=T,x=C=!1,"DOMContentLoaded"===(b=u[y])&&(b="ready"),c.domLoaded&&"ready"===b&&"complete"==e.readyState?m.call(h,l({type:b})):(i||(x=a[b])&&(w=function(e){var t,n;if(t=e.currentTarget,(n=e.relatedTarget)&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=l(e||k.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,p(e,g))}),o||"focusin"!==b&&"focusout"!==b||(C=!0,x="focusin"===b?"focus":"blur",w=function(e){(e=l(e||k.event)).type="focus"===e.type?"focusin":"focusout",p(e,g)}),(v=d[g][b])?"ready"===b&&c.domLoaded?m({type:b}):v.push({func:m,scope:h}):(d[g][b]=v=[{func:m,scope:h}],v.fakeName=x,v.capture=C,v.nativeHandler=w,"ready"===b?f(e,w,c):s(e,x||b,w,C)));return e=v=0,m}},c.unbind=function(e,t,n){var o,i,a,s,l,f;if(!e||3===e.nodeType||8===e.nodeType)return c;if(o=e[r]){if(f=d[o],t){for(a=(t=t.split(" ")).length;a--;)if(l=t[a],i=f[l]){if(n)for(s=i.length;s--;)if(i[s].func===n){var p=i.nativeHandler,m=i.fakeName,h=i.capture;(i=i.slice(0,s).concat(i.slice(s+1))).nativeHandler=p,i.fakeName=m,i.capture=h,f[l]=i}n&&0!==i.length||(delete f[l],u(e,i.fakeName||l,i.nativeHandler,i.capture))}}else{for(l in f)i=f[l],u(e,i.fakeName||l,i.nativeHandler,i.capture);f={}}for(l in f)return c;delete d[o];try{delete e[r]}catch(t){e[r]=null}}return c},c.fire=function(e,t,n){var o;if(!e||3===e.nodeType||8===e.nodeType)return c;(n=l(null,n)).type=t,n.target=e;do{(o=e[r])&&p(n,o),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!n.isPropagationStopped());return c},c.clean=function(e){var t,n,o=c.unbind;if(!e||3===e.nodeType||8===e.nodeType)return c;if(e[r]&&o(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(o(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[r]&&o(e);return c},c.destroy=function(){d={}},c.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}};return(d.Event=new d).bind(t,"ready",function(){}),d}),a("tinymce.core.dom.Sizzle",[],function(){function e(e,t,n,r){var o,i,a,s,l,f,d,p,m,h;if((t?t.ownerDocument||t:B)!==E&&S(t),t=t||E,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(N&&!r){if(o=le.exec(e))if(a=o[1]){if(9===s){if(!(i=t.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&P(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return K.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&g.getElementsByClassName)return K.apply(n,t.getElementsByClassName(a)),n}if(g.qsa&&(!D||!D.test(e))){if(p=d=O,m=t,h=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(f=x(e),(d=t.getAttribute("id"))?p=d.replace(de,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=f.length;l--;)f[l]=p+u(f[l]);m=fe.test(e)&&c(t.parentNode)||t,h=f.join(",")}if(h)try{return K.apply(n,m.querySelectorAll(h)),n}catch(e){}finally{d||t.removeAttribute("id")}}}return C(e.replace(ee,"$1"),t,n,r)}function t(){function e(n,r){return t.push(n+" ")>v.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function n(e){return e[O]=!0,e}function r(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||j)-(~e.sourceIndex||j);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function o(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function i(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function a(e){return n(function(t){return t=+t,n(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function c(e){return e&&typeof e.getElementsByTagName!==z&&e}function s(){}function u(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function l(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=M++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var c,s,u=[I,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if(s=t[O]||(t[O]={}),(c=s[r])&&c[0]===I&&c[1]===i)return u[2]=c[2];if(s[r]=u,u[2]=e(t,n,a))return!0}}}function f(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function d(e,t,n,r,o){for(var i,a=[],c=0,s=e.length,u=null!=t;c<s;c++)(i=e[c])&&(n&&!n(i,r,o)||(a.push(i),u&&t.push(c)));return a}function p(t,r,o,i,a,c){return i&&!i[O]&&(i=p(i)),a&&!a[O]&&(a=p(a,c)),n(function(n,c,s,u){var l,f,p,m=[],h=[],g=c.length,v=n||function(t,n,r){for(var o=0,i=n.length;o<i;o++)e(t,n[o],r);return r}(r||"*",s.nodeType?[s]:s,[]),y=!t||!n&&r?v:d(v,m,t,s,u),b=o?a||(n?t:g||i)?[]:c:y;if(o&&o(y,b,s,u),i)for(l=d(b,h),i(l,[],s,u),f=l.length;f--;)(p=l[f])&&(b[h[f]]=!(y[h[f]]=p));if(n){if(a||t){if(a){for(l=[],f=b.length;f--;)(p=b[f])&&l.push(y[f]=p);a(null,b=[],l,u)}for(f=b.length;f--;)(p=b[f])&&(l=a?X.call(n,p):m[f])>-1&&(n[l]=!(c[l]=p))}}else b=d(b===c?b.splice(g,b.length):b),a?a(null,c,b,u):K.apply(c,b)})}function m(e){for(var t,n,r,o=e.length,i=v.relative[e[0].type],a=i||v.relative[" "],c=i?1:0,s=l(function(e){return e===t},a,!0),d=l(function(e){return X.call(t,e)>-1},a,!0),h=[function(e,n,r){return!i&&(r||n!==k)||((t=n).nodeType?s(e,n,r):d(e,n,r))}];c<o;c++)if(n=v.relative[e[c].type])h=[l(f(h),n)];else{if((n=v.filter[e[c].type].apply(null,e[c].matches))[O]){for(r=++c;r<o&&!v.relative[e[r].type];r++);return p(c>1&&f(h),c>1&&u(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(ee,"$1"),n,c<r&&m(e.slice(c,r)),r<o&&m(e=e.slice(r)),r<o&&u(e))}h.push(n)}return f(h)}var h,g,v,y,b,x,w,C,k,T,_,S,E,A,N,D,R,P,O="sizzle"+-new Date,B=window.document,I=0,M=0,L=t(),F=t(),U=t(),H=function(e,t){return e===t&&(_=!0),0},z="undefined",j=1<<31,W={}.hasOwnProperty,$=[],q=$.pop,V=$.push,K=$.push,G=$.slice,X=$.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},Y="[\\x20\\t\\r\\n\\f]",J="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Q="\\["+Y+"*("+J+")(?:"+Y+"*([*^$|!~]?=)"+Y+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+J+"))|)"+Y+"*\\]",Z=":("+J+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Q+")*)|.*)\\)|)",ee=new RegExp("^"+Y+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Y+"+$","g"),te=new RegExp("^"+Y+"*,"+Y+"*"),ne=new RegExp("^"+Y+"*([>+~]|"+Y+")"+Y+"*"),re=new RegExp("="+Y+"*([^\\]'\"]*?)"+Y+"*\\]","g"),oe=new RegExp(Z),ie=new RegExp("^"+J+"$"),ae={ID:new RegExp("^#("+J+")"),CLASS:new RegExp("^\\.("+J+")"),TAG:new RegExp("^("+J+"|[*])"),ATTR:new RegExp("^"+Q),PSEUDO:new RegExp("^"+Z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Y+"*(even|odd|(([+-]|)(\\d*)n|)"+Y+"*(?:([+-]|)"+Y+"*(\\d+)|))"+Y+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+Y+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Y+"*((?:-\\d)?\\d*)"+Y+"*\\)|)(?=[^-]|$)","i")},ce=/^(?:input|select|textarea|button)$/i,se=/^h\d$/i,ue=/^[^{]+\{\s*\[native \w/,le=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fe=/[+~]/,de=/'|\\/g,pe=new RegExp("\\\\([\\da-f]{1,6}"+Y+"?|("+Y+")|.)","ig"),me=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{K.apply($=G.call(B.childNodes),B.childNodes),$[B.childNodes.length].nodeType}catch(e){K={apply:$.length?function(e,t){V.apply(e,G.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}g=e.support={},b=e.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},S=e.setDocument=function(e){var t,n=e?e.ownerDocument||e:B,o=n.defaultView;return n!==E&&9===n.nodeType&&n.documentElement?(E=n,A=n.documentElement,N=!b(n),o&&o!==function(e){try{return e.top}catch(e){}return null}(o)&&(o.addEventListener?o.addEventListener("unload",function(){S()},!1):o.attachEvent&&o.attachEvent("onunload",function(){S()})),g.attributes=!0,g.getElementsByTagName=!0,g.getElementsByClassName=ue.test(n.getElementsByClassName),g.getById=!0,v.find.ID=function(e,t){if(typeof t.getElementById!==z&&N){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},v.filter.ID=function(e){var t=e.replace(pe,me);return function(e){return e.getAttribute("id")===t}},v.find.TAG=g.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==z)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},v.find.CLASS=g.getElementsByClassName&&function(e,t){if(N)return t.getElementsByClassName(e)},R=[],D=[],g.disconnectedMatch=!0,D=D.length&&new RegExp(D.join("|")),R=R.length&&new RegExp(R.join("|")),t=ue.test(A.compareDocumentPosition),P=t||ue.test(A.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},H=t?function(e,t){if(e===t)return _=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===B&&P(B,e)?-1:t===n||t.ownerDocument===B&&P(B,t)?1:T?X.call(T,e)-X.call(T,t):0:4&r?-1:1)}:function(e,t){if(e===t)return _=!0,0;var o,i=0,a=e.parentNode,c=t.parentNode,s=[e],u=[t];if(!a||!c)return e===n?-1:t===n?1:a?-1:c?1:T?X.call(T,e)-X.call(T,t):0;if(a===c)return r(e,t);for(o=e;o=o.parentNode;)s.unshift(o);for(o=t;o=o.parentNode;)u.unshift(o);for(;s[i]===u[i];)i++;return i?r(s[i],u[i]):s[i]===B?-1:u[i]===B?1:0},n):E},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==E&&S(t),n=n.replace(re,"='$1']"),g.matchesSelector&&N&&(!R||!R.test(n))&&(!D||!D.test(n)))try{var r=(void 0).call(t,n);if(r||g.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(e){}return e(n,E,null,[t]).length>0},e.contains=function(e,t){return(e.ownerDocument||e)!==E&&S(e),P(e,t)},e.attr=function(e,t){(e.ownerDocument||e)!==E&&S(e);var n=v.attrHandle[t.toLowerCase()],r=n&&W.call(v.attrHandle,t.toLowerCase())?n(e,t,!N):void 0;return void 0!==r?r:g.attributes||!N?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},e.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},e.uniqueSort=function(e){var t,n=[],r=0,o=0;if(_=!g.detectDuplicates,T=!g.sortStable&&e.slice(0),e.sort(H),_){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return T=null,e},y=e.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=y(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=y(t);return n},(v=e.selectors={cacheLength:50,createPseudo:n,match:ae,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(pe,me),e[3]=(e[3]||e[4]||e[5]||"").replace(pe,me),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ae.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&oe.test(n)&&(t=x(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(pe,me).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=L[e+" "];return t||(t=new RegExp("(^|"+Y+")"+e+"("+Y+"|$)"))&&L(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==z&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(o){var i=e.attr(o,t);return null==i?"!="===n:!n||(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i+" ").indexOf(r)>-1:"|="===n&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),c="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,s){var u,l,f,d,p,m,h=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=c&&t.nodeName.toLowerCase(),y=!s&&!c;if(g){if(i){for(;h;){for(f=t;f=f[h];)if(c?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;m=h="only"===e&&!m&&"nextSibling"}return!0}if(m=[a?g.firstChild:g.lastChild],a&&y){for(p=(u=(l=g[O]||(g[O]={}))[e]||[])[0]===I&&u[1],d=u[0]===I&&u[2],f=p&&g.childNodes[p];f=++p&&f&&f[h]||(d=p=0)||m.pop();)if(1===f.nodeType&&++d&&f===t){l[e]=[I,p,d];break}}else if(y&&(u=(t[O]||(t[O]={}))[e])&&u[0]===I)d=u[1];else for(;(f=++p&&f&&f[h]||(d=p=0)||m.pop())&&((c?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(y&&((f[O]||(f[O]={}))[e]=[I,d]),f!==t)););return(d-=o)===r||d%r==0&&d/r>=0}}},PSEUDO:function(t,r){var o,i=v.pseudos[t]||v.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return i[O]?i(r):i.length>1?(o=[t,t,"",r],v.setFilters.hasOwnProperty(t.toLowerCase())?n(function(e,t){for(var n,o=i(e,r),a=o.length;a--;)e[n=X.call(e,o[a])]=!(t[n]=o[a])}):function(e){return i(e,0,o)}):i}},pseudos:{not:n(function(e){var t=[],r=[],o=w(e.replace(ee,"$1"));return o[O]?n(function(e,t,n,r){for(var i,a=o(e,null,r,[]),c=e.length;c--;)(i=a[c])&&(e[c]=!(t[c]=i))}):function(e,n,i){return t[0]=e,o(t,null,i,r),!r.pop()}}),has:n(function(t){return function(n){return e(t,n).length>0}}),contains:n(function(e){return e=e.replace(pe,me),function(t){return(t.textContent||t.innerText||y(t)).indexOf(e)>-1}}),lang:n(function(t){return ie.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(pe,me).toLowerCase(),function(e){var n;do{if(n=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===A},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!v.pseudos.empty(e)},header:function(e){return se.test(e.nodeName)},input:function(e){return ce.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,n){return[n<0?n+t:n]}),even:a(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:a(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:a(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:a(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=v.pseudos.eq;for(h in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})v.pseudos[h]=o(h);for(h in{submit:!0,reset:!0})v.pseudos[h]=i(h);return s.prototype=v.filters=v.pseudos,v.setFilters=new s,x=e.tokenize=function(t,n){var r,o,i,a,c,s,u,l=F[t+" "];if(l)return n?0:l.slice(0);for(c=t,s=[],u=v.preFilter;c;){r&&!(o=te.exec(c))||(o&&(c=c.slice(o[0].length)||c),s.push(i=[])),r=!1,(o=ne.exec(c))&&(r=o.shift(),i.push({value:r,type:o[0].replace(ee," ")}),c=c.slice(r.length));for(a in v.filter)!(o=ae[a].exec(c))||u[a]&&!(o=u[a](o))||(r=o.shift(),i.push({value:r,type:a,matches:o}),c=c.slice(r.length));if(!r)break}return n?c.length:c?e.error(t):F(t,s).slice(0)},w=e.compile=function(t,r){var o,i=[],a=[],c=U[t+" "];if(!c){for(r||(r=x(t)),o=r.length;o--;)(c=m(r[o]))[O]?i.push(c):a.push(c);(c=U(t,function(t,r){var o=r.length>0,i=t.length>0,a=function(n,a,c,s,u){var l,f,p,m=0,h="0",g=n&&[],y=[],b=k,x=n||i&&v.find.TAG("*",u),w=I+=null==b?1:Math.random()||.1,C=x.length;for(u&&(k=a!==E&&a);h!==C&&null!=(l=x[h]);h++){if(i&&l){for(f=0;p=t[f++];)if(p(l,a,c)){s.push(l);break}u&&(I=w)}o&&((l=!p&&l)&&m--,n&&g.push(l))}if(m+=h,o&&h!==m){for(f=0;p=r[f++];)p(g,y,a,c);if(n){if(m>0)for(;h--;)g[h]||y[h]||(y[h]=q.call(s));y=d(y)}K.apply(s,y),u&&!n&&y.length>0&&m+r.length>1&&e.uniqueSort(s)}return u&&(I=w,k=b),g};return o?n(a):a}(a,i))).selector=t}return c},C=e.select=function(e,t,n,r){var o,i,a,s,l,f="function"==typeof e&&e,d=!r&&x(e=f.selector||e);if(n=n||[],1===d.length){if((i=d[0]=d[0].slice(0)).length>2&&"ID"===(a=i[0]).type&&g.getById&&9===t.nodeType&&N&&v.relative[i[1].type]){if(!(t=(v.find.ID(a.matches[0].replace(pe,me),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=ae.needsContext.test(e)?0:i.length;o--&&(a=i[o],!v.relative[s=a.type]);)if((l=v.find[s])&&(r=l(a.matches[0].replace(pe,me),fe.test(i[0].type)&&c(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&u(i)))return K.apply(n,r),n;break}}return(f||w(e,d))(r,t,!N,n,fe.test(e)&&c(t.parentNode)||t),n},g.sortStable=O.split("").sort(H).join("")===O,g.detectDuplicates=!!_,S(),g.sortDetached=!0,e}),a("tinymce.core.util.Arr",[],function(){var e=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},t=function(e,t,n){var r,o;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1},n=function(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1};return{isArray:e,toArray:function(t){var n,r,o=t;if(!e(t))for(o=[],n=0,r=t.length;n<r;n++)o[n]=t[n];return o},each:t,map:function(e,n){var r=[];return t(e,function(t,o){r.push(n(t,o,e))}),r},filter:function(e,n){var r=[];return t(e,function(t,o){n&&!n(t,o,e)||r.push(t)}),r},indexOf:function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},reduce:function(e,t,n,r){var o=0;for(arguments.length<3&&(n=e[0]);o<e.length;o++)n=t.call(r,n,e[o],o);return n},findIndex:n,find:function(e,t,r){var o=n(e,t,r);if(-1!==o)return e[o]},last:function(e){return e[e.length-1]}}}),a("tinymce.core.util.Tools",["global!window","tinymce.core.Env","tinymce.core.util.Arr"],function(e,t,n){var r=/^\s*|\s*$/g,o=function(e){return null===e||void 0===e?"":(""+e).replace(r,"")},i=function(e,t){return t?!("array"!=t||!n.isArray(e))||typeof e==t:void 0!==e},a=function(e,t,r,o){o=o||this,e&&(r&&(e=e[r]),n.each(e,function(e,n){if(!1===t.call(o,e,n,r))return!1;a(e,t,r,o)}))};return{trim:o,isArray:n.isArray,is:i,toArray:n.toArray,makeMap:function(e,t,n){var r;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},each:n.each,map:n.map,grep:n.filter,inArray:n.indexOf,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e,t){var n,r,o,i,a=arguments;for(n=1,r=a.length;n<r;n++){t=a[n];for(o in t)t.hasOwnProperty(o)&&void 0!==(i=t[o])&&(e[o]=i)}return e},create:function(e,t,n){var r,o,i,a,c,s=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),i=e[3].match(/(^|\.)(\w+)$/i)[2],!(o=this.createNS(e[3].replace(/\.\w+$/,""),n))[i]){if("static"==e[2])return o[i]=t,void(this.onCreate&&this.onCreate(e[2],e[3],o[i]));t[i]||(t[i]=function(){},s=1),o[i]=t[i],this.extend(o[i].prototype,t),e[5]&&(r=this.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],c=o[i],o[i]=s?function(){return r[a].apply(this,arguments)}:function(){return this.parent=r[a],c.apply(this,arguments)},o[i].prototype[i]=o[i],this.each(r,function(e,t){o[i].prototype[t]=r[t]}),this.each(t,function(e,t){r[t]?o[i].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!=i&&(o[i].prototype[t]=e)})),this.each(t.static,function(e,t){o[i][t]=e})}},walk:a,createNS:function(t,n){var r,o;for(n=n||e,t=t.split("."),r=0;r<t.length;r++)n[o=t[r]]||(n[o]={}),n=n[o];return n},resolve:function(t,n){var r,o;for(n=n||e,r=0,o=(t=t.split(".")).length;r<o&&(n=n[t[r]]);r++);return n},explode:function(e,t){return!e||i(e,"array")?e:n.map(e.split(t||","),o)},_addCacheSuffix:function(e){var n=t.cacheSuffix;return n&&(e+=(-1===e.indexOf("?")?"?":"&")+n),e}}}),a("tinymce.core.dom.DomQuery",["global!document","tinymce.core.dom.EventUtils","tinymce.core.dom.Sizzle","tinymce.core.Env","tinymce.core.util.Tools"],function(e,t,n,r,o){var i=e,a=Array.prototype.push,c=Array.prototype.slice,s=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,u=t.Event,l=o.makeMap("children,contents,next,prev"),f=function(e){return void 0!==e},d=function(e){return"string"==typeof e},p=function(e,t){var n,r,o;for(o=(t=t||i).createElement("div"),n=t.createDocumentFragment(),o.innerHTML=e;r=o.firstChild;)n.appendChild(r);return n},m=function(e,t,n,r){var o;if(d(t))t=p(t,A(e[0]));else if(t.length&&!t.nodeType){if(t=k.makeArray(t),r)for(o=t.length-1;o>=0;o--)m(e,t[o],n,r);else for(o=0;o<t.length;o++)m(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e},h=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},g=function(e,t,n){var r,o;return t=k(t)[0],e.each(function(){n&&r==this.parentNode?o.appendChild(this):(r=this.parentNode,o=t.cloneNode(!1),this.parentNode.insertBefore(o,this),o.appendChild(this))}),e},v=o.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),y=o.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),b={for:"htmlFor",class:"className",readonly:"readOnly"},x={float:"cssFloat"},w={},C={},k=function(e,t){return new k.fn.init(e,t)},T=/^\s*|\s*$/g,_=function(e){return null===e||void 0===e?"":(""+e).replace(T,"")},S=function(e,t){var n,r,o,i;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++);return e},E=function(e,t){var n=[];return S(e,function(e,r){t(r,e)&&n.push(r)}),n},A=function(e){return e?9==e.nodeType?e:e.ownerDocument:i};k.fn=k.prototype={constructor:k,selector:"",context:null,length:0,init:function(t,n){var r,o;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if(n&&n.nodeType)this.context=n;else{if(n)return k(t).attr(n);this.context=n=e}if(d(t)){if(this.selector=t,!(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:s.exec(t)))return k(n).find(t);if(r[1])for(o=p(t,A(n)).firstChild;o;)a.call(this,o),o=o.nextSibling;else{if(!(o=A(n).getElementById(r[2])))return this;if(o.id!==r[2])return this.find(t);this.length=1,this[0]=o}}else this.add(t,!1);return this},toArray:function(){return o.toArray(this)},add:function(e,t){var n,r;if(d(e))return this.add(k(e));if(!1!==t)for(n=k.unique(this.toArray().concat(k.makeArray(e))),this.length=n.length,r=0;r<n.length;r++)this[r]=n[r];else a.apply(this,k.makeArray(e));return this},attr:function(e,t){var n,r=this;if("object"==typeof e)S(e,function(e,t){r.attr(e,t)});else{if(!f(t)){if(r[0]&&1===r[0].nodeType){if((n=w[e])&&n.get)return n.get(r[0],e);if(y[e])return r.prop(e)?e:void 0;null===(t=r[0].getAttribute(e,2))&&(t=void 0)}return t}this.each(function(){var n;if(1===this.nodeType){if((n=w[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=b[e]||e))S(e,function(e,t){n.prop(e,t)});else{if(!f(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1==this.nodeType&&(this[e]=t)})}return n},css:function(e,t){var n,r,o=this,i=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},a=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof e)S(e,function(e,t){o.css(e,t)});else if(f(t))e=i(e),"number"!=typeof t||v[e]||(t+="px"),o.each(function(){var n=this.style;if((r=C[e])&&r.set)r.set(this,t);else{try{this.style[x[e]||e]=t}catch(e){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))}});else{if(n=o[0],(r=C[e])&&r.get)return r.get(n);if(n.ownerDocument.defaultView)try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(e){return}else if(n.currentStyle)return n.currentStyle[i(e)]}return o},remove:function(){for(var e,t=this.length;t--;)e=this[t],u.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t;if(f(e)){t=this.length;try{for(;t--;)this[t].innerHTML=e}catch(n){k(this[t]).empty().append(e)}return this}return this[0]?this[0].innerHTML:""},text:function(e){var t;if(f(e)){for(t=this.length;t--;)"innerText"in this[t]?this[t].innerText=e:this[0].textContent=e;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return m(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return m(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?m(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?m(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return k(e).append(this),this},prependTo:function(e){return k(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return g(this,e)},wrapAll:function(e){return g(this,e,!0)},wrapInner:function(e){return this.each(function(){k(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){k(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),k(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(-1!==e.indexOf(" ")?S(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,r){var o,i;(i=h(r,e))!==t&&(o=r.className,i?r.className=_((" "+o+" ").replace(" "+e+" "," ")):r.className+=o?" "+e:e)}),n)},hasClass:function(e){return h(this[0],e)},each:function(e){return S(this,e)},on:function(e,t){return this.each(function(){u.bind(this,e,t)})},off:function(e,t){return this.each(function(){u.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?u.fire(this,e.type,e):u.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new k(c.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)k.find(e,this[t],r);return k(r)},filter:function(e){return k("function"==typeof e?E(this.toArray(),function(t,n){return e(n,t)}):k.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof k&&(e=e[0]),this.each(function(n,r){for(;r;){if("string"==typeof e&&k(r).is(e)){t.push(r);break}if(r==e){t.push(r);break}r=r.parentNode}}),k(t)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):((t=this[0])&&(r=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(i=(o=t.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:a,sort:[].sort,splice:[].splice},o.extend(k,{extend:o.extend,makeArray:function(e){return function(e){return e&&e==e.window}(e)||e.nodeType?[e]:o.toArray(e)},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:o.isArray,each:S,trim:_,grep:E,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,contains:n.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!=t[r].nodeType&&t.splice(r,1);return t=1===t.length?k.find.matchesSelector(t[0],e)?[t[0]]:[]:k.find.matches(e,t)}});var N=function(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof k&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&k(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},D=function(e,t,n,r){var o=[];for(r instanceof k&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&k(e).is(r))break}o.push(e)}return o},R=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType==n)return e;return null};S({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return N(e,"parentNode")},next:function(e){return R(e,"nextSibling",1)},prev:function(e){return R(e,"previousSibling",1)},children:function(e){return D(e.firstChild,"nextSibling",1)},contents:function(e){return o.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){k.fn[e]=function(n){var r=[];return this.each(function(){var e=t.call(r,this,n,r);e&&(k.isArray(e)?r.push.apply(r,e):r.push(e))}),this.length>1&&(l[e]||(r=k.unique(r)),0===e.indexOf("parents")&&(r=r.reverse())),r=k(r),n?r.filter(n):r}}),S({parentsUntil:function(e,t){return N(e,"parentNode",t)},nextUntil:function(e,t){return D(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return D(e,"previousSibling",1,t).slice(1)}},function(e,t){k.fn[e]=function(n,r){var o=[];return this.each(function(){var e=t.call(o,this,n,o);e&&(k.isArray(e)?o.push.apply(o,e):o.push(e))}),this.length>1&&(o=k.unique(o),0!==e.indexOf("parents")&&"prevUntil"!==e||(o=o.reverse())),o=k(o),r?o.filter(r):o}}),k.fn.is=function(e){return!!e&&this.filter(e).length>0},k.fn.init.prototype=k.fn,k.overrideDefaults=function(e){var t,n=function(r,o){return t=t||e(),0===arguments.length&&(r=t.element),o||(o=t.context),new n.fn.init(r,o)};return k.extend(n,this),n};var P=function(e,t,n){S(n,function(n,r){e[n]=e[n]||{},e[n][t]=r})};return r.ie&&r.ie<8&&(P(w,"get",{maxlength:function(e){var t=e.maxLength;if(2147483647!==t)return t},size:function(e){var t=e.size;if(20!==t)return t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;if(0!==t.length)return t}}),P(w,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),r.ie&&r.ie<9&&(x.float="styleFloat",P(C,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),k.attrHooks=w,k.cssHooks=C,k}),a("ephox.katamari.api.Thunk",[],function(){return{cached:function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}}}}),c("global!Number",Number),a("ephox.sand.detect.Version",["ephox.katamari.api.Arr","global!Number","global!String"],function(e,t,n){var r=function(){return o(0,0)},o=function(e,t){return{major:e,minor:t}};return{nu:o,detect:function(e,i){var a=n(i).toLowerCase();return 0===e.length?r():function(e,n){var r=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,n);if(!r)return{major:0,minor:0};var i=function(e){return t(n.replace(r,"$"+e))};return o(i(1),i(2))}(e,a)},unknown:r}}),a("ephox.sand.core.Browser",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(e,t){var n=function(e,t){return function(){return t===e}},r=function(e){var t=e.current;return{current:t,version:e.version,isEdge:n("Edge",t),isChrome:n("Chrome",t),isIE:n("IE",t),isOpera:n("Opera",t),isFirefox:n("Firefox",t),isSafari:n("Safari",t)}};return{unknown:function(){return r({current:void 0,version:t.unknown()})},nu:r,edge:e.constant("Edge"),chrome:e.constant("Chrome"),ie:e.constant("IE"),opera:e.constant("Opera"),firefox:e.constant("Firefox"),safari:e.constant("Safari")}}),a("ephox.sand.core.OperatingSystem",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(e,t){var n=function(e,t){return function(){return t===e}},r=function(e){var t=e.current;return{current:t,version:e.version,isWindows:n("Windows",t),isiOS:n("iOS",t),isAndroid:n("Android",t),isOSX:n("OSX",t),isLinux:n("Linux",t),isSolaris:n("Solaris",t),isFreeBSD:n("FreeBSD",t)}};return{unknown:function(){return r({current:void 0,version:t.unknown()})},nu:r,windows:e.constant("Windows"),ios:e.constant("iOS"),android:e.constant("Android"),linux:e.constant("Linux"),osx:e.constant("OSX"),solaris:e.constant("Solaris"),freebsd:e.constant("FreeBSD")}}),a("ephox.sand.detect.DeviceType",["ephox.katamari.api.Fun"],function(e){return function(t,n,r){var o=t.isiOS()&&!0===/ipad/i.test(r),i=t.isiOS()&&!o,a=t.isAndroid()&&3===t.version.major,c=t.isAndroid()&&4===t.version.major,s=o||a||c&&!0===/mobile/i.test(r),u=t.isiOS()||t.isAndroid(),l=u&&!s,f=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(r);return{isiPad:e.constant(o),isiPhone:e.constant(i),isTablet:e.constant(s),isPhone:e.constant(l),isTouch:e.constant(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:e.constant(f)}}}),a("ephox.sand.detect.UaString",["ephox.katamari.api.Arr","ephox.sand.detect.Version","global!String"],function(e,t,n){var r=function(t,r){var o=n(r).toLowerCase();return e.find(t,function(e){return e.search(o)})};return{detectBrowser:function(e,n){return r(e,n).map(function(e){var r=t.detect(e.versionRegexes,n);return{current:e.name,version:r}})},detectOs:function(e,n){return r(e,n).map(function(e){var r=t.detect(e.versionRegexes,n);return{current:e.name,version:r}})}}}),a("ephox.katamari.str.StrAppend",[],function(){return{addToStart:function(e,t){return t+e},addToEnd:function(e,t){return e+t},removeFromStart:function(e,t){return e.substring(t)},removeFromEnd:function(e,t){return e.substring(0,e.length-t)}}}),a("ephox.katamari.str.StringParts",["ephox.katamari.api.Option","global!Error"],function(e,t){return{first:function(e,t){return e.substr(0,t)},last:function(e,t){return e.substr(e.length-t,e.length)},head:function(t){return""===t?e.none():e.some(t.substr(0,1))},tail:function(t){return""===t?e.none():e.some(t.substring(1))}}}),a("ephox.katamari.api.Strings",["ephox.katamari.str.StrAppend","ephox.katamari.str.StringParts","global!Error"],function(e,t,n){var r=function(e,t,n){if(""===t)return!0;if(e.length<t.length)return!1;return e.substr(n,n+t.length)===t},o=function(e,t){return r(e,t,0)},i=function(e,t){return r(e,t,e.length-t.length)};return{supplant:function(e,t){return e.replace(/\${([^{}]*)}/g,function(e,n){var r=t[n];return function(e){var t=typeof e;return"string"===t||"number"===t}(r)?r:e})},startsWith:o,removeLeading:function(t,n){return o(t,n)?e.removeFromStart(t,n.length):t},removeTrailing:function(t,n){return i(t,n)?e.removeFromEnd(t,n.length):t},ensureLeading:function(t,n){return o(t,n)?t:e.addToStart(t,n)},ensureTrailing:function(t,n){return i(t,n)?t:e.addToEnd(t,n)},endsWith:i,contains:function(e,t){return-1!==e.indexOf(t)},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},lTrim:function(e){return e.replace(/^\s+/g,"")},rTrim:function(e){return e.replace(/\s+$/g,"")},capitalize:function(e){return t.head(e).bind(function(n){return t.tail(e).map(function(e){return n.toUpperCase()+e})}).getOr(e)}}}),a("ephox.sand.info.PlatformInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Strings"],function(e,t){var n=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,r=function(e){return function(n){return t.contains(n,e)}},o=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return t.contains(e,"edge/")&&t.contains(e,"chrome")&&t.contains(e,"safari")&&t.contains(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,n],search:function(e){return t.contains(e,"chrome")&&!t.contains(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return t.contains(e,"msie")||t.contains(e,"trident")}},{name:"Opera",versionRegexes:[n,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:r("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:r("firefox")},{name:"Safari",versionRegexes:[n,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(t.contains(e,"safari")||t.contains(e,"mobile/"))&&t.contains(e,"applewebkit")}}],i=[{name:"Windows",search:r("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return t.contains(e,"iphone")||t.contains(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:r("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:r("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:r("linux"),versionRegexes:[]},{name:"Solaris",search:r("sunos"),versionRegexes:[]},{name:"FreeBSD",search:r("freebsd"),versionRegexes:[]}];return{browsers:e.constant(o),oses:e.constant(i)}}),a("ephox.sand.core.PlatformDetection",["ephox.sand.core.Browser","ephox.sand.core.OperatingSystem","ephox.sand.detect.DeviceType","ephox.sand.detect.UaString","ephox.sand.info.PlatformInfo"],function(e,t,n,r,o){return{detect:function(i){var a=o.browsers(),c=o.oses(),s=r.detectBrowser(a,i).fold(e.unknown,e.nu),u=r.detectOs(c,i).fold(t.unknown,t.nu);return{browser:s,os:u,deviceType:n(u,s,i)}}}}),a("ephox.sand.api.PlatformDetection",["ephox.katamari.api.Thunk","ephox.sand.core.PlatformDetection","global!navigator"],function(e,t,n){return{detect:e.cached(function(){var e=n.userAgent;return t.detect(e)})}}),a("global!console",[],function(){return"undefined"==typeof console&&(console={log:function(){}}),console}),a("ephox.sugar.api.node.Element",["ephox.katamari.api.Fun","ephox.katamari.api.Option","global!Error","global!console","global!document"],function(e,t,n,r,o){var i=function(t){if(null===t||void 0===t)throw new n("Node cannot be null or undefined");return{dom:e.constant(t)}};return{fromHtml:function(e,t){var n=(t||o).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw r.error("HTML does not have a single root node",e),"HTML must have a single root node";return i(n.childNodes[0])},fromTag:function(e,t){var n=(t||o).createElement(e);return i(n)},fromText:function(e,t){var n=(t||o).createTextNode(e);return i(n)},fromDom:i,fromPoint:function(e,n,r){return t.from(e.dom().elementFromPoint(n,r)).map(i)}}}),a("ephox.sugar.api.node.NodeTypes",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}}),a("ephox.sugar.api.node.Node",["ephox.sugar.api.node.NodeTypes"],function(e){var t=function(e){return e.dom().nodeName.toLowerCase()},n=function(e){return e.dom().nodeType},r=function(e){return function(t){return n(t)===e}},o=r(e.ELEMENT),i=r(e.TEXT),a=r(e.DOCUMENT);return{name:t,type:n,value:function(e){return e.dom().nodeValue},isElement:o,isText:i,isDocument:a,isComment:function(r){return n(r)===e.COMMENT||"#comment"===t(r)}}}),a("ephox.katamari.api.Type",["global!Array","global!String"],function(e,t){var n=function(n){return function(r){return function(n){if(null===n)return"null";var r=typeof n;return"object"===r&&e.prototype.isPrototypeOf(n)?"array":"object"===r&&t.prototype.isPrototypeOf(n)?"string":r}(r)===n}};return{isString:n("string"),isObject:n("object"),isArray:n("array"),isNull:n("null"),isBoolean:n("boolean"),isUndefined:n("undefined"),isFunction:n("function"),isNumber:n("number")}}),a("ephox.katamari.api.Obj",["ephox.katamari.api.Option","global!Object"],function(e,t){var n=function(){var e=t.keys;return void 0===e?function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}:e}(),r=function(e,t){for(var r=n(e),o=0,i=r.length;o<i;o++){var a=r[o];t(e[a],a,e)}},o=function(e,t){var n={};return r(e,function(r,o){var i=t(r,o,e);n[i.k]=i.v}),n},i=function(e,t){var n=[];return r(e,function(e,r){n.push(t(e,r))}),n},a=function(e){return i(e,function(e){return e})};return{bifilter:function(e,t){var n={},o={};return r(e,function(e,r){(t(e,r)?n:o)[r]=e}),{t:n,f:o}},each:r,map:function(e,t){return o(e,function(e,n,r){return{k:n,v:t(e,n,r)}})},mapToArray:i,tupleMap:o,find:function(t,r){for(var o=n(t),i=0,a=o.length;i<a;i++){var c=o[i],s=t[c];if(r(s,c,t))return e.some(s)}return e.none()},keys:n,values:a,size:function(e){return a(e).length}}}),a("ephox.sugar.api.properties.Attr",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.sugar.api.node.Node","global!Error","global!console"],function(e,t,n,r,o,i){var a=function(t,n,r){if(!(e.isString(r)||e.isBoolean(r)||e.isNumber(r)))throw i.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new o("Attribute value was not simple");t.setAttribute(n,r+"")},c=function(e,t,n){a(e.dom(),t,n)},s=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},u=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)};return{clone:function(e){return t.foldl(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},set:c,setAll:function(e,t){var r=e.dom();n.each(t,function(e,t){a(r,t,e)})},get:s,has:u,remove:function(e,t){e.dom().removeAttribute(t)},hasNone:function(e){var t=e.dom().attributes;return void 0===t||null===t||0===t.length},transfer:function(e,n,o){r.isElement(e)&&r.isElement(n)&&t.each(o,function(t){!function(e,t,n){u(e,n)&&!u(t,n)&&c(t,n,s(e,n))}(e,n,t)})}}}),a("ephox.sugar.api.node.Body",["ephox.katamari.api.Thunk","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","global!document"],function(e,t,n,r){var o=e.cached(function(){return i(t.fromDom(r))}),i=function(e){var n=e.dom().body;if(null===n||void 0===n)throw"Body is not available yet";return t.fromDom(n)};return{body:o,getBody:i,inBody:function(e){var t=n.isText(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)}}}),a("ephox.sugar.impl.Style",[],function(){return{isSupported:function(e){return void 0!==e.style}}}),a("ephox.sugar.api.properties.Css",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.katamari.api.Option","ephox.sugar.api.properties.Attr","ephox.sugar.api.node.Body","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.impl.Style","ephox.katamari.api.Strings","global!Error","global!console","global!window"],function(e,t,n,r,o,i,a,c,s,u,l,f,d){var p=function(t,n,r){if(!e.isString(r))throw f.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new l("CSS value must be a string: "+r);s.isSupported(t)&&t.style.setProperty(n,r)},m=function(e,t){s.isSupported(e)&&e.style.removeProperty(t)},h=function(e,t,n){var r=e.dom();p(r,t,n)},g=function(e,t){return s.isSupported(e)?e.style.getPropertyValue(t):""},v=function(e,t){var n=e.dom(),o=g(n,t);return r.from(o).filter(function(e){return e.length>0})};return{copy:function(e,t){var n=e.dom(),r=t.dom();s.isSupported(n)&&s.isSupported(r)&&(r.style.cssText=n.style.cssText)},set:h,preserve:function(e,t){var n=o.get(e,"style"),r=t(e);return(void 0===n?o.remove:o.set)(e,"style",n),r},setAll:function(e,t){var r=e.dom();n.each(t,function(e,t){p(r,t,e)})},setOptions:function(e,t){var r=e.dom();n.each(t,function(e,t){e.fold(function(){m(r,t)},function(e){p(r,t,e)})})},remove:function(e,t){var n=e.dom();m(n,t),o.has(e,"style")&&""===u.trim(o.get(e,"style"))&&o.remove(e,"style")},get:function(e,t){var n=e.dom(),r=d.getComputedStyle(n).getPropertyValue(t),o=""!==r||i.inBody(e)?r:g(n,t);return null===o?void 0:o},getRaw:v,getAllRaw:function(e){var t={},n=e.dom();if(s.isSupported(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},isValidValue:function(e,t,n){var r=a.fromTag(e);h(r,t,n);return v(r,t).isSome()},reflow:function(e){return e.dom().offsetWidth},transfer:function(e,n,r){c.isElement(e)&&c.isElement(n)&&t.each(r,function(t){!function(e,t,n){v(e,n).each(function(e){v(t,n).isNone()&&h(t,n,e)})}(e,n,t)})}}}),a("ephox.katamari.data.Immutable",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","global!Array","global!Error"],function(e,t,n,r){return function(){var o=arguments;return function(){for(var i=new n(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];if(o.length!==i.length)throw new r('Wrong number of arguments to struct. Expected "['+o.length+']", got '+i.length+" arguments");var c={};return e.each(o,function(e,n){c[e]=t.constant(i[n])}),c}}}),a("ephox.katamari.util.BagUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Type","global!Error"],function(e,t,n){var r=function(e){return e.slice(0).sort()};return{sort:r,reqMessage:function(e,t){throw new n("All required keys ("+r(e).join(", ")+") were not specified. Specified keys were: "+r(t).join(", ")+".")},unsuppMessage:function(e){throw new n("Unsupported keys for object: "+r(e).join(", "))},validateStrArr:function(r,o){if(!t.isArray(o))throw new n("The "+r+" fields must be an array. Was: "+o+".");e.each(o,function(e){if(!t.isString(e))throw new n("The value "+e+" in the "+r+" fields was not a string.")})},invalidTypeMessage:function(e,t){throw new n("All values need to be of type: "+t+". Keys ("+r(e).join(", ")+") were not.")},checkDupes:function(t){var o=r(t);e.find(o,function(e,t){return t<o.length-1&&e===o[t+1]}).each(function(e){throw new n("The field: "+e+" occurs more than once in the combined fields: ["+o.join(", ")+"].")})}}}),a("ephox.katamari.data.MixedBag",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Obj","ephox.katamari.api.Option","ephox.katamari.util.BagUtils","global!Error","global!Object"],function(e,t,n,r,o,i,a){return function(c,s){var u=c.concat(s);if(0===u.length)throw new i("You must specify at least one required or optional field.");return o.validateStrArr("required",c),o.validateStrArr("optional",s),o.checkDupes(u),function(i){var l=n.keys(i);e.forall(c,function(t){return e.contains(l,t)})||o.reqMessage(c,l);var f=e.filter(l,function(t){return!e.contains(u,t)});f.length>0&&o.unsuppMessage(f);var d={};return e.each(c,function(e){d[e]=t.constant(i[e])}),e.each(s,function(e){d[e]=t.constant(a.prototype.hasOwnProperty.call(i,e)?r.some(i[e]):r.none())}),d}}}),a("ephox.katamari.api.Struct",["ephox.katamari.data.Immutable","ephox.katamari.data.MixedBag"],function(e,t){return{immutable:e,immutableBag:t}}),a("ephox.sugar.alien.Recurse",[],function(){return{toArray:function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do{o=o.bind(r)}while(o.isSome());return n}}}),a("ephox.sand.api.Node",["ephox.sand.util.Global"],function(e){var t=function(){return e.getOrDie("Node")},n=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)};return{documentPositionPreceding:function(e,r){return n(e,r,t().DOCUMENT_POSITION_PRECEDING)},documentPositionContainedBy:function(e,r){return n(e,r,t().DOCUMENT_POSITION_CONTAINED_BY)}}}),a("ephox.sugar.api.search.Selectors",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.node.NodeTypes","global!Error","global!document"],function(e,t,n,r,o,i){var a=r.ELEMENT,c=r.DOCUMENT,s=function(e){return e.nodeType!==a&&e.nodeType!==c||0===e.childElementCount};return{all:function(t,r){var o=void 0===r?i:r.dom();return s(o)?[]:e.map(o.querySelectorAll(t),n.fromDom)},is:function(e,t){var n=e.dom();if(n.nodeType!==a)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new o("Browser lacks native selectors")},one:function(e,r){var o=void 0===r?i:r.dom();return s(o)?t.none():t.from(o.querySelector(e)).map(n.fromDom)}}}),a("ephox.sugar.api.dom.Compare",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sand.api.Node","ephox.sand.api.PlatformDetection","ephox.sugar.api.search.Selectors"],function(e,t,n,r,o){var i=function(e,t){return e.dom()===t.dom()},a=r.detect().browser.isIE()?function(e,t){return n.documentPositionContainedBy(e.dom(),t.dom())}:function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)};return{eq:i,isEqualNode:function(e,t){return e.dom().isEqualNode(t.dom())},member:function(n,r){return e.exists(r,t.curry(i,n))},contains:a,is:o.is}}),a("ephox.sugar.api.search.Traverse",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Struct","ephox.sugar.alien.Recurse","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element"],function(e,t,n,r,o,i,a,c){var s=function(e){return c.fromDom(e.dom().ownerDocument)},u=function(e){var t=e.dom();return r.from(t.parentNode).map(c.fromDom)},l=function(e){var t=e.dom();return r.from(t.previousSibling).map(c.fromDom)},f=function(e){var t=e.dom();return r.from(t.nextSibling).map(c.fromDom)},d=function(e){var n=e.dom();return t.map(n.childNodes,c.fromDom)},p=function(e,t){var n=e.dom().childNodes;return r.from(n[t]).map(c.fromDom)},m=o.immutable("element","offset");return{owner:s,defaultView:function(e){var t=e.dom().ownerDocument.defaultView;return c.fromDom(t)},documentElement:function(e){var t=s(e);return c.fromDom(t.dom().documentElement)},parent:u,findIndex:function(e){return u(e).bind(function(n){var r=d(n);return t.findIndex(r,function(t){return a.eq(e,t)})})},parents:function(t,r){for(var o=e.isFunction(r)?r:n.constant(!1),i=t.dom(),a=[];null!==i.parentNode&&void 0!==i.parentNode;){var s=i.parentNode,u=c.fromDom(s);if(a.push(u),!0===o(u))break;i=s}return a},siblings:function(e){return u(e).map(d).map(function(n){return t.filter(n,function(t){return!a.eq(e,t)})}).getOr([])},prevSibling:l,offsetParent:function(e){var t=e.dom();return r.from(t.offsetParent).map(c.fromDom)},prevSiblings:function(e){return t.reverse(i.toArray(e,l))},nextSibling:f,nextSiblings:function(e){return i.toArray(e,f)},children:d,child:p,firstChild:function(e){return p(e,0)},lastChild:function(e){return p(e,e.dom().childNodes.length-1)},childNodesCount:function(e){return e.dom().childNodes.length},hasChildNodes:function(e){return e.dom().hasChildNodes()},leaf:function(e,t){var n=d(e);return n.length>0&&t<n.length?m(n[t],0):m(e,t)}}}),a("tinymce.core.dom.Position",["ephox.katamari.api.Arr","ephox.sand.api.PlatformDetection","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.properties.Css","ephox.sugar.api.search.Traverse"],function(e,t,n,r,o,i){var a=t.detect().browser,c=function(t){return e.find(t,r.isElement)};return{getPos:function(e,t,s){var u,l,f=0,d=0,p=e.ownerDocument;if(s=s||e,t){if(s===e&&t.getBoundingClientRect&&"static"===o.get(n.fromDom(e),"position"))return l=t.getBoundingClientRect(),f=l.left+(p.documentElement.scrollLeft||e.scrollLeft)-p.documentElement.clientLeft,d=l.top+(p.documentElement.scrollTop||e.scrollTop)-p.documentElement.clientTop,{x:f,y:d};for(u=t;u&&u!==s&&u.nodeType;)f+=u.offsetLeft||0,d+=u.offsetTop||0,u=u.offsetParent;for(u=t.parentNode;u&&u!==s&&u.nodeType;)f-=u.scrollLeft||0,d-=u.scrollTop||0,u=u.parentNode;d+=function(e){return a.isFirefox()&&"table"===r.name(e)?c(i.children(e)).filter(function(e){return"caption"===r.name(e)}).bind(function(e){return c(i.nextSiblings(e)).map(function(t){var n=t.dom().offsetTop,r=e.dom().offsetTop,o=e.dom().offsetHeight;return n<=r?-o:0})}).getOr(0):0}(n.fromDom(t))}return{x:f,y:d}}}}),a("ephox.katamari.api.LazyValue",["ephox.katamari.api.Arr","ephox.katamari.api.Option","global!setTimeout"],function(e,t,n){var r=function(o){var i=t.none(),a=[],c=function(e){s()?l(e):a.push(e)},s=function(){return i.isSome()},u=function(t){e.each(t,l)},l=function(e){i.each(function(t){n(function(){e(t)},0)})};return o(function(e){i=t.some(e),u(a),a=[]}),{get:c,map:function(e){return r(function(t){c(function(n){t(e(n))})})},isReady:s}};return{nu:r,pure:function(e){return r(function(t){t(e)})}}}),a("ephox.katamari.async.Bounce",["global!Array","global!setTimeout"],function(e,t){return{bounce:function(n){return function(){var r=e.prototype.slice.call(arguments),o=this;t(function(){n.apply(o,r)},0)}}}}),a("ephox.katamari.api.Future",["ephox.katamari.api.LazyValue","ephox.katamari.async.Bounce"],function(e,t){var n=function(r){var o=function(e){r(t.bounce(e))};return{map:function(e){return n(function(t){o(function(n){var r=e(n);t(r)})})},bind:function(e){return n(function(t){o(function(n){e(n).get(t)})})},anonBind:function(e){return n(function(t){o(function(n){e.get(t)})})},toLazy:function(){return e.nu(o)},get:o}};return{nu:n,pure:function(e){return n(function(t){t(e)})}}}),a("ephox.katamari.async.AsyncValues",["ephox.katamari.api.Arr"],function(e){return{par:function(t,n){return n(function(n){var r=[],o=0;0===t.length?n([]):e.each(t,function(e,i){e.get(function(e){return function(i){r[e]=i,++o>=t.length&&n(r)}}(i))})})}}}),a("ephox.katamari.api.Futures",["ephox.katamari.api.Arr","ephox.katamari.api.Future","ephox.katamari.async.AsyncValues"],function(e,t,n){var r=function(e){return n.par(e,t.nu)};return{par:r,mapM:function(t,n){var o=e.map(t,n);return r(o)},compose:function(e,t){return function(n){return t(n).bind(e)}}}}),a("ephox.katamari.api.Result",["ephox.katamari.api.Fun","ephox.katamari.api.Option"],function(e,t){var n=function(r){return{is:function(e){return r===e},isValue:e.constant(!0),isError:e.constant(!1),getOr:e.constant(r),getOrThunk:e.constant(r),getOrDie:e.constant(r),or:function(e){return n(r)},orThunk:function(e){return n(r)},fold:function(e,t){return t(r)},map:function(e){return n(e(r))},each:function(e){e(r)},bind:function(e){return e(r)},exists:function(e){return e(r)},forall:function(e){return e(r)},toOption:function(){return t.some(r)}}},r=function(n){return{is:e.constant(!1),isValue:e.constant(!1),isError:e.constant(!0),getOr:e.identity,getOrThunk:function(e){return e()},getOrDie:function(){return e.die(n)()},or:function(e){return e},orThunk:function(e){return e()},fold:function(e,t){return e(n)},map:function(e){return r(n)},each:e.noop,bind:function(e){return r(n)},exists:e.constant(!1),forall:e.constant(!0),toOption:t.none}};return{value:n,error:r}}),a("tinymce.core.dom.StyleSheetLoader",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Future","ephox.katamari.api.Futures","ephox.katamari.api.Result","global!navigator","tinymce.core.util.Delay","tinymce.core.util.Tools"],function(e,t,n,r,o,i,a,c){"use strict";return function(s,u){var l,f=0,d={};l=(u=u||{}).maxLoadTime||5e3;var p=function(e){s.getElementsByTagName("head")[0].appendChild(e)},m=function(e,t,n){var r,o,u,m,h=function(){for(var e=m.passed,t=e.length;t--;)e[t]();m.status=2,m.passed=[],m.failed=[]},g=function(){for(var e=m.failed,t=e.length;t--;)e[t]();m.status=3,m.passed=[],m.failed=[]},v=function(e,t){e()||((new Date).getTime()-u<l?a.setTimeout(t):g())},y=function(){v(function(){for(var e,t,n=s.styleSheets,o=n.length;o--;)if(e=n[o],(t=e.ownerNode?e.ownerNode:e.owningElement)&&t.id===r.id)return h(),!0},y)},b=function(){v(function(){try{var e=o.sheet.cssRules;return h(),!!e}catch(e){}},b)};if(e=c._addCacheSuffix(e),d[e]?m=d[e]:(m={passed:[],failed:[]},d[e]=m),t&&m.passed.push(t),n&&m.failed.push(n),1!=m.status)if(2!=m.status)if(3!=m.status){if(m.status=1,r=s.createElement("link"),r.rel="stylesheet",r.type="text/css",r.id="u"+f++,r.async=!1,r.defer=!1,u=(new Date).getTime(),"onload"in r&&!function(){var e=i.userAgent.match(/WebKit\/(\d*)/);return!!(e&&e[1]<536)}())r.onload=y,r.onerror=g;else{if(i.userAgent.indexOf("Firefox")>0)return o=s.createElement("style"),o.textContent='@import "'+e+'"',b(),void p(o);y()}p(r),r.href=e}else g();else h()},h=function(e){return n.nu(function(n){m(e,t.compose(n,t.constant(o.value(e))),t.compose(n,t.constant(o.error(e))))})},g=function(e){return e.fold(t.identity,t.identity)};return{load:m,loadAll:function(t,n,o){r.par(e.map(t,h)).get(function(t){var r=e.partition(t,function(e){return e.isValue()});r.fail.length>0?o(r.fail.map(g)):n(r.pass.map(g))})}}}}),a("tinymce.core.dom.TreeWalker",[],function(){return function(e,t){var n=e,r=function(e,n,r,o){var i,a;if(e){if(!o&&e[n])return e[n];if(e!=t){if(i=e[r])return i;for(a=e.parentNode;a&&a!=t;a=a.parentNode)if(i=a[r])return i}}};this.current=function(){return n},this.next=function(e){return n=r(n,"firstChild","nextSibling",e)},this.prev=function(e){return n=r(n,"lastChild","previousSibling",e)},this.prev2=function(e){return n=function(e,n,r,o){var i,a,c;if(e){if(i=e[r],t&&i===t)return;if(i){if(!o)for(c=i[n];c;c=c[n])if(!c[n])return c;return i}if((a=e.parentNode)&&a!==t)return a}}(n,"lastChild","previousSibling",e)}}}),a("tinymce.core.dom.ElementType",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.node.Node"],function(e,t,n){var r=function(r){var o;return function(i){return(o=o||e.mapToObject(r,t.constant(!0))).hasOwnProperty(n.name(i))}},o=r(["h1","h2","h3","h4","h5","h6"]),i=r(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]);return{isBlock:i,isInline:function(e){return n.isElement(e)&&!i(e)},isHeading:o,isTextBlock:r(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),isList:r(["ul","ol","dl"]),isListItem:r(["li","dd","dt"]),isVoid:r(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),isTableSection:r(["thead","tbody","tfoot"]),isTableCell:r(["td","th"]),isBr:function(e){return n.isElement(e)&&"br"===n.name(e)}}}),a("tinymce.core.dom.NodeType",[],function(){var e=function(e){return function(t){return!!t&&t.nodeType==e}},t=e(1),n=function(e){return e=e.toLowerCase().split(" "),function(t){var n,r;if(t&&t.nodeType)for(r=t.nodeName.toLowerCase(),n=0;n<e.length;n++)if(r===e[n])return!0;return!1}},r=function(e){return function(n){if(t(n)){if(n.contentEditable===e)return!0;if(n.getAttribute("data-mce-contenteditable")===e)return!0}return!1}};return{isText:e(3),isElement:t,isComment:e(8),isDocument:e(9),isBr:n("br"),isContentEditableTrue:r("true"),isContentEditableFalse:r("false"),matchNodeNames:n,hasPropValue:function(e,n){return function(r){return t(r)&&r[e]===n}},hasAttribute:function(e,n){return function(n){return t(n)&&n.hasAttribute(e)}},hasAttributeValue:function(e,n){return function(r){return t(r)&&r.getAttribute(e)===n}},matchStyleValues:function(e,n){return n=n.toLowerCase().split(" "),function(r){var o;if(t(r))for(o=0;o<n.length;o++)if(r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(e)===n[o])return!0;return!1}},isBogus:function(e){return t(e)&&e.hasAttribute("data-mce-bogus")}}}),a("tinymce.core.dom.TrimNode",["ephox.sugar.api.node.Element","tinymce.core.dom.ElementType","tinymce.core.dom.NodeType","tinymce.core.util.Tools"],function(e,t,n,r){var o=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},i=function(a,c){var s,u=c.childNodes;if(!n.isElement(c)||!o(c)){for(s=u.length-1;s>=0;s--)i(a,u[s]);if(!1===n.isDocument(c)){if(n.isText(c)&&c.nodeValue.length>0){var l=r.trim(c.nodeValue).length;if(a.isBlock(c.parentNode)||l>0)return;if(0===l&&function(e){var t=e.previousSibling&&"SPAN"===e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"===e.nextSibling.nodeName;return t&&n}(c))return}else if(n.isElement(c)&&(1===(u=c.childNodes).length&&o(u[0])&&c.parentNode.insertBefore(u[0],c),u.length||t.isVoid(e.fromDom(c))))return;a.remove(c)}return c}};return{trimNode:i}}),a("tinymce.core.html.Entities",["ephox.sugar.api.node.Element","tinymce.core.util.Tools"],function(e,t){var n,r,o,i=t.makeMap,a=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s=/[<>&\"\']/g,u=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,l={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var f=function(e,t){var n,o,i,a={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)o=String.fromCharCode(parseInt(e[n],t)),r[o]||(i="&"+e[n+1]+";",a[o]=i,a[i]=o);return a}};n=f("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var d={encodeRaw:function(e,t){return e.replace(t?a:c,function(e){return r[e]||e})},encodeAllRaw:function(e){return(""+e).replace(s,function(e){return r[e]||e})},encodeNumeric:function(e,t){return e.replace(t?a:c,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":r[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,o){return o=o||n,e.replace(t?a:c,function(e){return r[e]||o[e]||e})},getEncodeFunc:function(e,t){t=f(t)||n;var o=function(e,n){return e.replace(n?a:c,function(e){return void 0!==r[e]?r[e]:void 0!==t[e]?t[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})},s=function(e,n){return d.encodeNamed(e,n,t)};return(e=i(e.replace(/\+/g,","))).named&&e.numeric?o:e.named?t?s:d.encodeNamed:e.numeric?d.encodeNumeric:d.encodeRaw},decode:function(t){return t.replace(u,function(t,r){return r?(r="x"===r.charAt(0).toLowerCase()?parseInt(r.substr(1),16):parseInt(r,10))>65535?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(1023&r))):l[r]||String.fromCharCode(r):o[t]||n[t]||function(t){var n;return n=e.fromTag("div").dom(),n.innerHTML=t,n.textContent||n.innerText||t}(t)})}};return d}),a("tinymce.core.html.Schema",["tinymce.core.util.Tools"],function(e){var t={},n={},r=e.makeMap,o=e.each,i=e.extend,a=e.explode,c=e.inArray,s=function(t,n){return(t=e.trim(t))?t.split(n||" "):[]},u=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),o(e,function(e,o){n[o]=n[o.toUpperCase()]="map"==t?r(e,/[, ]/):a(e,/[, ]/)})),n};return function(e){var l,f,d,p,m,h,g,v,y,b,x,w,C,k={},T={},_=[],S={},E={},A=function(n,o,a){var c=e[n];return c?c=r(c,/[, ]/,r(c.toUpperCase(),/[, ]/)):(c=t[n])||(c=r(o," ",r(o.toUpperCase()," ")),c=i(c,a),t[n]=c),c};d=function(e){var r,i,a,c,u,l,f={},d=function(e,t,o){var i,a,c,u=function(e,t){var n,r,o={};for(n=0,r=e.length;n<r;n++)o[e[n]]=t||{};return o};for(o=o||[],t=t||"","string"==typeof o&&(o=s(o)),i=(e=s(e)).length;i--;)c={attributes:u(a=s([r,t].join(" "))),attributesOrder:a,children:u(o,n)},f[e[i]]=c},p=function(e,t){var n,r,o,i;for(n=(e=s(e)).length,t=s(t);n--;)for(r=f[e[n]],o=0,i=t.length;o<i;o++)r.attributes[t[o]]={},r.attributesOrder.push(t[o])};return t[e]?t[e]:(r="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",a="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=e&&(r+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure header footer hgroup section nav",a+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=e&&(r+=" xml:lang",a=[a,l="acronym applet basefont big font strike tt"].join(" "),o(s(l),function(e){d(e,"",a)}),i=[i,u="center dir isindex noframes"].join(" "),c=[i,a].join(" "),o(s(u),function(e){d(e,"",c)})),c=c||[i,a].join(" "),d("html","manifest","head body"),d("head","","base command link meta noscript script style title"),d("title hr noscript br"),d("base","href target"),d("link","href rel media hreflang type sizes hreflang"),d("meta","name http-equiv content charset"),d("style","media type scoped"),d("script","src async defer type charset"),d("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",c),d("address dt dd div caption","",c),d("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",a),d("blockquote","cite",c),d("ol","reversed start type","li"),d("ul","","li"),d("li","value",c),d("dl","","dt dd"),d("a","href target rel media hreflang type",a),d("q","cite",a),d("ins del","cite datetime",c),d("img","src sizes srcset alt usemap ismap width height"),d("iframe","src name width height",c),d("embed","src type width height"),d("object","data type typemustmatch name usemap form width height",[c,"param"].join(" ")),d("param","name value"),d("map","name",[c,"area"].join(" ")),d("area","alt coords shape href target rel media hreflang type"),d("table","border","caption colgroup thead tfoot tbody tr"+("html4"==e?" col":"")),d("colgroup","span","col"),d("col","span"),d("tbody thead tfoot","","tr"),d("tr","","td th"),d("td","colspan rowspan headers",c),d("th","colspan rowspan headers scope abbr",c),d("form","accept-charset action autocomplete enctype method name novalidate target",c),d("fieldset","disabled form name",[c,"legend"].join(" ")),d("label","form for",a),d("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),d("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==e?c:a),d("select","disabled form multiple name required size","option optgroup"),d("optgroup","disabled label","option"),d("option","disabled label selected value"),d("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),d("menu","type label",[c,"li"].join(" ")),d("noscript","",c),"html4"!=e&&(d("wbr"),d("ruby","",[a,"rt rp"].join(" ")),d("figcaption","",c),d("mark rt rp summary bdi","",a),d("canvas","width height",c),d("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[c,"track source"].join(" ")),d("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[c,"track source"].join(" ")),d("picture","","img source"),d("source","src srcset type media sizes"),d("track","kind src srclang label default"),d("datalist","",[a,"option"].join(" ")),d("article section nav aside header footer","",c),d("hgroup","","h1 h2 h3 h4 h5 h6"),d("figure","",[c,"figcaption"].join(" ")),d("time","datetime",a),d("dialog","open",c),d("command","type label icon disabled checked radiogroup command"),d("output","for form name",a),d("progress","value max",a),d("meter","value min max low high optimum",a),d("details","open",[c,"summary"].join(" ")),d("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=e&&(p("script","language xml:space"),p("style","xml:space"),p("object","declare classid code codebase codetype archive standby align border hspace vspace"),p("embed","align name hspace vspace"),p("param","valuetype type"),p("a","charset name rev shape coords"),p("br","clear"),p("applet","codebase archive code object alt name width height align hspace vspace"),p("img","name longdesc align border hspace vspace"),p("iframe","longdesc frameborder marginwidth marginheight scrolling align"),p("font basefont","size color face"),p("input","usemap align"),p("select","onchange"),p("textarea"),p("h1 h2 h3 h4 h5 h6 div p legend caption","align"),p("ul","type compact"),p("li","type"),p("ol dl menu dir","compact"),p("pre","width xml:space"),p("hr","align noshade size width"),p("isindex","prompt"),p("table","summary width frame rules cellspacing cellpadding align bgcolor"),p("col","width align char charoff valign"),p("colgroup","width align char charoff valign"),p("thead","align char charoff valign"),p("tr","align char charoff valign bgcolor"),p("th","axis align char charoff valign nowrap bgcolor width height"),p("form","accept"),p("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),p("tfoot","align char charoff valign"),p("tbody","align char charoff valign"),p("area","nohref"),p("body","background bgcolor text link vlink alink")),"html4"!=e&&(p("input button select textarea","autofocus"),p("input textarea","placeholder"),p("a","download"),p("link script img","crossorigin"),p("iframe","sandbox seamless allowfullscreen")),o(s("a form meter progress dfn"),function(e){f[e]&&delete f[e].children[e]}),delete f.caption.children.table,delete f.script,t[e]=f,f)}((e=e||{}).schema),!1===e.verify_html&&(e.valid_elements="*[*]"),l=u(e.valid_styles),f=u(e.invalid_styles,"map"),v=u(e.valid_classes,"map"),p=A("whitespace_elements","pre script noscript style textarea video audio iframe object code"),m=A("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),h=A("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),g=A("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),b=A("non_empty_elements","td th iframe video audio object script pre code",h),x=A("move_caret_before_on_enter_elements","table",b),w=A("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),y=A("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",w),C=A("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),o((e.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(e){E[e]=new RegExp("</"+e+"[^>]*>","gi")});var N=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},D=function(e){var t,n,o,i,a,u,l,f,d,p,m,h,g,v,y,b,x,w,C,T=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,S=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,E=/[*?+]/;if(e)for(e=s(e,","),k["@"]&&(b=k["@"].attributes,x=k["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(a=T.exec(e[t])){if(v=a[1],d=a[2],y=a[3],f=a[5],h={},g=[],u={attributes:h,attributesOrder:g},"#"===v&&(u.paddEmpty=!0),"-"===v&&(u.removeEmpty=!0),"!"===a[4]&&(u.removeEmptyAttrs=!0),b){for(w in b)h[w]=b[w];g.push.apply(g,x)}if(f)for(o=0,i=(f=s(f,"|")).length;o<i;o++)if(a=S.exec(f[o])){if(l={},m=a[1],p=a[2].replace(/[\\:]:/g,":"),v=a[3],C=a[4],"!"===m&&(u.attributesRequired=u.attributesRequired||[],u.attributesRequired.push(p),l.required=!0),"-"===m){delete h[p],g.splice(c(g,p),1);continue}v&&("="===v&&(u.attributesDefault=u.attributesDefault||[],u.attributesDefault.push({name:p,value:C}),l.defaultValue=C),":"===v&&(u.attributesForced=u.attributesForced||[],u.attributesForced.push({name:p,value:C}),l.forcedValue=C),"<"===v&&(l.validValues=r(C,"?"))),E.test(p)?(u.attributePatterns=u.attributePatterns||[],l.pattern=N(p),u.attributePatterns.push(l)):(h[p]||g.push(p),h[p]=l)}b||"@"!=d||(b=h,x=g),y&&(u.outputName=d,k[y]=u),E.test(d)?(u.pattern=N(d),_.push(u)):k[d]=u}},R=function(e){k={},_=[],D(e),o(d,function(e,t){T[t]=e.children})},P=function(e){var n=/^(~)?(.+)$/;e&&(t.text_block_elements=t.block_elements=null,o(s(e,","),function(e){var t=n.exec(e),r="~"===t[1],a=r?"span":"div",c=t[2];if(T[c]=T[a],S[c]=a,r||(y[c.toUpperCase()]={},y[c]={}),!k[c]){var s=k[a];delete(s=i({},s)).removeEmptyAttrs,delete s.removeEmpty,k[c]=s}o(T,function(e,t){e[a]&&(T[t]=e=i({},T[t]),e[c]=e[a])})}))},O=function(n){var r=/^([+\-]?)(\w+)\[([^\]]+)\]$/;t[e.schema]=null,n&&o(s(n,","),function(e){var t,n,i=r.exec(e);i&&(n=i[1],t=n?T[i[2]]:T[i[2]]={"#comment":{}},t=T[i[2]],o(s(i[3],"|"),function(e){"-"===n?delete t[e]:t[e]={}}))})},B=function(e){var t,n=k[e];if(n)return n;for(t=_.length;t--;)if((n=_[t]).pattern.test(e))return n};e.valid_elements?R(e.valid_elements):(o(d,function(e,t){k[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},T[t]=e.children}),"html5"!=e.schema&&o(s("strong/b em/i"),function(e){e=s(e,"/"),k[e[1]].outputName=e[0]}),o(s("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){k[e]&&(k[e].removeEmpty=!0)}),o(s("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){k[e].paddEmpty=!0}),o(s("span"),function(e){k[e].removeEmptyAttrs=!0})),P(e.custom_elements),O(e.valid_children),D(e.extended_valid_elements),O("+ol[ul|ol],+ul[ul|ol]"),o({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){k[t]&&(k[t].parentsRequired=s(e))}),e.invalid_elements&&o(a(e.invalid_elements),function(e){k[e]&&delete k[e]}),B("span")||D("span[!data-mce-type|*]"),this.children=T,this.getValidStyles=function(){return l},this.getInvalidStyles=function(){return f},this.getValidClasses=function(){return v},this.getBoolAttrs=function(){return g},this.getBlockElements=function(){return y},this.getTextBlockElements=function(){return w},this.getTextInlineElements=function(){return C},this.getShortEndedElements=function(){return h},this.getSelfClosingElements=function(){return m},this.getNonEmptyElements=function(){return b},this.getMoveCaretBeforeOnEnterElements=function(){return x},this.getWhiteSpaceElements=function(){return p},this.getSpecialElements=function(){return E},this.isValidChild=function(e,t){var n=T[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},this.isValid=function(e,t){var n,r,o=B(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},this.getElementRule=B,this.getCustomElements=function(){return S},this.addValidElements=D,this.setValidElements=R,this.addCustomElements=P,this.addValidChildren=O,this.elements=k}}),a("tinymce.core.html.Styles",[],function(){return function(e,t){var n,r,o,i,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,c=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,u=/\s+$/,l={};for(e=e||{},t&&(o=t.getValidStyles(),i=t.getInvalidStyles()),r="\\\" \\' \\; \\: ; : \ufeff".split(" "),n=0;n<r.length;n++)l[r[n]]="\ufeff"+n,l["\ufeff"+n]=r[n];var f=function(e,t,n,r){var o=function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e};return"#"+o(t)+o(n)+o(r)};return{toHex:function(e){return e.replace(a,f)},parse:function(t){var r,o,i,d,p={},m=e.url_converter,h=e.url_converter_scope||this,g=function(e,t,r){var o,i,a,c;if((o=p[e+"-top"+t])&&(i=p[e+"-right"+t])&&(a=p[e+"-bottom"+t])&&(c=p[e+"-left"+t])){var s=[o,i,a,c];for(n=s.length-1;n--&&s[n]===s[n+1];);n>-1&&r||(p[e+t]=-1==n?s[0]:s.join(" "),delete p[e+"-top"+t],delete p[e+"-right"+t],delete p[e+"-bottom"+t],delete p[e+"-left"+t])}},v=function(e){var t,n=p[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return p[e]=n[0],!0}},y=function(e){return d=!0,l[e]},b=function(e,t){return d&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return l[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},x=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},w=function(e){return e.replace(/\\[0-9a-f]+/gi,x)},C=function(t,n,r,o,i,a){if(i=i||a)return"'"+(i=b(i)).replace(/\'/g,"\\'")+"'";if(n=b(n||r||o),!e.allow_script_urls){var c=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(c))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(c))return""}return m&&(n=m.call(h,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,y).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,y)});r=s.exec(t);)if(s.lastIndex=r.index+r[0].length,o=r[1].replace(u,"").toLowerCase(),i=r[2].replace(u,""),o&&i){if(o=w(o),i=w(i),-1!==o.indexOf("\ufeff")||-1!==o.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"==o||/expression\s*\(|\/\*|\*\//.test(i)))continue;"font-weight"===o&&"700"===i?i="bold":"color"!==o&&"background-color"!==o||(i=i.toLowerCase()),i=(i=i.replace(a,f)).replace(c,C),p[o]=d?b(i,!0):i}g("border","",!0),g("border","-width"),g("border","-color"),g("border","-style"),g("padding",""),g("margin",""),function(e,t,n,r){v(t)&&v(n)&&v(r)&&(p[e]=p[t]+" "+p[n]+" "+p[r],delete p[t],delete p[n],delete p[r])}("border","border-width","border-style","border-color"),"medium none"===p.border&&delete p.border,"none"===p["border-image"]&&delete p["border-image"]}return p},serialize:function(e,t){var n,r,a="",c=function(t){var n,r,i,c;if(n=o[t])for(r=0,i=n.length;r<i;r++)t=n[r],(c=e[t])&&(a+=(a.length>0?" ":"")+t+": "+c+";")},s=function(e,t){var n;return(!(n=i["*"])||!n[e])&&(!(n=i[t])||!n[e])};if(t&&o)c("*"),c(t);else for(n in e)!(r=e[n])||i&&!s(n,t)||(a+=(a.length>0?" ":"")+n+": "+r+";");return a}}}}),a("tinymce.core.dom.DOMUtils",["global!document","global!window","tinymce.core.Env","tinymce.core.dom.DomQuery","tinymce.core.dom.EventUtils","tinymce.core.dom.Position","tinymce.core.dom.Sizzle","tinymce.core.dom.StyleSheetLoader","tinymce.core.dom.TreeWalker","tinymce.core.dom.TrimNode","tinymce.core.html.Entities","tinymce.core.html.Schema","tinymce.core.html.Styles","tinymce.core.util.Tools"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p){var m=p.each,h=p.is,g=p.grep,v=n.ie,y=/^([a-z0-9],?)+$/i,b=/^[ \t\r\n]*$/,x=function(e,t){var n=t.attr("style");(n=e.serializeStyle(e.parseStyle(n),t[0].nodeName))||(n=null),t.attr("data-mce-style",n)},w=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!=r||r!=n&&e.nodeValue.length)&&(o++,n=r);return o},C=function(e,n){var i,a=this;a.doc=e,a.win=t,a.files={},a.counter=0,a.stdMode=!v||e.documentMode>=8,a.boxModel=!v||"CSS1Compat"==e.compatMode||a.stdMode,a.styleSheetLoader=new c(e),a.boundEvents=[],a.settings=n=n||{},a.schema=n.schema?n.schema:new f({}),a.styles=new d({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),a.fixDoc(e),a.events=n.ownEvents?new o(n.proxy):o.Event,a.attrHooks=function(e,t){var n,r={},o=t.keep_values;return n={set:function(n,r,o){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||e,r,o,n[0])),n.attr("data-mce-"+o,r).attr(o,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},r={style:{set:function(e,t){null===t||"object"!=typeof t?(o&&e.attr("data-mce-style",t),e.attr("style",t)):e.css(t)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serializeStyle(e.parseStyle(n),t[0].nodeName)}}},o&&(r.href=r.src=n),r}(a,n),i=a.schema.getBlockElements(),a.$=r.overrideDefaults(function(){return{context:e,element:a.getRoot()}}),a.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!i[e.nodeName]):!!i[e]}};return C.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){var t,n=this.settings;if(v&&n.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(t){e.createElement(t)});for(t in n.schema.getCustomElements())e.createElement(t)}},clone:function(e,t){var n,r,o=this;return!v||1!==e.nodeType||t?e.cloneNode(t):(r=o.doc,t?n.firstChild:(n=r.createElement(e.nodeName),m(o.getAttribs(e),function(t){o.setAttrib(n,t.nodeName,o.getAttrib(e,t.nodeName))}),n))},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(e){var t,n;return e=e||this.win,t=e.document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n;return e=this.get(e),t=this.getPos(e),n=this.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n;return e=this.get(e),t=this.getStyle(e,"width"),n=this.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,t,n,r){var o,i=this,a=[];for(e=i.get(e),r=void 0===r,n=n||("BODY"!=i.getRoot().nodeName?i.getRoot().parentNode:null),h(t,"string")&&(o=t,t="*"===t?function(e){return 1==e.nodeType}:function(e){return i.is(e,o)});e&&e!=n&&e.nodeType&&9!==e.nodeType;){if(!t||t(e)){if(!r)return e;a.push(e)}e=e.parentNode}return r?a:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,(e=this.doc.getElementById(e))&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(e,t){return a(e,this.get(t)||this.settings.root_element||this.doc,[])},is:function(e,t){var n;if(!e)return!1;if(void 0===e.length){if("*"===t)return 1==e.nodeType;if(y.test(t)){for(t=t.toLowerCase().split(/,/),e=e.nodeName.toLowerCase(),n=t.length-1;n>=0;n--)if(t[n]==e)return!0;return!1}}if(e.nodeType&&1!=e.nodeType)return!1;var r=e.nodeType?[e]:e;return a(t,r[0].ownerDocument||r[0],null,r).length>0},add:function(e,t,n,r,o){var i=this;return this.run(e,function(e){var a;return a=h(t,"string")?i.doc.createElement(t):t,i.setAttribs(a,n),r&&(r.nodeType?a.appendChild(r):i.setHTML(a,r)),o?a:e.appendChild(a)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var r,o="";o+="<"+e;for(r in t)t.hasOwnProperty(r)&&null!==t[r]&&void 0!==t[r]&&(o+=" "+r+'="'+this.encode(t[r])+'"');return void 0!==n?o+">"+n+"</"+e+">":o+" />"},createFragment:function(e){var t,n,r,o=this.doc;for(r=o.createElement("div"),t=o.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each(function(){for(var e;e=this.firstChild;)3==e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():e.remove(),e.length>1?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&x(this,e)},getStyle:function(e,t,r){return e=this.$$(e),r?e.css(t):("float"==(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=n.ie&&n.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[t]:void 0)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&x(this,e)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var r,o,i=this.settings;""===n&&(n=null),r=(e=this.$$(e)).attr(t),e.length&&((o=this.attrHooks[t])&&o.set?o.set(e,n,t):e.attr(t,n),r!=n&&i.onSetAttrib&&i.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var n=this;n.$$(e).each(function(e,r){m(t,function(e,t){n.setAttrib(r,t,e)})})},getAttrib:function(e,t,n){var r,o;return(e=this.$$(e)).length&&(o=(r=this.attrHooks[t])&&r.get?r.get(e,t):e.attr(t)),void 0===o&&(o=n||""),o},getPos:function(e,t){return i.getPos(this.doc.body,this.get(e),t)},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(t){var n,r,o=this.doc;if(this!==C.DOM&&o===e){var i=C.DOM.addedStyles;if((i=i||[])[t])return;i[t]=!0,C.DOM.addedStyles=i}(r=o.getElementById("mceDefaultStyles"))||((r=o.createElement("style")).id="mceDefaultStyles",r.type="text/css",(n=o.getElementsByTagName("head")[0]).firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)),r.styleSheet?r.styleSheet.cssText+=t:r.appendChild(o.createTextNode(t))},loadCSS:function(t){var n,r=this,o=r.doc;r===C.DOM||o!==e?(t||(t=""),n=o.getElementsByTagName("head")[0],m(t.split(","),function(e){var t;e=p._addCacheSuffix(e),r.files[e]||(r.files[e]=!0,t=r.create("link",{rel:"stylesheet",href:e}),v&&o.documentMode&&o.recalc&&(t.onload=function(){o.recalc&&o.recalc(),t.onload=null}),n.appendChild(t))})):C.DOM.loadCSS(t)},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,n){this.$$(e).toggleClass(t,n).each(function(){""===this.className&&r(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e||"mce_")+this.counter++},setHTML:function(e,t){e=this.$$(e),v?e.each(function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(e){r("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}}):e.html(t)},getOuterHTML:function(e){return 1==(e=this.get(e)).nodeType&&"outerHTML"in e?e.outerHTML:r("<div></div>").append(r(e).clone()).html()},setOuterHTML:function(e,t){var n=this;n.$$(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}n.remove(r(this).html(t),!0)})},decode:l.decode,encode:l.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,r;return n=t.parentNode,(r=t.nextSibling)?n.insertBefore(e,r):n.appendChild(e),e})},replace:function(e,t,n){return this.run(t,function(t){return h(t,"array")&&(e=e.cloneNode(!0)),n&&m(g(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},rename:function(e,t){var n,r=this;return e.nodeName!=t.toUpperCase()&&(n=r.create(t),m(r.getAttribs(e),function(t){r.setAttrib(n,t.nodeName,r.getAttrib(e,t.nodeName))}),r.replace(n,e,1)),n||e},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!=n;)n=n.parentNode;if(r==n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return this.styles.toHex(p.trim(e))},run:function(e,t,n){var r,o=this;return"string"==typeof e&&(e=o.get(e)),!!e&&(n=n||this,e.nodeType||!e.length&&0!==e.length?t.call(n,e):(r=[],m(e,function(e,i){e&&("string"==typeof e&&(e=o.get(e)),r.push(t.call(n,e,i)))}),r))},getAttribs:function(e){var t;if(!(e=this.get(e)))return[];if(v){if(t=[],"OBJECT"==e.nodeName)return e.attributes;"OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return e.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n,r,o,i,a,c,u=0;if(e=e.firstChild){a=new s(e,e.parentNode),t=t||(this.schema?this.schema.getNonEmptyElements():null),i=this.schema?this.schema.getWhiteSpaceElements():{};do{if(1===(o=e.nodeType)){var l=e.getAttribute("data-mce-bogus");if(l){e=a.next("all"===l);continue}if(c=e.nodeName.toLowerCase(),t&&t[c]){if("br"===c){u++,e=a.next();continue}return!1}for(n=(r=this.getAttribs(e)).length;n--;)if("name"===(c=r[n].nodeName)||"data-mce-bookmark"===c)return!1}if(8==o)return!1;if(3===o&&!b.test(e.nodeValue))return!1;if(3===o&&e.parentNode&&i[e.parentNode.nodeName]&&b.test(e.nodeValue))return!1;e=a.next()}while(e)}return u<=1},createRng:function(){return this.doc.createRange()},nodeIndex:w,split:function(e,t,n){var r,o,i,a=this.createRng();if(e&&t)return a.setStart(e.parentNode,this.nodeIndex(e)),a.setEnd(t.parentNode,this.nodeIndex(t)),r=a.extractContents(),(a=this.createRng()).setStart(t.parentNode,this.nodeIndex(t)+1),a.setEnd(e.parentNode,this.nodeIndex(e)+1),o=a.extractContents(),(i=e.parentNode).insertBefore(u.trimNode(this,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(u.trimNode(this,o),e),this.remove(e),n||t},bind:function(e,t,n,r){if(p.isArray(e)){for(var o=e.length;o--;)e[o]=this.bind(e[o],t,n,r);return e}return!this.settings.collect||e!==this.doc&&e!==this.win||this.boundEvents.push([e,t,n,r]),this.events.bind(e,t,n,r||this)},unbind:function(e,t,n){var r;if(p.isArray(e)){for(r=e.length;r--;)e[r]=this.unbind(e[r],t,n);return e}if(this.boundEvents&&(e===this.doc||e===this.win))for(r=this.boundEvents.length;r--;){var o=this.boundEvents[r];e!=o[0]||t&&t!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&null===(n=this.getContentEditable(e));e=e.parentNode);return n},destroy:function(){if(this.boundEvents){for(var e=this.boundEvents.length;e--;){var t=this.boundEvents[e];this.events.unbind(t[0],t[1],t[2])}this.boundEvents=null}a.setDocument&&a.setDocument(),this.win=this.doc=this.root=this.events=this.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var r=this,o=t;if(e)for("string"==typeof o&&(o=function(e){return r.is(e,t)}),e=e[n];e;e=e[n])if(o(e))return e;return null}},C.DOM=new C(e),C.nodeIndex=w,C}),a("tinymce.core.dom.ScriptLoader",["global!document","tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],function(e,t,n){var r=t.DOM,o=n.each,i=n.grep,a=function(e){return"function"==typeof e},c=function(){var t={},c=[],s={},u=[],l=0;this.isDone=function(e){return 2==t[e]},this.markDone=function(e){t[e]=2},this.add=this.load=function(e,n,r,o){void 0==t[e]&&(c.push(e),t[e]=0),n&&(s[e]||(s[e]=[]),s[e].push({success:n,failure:o,scope:r||this}))},this.remove=function(e){delete t[e],delete s[e]},this.loadQueue=function(e,t,n){this.loadScripts(c,e,t,n)},this.loadScripts=function(c,f,d,p){var m,h=[],g=function(e,t){o(s[t],function(t){a(t[e])&&t[e].call(t.scope)}),s[t]=void 0};u.push({success:f,failure:p,scope:d||this}),(m=function(){var s=i(c);if(c.length=0,o(s,function(o){2!==t[o]?3!==t[o]?1!==t[o]&&(t[o]=1,l++,function(t,o,i){var c,s,u=r,l=function(){u.remove(s),c&&(c.onreadystatechange=c.onload=c=null),o()};s=u.uniqueId(),(c=e.createElement("script")).id=s,c.type="text/javascript",c.src=n._addCacheSuffix(t),"onreadystatechange"in c?c.onreadystatechange=function(){/loaded|complete/.test(c.readyState)&&l()}:c.onload=l,c.onerror=function(){a(i)?i():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+t)},(e.getElementsByTagName("head")[0]||e.body).appendChild(c)}(o,function(){t[o]=2,l--,g("success",o),m()},function(){t[o]=3,l--,h.push(o),g("failure",o),m()})):g("failure",o):g("success",o)}),!l){var f=u.slice(0);u.length=0,o(f,function(e){0===h.length?a(e.success)&&e.success.call(e.scope):a(e.failure)&&e.failure.call(e.scope,h)})}})()}};return c.ScriptLoader=new c,c}),a("tinymce.core.AddOnManager",["ephox.katamari.api.Arr","tinymce.core.dom.ScriptLoader","tinymce.core.util.Tools"],function(e,t,n){var r=n.each,o=function(){this.items=[],this.urls={},this.lookup={},this._listeners=[]};return o.prototype={get:function(e){if(this.lookup[e])return this.lookup[e].instance},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(e,n){var r=o.language;if(r&&!1!==o.languageLoad){if(n)if(-1!=(n=","+n+",").indexOf(","+r.substr(0,2)+","))r=r.substr(0,2);else if(-1==n.indexOf(","+r+","))return;t.ScriptLoader.add(this.urls[e]+"/langs/"+r+".js")}},add:function(t,n,o){this.items.push(n),this.lookup[t]={instance:n,dependencies:o};var i=e.partition(this._listeners,function(e){return e.name===t});return this._listeners=i.fail,r(i.pass,function(e){e.callback()}),n},remove:function(e){delete this.urls[e],delete this.lookup[e]},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(e,n){var o=this.urls[e];r(n,function(e){t.ScriptLoader.add(o+"/"+e)})},load:function(e,n,i,a,c){var s=this,u=n,l=function(){var o=s.dependencies(e);r(o,function(e){var t=s.createUrl(n,e);s.load(t.resource,t,void 0,void 0)}),i&&(a?i.call(a):i.call(t))};s.urls[e]||("object"==typeof n&&(u=n.prefix+n.resource+n.suffix),0!==u.indexOf("/")&&-1==u.indexOf("://")&&(u=o.baseURL+"/"+u),s.urls[e]=u.substring(0,u.lastIndexOf("/")),s.lookup[e]?l():t.ScriptLoader.add(u,l,a,c))},waitFor:function(e,t){this.lookup.hasOwnProperty(e)?t():this._listeners.push({name:e,callback:t})}},o.PluginManager=new o,o.ThemeManager=new o,o}),a("tinymce.core.text.Zwsp",[],function(){return{isZwsp:function(e){return"\ufeff"===e},ZWSP:"\ufeff",trim:function(e){return e.replace(new RegExp("\ufeff","g"),"")}}}),a("tinymce.core.caret.CaretContainer",["global!document","tinymce.core.dom.NodeType","tinymce.core.text.Zwsp"],function(e,t,n){var r=t.isElement,o=t.isText,i=function(e){return o(e)&&(e=e.parentNode),r(e)&&e.hasAttribute("data-mce-caret")},a=function(e){return o(e)&&n.isZwsp(e.data)},c=function(e){return i(e)||a(e)},s=function(e){return o(e)&&e.data[0]==n.ZWSP},u=function(e){return o(e)&&e.data[e.data.length-1]==n.ZWSP};return{isCaretContainer:c,isCaretContainerBlock:i,isCaretContainerInline:a,showCaretContainerBlock:function(e){return e&&e.hasAttribute("data-mce-caret")?(function(e){var n=e.getElementsByTagName("br"),r=n[n.length-1];t.isBogus(r)&&r.parentNode.removeChild(r)}(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},insertInline:function(e,t){var r,i,a,l;if(r=e.ownerDocument,a=r.createTextNode(n.ZWSP),l=e.parentNode,t){if(i=e.previousSibling,o(i)){if(c(i))return i;if(u(i))return i.splitText(i.data.length-1)}l.insertBefore(a,e)}else{if(i=e.nextSibling,o(i)){if(c(i))return i;if(s(i))return i.splitText(1),i}e.nextSibling?l.insertBefore(a,e.nextSibling):l.appendChild(a)}return a},prependInline:function(e){if(t.isText(e)){var r=e.data;return r.length>0&&r.charAt(0)!==n.ZWSP&&e.insertData(0,n.ZWSP),e}return null},appendInline:function(e){if(t.isText(e)){var r=e.data;return r.length>0&&r.charAt(r.length-1)!==n.ZWSP&&e.insertData(r.length,n.ZWSP),e}return null},isBeforeInline:function(e){return e&&t.isText(e.container())&&e.container().data.charAt(e.offset())===n.ZWSP},isAfterInline:function(e){return e&&t.isText(e.container())&&e.container().data.charAt(e.offset()-1)===n.ZWSP},insertBlock:function(t,n,r){var o,i,a;return o=n.ownerDocument,(i=o.createElement(t)).setAttribute("data-mce-caret",r?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(function(){var t=e.createElement("br");return t.setAttribute("data-mce-bogus","1"),t}()),a=n.parentNode,r?a.insertBefore(i,n):n.nextSibling?a.insertBefore(i,n.nextSibling):a.appendChild(i),i},hasContent:function(e){return e.firstChild!==e.lastChild||!t.isBr(e.firstChild)},startsWithCaretContainer:s,endsWithCaretContainer:u}}),a("tinymce.core.caret.CaretCandidate",["tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.caret.CaretContainer"],function(e,t,n){var r=e.isContentEditableTrue,o=e.isContentEditableFalse,i=e.isBr,a=e.isText,c=e.matchNodeNames("script style textarea"),s=e.matchNodeNames("img input textarea hr iframe video audio object"),u=e.matchNodeNames("table"),l=n.isCaretContainer,f=function(e){return!l(e)&&(a(e)?!c(e.parentNode):s(e)||i(e)||u(e)||o(e))},d=function(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode){if(o(e))return!1;if(r(e))return!0}return!0};return{isCaretCandidate:f,isInEditable:d,isAtomic:function(e){return s(e)||function(e){return!!o(e)&&!0!==t.reduce(e.getElementsByTagName("*"),function(e,t){return e||r(t)},!1)}(e)},isEditableCaretCandidate:function(e,t){return f(e)&&d(e,t)}}}),a("tinymce.core.geom.ClientRect",[],function(){var e=Math.round,t=function(t){return t?{left:e(t.left),top:e(t.top),bottom:e(t.bottom),right:e(t.right),width:e(t.width),height:e(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},n=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},r=function(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&n(t.top-e.bottom,e,t)},o=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&n(t.bottom-e.top,e,t)},i=function(e,t){return e.left<t.left},a=function(e,t){return e.right>t.right};return{clone:t,collapse:function(e,n){return e=t(e),n?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e},isEqual:function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},isAbove:r,isBelow:o,isLeft:i,isRight:a,compare:function(e,t){return r(e,t)?-1:o(e,t)?1:i(e,t)?-1:a(e,t)?1:0},containsXY:function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}}}),a("tinymce.core.selection.RangeNodes",[],function(){return{getSelectedNode:function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset==n+1?t.childNodes[n]:null},getNode:function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e}}}),a("tinymce.core.text.ExtendingChar",[],function(){var e=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]");return{isExtendingChar:function(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&e.test(t)}}}),a("tinymce.core.util.Fun",[],function(){var e=[].slice,t=function(n){var r=e.call(arguments);return r.length-1>=n.length?n.apply(this,r.slice(1)):function(){var e=r.concat([].slice.call(arguments));return t.apply(this,e)}};return{constant:function(e){return function(){return e}},negate:function(e){return function(t){return!e(t)}},and:function(){var t=e.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(!t[n](e))return!1;return!0}},or:function(){var t=e.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(t[n](e))return!0;return!1}},curry:t,compose:function(e,t){return function(n){return e(t(n))}},noop:function(){}}}),a("tinymce.core.caret.CaretPosition",["tinymce.core.caret.CaretCandidate","tinymce.core.dom.DOMUtils","tinymce.core.dom.NodeType","tinymce.core.geom.ClientRect","tinymce.core.selection.RangeNodes","tinymce.core.text.ExtendingChar","tinymce.core.util.Fun"],function(e,t,n,r,o,i,a){var c=n.isElement,s=e.isCaretCandidate,u=n.matchStyleValues("display","block table"),l=n.matchStyleValues("float","left right"),f=a.and(c,s,a.negate(l)),d=a.negate(n.matchStyleValues("white-space","pre pre-line pre-wrap")),p=n.isText,m=n.isBr,h=t.nodeIndex,g=o.getNode,v=function(e){return"createRange"in e?e.createRange():t.DOM.createRng()},y=function(e){return e&&/[\r\n\t ]/.test(e)},b=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(y(e.toString())&&d(n.parentNode)&&(t=n.data,y(t[r-1])||y(t[r+1])))},x=function(e){var t,n,o=[],a=function(e){var t,n;return n=e.getClientRects(),t=n.length>0?r.clone(n[0]):r.clone(e.getBoundingClientRect()),m(e)&&0===t.left?function(e){var t,n=e.ownerDocument,o=v(n),i=n.createTextNode(""),a=e.parentNode;return a.insertBefore(i,e),o.setStart(i,0),o.setEnd(i,1),t=r.clone(o.getBoundingClientRect()),a.removeChild(i),t}(e):t},s=function(e,t){return e=r.collapse(e,t),e.width=1,e.right=e.left+1,e},l=function(e){0!==e.height&&(o.length>0&&r.isEqual(e,o[o.length-1])||o.push(e))},d=function(e,t){var n=v(e.ownerDocument);if(t<e.data.length){if(i.isExtendingChar(e.data[t]))return o;if(i.isExtendingChar(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!b(n)))return l(s(a(n),!1)),o}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),b(n)||l(s(a(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),b(n)||l(s(a(n),!0)))};if(p(e.container()))return d(e.container(),e.offset()),o;if(c(e.container()))if(e.isAtEnd())n=g(e.container(),e.offset()),p(n)&&d(n,n.data.length),f(n)&&!m(n)&&l(s(a(n),!1));else{if(n=g(e.container(),e.offset()),p(n)&&d(n,0),f(n)&&e.isAtEnd())return l(s(a(n),!1)),o;t=g(e.container(),e.offset()-1),f(t)&&!m(t)&&(u(t)||u(n)||!f(n))&&l(s(a(t),!1)),f(n)&&l(s(a(n),!0))}return o},w=function(e,t,n){var r=function(){return n||(n=x(new w(e,t))),n};return{container:a.constant(e),offset:a.constant(t),toRange:function(){var n;return(n=v(e.ownerDocument)).setStart(e,t),n.setEnd(e,t),n},getClientRects:r,isVisible:function(){return r().length>0},isAtStart:function(){return p(e),0===t},isAtEnd:function(){return p(e)?t>=e.data.length:t>=e.childNodes.length},isEqual:function(n){return n&&e===n.container()&&t===n.offset()},getNode:function(n){return g(e,n?t-1:t)}}};return w.fromRangeStart=function(e){return new w(e.startContainer,e.startOffset)},w.fromRangeEnd=function(e){return new w(e.endContainer,e.endOffset)},w.after=function(e){return new w(e.parentNode,h(e)+1)},w.before=function(e){return new w(e.parentNode,h(e))},w.isAtStart=function(e){return!!e&&e.isAtStart()},w.isAtEnd=function(e){return!!e&&e.isAtEnd()},w.isTextPosition=function(e){return!!e&&n.isText(e.container())},w}),a("tinymce.core.caret.CaretUtils",["tinymce.core.util.Fun","tinymce.core.dom.TreeWalker","tinymce.core.dom.NodeType","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretCandidate"],function(e,t,n,r,o,i){var a=n.isContentEditableTrue,c=n.isContentEditableFalse,s=n.matchStyleValues("display","block table table-cell table-caption list-item"),u=o.isCaretContainer,l=o.isCaretContainerBlock,f=e.curry,d=n.isElement,p=i.isCaretCandidate,m=function(e){return e>0},h=function(e){return e<0},g=function(e,t){for(var n;n=e(t);)if(!l(n))return n;return null},v=function(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(a(e))return e;return t},y=function(e,t){for(;e&&e!=t;){if(s(e))return e;e=e.parentNode}return null},b=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},x=function(e,t,n){return y(t,e)==y(n,e)},w=function(e,t,n){var r,o;for(o=e?"previousSibling":"nextSibling";n&&n!=t;){if(r=n[o],u(r)&&(r=r[o]),c(r)){if(x(t,r,n))return r;break}if(p(r))break;n=n.parentNode}return null},C=f(b,!0),k=f(b,!1),T=function(e,t){return c(function(e,t){var n,r;return t?(n=t.container(),r=t.offset(),d(n)?n.childNodes[r+e]:null):null}(e,t))};return{isForwards:m,isBackwards:h,findNode:function(e,n,r,o,i){var a=new t(e,o);if(h(n)){if((c(e)||l(e))&&(e=g(a.prev,!0),r(e)))return e;for(;e=g(a.prev,i);)if(r(e))return e}if(m(n)){if((c(e)||l(e))&&(e=g(a.next,!0),r(e)))return e;for(;e=g(a.next,i);)if(r(e))return e}return null},getEditingHost:v,getParentBlock:y,isInSameBlock:function(e,t,n){return y(e.container(),n)==y(t.container(),n)},isInSameEditingHost:function(e,t,n){return v(e.container(),n)==v(t.container(),n)},isBeforeContentEditableFalse:f(T,0),isAfterContentEditableFalse:f(T,-1),normalizeRange:function(e,t,r){var i,a,s,l,p=f(w,!0,t),m=f(w,!1,t);if(a=r.startContainer,s=r.startOffset,o.isCaretContainerBlock(a)){if(d(a)||(a=a.parentNode),"before"==(l=a.getAttribute("data-mce-caret"))&&(i=a.nextSibling,c(i)))return C(i);if("after"==l&&(i=a.previousSibling,c(i)))return k(i)}if(!r.collapsed)return r;if(n.isText(a)){if(u(a)){if(1===e){if(i=m(a))return C(i);if(i=p(a))return k(i)}if(-1===e){if(i=p(a))return k(i);if(i=m(a))return C(i)}return r}if(o.endsWithCaretContainer(a)&&s>=a.data.length-1)return 1===e&&(i=m(a))?C(i):r;if(o.startsWithCaretContainer(a)&&s<=1)return-1===e&&(i=p(a))?k(i):r;if(s===a.data.length)return(i=m(a))?C(i):r;if(0===s)return(i=p(a))?k(i):r}return r}}}),a("tinymce.core.caret.CaretWalker",["tinymce.core.dom.NodeType","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.util.Arr","tinymce.core.util.Fun"],function(e,t,n,r,o,i){var a=e.isContentEditableFalse,c=e.isText,s=e.isElement,u=e.isBr,l=r.isForwards,f=r.isBackwards,d=t.isCaretCandidate,p=t.isAtomic,m=t.isEditableCaretCandidate,h=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},g=function(e,t){if(l(e)){if(d(t.previousSibling)&&!c(t.previousSibling))return n.before(t);if(c(t))return n(t,0)}if(f(e)){if(d(t.nextSibling)&&!c(t.nextSibling))return n.after(t);if(c(t))return n(t,t.data.length)}return f(e)?u(t)?n.before(t):n.after(t):n.before(t)},v=function(t,y,b){var x,w,C,k,T,_,S;if(!s(b)||!y)return null;if(y.isEqual(n.after(b))&&b.lastChild){if(S=n.after(b.lastChild),f(t)&&d(b.lastChild)&&s(b.lastChild))return u(b.lastChild)?n.before(b.lastChild):S}else S=y;if(x=S.container(),w=S.offset(),c(x)){if(f(t)&&w>0)return n(x,--w);if(l(t)&&w<x.length)return n(x,++w);C=x}else{if(f(t)&&w>0&&(k=h(x,w-1),d(k)))return!p(k)&&(T=r.findNode(k,t,m,k))?c(T)?n(T,T.data.length):n.after(T):c(k)?n(k,k.data.length):n.before(k);if(l(t)&&w<x.childNodes.length&&(k=h(x,w),d(k)))return function(t,o){var i;return!!e.isBr(t)&&!!(i=v(1,n.after(t),o))&&!r.isInSameBlock(n.before(t),n.before(i),o)}(k,b)?v(t,n.after(k),b):!p(k)&&(T=r.findNode(k,t,m,k))?c(T)?n(T,0):n.before(T):c(k)?n(k,0):n.after(k);C=S.getNode()}return(l(t)&&S.isAtEnd()||f(t)&&S.isAtStart())&&(C=r.findNode(C,t,i.constant(!0),b,!0),m(C))?g(t,C):(k=r.findNode(C,t,m,b),!(_=o.last(o.filter(function(e,t){for(var n=[];e&&e!=t;)n.push(e),e=e.parentNode;return n}(x,b),a)))||k&&_.contains(k)?k?g(t,k):null:S=l(t)?n.after(_):n.before(_))};return function(e){return{next:function(t){return v(1,t,e)},prev:function(t){return v(-1,t,e)}}}}),a("tinymce.core.InsertList",["tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretWalker","tinymce.core.dom.NodeType","tinymce.core.util.Tools"],function(e,t,n,r){var o=function(e){return r.grep(e.childNodes,function(e){return"LI"===e.nodeName})},i=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&function(e){return""===e.data||n.isBr(e)}(e.firstChild)},a=function(e){return e.length>0&&function(e){return!e.firstChild||i(e)}(e[e.length-1])?e.slice(0,-1):e},c=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},s=function(n,r){var o=e.after(n),i=new t(r).prev(o);return i?i.toRange():null},u=function(n,o,i){var a=n.parentNode;return r.each(o,function(e){a.insertBefore(e,n)}),function(n,r){var o=e.before(n),i=new t(r).next(o);return i?i.toRange():null}(n,i)};return{isListFragment:function(e,t){var n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||function(e,t){return e.getBlockElements()[t.name]&&function(e){return e.firstChild&&e.firstChild===e.lastChild}(t)&&function(e){return"br"===e.name||""===e.value}(t.firstChild)}(e,t))}(e,r)&&(r=r.prev),!(!n||n!==r||"ul"!==n.name&&"ol"!==n.name)},insertAtCaret:function(n,i,l,f){var d=function(e,t,n){var r=t.serialize(n);return function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e}(e.createFragment(r))}(i,n,f),p=c(i,l.startContainer),m=a(o(d.firstChild)),h=i.getRoot(),g=function(n){var r=e.fromRangeStart(l),o=new t(i.getRoot()),a=1===n?o.prev(r):o.next(r);return!a||c(i,a.getNode())!==p};return g(1)?u(p,m,h):g(2)?function(e,t,n,r){return r.insertAfter(t.reverse(),e),s(t[0],n)}(p,m,h,i):function(e,t,n,o){var i=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]}(e,o),a=e.parentNode;return a.insertBefore(i[0],e),r.each(t,function(t){a.insertBefore(t,e)}),a.insertBefore(i[1],e),a.removeChild(e),s(t[t.length-1],n)}(p,m,h,l)},isParentBlockLi:function(e,t){return!!c(e,t)},trimListItems:a,listItems:o}}),a("tinymce.core.caret.CaretBookmark",["tinymce.core.dom.NodeType","tinymce.core.dom.DOMUtils","tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.caret.CaretPosition"],function(e,t,n,r,o){var i=e.isText,a=e.isBogus,c=t.nodeIndex,s=function(e){var t=e.parentNode;return a(t)?s(t):t},u=function(e){return e?r.reduce(e.childNodes,function(e,t){return a(t)&&"BR"!=t.nodeName?e=e.concat(u(t)):e.push(t),e},[]):[]},l=function(e){return function(t){return e===t}},f=function(t){return(i(t)?"text()":t.nodeName.toLowerCase())+"["+function(t){var n,o,a;return n=u(s(t)),o=r.findIndex(n,l(t),t),n=n.slice(0,o+1),a=r.reduce(n,function(e,t,r){return i(t)&&i(n[r-1])&&e++,e},0),n=r.filter(n,e.matchNodeNames(t.nodeName)),(o=r.findIndex(n,l(t),t))-a}(t)+"]"};return{create:function(t,o){var a,c,s,u,l,d=[];return a=o.container(),c=o.offset(),i(a)?s=function(e,t){for(;(e=e.previousSibling)&&i(e);)t+=e.data.length;return t}(a,c):(c>=(u=a.childNodes).length?(s="after",c=u.length-1):s="before",a=u[c]),d.push(f(a)),l=function(e,t,n){var r=[];for(t=t.parentNode;!(t==e||n&&n(t));t=t.parentNode)r.push(t);return r}(t,a),l=r.filter(l,n.negate(e.isBogus)),(d=d.concat(r.map(l,function(e){return f(e)}))).reverse().join("/")+","+s},resolve:function(t,n){var a,s,l;return n?(a=n.split(","),n=a[0].split("/"),l=a.length>1?a[1]:"before",(s=r.reduce(n,function(t,n){return(n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(n))?("text()"===n[1]&&(n[1]="#text"),function(t,n,o){var a=u(t);return a=r.filter(a,function(e,t){return!i(e)||!i(a[t-1])}),(a=r.filter(a,e.matchNodeNames(n)))[o]}(t,n[1],parseInt(n[2],10))):null},t))?i(s)?function(e,t){for(var n,r=e,a=0;i(r);){if(n=r.data.length,t>=a&&t<=a+n){e=r,t-=a;break}if(!i(r.nextSibling)){e=r,t=n;break}a+=n,r=r.nextSibling}return t>e.data.length&&(t=e.data.length),new o(e,t)}(s,parseInt(l,10)):(l="after"===l?c(s)+1:c(s),new o(s.parentNode,l)):null):null}}}),a("tinymce.core.dom.GetBookmark",["ephox.katamari.api.Fun","tinymce.core.caret.CaretBookmark","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.selection.RangeNodes","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(e,t,n,r,o,i,a,c){var s=o.isContentEditableFalse,u=function(e,t,n,r,i){var a,c=r[i?"startContainer":"endContainer"],s=r[i?"startOffset":"endOffset"],u=[],l=0,f=e.getRoot();for(o.isText(c)?u.push(n?function(e,t,n){var r,i;for(i=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&o.isText(r);r=r.previousSibling)i+=e(r.data).length;return i}(t,c,s):s):(s>=(a=c.childNodes).length&&a.length&&(l=1,s=Math.max(0,a.length-1)),u.push(e.nodeIndex(a[s],n)+l));c&&c!==f;c=c.parentNode)u.push(e.nodeIndex(c,n));return u},l=function(e){o.isText(e)&&0===e.data.length&&e.parentNode.removeChild(e)},f=function(e,t,n){var r=0;return c.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++}),r},d=function(e,t){var n,r,i,a=t?"start":"end";n=e[a+"Container"],r=e[a+"Offset"],o.isElement(n)&&"TR"===n.nodeName&&(n=(i=n.childNodes)[Math.min(t?r:r-1,i.length-1)])&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r))},p=function(e){return d(e,!0),d(e,!1),e},m=function(e,t){var r;if(o.isElement(e)&&(e=i.getNode(e,t),s(e)))return e;if(n.isCaretContainer(e)){if(o.isText(e)&&n.isCaretContainerBlock(e)&&(e=e.parentNode),r=e.previousSibling,s(r))return r;if(r=e.nextSibling,s(r))return r}},h=function(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();return s(r)||"IMG"===o?{name:o,index:f(n.dom,o,r)}:(r=function(e){return m(e.startContainer,e.startOffset)||m(e.endContainer,e.endOffset)}(i))?(o=r.tagName,{name:o,index:f(n.dom,o,r)}):function(e,t,n,r){var o=t.dom,i={};return i.start=u(o,e,n,r,!0),t.isCollapsed()||(i.end=u(o,e,n,r,!1)),i}(e,n,t,i)};return{getBookmark:function(e,n,o){return 2===n?h(a.trim,o,e):3===n?function(e){var n=e.getRng();return{start:t.create(e.dom.getRoot(),r.fromRangeStart(n)),end:t.create(e.dom.getRoot(),r.fromRangeEnd(n))}}(e):n?function(e){return{rng:e.getRng()}}(e):function(e){var t=e.dom,n=e.getRng(),r=t.uniqueId(),o=e.isCollapsed(),i="overflow:hidden;line-height:0px",a=e.getNode(),c=a.nodeName;if("IMG"===c)return{name:c,index:f(t,c,a)};var s=p(n.cloneRange());if(!o){s.collapse(!1);var u=t.create("span",{"data-mce-type":"bookmark",id:r+"_end",style:i},"&#xFEFF;");s.insertNode(u),l(u.nextSibling)}(n=p(n)).collapse(!0);var d=t.create("span",{"data-mce-type":"bookmark",id:r+"_start",style:i},"&#xFEFF;");return n.insertNode(d),l(d.previousSibling),e.moveToBookmark({id:r,keep:1}),{id:r}}(e)},getUndoBookmark:e.curry(h,e.identity,!0)}}),a("ephox.katamari.api.Options",["ephox.katamari.api.Option"],function(e){return{cat:function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},findMap:function(t,n){for(var r=0;r<t.length;r++){var o=n(t[r],r);if(o.isSome())return o}return e.none()},liftN:function(t,n){for(var r=[],o=0;o<t.length;o++){var i=t[o];if(!i.isSome())return e.none();r.push(i.getOrDie())}return e.some(n.apply(null,r))}}}),a("tinymce.core.dom.ResolveBookmark",["ephox.katamari.api.Option","ephox.katamari.api.Options","tinymce.core.Env","tinymce.core.caret.CaretBookmark","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.util.Tools"],function(e,t,n,r,o,i,a){var c=function(e,t){return!e.isBlock(t)||t.innerHTML||n.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t},s=function(e,t,n,r){var o,i,a,c,s=n[t?"start":"end"],u=e.getRoot();if(s){for(a=s[0],i=u,o=s.length-1;o>=1;o--){if(c=i.childNodes,s[o]>c.length-1)return;i=c[s[o]]}3===i.nodeType&&(a=Math.min(s[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(s[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0},u=function(t,r,c){var s,u,l,f,d,p,m=t.get(c.id+"_"+r),h=c.keep;if(m){if(s=m.parentNode,h?(s=m.firstChild,u=1):u=t.nodeIndex(m),d=s,p=u,!h){for(f=m.previousSibling,l=m.nextSibling,a.each(a.grep(m.childNodes),function(e){i.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});m=t.get(c.id+"_"+r);)t.remove(m,1);f&&l&&f.nodeType===l.nodeType&&i.isText(f)&&!n.opera&&(u=f.nodeValue.length,f.appendData(l.nodeValue),t.remove(l),d=f,p=u)}return e.some(o(d,p))}return e.none()};return{resolve:function(n,o){var i=n.dom;if(o){if(a.isArray(o.start))return function(t,n){var r=t.createRng();return s(t,!0,n,r)&&s(t,!1,n,r)?e.some(r):e.none()}(i,o);if("string"==typeof o.start)return e.some(function(e,t){var n,o;return n=e.createRng(),o=r.resolve(e.getRoot(),t.start),n.setStart(o.container(),o.offset()),o=r.resolve(e.getRoot(),t.end),n.setEnd(o.container(),o.offset()),n}(i,o));if(o.id)return function(e,n){var r=u(e,"start",n),o=u(e,"end",n);return t.liftN([r,function(e,t){return e.isSome()?e:t}(o,r)],function(t,n){var r=e.createRng();return r.setStart(c(e,t.container()),t.offset()),r.setEnd(c(e,n.container()),n.offset()),r})}(i,o);if(o.name)return function(t,n){return e.from(t.select(n.name)[n.index]).map(function(e){var n=t.createRng();return n.selectNode(e),n})}(i,o);if(o.rng)return e.some(o.rng)}return e.none()}}}),a("tinymce.core.dom.Bookmarks",["tinymce.core.dom.GetBookmark","tinymce.core.dom.ResolveBookmark"],function(e,t){return{getBookmark:function(t,n,r){return e.getBookmark(t,n,r)},moveToBookmark:function(e,n){t.resolve(e,n).each(function(t){e.setRng(t)})},isBookmarkNode:function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")}}}),a("tinymce.core.dom.ElementUtils",["tinymce.core.dom.Bookmarks","tinymce.core.util.Tools"],function(e,t){var n=t.each;return function(t){this.compare=function(r,o){if(r.nodeName!=o.nodeName)return!1;var i=function(e){var r={};return n(t.getAttribs(e),function(n){var o=n.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(r[o]=t.getAttrib(e,o))}),r},a=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return!1;if(e[r]!=n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!(!a(i(r),i(o))||!a(t.parseStyle(t.getAttrib(r,"style")),t.parseStyle(t.getAttrib(o,"style")))||e.isBookmarkNode(r)||e.isBookmarkNode(o))}}}),a("ephox.sugar.api.dom.Insert",["ephox.sugar.api.search.Traverse"],function(e){var t=function(t,n){e.parent(t).each(function(e){e.dom().insertBefore(n.dom(),t.dom())})},n=function(e,t){e.dom().appendChild(t.dom())};return{before:t,after:function(r,o){e.nextSibling(r).fold(function(){e.parent(r).each(function(e){n(e,o)})},function(e){t(e,o)})},prepend:function(t,r){e.firstChild(t).fold(function(){n(t,r)},function(e){t.dom().insertBefore(r.dom(),e.dom())})},append:n,appendAt:function(r,o,i){e.child(r,i).fold(function(){n(r,o)},function(e){t(e,o)})},wrap:function(e,r){t(e,r),n(r,e)}}}),a("ephox.sugar.api.dom.InsertAll",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Insert"],function(e,t){return{before:function(n,r){e.each(r,function(e){t.before(n,e)})},after:function(n,r){e.each(r,function(e,o){var i=0===o?n:r[o-1];t.after(i,e)})},prepend:function(n,r){e.each(r.slice().reverse(),function(e){t.prepend(n,e)})},append:function(n,r){e.each(r,function(e){t.append(n,e)})}}}),a("ephox.sugar.api.dom.Remove",["ephox.katamari.api.Arr","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.search.Traverse"],function(e,t,n){var r=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)};return{empty:function(t){t.dom().textContent="",e.each(n.children(t),function(e){r(e)})},remove:r,unwrap:function(e){var o=n.children(e);o.length>0&&t.before(e,o),r(e)}}}),a("ephox.sugar.impl.NodeValue",["ephox.sand.api.PlatformDetection","ephox.katamari.api.Option","global!Error"],function(e,t,n){return function(r,o){var i=function(e){return r(e)?t.from(e.dom().nodeValue):t.none()},a=e.detect().browser,c=a.isIE()&&10===a.version.major?function(e){try{return i(e)}catch(e){return t.none()}}:i;return{get:function(e){if(!r(e))throw new n("Can only get "+o+" value of a "+o+" node");return c(e).getOr("")},getOption:c,set:function(e,t){if(!r(e))throw new n("Can only set raw "+o+" value of a "+o+" node");e.dom().nodeValue=t}}}}),a("ephox.sugar.api.node.Text",["ephox.sugar.api.node.Node","ephox.sugar.impl.NodeValue"],function(e,t){var n=t(e.isText,"text");return{get:function(e){return n.get(e)},getOption:function(e){return n.getOption(e)},set:function(e,t){n.set(e,t)}}}),a("ephox.sugar.api.search.PredicateFilter",["ephox.katamari.api.Arr","ephox.sugar.api.node.Body","ephox.sugar.api.search.Traverse"],function(e,t,n){var r=function(t,o){var i=[];return e.each(n.children(t),function(e){o(e)&&(i=i.concat([e])),i=i.concat(r(e,o))}),i};return{all:function(e){return r(t.body(),e)},ancestors:function(t,r,o){return e.filter(n.parents(t,o),r)},siblings:function(t,r){return e.filter(n.siblings(t),r)},children:function(t,r){return e.filter(n.children(t),r)},descendants:r}}),a("ephox.sugar.api.search.SelectorFilter",["ephox.sugar.api.search.PredicateFilter","ephox.sugar.api.search.Selectors"],function(e,t){return{all:function(e){return t.all(e)},ancestors:function(n,r,o){return e.ancestors(n,function(e){return t.is(e,r)},o)},siblings:function(n,r){return e.siblings(n,function(e){return t.is(e,r)})},children:function(n,r){return e.children(n,function(e){return t.is(e,r)})},descendants:function(e,n){return t.all(n,e)}}}),a("tinymce.core.dom.PaddingBr",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.node.Text","ephox.sugar.api.search.SelectorFilter","ephox.sugar.api.search.Traverse","tinymce.core.dom.ElementType"],function(e,t,n,r,o,i,a,c,s){var u=function(e){return o.isText(e)?""===i.get(e):s.isBr(e)};return{removeTrailingBr:function(t){var o=a.descendants(t,"br"),i=e.filter(function(e){for(var t=[],n=e.dom();n;)t.push(r.fromDom(n)),n=n.lastChild;return t}(t).slice(-1),s.isBr);o.length===i.length&&e.each(i,n.remove)},fillWithPaddingBr:function(e){n.empty(e),t.append(e,r.fromHtml('<br data-mce-bogus="1">'))},isPaddedElement:function(t){return 1===e.filter(c.children(t),u).length},trimBlockTrailingBr:function(e){c.lastChild(e).each(function(t){c.prevSibling(t).each(function(r){s.isBlock(e)&&s.isBr(t)&&s.isBlock(r)&&n.remove(t)})})}}}),a("tinymce.core.html.Writer",["tinymce.core.html.Entities","tinymce.core.util.Tools"],function(e,t){var n=t.makeMap;return function(t){var r,o,i,a,c,s=[];return t=t||{},r=t.indent,o=n(t.indent_before||""),i=n(t.indent_after||""),a=e.getEncodeFunc(t.entity_encoding||"raw",t.entities),c="html"==t.element_format,{start:function(e,t,n){var u,l,f,d;if(r&&o[e]&&s.length>0&&(d=s[s.length-1]).length>0&&"\n"!==d&&s.push("\n"),s.push("<",e),t)for(u=0,l=t.length;u<l;u++)f=t[u],s.push(" ",f.name,'="',a(f.value,!0),'"');s[s.length]=!n||c?">":" />",n&&r&&i[e]&&s.length>0&&(d=s[s.length-1]).length>0&&"\n"!==d&&s.push("\n")},end:function(e){var t;s.push("</",e,">"),r&&i[e]&&s.length>0&&(t=s[s.length-1]).length>0&&"\n"!==t&&s.push("\n")},text:function(e,t){e.length>0&&(s[s.length]=t?e:a(e))},cdata:function(e){s.push("<![CDATA[",e,"]]>")},comment:function(e){s.push("\x3c!--",e,"--\x3e")},pi:function(e,t){t?s.push("<?",e," ",a(t),"?>"):s.push("<?",e,"?>"),r&&s.push("\n")},doctype:function(e){s.push("<!DOCTYPE",e,">",r?"\n":"")},reset:function(){s.length=0},getContent:function(){return s.join("").replace(/\n$/,"")}}}}),a("tinymce.core.html.Serializer",["tinymce.core.html.Writer","tinymce.core.html.Schema"],function(e,t){return function(n,r){var o=new e(n);(n=n||{}).validate=!("validate"in n)||n.validate,this.schema=r=r||new t,this.writer=o,this.serialize=function(e){var t,i;i=n.validate,t={3:function(e){o.text(e.value,e.raw)},8:function(e){o.comment(e.value)},7:function(e){o.pi(e.name,e.value)},10:function(e){o.doctype(e.value)},4:function(e){o.cdata(e.value)},11:function(e){if(e=e.firstChild)do{a(e)}while(e=e.next)}},o.reset();var a=function(e){var n,c,s,u,l,f,d,p,m,h=t[e.type];if(h)h(e);else{if(n=e.name,c=e.shortEnded,s=e.attributes,i&&s&&s.length>1&&(f=[],f.map={},m=r.getElementRule(e.name))){for(d=0,p=m.attributesOrder.length;d<p;d++)(u=m.attributesOrder[d])in s.map&&(l=s.map[u],f.map[u]=l,f.push({name:u,value:l}));for(d=0,p=s.length;d<p;d++)(u=s[d].name)in f.map||(l=s.map[u],f.map[u]=l,f.push({name:u,value:l}));s=f}if(o.start(e.name,s,c),!c){if(e=e.firstChild)do{a(e)}while(e=e.next);o.end(n)}}};return 1!=e.type||n.inner?t[11](e):a(e),o.getContent()}}}),a("tinymce.core.caret.CaretFinder",["ephox.katamari.api.Fun","ephox.katamari.api.Option","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.dom.NodeType"],function(e,t,n,r,o,i,a){var c=function(e){return r.isTextPosition(e)?0===e.offset():n.isCaretCandidate(e.getNode())},s=function(e){return r.isTextPosition(e)?e.offset()===e.container().data.length:n.isCaretCandidate(e.getNode(!0))},u=function(e,t){return!r.isTextPosition(e)&&!r.isTextPosition(t)&&e.getNode()===t.getNode(!0)},l=function(e,t,n){return e?!u(t,n)&&!function(e){return!r.isTextPosition(e)&&a.isBr(e.getNode())}(t)&&s(t)&&c(n):!u(n,t)&&c(t)&&s(n)},f=function(e,n,r){var o=new i(n);return t.from(e?o.next(r):o.prev(r))},d=function(e,o){var i=e?o.firstChild:o.lastChild;return a.isText(i)?t.some(new r(i,e?0:i.data.length)):i?n.isCaretCandidate(i)?t.some(e?r.before(i):function(e){return a.isBr(e)?r.before(e):r.after(e)}(i)):function(e,t,n){var o=e?r.before(n):r.after(n);return f(e,t,o)}(e,o,i):t.none()};return{fromPosition:f,nextPosition:e.curry(f,!0),prevPosition:e.curry(f,!1),navigate:function(e,n,r){return f(e,n,r).bind(function(i){return o.isInSameBlock(r,i,n)&&l(e,r,i)?f(e,n,i):t.some(i)})},positionIn:d,firstPositionIn:e.curry(d,!0),lastPositionIn:e.curry(d,!1)}}),a("tinymce.core.selection.RangeNormalizer",["global!document","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils"],function(e,t,n,r){var o=function(o){var i=n.fromRangeStart(o),a=n.fromRangeEnd(o),c=o.commonAncestorContainer;return t.fromPosition(!1,c,a).map(function(t){return!r.isInSameBlock(i,a,c)&&r.isInSameBlock(i,t,c)?function(t,n,r,o){var i=e.createRange();return i.setStart(t,n),i.setEnd(r,o),i}(i.container(),i.offset(),t.container(),t.offset()):o}).getOr(o)};return{normalize:function(e){return function(e){return e.collapsed?e:o(e)}(e)}}}),a("tinymce.core.InsertContent",["ephox.katamari.api.Option","ephox.sugar.api.node.Element","tinymce.core.Env","tinymce.core.InsertList","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretWalker","tinymce.core.dom.ElementUtils","tinymce.core.dom.NodeType","tinymce.core.dom.PaddingBr","tinymce.core.html.Serializer","tinymce.core.selection.RangeNormalizer","tinymce.core.util.Tools"],function(e,t,n,r,o,i,a,c,s,u,l,f){var d=c.matchNodeNames("td th"),p=function(c,p,m){var h,g,v,y,b,x,w,C,k,T,_,S,E=c.schema.getTextInlineElements(),A=c.selection,N=c.dom;if(/^ | $/.test(p)&&(p=function(e){var t,n,r;t=A.getRng(!0),n=t.startContainer,r=t.startOffset;var o=function(e){return n[e]&&3==n[e].nodeType};return 3==n.nodeType&&(r>0?e=e.replace(/^&nbsp;/," "):o("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):o("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(p)),h=c.parser,S=m.merge,g=new u({validate:c.settings.validate},c.schema),_='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',x={content:p,format:"html",selection:!0,paste:m.paste},(x=c.fire("BeforeSetContent",x)).isDefaultPrevented())c.fire("SetContent",{content:x.content,format:"html",selection:!0,paste:m.paste});else{-1==(p=x.content).indexOf("{$caret}")&&(p+="{$caret}"),p=p.replace(/\{\$caret\}/,_);var D=(C=A.getRng()).startContainer||(C.parentElement?C.parentElement():null),R=c.getBody();D===R&&A.isCollapsed()&&N.isBlock(R.firstChild)&&function(e){return e&&!c.schema.getShortEndedElements()[e.nodeName]}(R.firstChild)&&N.isEmpty(R.firstChild)&&((C=N.createRng()).setStart(R.firstChild,0),C.setEnd(R.firstChild,0),A.setRng(C)),A.isCollapsed()||(c.selection.setRng(l.normalize(c.selection.getRng())),c.getDoc().execCommand("Delete",!1,null),function(){var e,t,n;t=(e=A.getRng(!0)).startContainer,n=e.startOffset,3==t.nodeType&&e.collapsed&&(""===t.data[n]?(t.deleteData(n,1),/[\u00a0| ]$/.test(p)||(p+=" ")):""===t.data[n-1]&&(t.deleteData(n-1,1),/[\u00a0| ]$/.test(p)||(p=" "+p)))}());var P={context:(v=A.getNode()).nodeName.toLowerCase(),data:m.data,insert:!0};if(b=h.parse(p,P),!0===m.paste&&r.isListFragment(c.schema,b)&&r.isParentBlockLi(N,v))return C=r.insertAtCaret(g,N,c.selection.getRng(!0),b),c.selection.setRng(C),void c.fire("SetContent",x);if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(b),"mce_marker"==(k=b.lastChild).attr("id"))for(w=k,k=k.prev;k;k=k.walk(!0))if(3==k.type||!N.isBlock(k.name)){c.schema.isValidChild(k.parent.name,"span")&&k.parent.insert(w,k,"br"===k.name);break}if(c._selectionOverrides.showBlockCaretContainer(v),P.invalid){for(A.setContent(_),v=A.getNode(),y=c.getBody(),9==v.nodeType?v=k=y:k=v;k!==y;)v=k,k=k.parentNode;p=v==y?y.innerHTML:N.getOuterHTML(v),p=g.serialize(h.parse(p.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return g.serialize(b)}))),v==y?N.setHTML(y,p):N.setOuterHTML(v,p)}else p=g.serialize(b),function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}}(c,p,v);!function(){if(S){var e=c.getBody(),t=new a(N);f.each(N.select("*[data-mce-fragment]"),function(n){for(var r=n.parentNode;r&&r!=e;r=r.parentNode)E[n.nodeName.toLowerCase()]&&t.compare(r,n)&&N.remove(n,!0)})}}(),function(e){var t,r,a;if(e){if(A.scrollIntoView(e),t=function(e){for(var t=c.getBody();e&&e!==t;e=e.parentNode)if("false"===c.dom.getContentEditable(e))return e;return null}(e))return N.remove(e),void A.select(t);C=N.createRng(),(k=e.previousSibling)&&3==k.nodeType?(C.setStart(k,k.nodeValue.length),n.ie||(T=e.nextSibling)&&3==T.nodeType&&(k.appendData(T.data),T.parentNode.removeChild(T))):(C.setStartBefore(e),C.setEndBefore(e)),r=N.getParent(e,N.isBlock),N.remove(e),r&&N.isEmpty(r)&&(c.$(r).empty(),C.setStart(r,0),C.setEnd(r,0),d(r)||function(e){return!!e.getAttribute("data-mce-fragment")}(r)||!(a=function(e){var t=o.fromRangeStart(e);if(t=new i(c.getBody()).next(t))return t.toRange()}(C))?N.add(r,N.create("br",{"data-mce-bogus":"1"})):(C=a,N.remove(r))),A.setRng(C)}}(N.get("mce_marker")),function(e){f.each(e.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})}(c.getBody()),function(n,r){e.from(n.getParent(r,"td,th")).map(t.fromDom).each(s.trimBlockTrailingBr)}(c.dom,c.selection.getStart()),c.fire("SetContent",x),c.addVisual()}};return{insertAtCaret:function(e,t){var n=function(e){var t;return"string"!=typeof e?(t=f.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}}(t);p(e,n.content,n.details)}}}),a("ephox.sugar.impl.ClosestOrAncestor",["ephox.katamari.api.Type","ephox.katamari.api.Option"],function(e,t){return function(n,r,o,i,a){return n(o,i)?t.some(o):e.isFunction(a)&&a(o)?t.none():r(o,i,a)}}),a("ephox.sugar.api.search.PredicateFind",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Body","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.impl.ClosestOrAncestor"],function(e,t,n,r,o,i,a,c){var s=function(t,o,i){for(var c=t.dom(),s=e.isFunction(i)?i:n.constant(!1);c.parentNode;){c=c.parentNode;var u=a.fromDom(c);if(o(u))return r.some(u);if(s(u))break}return r.none()},u=function(e,r){return t.find(e.dom().childNodes,n.compose(r,a.fromDom)).map(a.fromDom)},l=function(e,t){var n=function(e){for(var o=0;o<e.childNodes.length;o++){if(t(a.fromDom(e.childNodes[o])))return r.some(a.fromDom(e.childNodes[o]));var i=n(e.childNodes[o]);if(i.isSome())return i}return r.none()};return n(e.dom())};return{first:function(e){return l(o.body(),e)},ancestor:s,closest:function(e,t,n){return c(function(e){return t(e)},s,e,t,n)},sibling:function(e,t){var n=e.dom();return n.parentNode?u(a.fromDom(n.parentNode),function(n){return!i.eq(e,n)&&t(n)}):r.none()},child:u,descendant:l}}),a("tinymce.core.EditorSettings",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Obj","ephox.katamari.api.Option","ephox.katamari.api.Strings","ephox.katamari.api.Struct","ephox.katamari.api.Type","ephox.sand.api.PlatformDetection","tinymce.core.util.Tools"],function(e,t,n,r,o,i,a,c,s){var u=i.immutable("sections","settings"),l=c.detect().deviceType.isTouch(),f=["lists","autolink","autosave"],d={theme:"mobile"},p=function(t){var n=a.isArray(t)?t.join(" "):t,r=e.map(a.isString(n)?n.split(" "):[],o.trim);return e.filter(r,function(e){return e.length>0})},m=function(e,t){return e.sections().hasOwnProperty(t)},h=function(n,r,o,i){var a=p(o.forced_plugins),c=p(i.plugins),u=function(e,t){return[].concat(p(e)).concat(p(t))}(a,n&&m(r,"mobile")?function(n){return e.filter(n,t.curry(e.contains,f))}(c):c);return s.extend(i,{plugins:u.join(" ")})},g=function(t,r,o,i){var a=function(t,r){var o=n.bifilter(r,function(n,r){return e.contains(t,r)});return u(o.t,o.f)}(["mobile"],i),c=s.extend(r,o,a.settings(),function(e,t){var n=t.settings().inline;return e&&m(t,"mobile")&&!n}(t,a)?function(e,t,n){var r=e.sections(),o=r.hasOwnProperty(t)?r[t]:{};return s.extend({},n,o)}(a,"mobile",d):{},{validate:!0,content_editable:a.settings().inline,external_plugins:function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?s.extend({},e.external_plugins,n):n}(o,a.settings())});return h(t,a,o,c)};return{getEditorSettings:function(e,t,n,r,o){var i=function(e,t,n){return{id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:t,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:n.convertURL,url_converter_scope:n,ie7_compat:!0}}(t,n,e);return g(l,i,r,o)},get:function(e,t){return r.from(e.settings[t])},getString:t.curry(function(e,t,n){return r.from(t.settings[n]).filter(e)},a.isString),combineSettings:g}}),a("tinymce.core.text.Bidi",[],function(){var e=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/;return{hasStrongRtl:function(t){return e.test(t)}}}),a("tinymce.core.keyboard.InlineUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.search.Selectors","tinymce.core.EditorSettings","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.DOMUtils","tinymce.core.dom.NodeType","tinymce.core.text.Bidi"],function(e,t,n,r,o,i,a,c,s,u,l,f){var d=function(e,t){var n=t.container(),r=t.offset();return e?a.isCaretContainerInline(n)?l.isText(n.nextSibling)?new c(n.nextSibling,0):c.after(n):a.isBeforeInline(t)?new c(n,r+1):t:a.isCaretContainerInline(n)?l.isText(n.previousSibling)?new c(n.previousSibling,n.previousSibling.data.length):c.before(n):a.isAfterInline(t)?new c(n,r-1):t};return{isInlineTarget:function(e,t){var n=i.getString(e,"inline_boundaries_selector").getOr("a[href],code");return o.is(r.fromDom(t),n)},findRootInline:function(t,r,o){var i=function(t,n,r){return e.filter(u.DOM.getParents(r.container(),"*",n),t)}(t,r,o);return n.from(i[i.length-1])},isRtl:function(e){return"rtl"===u.DOM.getStyle(e,"direction",!0)||f.hasStrongRtl(e.textContent)},isAtZwsp:function(e){return a.isBeforeInline(e)||a.isAfterInline(e)},normalizePosition:d,normalizeForwards:t.curry(d,!0),normalizeBackwards:t.curry(d,!1),hasSameParentBlock:function(e,t,n){var r=s.getParentBlock(t,e),o=s.getParentBlock(n,e);return r&&r===o}}}),a("tinymce.core.delete.DeleteUtils",["ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.search.PredicateFind","tinymce.core.caret.CaretFinder","tinymce.core.dom.ElementType","tinymce.core.keyboard.InlineUtils"],function(e,t,n,r,o,i,a,c){return{getParentBlock:function(t,i){return n.contains(t,i)?o.closest(i,function(e){return a.isTextBlock(e)||a.isListItem(e)},function(e){return function(t){return n.eq(e,r.fromDom(t.dom().parentNode))}}(t)):e.none()},paddEmptyBody:function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)}(e))},willDeleteLastPositionInElement:function(e,n,r){return t.liftN([i.firstPositionIn(r),i.lastPositionIn(r)],function(t,o){var a=c.normalizePosition(!0,t),s=c.normalizePosition(!1,o),u=c.normalizePosition(!1,n);return e?i.nextPosition(r,u).map(function(e){return e.isEqual(s)&&n.isEqual(a)}).getOr(!1):i.prevPosition(r,u).map(function(e){return e.isEqual(a)&&n.isEqual(s)}).getOr(!1)}).getOr(!0)}}}),a("ephox.sugar.api.search.SelectorFind",["ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Selectors","ephox.sugar.impl.ClosestOrAncestor"],function(e,t,n){var r=function(n,r,o){return e.ancestor(n,function(e){return t.is(e,r)},o)};return{first:function(e){return t.one(e)},ancestor:r,sibling:function(n,r){return e.sibling(n,function(e){return t.is(e,r)})},child:function(n,r){return e.child(n,function(e){return t.is(e,r)})},descendant:function(e,n){return t.one(n,e)},closest:function(e,o,i){return n(t.is,r,e,o,i)}}}),a("ephox.sugar.api.search.SelectorExists",["ephox.sugar.api.search.SelectorFind"],function(e){return{any:function(t){return e.first(t).isSome()},ancestor:function(t,n,r){return e.ancestor(t,n,r).isSome()},sibling:function(t,n){return e.sibling(t,n).isSome()},child:function(t,n){return e.child(t,n).isSome()},descendant:function(t,n){return e.descendant(t,n).isSome()},closest:function(t,n,r){return e.closest(t,n,r).isSome()}}}),a("tinymce.core.dom.Empty",["ephox.katamari.api.Fun","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorExists","tinymce.core.caret.CaretCandidate","tinymce.core.dom.NodeType","tinymce.core.dom.TreeWalker"],function(e,t,n,r,o,i,a){var c=function(o,a){return i.isText(a)&&/^[ \t\r\n]*$/.test(a.data)&&!1===function(o,i){var a=n.fromDom(o),c=n.fromDom(i);return r.ancestor(c,"pre,code",e.curry(t.eq,a))}(o,a)},s=function(e,t){return o.isCaretCandidate(t)&&!1===c(e,t)||function(e){return i.isElement(e)&&"A"===e.nodeName&&e.hasAttribute("name")}(t)||u(t)},u=i.hasAttribute("data-mce-bookmark"),l=i.hasAttribute("data-mce-bogus"),f=i.hasAttributeValue("data-mce-bogus","all");return{isEmpty:function(e){return function(e){var t,n,r=0;if(s(e,e))return!1;if(!(n=e.firstChild))return!0;t=new a(n,e);do{if(f(n))n=t.next(!0);else if(l(n))n=t.next();else if(i.isBr(n))r++,n=t.next();else{if(s(e,n))return!1;n=t.next()}}while(n);return r<=1}(e.dom())}}}),a("tinymce.core.delete.BlockBoundary",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.katamari.api.Struct","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.delete.DeleteUtils","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m){var h=o.immutable("block","position"),g=o.immutable("from","to"),v=function(e,t){var n=a.fromDom(e),r=a.fromDom(t.container());return d.getParentBlock(n,r).map(function(e){return h(e,t)})},y=function(e,t,o){var a=v(e,f.fromRangeStart(o)),c=a.bind(function(r){return l.fromPosition(t,e,r.position()).bind(function(r){return v(e,r).map(function(r){return function(e,t,r){return m.isBr(r.position().getNode())&&!1===p.isEmpty(r.block())?l.positionIn(!1,r.block().dom()).bind(function(o){return o.isEqual(r.position())?l.fromPosition(t,e,o).bind(function(t){return v(e,t)}):n.some(r)}).getOr(r):r}(e,t,r)})})});return r.liftN([a,c],g).filter(function(e){return function(e){return!1===i.eq(e.from().block(),e.to().block())}(e)&&function(e){return u.parent(e.from().block()).bind(function(t){return u.parent(e.to().block()).filter(function(e){return i.eq(t,e)})}).isSome()}(e)&&function(e){return!1===m.isContentEditableFalse(e.from().block())&&!1===m.isContentEditableFalse(e.to().block())}(e)})};return{read:function(e,t,r){return r.collapsed?y(e,t,r):n.none()}}}),a("tinymce.core.dom.Parents",["ephox.katamari.api.Fun","ephox.sugar.api.dom.Compare","ephox.sugar.api.search.Traverse"],function(e,t,n){var r=function(e,r,o){return t.contains(r,e)?function(e){return e.slice(0,-1)}(n.parents(e,function(e){return o(e)||t.eq(e,r)})):[]},o=function(t,n){return r(t,n,e.constant(!1))};return{parentsUntil:r,parents:o,parentsAndSelf:function(e,t){return[e].concat(o(e,t))}}}),a("tinymce.core.delete.MergeBlocks",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.dom.ElementType","tinymce.core.dom.Empty","tinymce.core.dom.NodeType","tinymce.core.dom.PaddingBr","tinymce.core.dom.Parents"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p){var m=function(t){var n=function(t){var n=a.children(t);return e.findIndex(n,u.isBlock).fold(function(){return n},function(e){return n.slice(0,e)})}(t);return e.each(n,function(e){o.remove(e)}),n},h=function(e,t){c.positionIn(e,t.dom()).each(function(e){var t=e.getNode();f.isBr(t)&&o.remove(i.fromDom(t))})},g=function(t,n){var r=p.parentsAndSelf(n,t);return e.find(r.reverse(),l.isEmpty).each(o.remove)},v=function(e,r){return n.contains(r,e)?a.parent(e).bind(function(o){return n.eq(o,r)?t.some(e):function(e,r){var o=a.parents(r,function(t){return n.eq(t,e)});return t.from(o[o.length-2])}(r,e)}):t.none()},y=function(t,n,i){if(l.isEmpty(i))return o.remove(i),l.isEmpty(n)&&d.fillWithPaddingBr(n),c.firstPositionIn(n.dom());h(!0,n),h(!1,i);var a=m(n);return v(n,i).fold(function(){g(t,n);var o=c.lastPositionIn(i.dom());return e.each(a,function(e){r.append(i,e)}),o},function(o){var u=c.prevPosition(i.dom(),s.before(o.dom()));return e.each(a,function(e){r.before(o,e)}),g(t,n),u})};return{mergeBlocks:function(e,t,n,r){return t?y(e,r,n):y(e,n,r)}}}),a("tinymce.core.delete.BlockBoundaryDelete",["ephox.sugar.api.node.Element","tinymce.core.delete.BlockBoundary","tinymce.core.delete.MergeBlocks"],function(e,t,n){return{backspaceDelete:function(r,o){var i,a=e.fromDom(r.getBody());return(i=t.read(a.dom(),o,r.selection.getRng()).bind(function(e){return n.mergeBlocks(a,o,e.from().block(),e.to().block())})).each(function(e){r.selection.setRng(e.toRange())}),i.isSome()}}}),a("tinymce.core.delete.BlockRangeDelete",["ephox.katamari.api.Fun","ephox.katamari.api.Options","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.search.PredicateFind","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.delete.DeleteUtils","tinymce.core.delete.MergeBlocks","tinymce.core.dom.ElementType"],function(e,t,n,r,o,i,a,c,s,u){var l=function(t,i){var a=r.fromDom(i),c=e.curry(n.eq,t);return o.ancestor(a,u.isTableCell,c).isSome()},f=function(e,t){var n=i.prevPosition(e.dom(),a.fromRangeStart(t)).isNone(),r=i.nextPosition(e.dom(),a.fromRangeEnd(t)).isNone();return!function(e,t){return l(e,t.startContainer)||l(e,t.endContainer)}(e,t)&&n&&r},d=function(e){var o=r.fromDom(e.getBody()),i=e.selection.getRng();return f(o,i)?function(e){return e.setContent(""),e.selection.setCursorLocation(),!0}(e):function(e,o){var i=o.getRng();return t.liftN([c.getParentBlock(e,r.fromDom(i.startContainer)),c.getParentBlock(e,r.fromDom(i.endContainer))],function(t,r){return!1===n.eq(t,r)&&(i.deleteContents(),s.mergeBlocks(e,!0,t,r).each(function(e){o.setRng(e.toRange())}),!0)}).getOr(!1)}(o,e.selection)};return{backspaceDelete:function(e,t){return!e.selection.isCollapsed()&&d(e,e.selection.getRng())}}}),a("ephox.katamari.api.Adt",["ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.katamari.api.Type","global!Array","global!Error","global!console"],function(e,t,n,r,o,i){return{generate:function(a){if(!n.isArray(a))throw new o("cases must be an array");if(0===a.length)throw new o("there must be at least one case");var c=[],s={};return e.each(a,function(u,l){var f=t.keys(u);if(1!==f.length)throw new o("one and only one name per case");var d=f[0],p=u[d];if(void 0!==s[d])throw new o("duplicate key detected:"+d);if("cata"===d)throw new o("cannot have a case named cata (sorry)");if(!n.isArray(p))throw new o("case arguments must be an array");c.push(d),s[d]=function(){var n=arguments.length;if(n!==p.length)throw new o("Wrong number of arguments to case "+d+". Expected "+p.length+" ("+p+"), got "+n);for(var s=new r(n),u=0;u<s.length;u++)s[u]=arguments[u];return{fold:function(){if(arguments.length!==a.length)throw new o("Wrong number of arguments to fold. Expected "+a.length+", got "+arguments.length);return arguments[l].apply(null,s)},match:function(n){var r=t.keys(n);if(c.length!==r.length)throw new o("Wrong number of arguments to match. Expected: "+c.join(",")+"\nActual: "+r.join(","));if(!e.forall(c,function(t){return e.contains(r,t)}))throw new o("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+c.join(", "));return n[d].apply(null,s)},log:function(e){i.log(e,{constructors:c,constructor:d,params:s})}}}}),s}}}),a("tinymce.core.delete.CefDeleteAction",["ephox.katamari.api.Adt","ephox.katamari.api.Option","ephox.sugar.api.node.Element","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.delete.DeleteUtils","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],function(e,t,n,r,o,i,a,c,s){var u=e.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),l=function(e,r,o,i){var s=i.getNode(!1===r);return a.getParentBlock(n.fromDom(e),n.fromDom(o.getNode())).map(function(e){return c.isEmpty(e)?u.remove(e.dom()):u.moveToElement(s)}).orThunk(function(){return t.some(u.moveToElement(s))})},f=function(e,n,o){return r.fromPosition(n,e,o).bind(function(r){return n&&s.isContentEditableFalse(r.getNode())?l(e,n,o,r):!1===n&&s.isContentEditableFalse(r.getNode(!0))?l(e,n,o,r):n&&i.isAfterContentEditableFalse(o)?t.some(u.moveToPosition(r)):!1===n&&i.isBeforeContentEditableFalse(o)?t.some(u.moveToPosition(r)):t.none()})},d=function(e,n,r){return function(e,t){var n=t.getNode(!1===e),r=e?"after":"before";return s.isElement(n)&&n.getAttribute("data-mce-caret")===r}(n,r)?function(e,n){return e&&s.isContentEditableFalse(n.nextSibling)?t.some(u.moveToElement(n.nextSibling)):!1===e&&s.isContentEditableFalse(n.previousSibling)?t.some(u.moveToElement(n.previousSibling)):t.none()}(n,r.getNode(!1===n)).fold(function(){return f(e,n,r)},t.some):f(e,n,r).bind(function(n){return function(e,n,r){return r.fold(function(e){return t.some(u.remove(e))},function(e){return t.some(u.moveToElement(e))},function(r){return i.isInSameBlock(n,r,e)?t.none():t.some(u.moveToPosition(r))})}(e,r,n)})};return{read:function(e,n,r){var a=i.normalizeRange(n?1:-1,e,r),c=o.fromRangeStart(a);return!1===n&&i.isAfterContentEditableFalse(c)?t.some(u.remove(c.getNode(!0))):n&&i.isBeforeContentEditableFalse(c)?t.some(u.remove(c.getNode())):d(e,n,c)}}}),a("tinymce.core.delete.DeleteElement",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p){var m=function(e,t){return function(e,t){var n=e.container(),r=e.offset();return!1===f.isTextPosition(e)&&n===t.parentNode&&r>f.before(t).offset()}(t,e)?new f(t.container(),t.offset()-1):t},h=function(e){return u.isCaretCandidate(e.previousSibling)?t.some(function(e){return p.isText(e)?new f(e,e.data.length):f.after(e)}(e.previousSibling)):e.previousSibling?l.lastPositionIn(e.previousSibling):t.none()},g=function(e){return u.isCaretCandidate(e.nextSibling)?t.some(function(e){return p.isText(e)?new f(e,0):f.before(e)}(e.nextSibling)):e.nextSibling?l.firstPositionIn(e.nextSibling):t.none()},v=function(e,n){return h(n).orThunk(function(){return g(n)}).orThunk(function(){return function(e,n){var r=f.before(n.previousSibling?n.previousSibling:n.parentNode);return l.prevPosition(e,r).fold(function(){return l.nextPosition(e,f.after(n))},t.some)}(e,n)})},y=function(e,n){return g(n).orThunk(function(){return h(n)}).orThunk(function(){return function(e,n){return l.nextPosition(e,f.after(n)).fold(function(){return l.prevPosition(e,f.before(n))},t.some)}(e,n)})},b=function(t,n,r){return function(e,t,n){return e?y(t,n):v(t,n)}(t,n,r).map(e.curry(m,r))},x=function(e,t,n){n.fold(function(){e.focus()},function(n){e.selection.setRng(n.toRange(),t)})},w=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(a.name(t))},C=function(e){if(d.isEmpty(e)){var n=i.fromHtml('<br data-mce-bogus="1">');return o.empty(e),r.append(e,n),t.some(f.before(n.dom()))}return t.none()};return{deleteElement:function(r,i,a){var u=b(i,r.getBody(),a.dom()),l=c.ancestor(a,e.curry(w,r),function(e){return function(t){return t.dom()===e}}(r.getBody())),d=function(e,t){return n.liftN([s.prevSibling(e),s.nextSibling(e),t],function(t,n,r){var i,a=t.dom(),c=n.dom();return p.isText(a)&&p.isText(c)?(i=a.data.length,a.appendData(c.data),o.remove(n),o.remove(e),r.container()===c?new f(a,i):r):(o.remove(e),r)}).orThunk(function(){return o.remove(e),t})}(a,u);r.dom.isEmpty(r.getBody())?(r.setContent(""),r.selection.setCursorLocation()):l.bind(C).fold(function(){x(r,i,d)},function(e){x(r,i,t.some(e))})}}}),a("tinymce.core.delete.CefDelete",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFilter","tinymce.core.caret.CaretPosition","tinymce.core.delete.CefDeleteAction","tinymce.core.delete.DeleteElement","tinymce.core.delete.DeleteUtils","tinymce.core.dom.NodeType"],function(e,t,n,r,o,i,a,c,s){var u=function(e,t){return i.read(e.getBody(),t,e.selection.getRng()).map(function(r){return r.fold(function(e,t){return function(r){return e._selectionOverrides.hideFakeCaret(),a.deleteElement(e,t,n.fromDom(r)),!0}}(e,t),function(e,t){return function(n){var r=t?o.before(n):o.after(n);return e.selection.setRng(r.toRange()),!0}}(e,t),function(e){return function(t){return e.selection.setRng(t.toRange()),!0}}(e))}).getOr(!1)},l=function(o,i){var u=o.selection.getNode();return!!s.isContentEditableFalse(u)&&(function(n){e.each(r.descendants(n,".mce-offscreen-selection"),t.remove)}(n.fromDom(o.getBody())),a.deleteElement(o,i,n.fromDom(o.selection.getNode())),c.paddEmptyBody(o),!0)};return{backspaceDelete:function(e,t){return e.selection.isCollapsed()?u(e,t):l(e,t)},paddEmptyElement:function(e){var t,n=function(e,t){for(;t&&t!==e;){if(s.isContentEditableTrue(t)||s.isContentEditableFalse(t))return t;t=t.parentNode}return null}(e.getBody(),e.selection.getNode());return s.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(o.before(t).toRange())),!0}}}),a("tinymce.core.caret.CaretContainerInline",["ephox.katamari.api.Fun","tinymce.core.dom.NodeType","tinymce.core.text.Zwsp"],function(e,t,n){var r=t.isText,o=function(e){return r(e)&&e.data[0]===n.ZWSP},i=function(e){return r(e)&&e.data[e.data.length-1]===n.ZWSP},a=function(e){return e.ownerDocument.createTextNode(n.ZWSP)},c=function(e,t){return e?function(e){if(r(e.previousSibling))return i(e.previousSibling)?e.previousSibling:(e.previousSibling.appendData(n.ZWSP),e.previousSibling);if(r(e))return o(e)?e:(e.insertData(0,n.ZWSP),e);var t=a(e);return e.parentNode.insertBefore(t,e),t}(t):function(e){if(r(e.nextSibling))return o(e.nextSibling)?e.nextSibling:(e.nextSibling.insertData(0,n.ZWSP),e.nextSibling);if(r(e))return i(e)?e:(e.appendData(n.ZWSP),e);var t=a(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t}(t)};return{insertInline:c,insertInlineBefore:e.curry(c,!0),insertInlineAfter:e.curry(c,!1)}}),a("tinymce.core.caret.CaretContainerRemove",["ephox.katamari.api.Arr","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.text.Zwsp"],function(e,t,n,r,o){var i=r.isElement,a=r.isText,c=function(e){var t=e.parentNode;t&&t.removeChild(e)},s=function(e,t){0===t.length?c(e):e.nodeValue=t},u=function(e){var t=o.trim(e);return{count:e.length-t.length,text:t}},l=function(e,t){return p(e),t},f=function(e,t){return t.container()===e?function(e,t){var r=u(e.data.substr(0,t.offset())),o=u(e.data.substr(t.offset())),i=r.text+o.text;return i.length>0?(s(e,i),new n(e,t.offset()-r.count)):t}(e,t):l(e,t)},d=function(t,r){return r.container()===t.parentNode?function(t,r){var o=r.container(),i=e.indexOf(o.childNodes,t).map(function(e){return e<r.offset()?new n(o,r.offset()-1):r}).getOr(r);return p(t),i}(t,r):l(t,r)},p=function(e){if(i(e)&&t.isCaretContainer(e)&&(t.hasContent(e)?e.removeAttribute("data-mce-caret"):c(e)),a(e)){var n=o.trim(function(e){try{return e.nodeValue}catch(e){return""}}(e));s(e,n)}};return{removeAndReposition:function(e,t){return n.isTextPosition(t)?f(e,t):d(e,t)},remove:p}}),a("tinymce.core.keyboard.BoundaryCaret",["ephox.katamari.api.Option","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretContainerInline","tinymce.core.caret.CaretContainerRemove","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.keyboard.InlineUtils"],function(e,t,n,r,o,i,a,c){var s=function(e,t){return a.isText(e.container())?n.insertInline(t,e.container()):n.insertInline(t,e.getNode())},u=function(e,n){var r=n.get();return r&&e.container()===r&&t.isCaretContainerInline(r)};return{renderCaret:function(t,a){return a.fold(function(o){r.remove(t.get());var a=n.insertInlineBefore(o);return t.set(a),e.some(new i(a,a.length-1))},function(e){return o.firstPositionIn(e).map(function(e){if(u(e,t))return new i(t.get(),1);r.remove(t.get());var n=s(e,!0);return t.set(n),new i(n,1)})},function(e){return o.lastPositionIn(e).map(function(e){if(u(e,t))return new i(t.get(),t.get().length-1);r.remove(t.get());var n=s(e,!1);return t.set(n),new i(n,n.length-1)})},function(o){r.remove(t.get());var a=n.insertInlineAfter(o);return t.set(a),e.some(new i(a,1))})}}}),a("tinymce.core.fmt.FormatUtils",["tinymce.core.dom.TreeWalker"],function(e){var t=function(e){return e&&/^(IMG)$/.test(e.nodeName)},n=function(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)},r=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t};return{isInlineBlock:t,moveStart:function(r,o,i){var a,c,s,u=i.startContainer,l=i.startOffset;if((i.startContainer!==i.endContainer||!t(i.startContainer.childNodes[i.startOffset]))&&(3===u.nodeType&&l>=u.nodeValue.length&&(l=r.nodeIndex(u),u=u.parentNode),1===u.nodeType))for(l<(s=u.childNodes).length?(u=s[l],a=new e(u,r.getParent(u,r.isBlock))):(u=s[s.length-1],(a=new e(u,r.getParent(u,r.isBlock))).next(!0)),c=a.current();c;c=a.next())if(3===c.nodeType&&!n(c))return i.setStart(c,0),void o.setRng(i)},getNonWhiteSpaceSibling:function(e,t,r){if(e)for(t=t?"nextSibling":"previousSibling",e=r?e:e[t];e;e=e[t])if(1===e.nodeType||!n(e))return e},isTextBlock:function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},isValid:function(e,t,n){return e.schema.isValidChild(t,n)},isWhiteSpaceNode:n,replaceVars:function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e},isEq:function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},normalizeStyleValue:r,getStyle:function(e,t,n){return r(e,e.getStyle(t,n),n)},getTextDecoration:function(e,t){var n;return e.getParent(t,function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n}),n},getParents:function(e,t,n){return e.getParents(t,n,e.getRoot())}}}),a("tinymce.core.fmt.ExpandRange",["tinymce.core.dom.Bookmarks","tinymce.core.dom.TreeWalker","tinymce.core.fmt.FormatUtils","tinymce.core.selection.RangeNodes"],function(e,t,n,r){var o=e.isBookmarkNode,i=n.getParents,a=n.isWhiteSpaceNode,c=n.isTextBlock,s=function(e,t){for(void 0===t&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}},u=function(e){return"BR"===e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},l=function(e,t){for(var n=t;n;){if(1===n.nodeType&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},f=function(e,t,n,r){var o,i,a=n.nodeValue;return void 0===r&&(r=e?a.length:0),e?-1===(o=(o=a.lastIndexOf(" ",r))>(i=a.lastIndexOf("",r))?o:i)||t||o++:(o=a.indexOf(" ",r),i=a.indexOf("",r),o=-1!==o&&(-1===i||o<i)?o:i),o},d=function(e,n,r,o,i,a){var c,s,u,l;if(3===r.nodeType){if(-1!==(u=f(i,a,r,o)))return{container:r,offset:u};l=r}for(c=new t(r,e.getParent(r,e.isBlock)||n);s=c[i?"prev":"next"]();)if(3===s.nodeType){if(l=s,-1!==(u=f(i,a,s)))return{container:s,offset:u}}else if(e.isBlock(s))break;if(l)return o=i?0:l.length,{container:l,offset:o}},p=function(e,t,n,r,o){var a,c,s,u;for(3===r.nodeType&&0===r.nodeValue.length&&r[o]&&(r=r[o]),a=i(e,r),c=0;c<a.length;c++)for(s=0;s<t.length;s++)if(!("collapsed"in(u=t[s])&&u.collapsed!==n.collapsed)&&e.is(a[c],u.selector))return a[c];return r},m=function(e,t,r,o){var a,s=e.dom,u=s.getRoot();if(t[0].wrapper||(a=s.getParent(r,t[0].block,u)),!a){var l=s.getParent(r,"LI,TD,TH");a=s.getParent(3===r.nodeType?r.parentNode:r,function(t){return t!==u&&c(e,t)},l)}if(a&&t[0].wrapper&&(a=i(s,a,"ul,ol").reverse()[0]||a),!a)for(a=r;a[o]&&!s.isBlock(a[o])&&(a=a[o],!n.isEq(a,"br")););return a||r},h=function(e,t,n,r,i,c,s){var l,f,d,p,m;if(l=f=s?n:i,p=s?"previousSibling":"nextSibling",m=e.getRoot(),3===l.nodeType&&!a(l)&&(s?r>0:c<l.nodeValue.length))return l;for(;;){if(!t[0].block_expand&&e.isBlock(f))return f;for(d=f[p];d;d=d[p])if(!o(d)&&!a(d)&&!u(d))return f;if(f===m||f.parentNode===m){l=f;break}f=f.parentNode}return l};return{expandRng:function(e,t,n,i){var a,c=t.startContainer,u=t.startOffset,f=t.endContainer,g=t.endOffset,v=e.dom;return 1===c.nodeType&&c.hasChildNodes()&&3===(c=r.getNode(c,u)).nodeType&&(u=0),1===f.nodeType&&f.hasChildNodes()&&3===(f=r.getNode(f,t.collapsed?g:g-1)).nodeType&&(g=f.nodeValue.length),c=l(v,c),f=l(v,f),(o(c.parentNode)||o(c))&&3===(c=(c=o(c)?c:c.parentNode).nextSibling||c).nodeType&&(u=0),(o(f.parentNode)||o(f))&&3===(f=(f=o(f)?f:f.parentNode).previousSibling||f).nodeType&&(g=f.length),n[0].inline&&(t.collapsed&&((a=d(v,e.getBody(),c,u,!0,i))&&(c=a.container,u=a.offset),(a=d(v,e.getBody(),f,g,!1,i))&&(f=a.container,g=a.offset)),f=i?f:function(e,t){var n=s(e,t);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=s(n.node.previousSibling);n.node&&n.offset>0&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&n.offset>1&&(e=n.node).splitText(n.offset-1)}return e}(f,g)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===c.nodeType&&0!==u||(c=h(v,n,c,u,f,g,!0)),n[0].inline&&3===f.nodeType&&g!==f.nodeValue.length||(f=h(v,n,c,u,f,g,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(c=p(v,n,t,c,"previousSibling"),f=p(v,n,t,f,"nextSibling")),(n[0].block||n[0].selector)&&(c=m(e,n,c,"previousSibling"),f=m(e,n,f,"nextSibling"),n[0].block&&(v.isBlock(c)||(c=h(v,n,c,u,f,g,!0)),v.isBlock(f)||(f=h(v,n,c,u,f,g,!1)))),1===c.nodeType&&(u=v.nodeIndex(c),c=c.parentNode),1===f.nodeType&&(g=v.nodeIndex(f)+1,f=f.parentNode),{startContainer:c,startOffset:u,endContainer:f,endOffset:g}}}}),a("tinymce.core.fmt.MatchFormat",["tinymce.core.fmt.FormatUtils"],function(e){var t=e.isEq,n=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&e.dom.is(t,r[o].selector))return!0;return!1},r=function(e,t,r,o){var i=e.dom.getRoot();return t!==i&&(t=e.dom.getParent(t,function(t){return!!n(e,t,r)||(t.parentNode===i||!!a(e,t,r,o,!0))}),a(e,t,r,o))},o=function(e,n,r){return!!t(n,r.inline)||(!!t(n,r.block)||(r.selector?1===n.nodeType&&e.is(n,r.selector):void 0))},i=function(n,r,o,i,a,c){var s,u,l,f=o[i];if(o.onmatch)return o.onmatch(r,o,i);if(f)if(void 0===f.length){for(s in f)if(f.hasOwnProperty(s)){if(u="attributes"===i?n.getAttrib(r,s):e.getStyle(n,r,s),a&&!u&&!o.exact)return;if((!a||o.exact)&&!t(u,e.normalizeStyleValue(n,e.replaceVars(f[s],c),s)))return}}else for(l=0;l<f.length;l++)if("attributes"===i?n.getAttrib(r,f[l]):e.getStyle(n,r,f[l]))return o;return o},a=function(e,t,n,r,a){var c,s,u,l,f=e.formatter.get(n),d=e.dom;if(f&&t)for(s=0;s<f.length;s++)if(c=f[s],o(e.dom,t,c)&&i(d,t,c,"attributes",a,r)&&i(d,t,c,"styles",a,r)){if(l=c.classes)for(u=0;u<l.length;u++)if(!e.dom.hasClass(t,l[u]))return;return c}};return{matchNode:a,matchName:o,match:function(e,t,n,o){var i;return o?r(e,o,t,n):(o=e.selection.getNode(),!!r(e,o,t,n)||!((i=e.selection.getStart())===o||!r(e,i,t,n)))},matchAll:function(e,t,n){var r,o=[],i={};return r=e.selection.getStart(),e.dom.getParent(r,function(r){var c,s;for(c=0;c<t.length;c++)s=t[c],!i[s]&&a(e,r,s,n)&&(i[s]=!0,o.push(s))},e.dom.getRoot()),o},canApply:function(t,n){var r,o,i,a,c,s=t.formatter.get(n),u=t.dom;if(s)for(r=t.selection.getStart(),o=e.getParents(u,r),a=s.length-1;a>=0;a--){if(!(c=s[a].selector)||s[a].defaultBlock)return!0;for(i=o.length-1;i>=0;i--)if(u.is(o[i],c))return!0}return!1},matchesUnInheritedFormatSelector:n}}),a("tinymce.core.selection.SplitRange",["tinymce.core.dom.NodeType"],function(e){var t=function(e,t){return e.splitText(t)};return{split:function(n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;return r===i&&e.isText(r)?o>0&&o<r.nodeValue.length&&(r=(i=t(r,o)).previousSibling,a>o?(r=i=t(i,a-=o).previousSibling,a=i.nodeValue.length,o=0):a=0):(e.isText(r)&&o>0&&o<r.nodeValue.length&&(r=t(r,o),o=0),e.isText(i)&&a>0&&a<i.nodeValue.length&&(a=(i=t(i,a).previousSibling).nodeValue.length)),{startContainer:r,startOffset:o,endContainer:i,endOffset:a}}}}),a("tinymce.core.fmt.CaretFormat",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.properties.Attr","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.dom.PaddingBr","tinymce.core.dom.TreeWalker","tinymce.core.fmt.ExpandRange","tinymce.core.fmt.FormatUtils","tinymce.core.fmt.MatchFormat","tinymce.core.selection.SplitRange","tinymce.core.text.Zwsp","tinymce.core.util.Fun"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m,h){var g=m.ZWSP,v="_mce_caret",y=function(e){return 1===e.nodeType&&e.id===v},b=function(e){return function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==g||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length>0},x=function(e){var t;if(e)for(e=(t=new u(e,e)).current();e;e=t.next())if(3===e.nodeType)return e;return null},w=function(e){var n=r.fromTag("span");return i.setAll(n,{id:v,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&t.append(n,r.fromText(g)),n},C=function(e,t){for(;t&&t!==e;){if(t.id===v)return t;t=t.parentNode}return null},k=function(e,t,n,o){var i,a,c;i=t.getRng(!0),a=e.getParent(n,e.isBlock),b(n)?(!1!==o&&(i.setStartBefore(n),i.setEndBefore(n)),e.remove(n)):(c=function(e){var t=x(e);return t&&t.nodeValue.charAt(0)===g&&t.deleteData(0,1),t}(n),i.startContainer===c&&i.startOffset>0&&i.setStart(c,i.startOffset-1),i.endContainer===c&&i.endOffset>0&&i.setEnd(c,i.endOffset-1),e.remove(n,!0)),a&&e.isEmpty(a)&&s.fillWithPaddingBr(r.fromDom(a)),t.setRng(i)},T=function(e,t,n,r,o){if(r)k(t,n,r,o);else if(!(r=C(e,n.getStart())))for(;r=t.get(v);)k(t,n,r,!1)},_=function(e,t,n){var o=e.dom,i=o.getParent(n,h.curry(f.isTextBlock,e));i&&o.isEmpty(i)?n.parentNode.replaceChild(t,n):(s.removeTrailingBr(r.fromDom(n)),o.isEmpty(n)?n.parentNode.replaceChild(t,n):o.insertAfter(t,n))},S=function(e,t){return e.appendChild(t),t},E=function(t,n){var r=e.foldr(t,function(e,t){return S(e,t.cloneNode(!1))},n);return S(r,r.ownerDocument.createTextNode(g))};return{setup:function(e){var t=e.dom,n=e.selection,r=e.getBody();e.on("mouseup keydown",function(e){!function(e,t,n,r){T(e,t,n,null,!1),8===r&&n.isCollapsed()&&n.getStart().innerHTML===g&&T(e,t,n,C(e,n.getStart())),37!==r&&39!==r||T(e,t,n,C(e,n.getStart()))}(r,t,n,e.keyCode)})},applyCaretFormat:function(e,t,n){var r,o,i,a,c,s,u=e.selection;a=(r=u.getRng(!0)).startOffset,s=r.startContainer.nodeValue,(o=C(e.getBody(),u.getStart()))&&(i=x(o));var f=/[^\s\u00a0\u00ad\u200b\ufeff]/;s&&a>0&&a<s.length&&f.test(s.charAt(a))&&f.test(s.charAt(a-1))?(c=u.getBookmark(),r.collapse(!0),r=l.expandRng(e,r,e.formatter.get(t)),r=p.split(r),e.formatter.apply(t,n,r),u.moveToBookmark(c)):(o&&i.nodeValue===g?e.formatter.apply(t,n,o):(i=(o=function(e,t){return e.importNode(t,!0)}(e.getDoc(),w(!0).dom())).firstChild,r.insertNode(o),a=1,e.formatter.apply(t,n,o)),u.setCursorLocation(i,a))},removeCaretFormat:function(e,t,n,r){var o,i,a,c,s,u,f,m=e.dom,h=e.selection,g=h.getRng(!0),v=[];for(o=g.startContainer,i=g.startOffset,s=o,3===o.nodeType&&(i!==o.nodeValue.length&&(c=!0),s=s.parentNode);s;){if(d.matchNode(e,s,t,n,r)){u=s;break}s.nextSibling&&(c=!0),v.push(s),s=s.parentNode}if(u)if(c)a=h.getBookmark(),g.collapse(!0),g=l.expandRng(e,g,e.formatter.get(t),!0),g=p.split(g),e.formatter.remove(t,n,g),h.moveToBookmark(a);else{f=C(e.getBody(),u);var y=w(!1).dom(),b=E(v,y);_(e,y,f||u),k(m,h,f,!1),h.setCursorLocation(b,1),m.isEmpty(u)&&m.remove(u)}},isCaretNode:y,getParentCaretContainer:C,replaceWithCaretFormat:function(e,o){var i=w(!1),c=E(o,i.dom());return t.before(r.fromDom(e),i),n.remove(r.fromDom(e)),a(c,0)},isFormatElement:function(e,t){return e.schema.getTextInlineElements().hasOwnProperty(o.name(t))&&!y(t.dom())&&!c.isBogus(t.dom())}}}),a("tinymce.core.util.LazyEvaluator",["ephox.katamari.api.Option"],function(e){return{evaluateUntil:function(t,n){for(var r=0;r<t.length;r++){var o=t[r].apply(null,n);if(o.isSome())return o}return e.none()}}}),a("tinymce.core.keyboard.BoundaryLocation",["ephox.katamari.api.Adt","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretUtils","tinymce.core.fmt.CaretFormat","tinymce.core.keyboard.InlineUtils","tinymce.core.util.LazyEvaluator"],function(e,t,n,r,o,i,a,c,s){var u=e.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),l=function(e,t){var n=i.getParentBlock(t,e);return n||e},f=function(e,r,i){var a=c.normalizeForwards(i),s=l(r,a.container());return c.findRootInline(e,s,a).fold(function(){return o.nextPosition(s,a).bind(t.curry(c.findRootInline,e,s)).map(function(e){return u.before(e)})},n.none)},d=function(e,t){return null===a.getParentCaretContainer(e,t)},p=function(e,n,r){return c.findRootInline(e,n,r).filter(t.curry(d,n))},m=function(e,t,r){var i=c.normalizeBackwards(r);return p(e,t,i).bind(function(e){return o.prevPosition(e,i).isNone()?n.some(u.start(e)):n.none()})},h=function(e,t,r){var i=c.normalizeForwards(r);return p(e,t,i).bind(function(e){return o.nextPosition(e,i).isNone()?n.some(u.end(e)):n.none()})},g=function(e,r,i){var a=c.normalizeBackwards(i),s=l(r,a.container());return c.findRootInline(e,s,a).fold(function(){return o.prevPosition(s,a).bind(t.curry(c.findRootInline,e,s)).map(function(e){return u.after(e)})},n.none)},v=function(e){return!1===c.isRtl(b(e))},y=function(e,t,n){return s.evaluateUntil([f,m,h,g],[e,t,n]).filter(v)},b=function(e){return e.fold(t.identity,t.identity,t.identity,t.identity)},x=function(e){return e.fold(t.constant("before"),t.constant("start"),t.constant("end"),t.constant("after"))},w=function(e){return e.fold(u.before,u.before,u.after,u.after)},C=function(e,t,n,o,i,a){return r.liftN([c.findRootInline(t,n,o),c.findRootInline(t,n,i)],function(t,r){return t!==r&&c.hasSameParentBlock(n,t,r)?u.after(e?t:r):a}).getOr(a)},k=function(e,n){return e.fold(t.constant(!0),function(e){return!function(e,t){return x(e)===x(t)&&b(e)===b(t)}(e,n)})},T=function(e,r){return e?r.fold(t.compose(n.some,u.start),n.none,t.compose(n.some,u.after),n.none):r.fold(n.none,t.compose(n.some,u.before),n.none,t.compose(n.some,u.end))},_=function(e,n,r,i){var a=c.normalizePosition(e,i),s=y(n,r,a);return y(n,r,a).bind(t.curry(T,e)).orThunk(function(){return function(e,n,r,i,a){var s=c.normalizePosition(e,a);return o.fromPosition(e,r,s).map(t.curry(c.normalizePosition,e)).fold(function(){return i.map(w)},function(o){return y(n,r,o).map(t.curry(C,e,n,r,s,o)).filter(t.curry(k,i))}).filter(v)}(e,n,r,s,i)})};return{readLocation:y,findLocation:_,prevLocation:t.curry(_,!1),nextLocation:t.curry(_,!0),getElement:b,outside:w,inside:function(e){return e.fold(u.start,u.start,u.end,u.end)}}}),a("ephox.katamari.api.Cell",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),a("tinymce.core.selection.WordSelection",["ephox.katamari.api.Type","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition"],function(e,t,n){var r=function(t){return e.isFunction(t.selection.getSel().modify)},o=function(e,t,r){var o=e?1:-1;return t.setRng(n(r.container(),r.offset()+o).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0};return{hasSelectionModifyApi:r,moveByWord:function(e,i){var a=i.selection.getRng(),c=e?n.fromRangeEnd(a):n.fromRangeStart(a);return!!r(i)&&(e&&t.isBeforeInline(c)?o(!0,i.selection,c):!(e||!t.isAfterInline(c))&&o(!1,i.selection,c))}}}),a("tinymce.core.keyboard.BoundarySelection",["ephox.katamari.api.Arr","ephox.katamari.api.Cell","ephox.katamari.api.Fun","tinymce.core.caret.CaretContainerRemove","tinymce.core.caret.CaretPosition","tinymce.core.keyboard.BoundaryCaret","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.InlineUtils","tinymce.core.selection.WordSelection"],function(e,t,n,r,o,i,a,c,s){var u=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},l=function(e){return!1!==e.settings.inline_boundaries},f=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},d=function(e,t,n){return i.renderCaret(t,n).map(function(t){return u(e,t),n})},p=function(e,t,n){return function(){return!!l(t)&&s.moveByWord(e,t)}};return{move:function(e,t,r){return function(){return!!l(e)&&function(e,t,r){var i=e.getBody(),s=o.fromRangeStart(e.selection.getRng()),u=n.curry(c.isInlineTarget,e);return a.findLocation(r,u,i,s).bind(function(n){return d(e,t,n)})}(e,t,r).isSome()}},moveNextWord:n.curry(p,!0),movePrevWord:n.curry(p,!1),setupSelectedState:function(i){var s=new t(null),p=n.curry(c.isInlineTarget,i);return i.on("NodeChange",function(t){l(i)&&(function(t,r,o){var i=e.filter(r.select('*[data-mce-selected="inline-boundary"]'),t),a=e.filter(o,t);e.each(e.difference(i,a),n.curry(f,!1)),e.each(e.difference(a,i),n.curry(f,!0))}(p,i.dom,t.parents),function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=o.fromRangeStart(e.selection.getRng());o.isTextPosition(n)&&!1===c.isAtZwsp(n)&&(u(e,r.removeAndReposition(t.get(),n)),t.set(null))}}(i,s),function(t,n,r,i){if(n.selection.isCollapsed()){var c=e.filter(i,t);e.each(c,function(e){var i=o.fromRangeStart(n.selection.getRng());a.readLocation(t,n.getBody(),i).bind(function(e){return d(n,r,e)})})}}(p,i,s,t.parents))}),s},setCaretPosition:u}}),a("tinymce.core.delete.InlineBoundaryDelete",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.node.Element","global!document","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.delete.DeleteElement","tinymce.core.keyboard.BoundaryCaret","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.InlineUtils"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p){var m=function(e,t){return function(n){return l.renderCaret(t,n).map(function(t){return d.setCaretPosition(e,t),!0}).getOr(!1)}},h=function(t,n,r,i){var a=t.getBody(),s=e.curry(p.isInlineTarget,t);t.undoManager.ignore(function(){t.selection.setRng(function(e,t){var n=o.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n}(r,i)),t.execCommand("Delete"),f.readLocation(s,a,c.fromRangeStart(t.selection.getRng())).map(f.inside).map(m(t,n))}),t.nodeChanged()},g=function(o,i,c,l){var d=function(e,t){var n=s.getParentBlock(t,e);return n||e}(o.getBody(),l.container()),g=e.curry(p.isInlineTarget,o),v=f.readLocation(g,d,l);return v.bind(function(n){return c?n.fold(e.constant(t.some(f.inside(n))),t.none,e.constant(t.some(f.outside(n))),t.none):n.fold(t.none,e.constant(t.some(f.outside(n))),t.none,e.constant(t.some(f.inside(n))))}).map(m(o,i)).getOrThunk(function(){var e=a.navigate(c,d,l),t=e.bind(function(e){return f.readLocation(g,d,e)});return v.isSome()&&t.isSome()?p.findRootInline(g,d,l).map(function(e){return!!function(e){return n.liftN([a.firstPositionIn(e),a.lastPositionIn(e)],function(t,n){var r=p.normalizePosition(!0,t),o=p.normalizePosition(!1,n);return a.nextPosition(e,r).map(function(e){return e.isEqual(o)}).getOr(!0)}).getOr(!0)}(e)&&(u.deleteElement(o,c,r.fromDom(e)),!0)}).getOr(!1):t.bind(function(t){return e.map(function(e){return c?h(o,i,l,e):h(o,i,e,l),!0})}).getOr(!1)})};return{backspaceDelete:function(e,t,n){if(e.selection.isCollapsed()&&function(e){return!1!==e.settings.inline_boundaries}(e)){var r=c.fromRangeStart(e.selection.getRng());return g(e,t,n,r)}return!1}}}),a("tinymce.core.delete.TableDeleteAction",["ephox.katamari.api.Adt","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.katamari.api.Struct","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFilter","ephox.sugar.api.search.SelectorFind"],function(e,t,n,r,o,i,a,c,s,u){var l=i.immutable("start","end"),f=i.immutable("rng","table","cells"),d=e.generate([{removeTable:["element"]},{emptyCells:["cells"]}]),p=function(e,t){return u.closest(c.fromDom(e),"td,th",t)},m=function(e,t){return u.ancestor(e,"table",t)},h=function(e){return!1===a.eq(e.start(),e.end())},g=function(e,t){return function(e,t){return m(e.start(),t).bind(function(n){return m(e.end(),t).bind(function(e){return a.eq(n,e)?r.some(n):r.none()})})}(e,t).bind(function(t){var n=s.descendants(t,"td,th");return f(e,t,n)})},v=function(e,t){var r=n.curry(a.eq,e);return function(e,t){return o.liftN([p(e.startContainer,t),p(e.endContainer,t)],l).filter(h)}(t,r).map(function(e){return g(e,r)})},y=function(e,n){return t.findIndex(e,function(e){return a.eq(e,n)})},b=function(e){return function(e){return o.liftN([y(e.cells(),e.rng().start()),y(e.cells(),e.rng().end())],function(t,n){return e.cells().slice(t,n+1)})}(e).bind(function(t){var n=e.cells();return t.length===n.length?d.removeTable(e.table()):d.emptyCells(t)})};return{getActionFromRange:function(e,t){return v(e,t).map(b)},getActionFromCells:function(e){return d.emptyCells(e)}}}),a("tinymce.core.selection.MultiRange",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","tinymce.core.selection.RangeNodes"],function(e,t,n){var r=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t};return{getRanges:r,getSelectedNodes:function(r){return e.bind(r,function(e){var r=n.getSelectedNode(e);return r?[t.fromDom(r)]:[]})},hasMultipleRanges:function(e){return r(e).length>1}}}),a("tinymce.core.selection.TableCellSelection",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFilter","tinymce.core.dom.ElementType","tinymce.core.selection.MultiRange"],function(e,t,n,r,o){var i=function(t){return e.filter(o.getSelectedNodes(t),r.isTableCell)},a=function(e){return n.descendants(e,"td[data-mce-selected],th[data-mce-selected]")},c=function(e,t){var n=a(t),r=i(e);return n.length>0?n:r};return{getCellsFromRanges:i,getCellsFromElement:a,getCellsFromElementOrRanges:c,getCellsFromEditor:function(e){return c(o.getRanges(e.selection.getSel()),t.fromDom(e.getBody()))}}}),a("tinymce.core.delete.TableDelete",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.delete.DeleteElement","tinymce.core.delete.TableDeleteAction","tinymce.core.dom.ElementType","tinymce.core.dom.Empty","tinymce.core.dom.PaddingBr","tinymce.core.dom.Parents","tinymce.core.selection.TableCellSelection"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m){var h=function(t,n){return e.each(n,d.fillWithPaddingBr),t.selection.setCursorLocation(n[0].dom(),0),!0},g=function(e,t){return s.deleteElement(e,!1,t),!0},v=function(e,n,r,o){return b(n,o).fold(function(){return function(e,n,r){return u.getActionFromRange(n,r).map(function(n){return n.fold(t.curry(g,e),t.curry(h,e))})}(e,n,r)},function(t){return function(e,t){return x(e,t)}(e,t)}).getOr(!1)},y=function(t,n){return e.find(p.parentsAndSelf(n,t),l.isTableCell)},b=function(t,n){return e.find(p.parentsAndSelf(n,t),function(e){return"caption"===i.name(e)})},x=function(e,t){return d.fillWithPaddingBr(t),e.selection.setCursorLocation(t.dom(),0),n.some(!0)},w=function(e,t,i,c,s){return a.navigate(i,e.getBody(),s).bind(function(n){return function(e,t,n,r){return a.firstPositionIn(e.dom()).bind(function(o){return a.lastPositionIn(e.dom()).map(function(e){return t?n.isEqual(o)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(o)})}).getOr(!0)}(c,i,s,n)?function(e,t){return x(e,t)}(e,c):function(e,t,n){return b(e,o.fromDom(n.getNode())).map(function(e){return!1===r.eq(e,t)})}(t,c,n)}).or(n.some(!0))},C=function(e,t,n,i){var s=c.fromRangeStart(e.selection.getRng());return y(n,i).bind(function(i){return f.isEmpty(i)?x(e,i):function(e,t,n,i,c){return a.navigate(n,e.getBody(),c).bind(function(e){return y(t,o.fromDom(e.getNode())).map(function(e){return!1===r.eq(e,i)})})}(e,n,t,i,s)})},k=function(e,t,n){var r=o.fromDom(e.getBody());return b(r,n).fold(function(){return C(e,t,r,n)},function(n){return function(e,t,n,r){var o=c.fromRangeStart(e.selection.getRng());return f.isEmpty(r)?x(e,r):w(e,n,t,r,o)}(e,t,r,n)}).getOr(!1)};return{backspaceDelete:function(e,t){var n=o.fromDom(e.selection.getStart(!0));return e.selection.isCollapsed()?k(e,t,n):function(e,t){var n=o.fromDom(e.getBody()),r=e.selection.getRng(),i=m.getCellsFromEditor(e);return 0!==i.length?h(e,i):v(e,n,r,t)}(e,n)}}}),a("tinymce.core.delete.DeleteCommands",["tinymce.core.delete.BlockBoundaryDelete","tinymce.core.delete.BlockRangeDelete","tinymce.core.delete.CefDelete","tinymce.core.delete.DeleteUtils","tinymce.core.delete.InlineBoundaryDelete","tinymce.core.delete.TableDelete"],function(e,t,n,r,o,i){var a=function(e,t){e.getDoc().execCommand(t,!1,null)};return{deleteCommand:function(c){n.backspaceDelete(c,!1)||o.backspaceDelete(c,!1)||e.backspaceDelete(c,!1)||i.backspaceDelete(c)||t.backspaceDelete(c,!1)||(a(c,"Delete"),r.paddEmptyBody(c))},forwardDeleteCommand:function(r){n.backspaceDelete(r,!0)||o.backspaceDelete(r,!0)||e.backspaceDelete(r,!0)||i.backspaceDelete(r)||t.backspaceDelete(r,!0)||a(r,"ForwardDelete")}}}),a("tinymce.core.selection.RangeCompare",[],function(){return{isEq:function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}}),a("tinymce.core.selection.NormalizeRange",["ephox.katamari.api.Option","ephox.katamari.api.Struct","tinymce.core.caret.CaretContainer","tinymce.core.dom.NodeType","tinymce.core.dom.TreeWalker","tinymce.core.fmt.CaretFormat","tinymce.core.selection.RangeCompare"],function(e,t,n,r,o,i,a){var c=t.immutable("container","offset"),s=function(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)},u=function(e,t,n){return s(e,t,function(e){return e.nodeName===n})},l=function(e){return e&&"TABLE"===e.nodeName},f=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},d=function(e,t){return n.isCaretContainer(e)&&!1===s(e,t,i.isCaretNode)},p=function(e,t,n){for(var i=new o(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=i[n?"prev":"next"]();)if(r.isBr(t))return!0},m=function(t,n,i,a,s){var l,f,p,m,h=t.getRoot(),g=t.schema.getNonEmptyElements();if(p=t.getParent(s.parentNode,t.isBlock)||h,a&&r.isBr(s)&&n&&t.isEmpty(p))return e.some(c(s.parentNode,t.nodeIndex(s)));for(l=new o(s,p);m=l[a?"prev":"next"]();){if("false"===t.getContentEditableParent(m)||d(m,h))return e.none();if(r.isText(m)&&m.nodeValue.length>0)return!1===u(m,h,"A")?e.some(c(m,a?m.nodeValue.length:0)):e.none();if(t.isBlock(m)||g[m.nodeName.toLowerCase()])return e.none();f=m}return i&&f?e.some(c(f,0)):e.none()},h=function(t,i,a,s){var u,d,h,g,v,y,b,x=t.getRoot(),w=!1;if(u=s[(a?"start":"end")+"Container"],d=s[(a?"start":"end")+"Offset"],b=r.isElement(u)&&d===u.childNodes.length,v=t.schema.getNonEmptyElements(),y=a,n.isCaretContainer(u))return e.none();if(r.isElement(u)&&d>u.childNodes.length-1&&(y=!1),r.isDocument(u)&&(u=x,d=0),u===x){if(y&&(g=u.childNodes[d>0?d-1:0])){if(n.isCaretContainer(g))return e.none();if(v[g.nodeName]||l(g))return e.none()}if(u.hasChildNodes()){if(d=Math.min(!y&&d>0?d-1:d,u.childNodes.length-1),u=u.childNodes[d],d=r.isText(u)&&b?u.data.length:0,!i&&u===x.lastChild&&l(u))return e.none();if(function(e,t){for(;t&&t!==e;){if(r.isContentEditableFalse(t))return!0;t=t.parentNode}return!1}(x,u)||n.isCaretContainer(u))return e.none();if(u.hasChildNodes()&&!1===l(u)){g=u,h=new o(u,x);do{if(r.isContentEditableFalse(g)||n.isCaretContainer(g)){w=!1;break}if(r.isText(g)&&g.nodeValue.length>0){d=y?0:g.nodeValue.length,u=g,w=!0;break}if(v[g.nodeName.toLowerCase()]&&!f(g)){d=t.nodeIndex(g),u=g.parentNode,"IMG"!==g.nodeName&&"PRE"!==g.nodeName||y||d++,w=!0;break}}while(g=y?h.next():h.prev())}}}return i&&(r.isText(u)&&0===d&&m(t,b,i,!0,u).each(function(e){u=e.container(),d=e.offset(),w=!0}),r.isElement(u)&&((g=u.childNodes[d])||(g=u.childNodes[d-1]),!g||!r.isBr(g)||function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t}(g,"A")||p(t,g,!1)||p(t,g,!0)||m(t,b,i,!0,g).each(function(e){u=e.container(),d=e.offset(),w=!0}))),y&&!i&&r.isText(u)&&d===u.nodeValue.length&&m(t,b,i,!1,u).each(function(e){u=e.container(),d=e.offset(),w=!0}),w?e.some(c(u,d)):e.none()};return{normalize:function(t,n){var r=n.collapsed,o=n.cloneRange();return h(t,r,!0,o).each(function(e){o.setStart(e.container(),e.offset())}),r||h(t,r,!1,o).each(function(e){o.setEnd(e.container(),e.offset())}),r&&o.collapse(!0),a.isEq(n,o)?e.none():e.some(o)}}}),a("tinymce.core.newline.InsertBr",["ephox.katamari.api.Fun","ephox.sugar.api.dom.Insert","ephox.sugar.api.node.Element","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.dom.TreeWalker","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.InlineUtils","tinymce.core.selection.NormalizeRange"],function(e,t,n,r,o,i,a,c,s,u){var l=function(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},f=function(e,t,n,r){var o=e.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),t.setRng(o)},d=function(e,t){var n,r,o=e.selection,i=e.dom,c=o.getRng(!0);u.normalize(i,c).each(function(e){c.setStart(e.startContainer,e.startOffset),c.setEnd(e.endContainer,e.endOffset)});var s=c.startOffset,d=c.startContainer;if(1===d.nodeType&&d.hasChildNodes()){var p=s>d.childNodes.length-1;d=d.childNodes[Math.min(s,d.childNodes.length-1)]||d,s=p&&3===d.nodeType?d.nodeValue.length:0}var m=i.getParent(d,i.isBlock),h=m?i.getParent(m.parentNode,i.isBlock):null,g=h?h.nodeName.toUpperCase():"",v=t&&t.ctrlKey;"LI"!==g||v||(m=h),d&&3===d.nodeType&&s>=d.nodeValue.length&&(function(e,t,n){for(var r,o=new a(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||r.length>0)return!0}(e.schema,d,m)||(n=i.create("br"),c.insertNode(n),c.setStartAfter(n),c.setEndAfter(n),r=!0)),n=i.create("br"),c.insertNode(n),l(i,o,n),f(i,o,n,r),e.undoManager.add()},p=function(e,r){var o=n.fromTag("br");t.before(n.fromDom(r),o),e.undoManager.add()},m=function(e,r){h(e.getBody(),r)||t.after(n.fromDom(r),n.fromTag("br"));var o=n.fromTag("br");t.after(n.fromDom(r),o),l(e.dom,e.selection,o.dom()),f(e.dom,e.selection,o.dom(),!1),e.undoManager.add()},h=function(e,t){return!!function(e){return i.isBr(e.getNode())}(o.after(t))||r.nextPosition(e,o.after(t)).map(function(e){return i.isBr(e.getNode())}).getOr(!1)},g=function(e){return e&&"A"===e.nodeName&&"href"in e},v=function(t){return t.fold(e.constant(!1),g,g,e.constant(!1))},y=function(t,n){n.fold(e.noop,e.curry(p,t),e.curry(m,t),e.noop)};return{insert:function(t,n){var r=function(t){var n=e.curry(s.isInlineTarget,t),r=o.fromRangeStart(t.selection.getRng());return c.readLocation(n,t.getBody(),r).filter(v)}(t);r.isSome()?r.each(e.curry(y,t)):d(t,n)}}}),a("ephox.sugar.api.selection.Situ",["ephox.katamari.api.Adt","ephox.katamari.api.Fun"],function(e,t){var n=e.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]);return{before:n.before,on:n.on,after:n.after,cata:function(e,t,n,r){return e.fold(t,n,r)},getStart:function(e){return e.fold(t.identity,t.identity,t.identity)}}}),a("ephox.sugar.api.selection.Selection",["ephox.katamari.api.Adt","ephox.katamari.api.Struct","ephox.sugar.api.node.Element","ephox.sugar.api.search.Traverse","ephox.sugar.api.selection.Situ"],function(e,t,n,r,o){var i=e.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),a=t.immutable("start","soffset","finish","foffset");return{domRange:i.domRange,relative:i.relative,exact:i.exact,exactFromRange:function(e){return i.exact(e.start(),e.soffset(),e.finish(),e.foffset())},range:a,getWin:function(e){var t=function(e){return e.match({domRange:function(e){return n.fromDom(e.startContainer)},relative:function(e,t){return o.getStart(e)},exact:function(e,t,n,r){return e}})}(e);return r.defaultView(t)}}}),a("tinymce.core.selection.SelectionBookmark",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sand.api.PlatformDetection","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.node.Text","ephox.sugar.api.search.Traverse","ephox.sugar.api.selection.Selection","global!document"],function(e,t,n,r,o,i,a,c,s,u){var l=n.detect().browser,f=function(e,t){var n=i.isText(t)?a.get(t).length:c.children(t).length+1;return e>n?n:e<0?0:e},d=function(e){return s.range(e.start(),f(e.soffset(),e.start()),e.finish(),f(e.foffset(),e.finish()))},p=function(e,t){return r.contains(e,t)||r.eq(e,t)},m=function(e){return function(t){return p(e,t.start())&&p(e,t.finish())}},h=function(e){return!0===e.inline||l.isIE()},g=function(e){return s.range(o.fromDom(e.startContainer),e.startOffset,o.fromDom(e.endContainer),e.endOffset)},v=function(e){var n=e.getSelection();return(n&&0!==n.rangeCount?t.from(n.getRangeAt(0)):t.none()).map(g)},y=function(e){var t=c.defaultView(e);return v(t.dom()).filter(m(e))},b=function(e,n){return t.from(n).filter(m(e)).map(d)},x=function(e){var n=u.createRange();return n.setStart(e.start().dom(),e.soffset()),n.setEnd(e.finish().dom(),e.foffset()),t.some(n)},w=function(n){return(n.bookmark?n.bookmark:t.none()).bind(e.curry(b,o.fromDom(n.getBody()))).bind(x)};return{store:function(e){var n=h(e)?y(o.fromDom(e.getBody())):t.none();e.bookmark=n.isSome()?n:e.bookmark},storeNative:function(e,n){var r=o.fromDom(e.getBody()),i=(h(e)?t.from(n):t.none()).map(g).filter(m(r));e.bookmark=i.isSome()?i:e.bookmark},readRange:v,restore:function(e){w(e).each(function(t){e.selection.setRng(t)})},getRng:w,getBookmark:y,validate:b}}),a("tinymce.core.EditorCommands",["tinymce.core.Env","tinymce.core.InsertContent","tinymce.core.delete.DeleteCommands","tinymce.core.dom.NodeType","tinymce.core.newline.InsertBr","tinymce.core.selection.SelectionBookmark","tinymce.core.util.Tools"],function(e,t,n,r,o,i,a){var c=a.each,s=a.extend,u=a.map,l=a.inArray,f=a.explode;return function(a){var d,p,m,h,g={state:{},exec:{},value:{}},v=a.settings;a.on("PreInit",function(){d=a.dom,p=a.selection,v=a.settings,m=a.formatter});var y=function(e){var t;if(!a.quirks.isHidden()&&!a.removed){if(e=e.toLowerCase(),t=g.state[e])return t(e);try{return a.getDoc().queryCommandState(e)}catch(e){}return!1}},b=function(e,t){t=t||"exec",c(e,function(e,n){c(n.toLowerCase().split(","),function(n){g[t][n]=e})})};s(this,{execCommand:function(e,t,n,r){var o,s,u=0;if(!a.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?i.restore(a):a.focus(),(r=a.fire("BeforeExecCommand",{command:e,ui:t,value:n})).isDefaultPrevented())return!1;if(s=e.toLowerCase(),o=g.exec[s])return o(s,t,n),a.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(c(a.plugins,function(r){if(r.execCommand&&r.execCommand(e,t,n))return a.fire("ExecCommand",{command:e,ui:t,value:n}),u=!0,!1}),u)return u;if(a.theme&&a.theme.execCommand&&a.theme.execCommand(e,t,n))return a.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{u=a.getDoc().execCommand(e,t,n)}catch(e){}return!!u&&(a.fire("ExecCommand",{command:e,ui:t,value:n}),!0)}},queryCommandState:y,queryCommandValue:function(e){var t;if(!a.quirks.isHidden()&&!a.removed){if(e=e.toLowerCase(),t=g.value[e])return t(e);try{return a.getDoc().queryCommandValue(e)}catch(e){}}},queryCommandSupported:function(e){if(e=e.toLowerCase(),g.exec[e])return!0;try{return a.getDoc().queryCommandSupported(e)}catch(e){}return!1},addCommands:b,addCommand:function(e,t,n){e=e.toLowerCase(),g.exec[e]=function(e,r,o,i){return t.call(n||a,r,o,i)}},addQueryStateHandler:function(e,t,n){e=e.toLowerCase(),g.state[e]=function(){return t.call(n||a)}},addQueryValueHandler:function(e,t,n){e=e.toLowerCase(),g.value[e]=function(){return t.call(n||a)}},hasCustomCommand:function(e){return e=e.toLowerCase(),!!g.exec[e]}});var x=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),a.getDoc().execCommand(e,t,n)},w=function(e){return m.match(e)},C=function(e,t){m.toggle(e,t?{value:t}:void 0),a.nodeChanged()},k=function(e){h=p.getBookmark(e)},T=function(){p.moveToBookmark(h)};b({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){a.undoManager.add()},"Cut,Copy,Paste":function(t){var n,r=a.getDoc();try{x(t)}catch(e){n=!0}if("paste"!==t||r.queryCommandEnabled(t)||(n=!0),n||!r.queryCommandSupported(t)){var o=a.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");e.mac&&(o=o.replace(/Ctrl\+/g,"+")),a.notificationManager.open({text:o,type:"error"})}},unlink:function(){if(p.isCollapsed()){var e=a.dom.getParent(a.selection.getStart(),"a");e&&a.dom.remove(e,!0)}else m.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"==t&&(t="justify"),c("left,center,right,justify".split(","),function(e){t!=e&&m.remove("align"+e)}),"none"!=t&&C("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;x(e),(t=d.getParent(p.getNode(),"ol,ul"))&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(k(),d.split(n,t),T()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){C(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){C(e,n)},FontSize:function(e,t,n){var r,o;n>=1&&n<=7&&(o=f(v.font_size_style_values),n=(r=f(v.font_size_classes))?r[n-1]||n:o[n-1]||n),C(e,n)},RemoveFormat:function(e){m.remove(e)},mceBlockQuote:function(){C("blockquote")},FormatBlock:function(e,t,n){return C(n||"p")},mceCleanup:function(){var e=p.getBookmark();a.setContent(a.getContent({cleanup:!0}),{cleanup:!0}),p.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var r=n||p.getNode();r!=a.getBody()&&(k(),a.dom.remove(r,!0),T())},mceSelectNodeDepth:function(e,t,n){var r=0;d.getParent(p.getNode(),function(e){if(1==e.nodeType&&r++==n)return p.select(e),!1},a.getBody())},mceSelectNode:function(e,t,n){p.select(n)},mceInsertContent:function(e,n,r){t.insertAtCaret(a,r)},mceInsertRawHTML:function(e,t,n){p.setContent("tiny_mce_marker"),a.setContent(a.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){C(n)},mceSetContent:function(e,t,n){a.setContent(n)},"Indent,Outdent":function(e){var t,n,r;t=v.indentation,n=/[a-z%]+$/i.exec(t),t=parseInt(t,10),y("InsertUnorderedList")||y("InsertOrderedList")?x(e):(v.forced_root_block||d.getParent(p.getNode(),d.isBlock)||m.apply("div"),c(p.getSelectedBlocks(),function(o){if("false"!==d.getContentEditable(o)&&"LI"!==o.nodeName){var i=a.getParam("indent_use_margin",!1)?"margin":"padding";i="TABLE"===o.nodeName?"margin":i,i+="rtl"==d.getStyle(o,"direction",!0)?"Right":"Left","outdent"==e?(r=Math.max(0,parseInt(o.style[i]||0,10)-t),d.setStyle(o,i,r?r+n:"")):(r=parseInt(o.style[i]||0,10)+t+n,d.setStyle(o,i,r))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){a.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){a.hasVisual=!a.hasVisual,a.addVisual()},mceReplaceContent:function(e,t,n){a.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,p.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var r;"string"==typeof n&&(n={href:n}),r=d.getParent(p.getNode(),"a"),n.href=n.href.replace(" ","%20"),r&&n.href||m.remove("link"),n.href&&m.apply("link",n,r)},selectAll:function(){var e=d.getParent(p.getStart(),r.isContentEditableTrue);if(e){var t=d.createRng();t.selectNodeContents(e),p.setRng(t)}},delete:function(){n.deleteCommand(a)},forwardDelete:function(){n.forwardDeleteCommand(a)},mceNewDocument:function(){a.setContent("")},InsertLineBreak:function(e,t,n){return o.insert(a,n),!0}}),b({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=p.isCollapsed()?[d.getParent(p.getNode(),d.isBlock)]:p.getSelectedBlocks(),r=u(n,function(e){return!!m.matchNode(e,t)});return-1!==l(r,!0)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return w(e)},mceBlockQuote:function(){return w("blockquote")},Outdent:function(){var e;if(v.inline_styles){if((e=d.getParent(p.getStart(),d.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return!0;if((e=d.getParent(p.getEnd(),d.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return!0}return y("InsertUnorderedList")||y("InsertOrderedList")||!v.inline_styles&&!!d.getParent(p.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=d.getParent(p.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),b({"FontSize,FontName":function(e){var t,n=0;return(t=d.getParent(p.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),b({Undo:function(){a.undoManager.undo()},Redo:function(){a.undoManager.redo()}})}}),a("tinymce.core.util.EventDispatcher",["tinymce.core.util.Tools"],function(e){var t=e.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),n=function(t){var n,r,o=this,i={},a=function(){return!1},c=function(){return!0};n=(t=t||{}).scope||o,r=t.toggleEvent||a;var s=function(t,n,c,s){var u,l,f;if(!1===n&&(n=a),n)for(n={func:n},s&&e.extend(n,s),f=(l=t.toLowerCase().split(" ")).length;f--;)t=l[f],(u=i[t])||(u=i[t]=[],r(t,!0)),c?u.unshift(n):u.push(n);return o},u=function(e,t){var n,a,c,s,u;if(e)for(n=(s=e.toLowerCase().split(" ")).length;n--;){if(e=s[n],a=i[e],!e){for(c in i)r(c,!1),delete i[c];return o}if(a){if(t)for(u=a.length;u--;)a[u].func===t&&(a=a.slice(0,u).concat(a.slice(u+1)),i[e]=a);else a.length=0;a.length||(r(e,!1),delete i[e])}}else{for(e in i)r(e,!1);i={}}return o};o.fire=function(e,r){var o,s,l,f;if(e=e.toLowerCase(),r=r||{},r.type=e,r.target||(r.target=n),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=c},r.stopPropagation=function(){r.isPropagationStopped=c},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=c},r.isDefaultPrevented=a,r.isPropagationStopped=a,r.isImmediatePropagationStopped=a),t.beforeFire&&t.beforeFire(r),o=i[e])for(s=0,l=o.length;s<l;s++){if((f=o[s]).once&&u(e,f.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(!1===f.func.call(n,r))return r.preventDefault(),r}return r},o.on=s,o.off=u,o.once=function(e,t,n){return s(e,t,n,{once:!0})},o.has=function(e){return e=e.toLowerCase(),!(!i[e]||0===i[e].length)}};return n.isNative=function(e){return!!t[e.toLowerCase()]},n}),a("tinymce.core.util.Observable",["tinymce.core.util.EventDispatcher"],function(e){var t=function(t){return t._eventDispatcher||(t._eventDispatcher=new e({scope:t,toggleEvent:function(n,r){e.isNative(n)&&t.toggleNativeEvent&&t.toggleNativeEvent(n,r)}})),t._eventDispatcher};return{fire:function(e,n,r){if(this.removed&&"remove"!==e)return n;if(n=t(this).fire(e,n,r),!1!==r&&this.parent)for(var o=this.parent();o&&!n.isPropagationStopped();)o.fire(e,n,!1),o=o.parent();return n},on:function(e,n,r){return t(this).on(e,n,r)},off:function(e,n){return t(this).off(e,n)},once:function(e,n){return t(this).once(e,n)},hasEventListeners:function(e){return t(this).has(e)}}}),a("tinymce.core.EditorObservable",["tinymce.core.util.Observable","tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],function(e,t,n){var r,o=t.DOM,i=function(e,t){return"selectionchange"==t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=o.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()},a=function(e,t){var n,a,c=function(e){return!e.hidden&&!e.readonly};if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed)if(n=i(e,t),e.settings.event_root){if(r||(r={},e.editorManager.on("removeEditor",function(){var t;if(!e.editorManager.activeEditor&&r){for(t in r)e.dom.unbind(i(e,t));r=null}})),r[t])return;a=function(n){for(var r=n.target,i=e.editorManager.get(),a=i.length;a--;){var s=i[a].getBody();(s===r||o.isChildOf(r,s))&&c(i[a])&&i[a].fire(t,n)}},r[t]=a,o.bind(n,t,a)}else a=function(n){c(e)&&e.fire(t,n)},o.bind(n,t,a),e.delegates[t]=a},c={bindPendingEventDelegates:function(){var e=this;n.each(e._pendingNativeEvents,function(t){a(e,t)})},toggleNativeEvent:function(e,t){"focus"!=e&&"blur"!=e&&(t?this.initialized?a(this,e):this._pendingNativeEvents?this._pendingNativeEvents.push(e):this._pendingNativeEvents=[e]:this.initialized&&(this.dom.unbind(i(this,e),e,this.delegates[e]),delete this.delegates[e]))},unbindAllNativeEvents:function(){var e;if(this.delegates){for(e in this.delegates)this.dom.unbind(i(this,e),e,this.delegates[e]);delete this.delegates}this.inline||(this.getBody().onload=null,this.dom.unbind(this.getWin()),this.dom.unbind(this.getDoc())),this.dom.unbind(this.getBody()),this.dom.unbind(this.getContainer())}};return c=n.extend({},e,c)}),a("tinymce.core.Mode",[],function(){var e=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},t=function(t,n){t._clickBlocker&&(t._clickBlocker.unbind(),t._clickBlocker=null),n?(t._clickBlocker=function(e){var t,n;return t=e.getBody(),n=function(t){e.dom.getParents(t.target,"a").length>0&&t.preventDefault()},e.dom.bind(t,"click",n),{unbind:function(){e.dom.unbind(t,"click",n)}}}(t),t.selection.controlSelection.hideResizeRect(),t.readonly=!0,t.getBody().contentEditable=!1):(t.readonly=!1,t.getBody().contentEditable=!0,e(t,"StyleWithCSS",!1),e(t,"enableInlineTableEditing",!1),e(t,"enableObjectResizing",!1),t.focus(),t.nodeChanged())};return{setMode:function(e,n){var r=e.readonly?"readonly":"design";n!=r&&(e.initialized?t(e,"readonly"==n):e.on("init",function(){t(e,"readonly"==n)}),e.fire("SwitchMode",{mode:n}))}}}),a("tinymce.core.Shortcuts",["tinymce.core.util.Tools","tinymce.core.Env"],function(e,t){var n=e.each,r=e.explode,o={f9:120,f10:121,f11:122},i=e.makeMap("alt,ctrl,shift,meta,access");return function(a){var c={},s=[],u=function(e){var a,c,s={};n(r(e,"+"),function(e){e in i?s[e]=!0:/^[0-9]{2,}$/.test(e)?s.keyCode=parseInt(e,10):(s.charCode=e.charCodeAt(0),s.keyCode=o[e]||e.toUpperCase().charCodeAt(0))}),a=[s.keyCode];for(c in i)s[c]?a.push(c):s[c]=!1;return s.id=a.join(","),s.access&&(s.alt=!0,t.mac?s.ctrl=!0:s.shift=!0),s.meta&&(t.mac?s.meta=!0:(s.ctrl=!0,s.meta=!1)),s},l=function(t,n,o,i){var c;return c=e.map(r(t,">"),u),c[c.length-1]=e.extend(c[c.length-1],{func:o,scope:i||a}),e.extend(c[0],{desc:a.translate(n),subpatterns:c.slice(1)})},f=function(e,t){return!!t&&(t.ctrl==e.ctrlKey&&t.meta==e.metaKey&&(t.alt==e.altKey&&t.shift==e.shiftKey&&(!!(e.keyCode==t.keyCode||e.charCode&&e.charCode==t.charCode)&&(e.preventDefault(),!0))))},d=function(e){return e.func?e.func.call(e.scope):null};a.on("keyup keypress keydown",function(e){!function(e){return e.altKey||e.ctrlKey||e.metaKey}(e)&&!function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}(e)||e.isDefaultPrevented()||(n(c,function(t){if(f(e,t))return s=t.subpatterns.slice(0),"keydown"==e.type&&d(t),!0}),f(e,s[0])&&(1===s.length&&"keydown"==e.type&&d(s[0]),s.shift()))}),this.add=function(t,o,i,s){var u;return u=i,"string"==typeof i?i=function(){a.execCommand(u,!1,null)}:e.isArray(u)&&(i=function(){a.execCommand(u[0],u[1],u[2])}),n(r(e.trim(t.toLowerCase())),function(e){var t=l(e,o,i,s);c[t.id]=t}),!0},this.remove=function(e){var t=l(e);return!!c[t.id]&&(delete c[t.id],!0)}}}),a("tinymce.core.html.SaxParser",["tinymce.core.html.Schema","tinymce.core.html.Entities","tinymce.core.util.Tools"],function(e,t,n){var r=n.each,o=function(e){return e.replace(/<!--|-->/g,"")},i=function(e,t,n){var r,o,i,a,c=1;for(a=e.getShortEndedElements(),(i=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=r=n;o=i.exec(t);){if(r=i.lastIndex,"/"===o[1])c--;else if(!o[1]){if(o[2]in a)continue;c++}if(0===c)break}return r},a=function(a,c){var s=this;a=a||{},s.schema=c=c||new e,!1!==a.fix_self_closing&&(a.fix_self_closing=!0),r("comment cdata text start end pi doctype".split(" "),function(e){e&&(s[e]=a[e]||function(){})}),s.parse=function(e){var r,s,u,l,f,d,p,m,h,g,v,y,b,x,w,C,k,T,_,S,E,A,N,D,R,P,O,B,I,M=this,L=0,F=[],U=0,H=t.decode,z=n.makeMap("src,href,data,background,formaction,poster"),j=/((java|vb)script|mhtml):/i,W=/^data:/i,$=function(e){var t,n;for(t=F.length;t--&&F[t].name!==e;);if(t>=0){for(n=F.length-1;n>=t;n--)(e=F[n]).valid&&M.end(e.name);F.length=t}},q=function(e,t,n,r,o){var i,c,s=/[\s\u0000-\u001F]+/g;if(t=t.toLowerCase(),n=t in v?t:H(n||r||o||""),b&&!m&&!1===function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")}(t)){if(!(i=T[t])&&_){for(c=_.length;c--&&!(i=_[c]).pattern.test(t););-1===c&&(i=null)}if(!i)return;if(i.validValues&&!(n in i.validValues))return}if(z[t]&&!a.allow_script_urls){var u=n.replace(s,"");try{u=decodeURIComponent(u)}catch(e){u=unescape(u)}if(j.test(u))return;if(!a.allow_html_data_urls&&W.test(u)&&!/^data:image\//i.test(u))return}m&&(t in z||0===t.indexOf("on"))||(l.map[t]=n,l.push({name:t,value:n}))};for(R=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),P=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,g=c.getShortEndedElements(),D=a.self_closing_elements||c.getSelfClosingElements(),v=c.getBoolAttrs(),b=a.validate,h=a.remove_internals,I=a.fix_self_closing,O=c.getSpecialElements(),N=e+">";r=R.exec(N);){if(L<r.index&&M.text(H(e.substr(L,r.index-L))),s=r[6])":"===(s=s.toLowerCase()).charAt(0)&&(s=s.substr(1)),$(s);else if(s=r[7]){if(r.index+r[0].length>e.length){M.text(H(e.substr(r.index))),L=r.index+r[0].length;continue}if(":"===(s=s.toLowerCase()).charAt(0)&&(s=s.substr(1)),y=s in g,I&&D[s]&&F.length>0&&F[F.length-1].name===s&&$(s),!b||(x=c.getElementRule(s))){if(w=!0,b&&(T=x.attributes,_=x.attributePatterns),(k=r[8])?((m=-1!==k.indexOf("data-mce-type"))&&h&&(w=!1),(l=[]).map={},k.replace(P,q)):(l=[]).map={},b&&!m){if(S=x.attributesRequired,E=x.attributesDefault,A=x.attributesForced,x.removeEmptyAttrs&&!l.length&&(w=!1),A)for(f=A.length;f--;)p=(C=A[f]).name,"{$uid}"===(B=C.value)&&(B="mce_"+U++),l.map[p]=B,l.push({name:p,value:B});if(E)for(f=E.length;f--;)(p=(C=E[f]).name)in l.map||("{$uid}"===(B=C.value)&&(B="mce_"+U++),l.map[p]=B,l.push({name:p,value:B}));if(S){for(f=S.length;f--&&!(S[f]in l.map););-1===f&&(w=!1)}if(C=l.map["data-mce-bogus"]){if("all"===C){L=i(c,e,R.lastIndex),R.lastIndex=L;continue}w=!1}}w&&M.start(s,l,y)}else w=!1;if(u=O[s]){u.lastIndex=L=r.index+r[0].length,(r=u.exec(e))?(w&&(d=e.substr(L,r.index-L)),L=r.index+r[0].length):(d=e.substr(L),L=e.length),w&&(d.length>0&&M.text(d,!0),M.end(s)),R.lastIndex=L;continue}y||(k&&k.indexOf("/")==k.length-1?w&&M.end(s):F.push({name:s,valid:w}))}else(s=r[1])?(">"===s.charAt(0)&&(s=" "+s),a.allow_conditional_comments||"[if"!==s.substr(0,3).toLowerCase()||(s=" "+s),M.comment(s)):(s=r[2])?M.cdata(o(s)):(s=r[3])?M.doctype(s):(s=r[4])&&M.pi(s,r[5]);L=r.index+r[0].length}for(L<e.length&&M.text(H(e.substr(L))),f=F.length-1;f>=0;f--)(s=F[f]).valid&&M.end(s.name)}};return a.findEndTag=i,a}),a("tinymce.core.dom.TrimHtml",["tinymce.core.html.SaxParser","tinymce.core.text.Zwsp"],function(e,t){var n=function(t,n){var r,o,i,a,c,s=n,u=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,l=t.schema;for(s=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")}(t.getTempAttrs(),s),c=l.getShortEndedElements();a=u.exec(s);)o=u.lastIndex,i=a[0].length,r=c[a[1]]?o:e.findEndTag(l,s,o),s=s.substring(0,o-i)+s.substring(r),u.lastIndex=o-i;return s};return{trimExternal:function(e,r){return t.trim(n(e,r))},trimInternal:n}}),a("ephox.sugar.api.search.PredicateExists",["ephox.sugar.api.search.PredicateFind"],function(e){return{any:function(t){return e.first(t).isSome()},ancestor:function(t,n,r){return e.ancestor(t,n,r).isSome()},closest:function(t,n,r){return e.closest(t,n,r).isSome()},sibling:function(t,n){return e.sibling(t,n).isSome()},child:function(t,n){return e.child(t,n).isSome()},descendant:function(t,n){return e.descendant(t,n).isSome()}}}),a("ephox.sugar.api.dom.Focus",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.search.PredicateExists","ephox.sugar.api.search.Traverse","global!document"],function(e,t,n,r,o,i,a){var c=function(e){e.dom().focus()},s=function(e){var n=void 0!==e?e.dom():a;return t.from(n.activeElement).map(r.fromDom)};return{hasFocus:function(e){var t=i.owner(e).dom();return e.dom()===t.activeElement},focus:c,blur:function(e){e.dom().blur()},active:s,search:function(e){return s(i.owner(e)).filter(function(t){return e.dom().contains(t.dom())})},focusInside:function(t){var r=i.owner(t);s(r).filter(function(r){return o.closest(r,e.curry(n.eq,t))}).fold(function(){c(t)},e.noop)}}}),a("tinymce.core.focus.EditorFocus",["ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.dom.Focus","ephox.sugar.api.node.Element","tinymce.core.Env","tinymce.core.caret.CaretFinder","tinymce.core.dom.ElementType","tinymce.core.selection.RangeNodes","tinymce.core.selection.SelectionBookmark"],function(e,t,n,r,o,i,a,c,s){var u=function(n,o){return function(t){return t.collapsed?e.from(c.getNode(t.startContainer,t.startOffset)).map(r.fromDom):e.none()}(o).bind(function(r){return a.isTableSection(r)?e.some(r):!1===t.contains(n,r)?e.some(n):e.none()})},l=function(e,t){u(r.fromDom(e.getBody()),t).bind(function(e){return i.firstPositionIn(e.dom())}).fold(function(){e.selection.normalize()},function(t){e.selection.setRng(t.toRange())})},f=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},d=function(e){var t=e.getBody();return t&&function(e){return n.hasFocus(e)||n.search(e).isSome()}(r.fromDom(t))},p=function(e){return e.inline?d(e):function(e){return e.iframeElement&&n.hasFocus(r.fromDom(e.iframeElement))}(e)},m=function(e){e.editorManager.setActive(e)};return{focus:function(e,t){e.removed||(t?m(e):function(e){var t,n=e.selection,r=e.settings.content_editable,i=e.getBody(),a=n.getRng();if(e.quirks.refreshContentEditable(),t=function(e,t){return e.dom.getParent(t,function(t){return"true"===e.dom.getContentEditable(t)})}(e,n.getNode()),e.$.contains(i,t))return f(t),l(e,a),void m(e);void 0!==e.bookmark&&!1===p(e)&&s.getRng(e).each(function(t){e.selection.setRng(t),a=t}),r||(o.opera||f(i),e.getWin().focus()),(o.gecko||r)&&(f(i),l(e,a)),m(e)}(e))},hasFocus:p}}),a("tinymce.core.EditorView",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.properties.Css","ephox.sugar.api.search.Traverse"],function(e,t,n,r,o,i){var a=function(e,t){return t.dom()[e]},c=function(e,t){return parseInt(o.get(t,e),10)},s=e.curry(a,"clientWidth"),u=e.curry(a,"clientHeight"),l=e.curry(c,"margin-top"),f=e.curry(c,"margin-left");return{isXYInContentArea:function(e,t,n){var o=r.fromDom(e.getBody()),a=e.inline?o:i.documentElement(o),c=function(e,t,n,r){var o=function(e){return e.dom().getBoundingClientRect()}(t);return{x:n-(e?o.left+t.dom().clientLeft+f(t):0),y:r-(e?o.top+t.dom().clientTop+l(t):0)}}(e.inline,a,t,n);return function(e,t,n){var r=s(e),o=u(e);return t>=0&&n>=0&&t<=r&&n<=o}(a,c.x,c.y)},isEditorAttachedToDom:function(e){return function(e){return t.from(e).map(r.fromDom)}(e.inline?e.getBody():e.getContentAreaContainer()).map(function(e){return n.contains(i.owner(e),e)}).getOr(!1)}}}),a("tinymce.core.ui.NotificationManagerImpl",[],function(){return function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}}}),a("tinymce.core.api.NotificationManager",["ephox.katamari.api.Arr","ephox.katamari.api.Option","tinymce.core.EditorView","tinymce.core.ui.NotificationManagerImpl","tinymce.core.util.Delay"],function(e,t,n,r,o){return function(i){var a=[],c=function(){var e=i.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():r()},s=function(){a.length>0&&c().reposition(a)},u=function(t){e.findIndex(a,function(e){return e===t}).each(function(e){a.splice(e,1)})},l=function(t){if(!i.removed&&n.isEditorAttachedToDom(i))return e.find(a,function(e){return function(e,t){return!(e.type!==t.type||e.text!==t.text||e.progressBar||e.timeout||t.progressBar||t.timeout)}(c().getArgs(e),t)}).getOrThunk(function(){i.editorManager.setActive(i);var e=c().open(t,function(){u(e),s()});return function(e){a.push(e)}(e),s(),e})};return function(t){t.on("SkinLoaded",function(){var e=t.settings.service_message;e&&l({text:e,type:"warning",timeout:0,icon:""})}),t.on("ResizeEditor ResizeWindow",function(){o.requestAnimationFrame(s)}),t.on("remove",function(){e.each(a,function(e){c().close(e)})})}(i),{open:l,close:function(){t.from(a[0]).each(function(e){c().close(e),u(e),s()})},getNotifications:function(){return a}}}}),a("tinymce.core.ui.WindowManagerImpl",[],function(){return function(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}}),a("tinymce.core.api.WindowManager",["ephox.katamari.api.Arr","ephox.katamari.api.Option","tinymce.core.selection.SelectionBookmark","tinymce.core.ui.WindowManagerImpl"],function(e,t,n,r){return function(o){var i=[],a=function(){var e=o.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():r()},c=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},s=function(e){i.push(e),function(e){o.fire("OpenWindow",{win:e})}(e)},u=function(t){e.findIndex(i,function(e){return e===t}).each(function(e){i.splice(e,1),function(e){o.fire("CloseWindow",{win:e})}(t),0===i.length&&o.focus()})},l=function(){return t.from(i[i.length-1])};return o.on("remove",function(){e.each(i.slice(0),function(e){a().close(e)})}),{windows:i,open:function(e,t){o.editorManager.setActive(o),n.store(o);var r=a().open(e,t,u);return s(r),r},alert:function(e,t,n){var r=a().alert(e,c(n||this,t),u);s(r)},confirm:function(e,t,n){var r=a().confirm(e,c(n||this,t),u);s(r)},close:function(){l().each(function(e){a().close(e),u(e)})},getParams:function(){return l().map(a().getParams).getOr(null)},setParams:function(e){l().each(function(t){a().setParams(t,e)})},getWindows:function(){return i}}}}),a("tinymce.core.ErrorReporter",["global!window","tinymce.core.AddOnManager"],function(e,t){var n=t.PluginManager,r=function(e,t){var r=function(e,t){for(var r in n.urls)if(n.urls[r]+"/plugin"+t+".js"===e)return r;return null}(t,e.suffix);return r?"Failed to load plugin: "+r+" from url "+t:"Failed to load plugin url: "+t},o=function(e,t){e.notificationManager.open({type:"error",text:t})},i=function(e,t){e._skinLoaded?o(e,t):e.on("SkinLoaded",function(){o(e,t)})};return{pluginLoadError:function(e,t){i(e,r(e,t))},uploadError:function(e,t){i(e,"Failed to upload image: "+t)},displayError:i,initError:function(t){var n=e.console;n&&!e.test&&(n.error?n.error.apply(n,arguments):n.log.apply(n,arguments))}}}),a("tinymce.core.PluginManager",["tinymce.core.AddOnManager"],function(e){return e.PluginManager}),a("tinymce.core.ThemeManager",["tinymce.core.AddOnManager"],function(e){return e.ThemeManager}),a("ephox.sand.api.XMLHttpRequest",["ephox.sand.util.Global"],function(e){return function(){return new(e.getOrDie("XMLHttpRequest"))}}),a("tinymce.core.file.Uploader",["ephox.sand.api.XMLHttpRequest","global!window","tinymce.core.util.Fun","tinymce.core.util.Promise","tinymce.core.util.Tools"],function(e,t,n,r,o){return function(n,i){var a={},c=function(n,r,o,a){var c,s;(c=new e).open("POST",i.url),c.withCredentials=i.credentials,c.upload.onprogress=function(e){a(e.loaded/e.total*100)},c.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+c.status)},c.onload=function(){var e;c.status<200||c.status>=300?o("HTTP Error: "+c.status):(e=JSON.parse(c.responseText))&&"string"==typeof e.location?r(function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t}(i.basePath,e.location)):o("Invalid JSON: "+c.responseText)},(s=new t.FormData).append("file",n.blob(),n.filename()),c.send(s)},s=function(e,t){return{url:t,blobInfo:e,status:!0}},u=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},l=function(e,t){o.each(a[e],function(e){e(t)}),delete a[e]},f=function(e,t){return e=o.grep(e,function(e){return!n.isUploaded(e.blobUri())}),r.all(o.map(e,function(e){return n.isPending(e.blobUri())?function(e){var t=e.blobUri();return new r(function(e){a[t]=a[t]||[],a[t].push(e)})}(e):function(e,t,o){return n.markPending(e.blobUri()),new r(function(r){var i;try{var a=function(){i&&i.close()};t(e,function(t){a(),n.markUploaded(e.blobUri(),t),l(e.blobUri(),s(e,t)),r(s(e,t))},function(t){a(),n.removeFailed(e.blobUri()),l(e.blobUri(),u(e,t)),r(u(e,t))},function(e){e<0||e>100||(i||(i=o()),i.progressBar.value(e))})}catch(t){r(u(e,t.message))}})}(e,i.handler,t)}))};return i=o.extend({credentials:!1,handler:c},i),{upload:function(e,t){return!i.url&&function(e){return e===c}(i.handler)?new r(function(e){e([])}):f(e,t)}}}}),a("ephox.sand.api.Blob",["ephox.sand.util.Global"],function(e){return function(t,n){return new(e.getOrDie("Blob"))(t,n)}}),a("ephox.sand.api.FileReader",["ephox.sand.util.Global"],function(e){return function(){return new(e.getOrDie("FileReader"))}}),a("ephox.sand.api.Uint8Array",["ephox.sand.util.Global"],function(e){return function(t){return new(e.getOrDie("Uint8Array"))(t)}}),a("ephox.sand.api.Window",["ephox.sand.util.Global"],function(e){return{atob:function(t){return e.getOrDie("atob")(t)},requestAnimationFrame:function(t){e.getOrDie("requestAnimationFrame")(t)}}}),a("tinymce.core.file.Conversions",["ephox.sand.api.Blob","ephox.sand.api.FileReader","ephox.sand.api.Uint8Array","ephox.sand.api.Window","ephox.sand.api.XMLHttpRequest","tinymce.core.util.Promise"],function(e,t,n,r,o,i){var a=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}};return{uriToBlob:function(t){return 0===t.indexOf("blob:")?function(e){return new i(function(t,n){var r=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var i=new o;i.open("GET",e,!0),i.responseType="blob",i.onload=function(){200==this.status?t(this.response):r()},i.onerror=r,i.send()}catch(e){r()}})}(t):0===t.indexOf("data:")?function(t){return new i(function(o){var i,c,s;t=a(t);try{i=r.atob(t.data)}catch(t){return void o(new e([]))}for(c=new n(i.length),s=0;s<c.length;s++)c[s]=i.charCodeAt(s);o(new e([c],{type:t.type}))})}(t):null},blobToDataUri:function(e){return new i(function(n){var r=new t;r.onloadend=function(){n(r.result)},r.readAsDataURL(e)})},parseDataUri:a}}),a("tinymce.core.file.ImageScanner",["tinymce.core.util.Promise","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.file.Conversions","tinymce.core.Env"],function(e,t,n,r,o){var i=0,a=function(e){return(e||"blobid")+i++};return function(i,c){var s={};return{findAll:function(u,l){var f,d;return l||(l=n.constant(!0)),f=t.filter(function(e){return e?e.getElementsByTagName("img"):[]}(u),function(e){var t=e.src;return!!o.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!t||t==o.transparentSrc)&&(0===t.indexOf("blob:")?!i.isUploaded(t):0===t.indexOf("data:")&&l(e))}),d=t.map(f,function(t){var n;return s[t.src]?new e(function(e){s[t.src].then(function(n){if("string"==typeof n)return n;e({image:t,blobInfo:n.blobInfo})})}):(n=new e(function(e,n){!function(e,t,n,o){var i,c;0!==t.src.indexOf("blob:")?(i=r.parseDataUri(t.src).data,(c=e.findFirst(function(e){return e.base64()===i}))?n({image:t,blobInfo:c}):r.uriToBlob(t.src).then(function(r){c=e.create(a(),r,i),e.add(c),n({image:t,blobInfo:c})},function(e){o(e)})):(c=e.getByUri(t.src))?n({image:t,blobInfo:c}):r.uriToBlob(t.src).then(function(o){r.blobToDataUri(o).then(function(s){i=r.parseDataUri(s).data,c=e.create(a(),o,i),e.add(c),n({image:t,blobInfo:c})})},function(e){o(e)})}(c,t,e,n)}).then(function(e){return delete s[e.image.src],e}).catch(function(e){return delete s[t.src],e}),s[t.src]=n,n)}),e.all(d)}}}}),a("tinymce.core.util.Uuid",[],function(){var e=0;return{uuid:function(t){return t+e+++function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+e()+e()+e()}()}}}),a("tinymce.core.file.BlobCache",["ephox.sand.api.URL","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Uuid"],function(e,t,n,r){return function(){var o=[],i=n.constant,a=function(t){var n,o;if(!t.blob||!t.base64)throw"blob and base64 representations of the image are required for BlobInfo to be created";return n=t.id||r.uuid("blobid"),o=t.name||n,{id:i(n),name:i(o),filename:i(o+"."+function(e){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[e.toLowerCase()]||"dat"}(t.blob.type)),blob:i(t.blob),base64:i(t.base64),blobUri:i(t.blobUri||e.createObjectURL(t.blob)),uri:i(t.uri)}},c=function(e){return s(function(t){return t.id()===e})},s=function(e){return t.filter(o,e)[0]};return{create:function(e,t,n,r){return a("object"==typeof e?e:{id:e,name:r,blob:t,base64:n})},add:function(e){c(e.id())||o.push(e)},get:c,getByUri:function(e){return s(function(t){return t.blobUri()==e})},findFirst:s,removeByUri:function(n){o=t.filter(o,function(t){return t.blobUri()!==n||(e.revokeObjectURL(t.blobUri()),!1)})},destroy:function(){t.each(o,function(t){e.revokeObjectURL(t.blobUri())}),o=[]}}}}),a("tinymce.core.file.UploadStatus",[],function(){return function(){var e={},t=function(e,t){return{status:e,resultUri:t}},n=function(t){return t in e};return{hasBlobUri:n,getResultUri:function(t){var n=e[t];return n?n.resultUri:null},isPending:function(t){return!!n(t)&&1===e[t].status},isUploaded:function(t){return!!n(t)&&2===e[t].status},markPending:function(n){e[n]=t(1,null)},markUploaded:function(n,r){e[n]=t(2,r)},removeFailed:function(t){delete e[t]},destroy:function(){e={}}}}}),a("tinymce.core.EditorUpload",["tinymce.core.util.Arr","tinymce.core.file.Uploader","tinymce.core.file.ImageScanner","tinymce.core.file.BlobCache","tinymce.core.file.UploadStatus","tinymce.core.ErrorReporter"],function(e,t,n,r,o,i){return function(a){var c,s,u=new r,l=a.settings,f=new o,d=function(e){return function(t){return a.selection?e(t):[]}},p=function(e,t,n){var r=0;do{-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e},m=function(e,t,n){return e=p(e,'src="'+t+'"','src="'+n+'"'),e=p(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},h=function(t,n){e.each(a.undoManager.data,function(r){"fragmented"===r.type?r.fragments=e.map(r.fragments,function(e){return m(e,t,n)}):r.content=m(r.content,t,n)})},g=function(){return a.notificationManager.open({text:a.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},v=function(e,t){u.removeByUri(e.src),h(e.src,t),a.$(e).attr({src:l.images_reuse_filename?t+"?"+(new Date).getTime():t,"data-mce-src":a.convertURL(t,"src")})},y=function(n){return c||(c=new t(f,{url:l.images_upload_url,basePath:l.images_upload_base_path,credentials:l.images_upload_credentials,handler:l.images_upload_handler})),w().then(d(function(t){var r;return r=e.map(t,function(e){return e.blobInfo}),c.upload(r,g).then(d(function(r){var o=e.map(r,function(e,n){var r=t[n].image;return e.status&&!1!==a.settings.images_replace_blob_uris?v(r,e.url):e.error&&i.uploadError(a,e.error),{element:r,status:e.status}});return n&&n(o),o}))}))},b=function(e){if(!1!==l.automatic_uploads)return y(e)},x=function(e){return!l.images_dataimg_filter||l.images_dataimg_filter(e)},w=function(){return s||(s=new n(f,u)),s.findAll(a.getBody(),x).then(d(function(t){return t=e.filter(t,function(e){return"string"!=typeof e||(i.displayError(a,e),!1)}),e.each(t,function(e){h(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))},C=function(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var r=f.getResultUri(n);if(r)return'src="'+r+'"';var o=u.getByUri(n);return o||(o=e.reduce(a.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null)),o?'src="data:'+o.blob().type+";base64,"+o.base64()+'"':t})};return a.on("setContent",function(){!1!==a.settings.automatic_uploads?b():w()}),a.on("RawSaveContent",function(e){e.content=C(e.content)}),a.on("getContent",function(e){e.source_view||"raw"==e.format||(e.content=C(e.content))}),a.on("PostRender",function(){a.parser.addNodeFilter("img",function(t){e.each(t,function(e){var t=e.attr("src");if(!u.getByUri(t)){var n=f.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:u,uploadImages:y,uploadImagesAuto:b,scanForImages:w,destroy:function(){u.destroy(),f.destroy(),s=c=null}}}}),a("tinymce.core.ForceBlocks",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.node.Element","tinymce.core.dom.Bookmarks","tinymce.core.dom.NodeType","tinymce.core.dom.Parents","tinymce.core.focus.EditorFocus"],function(e,t,n,r,o,i,a){var c=function(e,t){return e.hasOwnProperty(t.nodeName)},s=function(e,t){return!!o.isText(t)||!!o.isElement(t)&&(!c(e,t)&&!r.isBookmarkNode(t))},u=function(t){var r,u,l,f,d,p,m,h,g,v,y,b=t.settings,x=t.dom,w=t.selection,C=t.schema,k=C.getBlockElements(),T=w.getStart(),_=t.getBody();if(y=b.forced_root_block,T&&o.isElement(T)&&y&&(v=_.nodeName.toLowerCase(),C.isValidChild(v,y.toLowerCase())&&!function(t,r,o){return e.exists(i.parents(n.fromDom(o),n.fromDom(r)),function(e){return c(t,e.dom())})}(k,_,T))){for(u=(r=w.getRng()).startContainer,l=r.startOffset,f=r.endContainer,d=r.endOffset,g=a.hasFocus(t),T=_.firstChild;T;)if(s(k,T)){if(o.isText(T)&&0===T.nodeValue.length){m=T,T=T.nextSibling,x.remove(m);continue}p||(p=x.create(y,t.settings.forced_root_block_attrs),T.parentNode.insertBefore(p,T),h=!0),m=T,T=T.nextSibling,p.appendChild(m)}else p=null,T=T.nextSibling;h&&g&&(r.setStart(u,l),r.setEnd(f,d),w.setRng(r),t.nodeChanged())}};return{setup:function(e){e.settings.forced_root_block&&e.on("NodeChange",t.curry(u,e))}}}),a("tinymce.core.NodeChange",["tinymce.core.Env","tinymce.core.selection.RangeCompare","tinymce.core.util.Delay"],function(e,t,n){return function(r){var o,i=[];"onselectionchange"in r.getDoc()||r.on("NodeChange Click MouseUp KeyUp Focus",function(e){var n,i;i={startContainer:(n=r.selection.getRng()).startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset},"nodechange"!=e.type&&t.isEq(i,o)||r.fire("SelectionChange"),o=i}),r.on("contextmenu",function(){r.fire("SelectionChange")}),r.on("SelectionChange",function(){var t=r.selection.getStart(!0);!t||!e.range&&r.selection.isCollapsed()||!function(e){var t,n;if((n=r.$(e).parentsUntil(r.getBody()).add(e)).length===i.length){for(t=n.length;t>=0&&n[t]===i[t];t--);if(-1===t)return i=n,!0}return i=n,!1}(t)&&r.dom.isChildOf(t,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on("MouseUp",function(e){e.isDefaultPrevented()||("IMG"==r.selection.getNode().nodeName?n.setEditorTimeout(r,function(){r.nodeChanged()}):r.nodeChanged())}),this.nodeChanged=function(e){var t,n,o,i=r.selection;r.initialized&&i&&!r.settings.disable_nodechange&&!r.readonly&&(o=r.getBody(),(t=i.getStart(!0)||o).ownerDocument==r.getDoc()&&r.dom.isChildOf(t,o)||(t=o),n=[],r.dom.getParent(t,function(e){if(e===o)return!0;n.push(e)}),(e=e||{}).element=t,e.parents=n,r.fire("NodeChange",e))}}}),a("tinymce.core.dom.MousePosition",[],function(){var e=function(e){var t,n,r,o;return o=e.getBoundingClientRect(),t=e.ownerDocument,n=t.documentElement,r=t.defaultView,{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}};return{calc:function(t,n){return function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}}(function(t){return t.inline?e(t.getBody()):{left:0,top:0}}(t),function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}}(t),function(t,n){if(n.target.ownerDocument!==t.getDoc()){var r=e(t.getContentAreaContainer()),o=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:o}(t);return{left:n.pageX-r.left+o.left,top:n.pageY-r.top+o.top}}return{left:n.pageX,top:n.pageY}}(t,n))}}}),a("tinymce.core.DragDropOverrides",["global!document","tinymce.core.dom.DOMUtils","tinymce.core.dom.MousePosition","tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.util.Delay","tinymce.core.util.Fun"],function(e,t,n,r,o,i,a){var c=r.isContentEditableFalse,s=r.isContentEditableTrue,u=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},l=function(e,t){return function(n){if(function(e){return 0===e.button}(n)){var r=o.find(t.dom.getParents(n.target),a.or(c,s));if(function(e,t){return c(t)&&t!==e}(t.getBody(),r)){var i=t.dom.getPos(r),u=t.getBody(),l=t.getDoc().documentElement;e.element=r,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?u.scrollWidth:l.offsetWidth)-2,e.maxY=(t.inline?u.scrollHeight:l.offsetHeight)-2,e.relX=n.pageX-i.x,e.relY=n.pageY-i.y,e.width=r.offsetWidth,e.height=r.offsetHeight,e.ghost=function(e,t,n,r){var o=t.cloneNode(!0);e.dom.setStyles(o,{width:n,height:r}),e.dom.setAttrib(o,"data-mce-selected",null);var i=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),i.appendChild(o),i}(t,r,e.width,e.height)}}}},f=function(e,t){return function(n){if(e.dragging&&function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!c(t)}(t,function(e){var t=e.getSel().getRangeAt(0).startContainer;return 3===t.nodeType?t.parentNode:t}(t.selection),e.element)){var r=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t}(e.element),o=t.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});o.isDefaultPrevented()||(r=o.targetClone,t.undoManager.transact(function(){u(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}d(e)}},d=function(e){e.dragging=!1,e.element=null,u(e.ghost)},p=function(r){var o,a,c,s,u,p,m={};o=t.DOM,p=e,a=l(m,r),c=function(e,t){var r=i.throttle(function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)},0);return function(o){var i=Math.max(Math.abs(o.screenX-e.screenX),Math.abs(o.screenY-e.screenY));if(function(e){return e.element}(e)&&!e.dragging&&i>10){if(t.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var a=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}}(e,n.calc(t,o));!function(e,t){e.parentNode!==t&&t.appendChild(e)}(e.ghost,t.getBody()),function(e,t,n,r,o,i){var a=0,c=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(a=t.pageX+n-o),t.pageY+r>i&&(c=t.pageY+r-i),e.style.width=n-a+"px",e.style.height=r-c+"px"}(e.ghost,a,e.width,e.height,e.maxX,e.maxY),r(o.clientX,o.clientY)}}}(m,r),s=f(m,r),u=function(e,t){return function(){d(e),e.dragging&&t.fire("dragend")}}(m,r),r.on("mousedown",a),r.on("mousemove",c),r.on("mouseup",s),o.bind(p,"mousemove",c),o.bind(p,"mouseup",u),r.on("remove",function(){o.unbind(p,"mousemove",c),o.unbind(p,"mouseup",u)})};return{init:function(e){p(e),function(e){e.on("drop",function(t){var n=void 0!==t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(c(n)||c(e.dom.getContentEditableParent(n)))&&t.preventDefault()})}(e)}}}),a("tinymce.core.caret.FakeCaret",["global!clearInterval","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretContainerRemove","tinymce.core.dom.DomQuery","tinymce.core.dom.NodeType","tinymce.core.geom.ClientRect","tinymce.core.util.Delay"],function(e,t,n,r,o,i,a){var c=o.isContentEditableFalse;return function(o,s){var u,l,f=null,d=function(){!function(){var e,n,i,a,c;for(e=r("*[contentEditable=false]",o),a=0;a<e.length;a++)i=(n=e[a]).previousSibling,t.endsWithCaretContainer(i)&&(1==(c=i.data).length?i.parentNode.removeChild(i):i.deleteData(c.length-1,1)),i=n.nextSibling,t.startsWithCaretContainer(i)&&(1==(c=i.data).length?i.parentNode.removeChild(i):i.deleteData(0,1))}(),l&&(n.remove(l),l=null),f&&(f.remove(),f=null),e(u)},p=function(){u=a.setInterval(function(){o.ownerDocument.activeElement===o?r("div.mce-visual-caret",o).toggleClass("mce-visual-caret-hidden"):r("div.mce-visual-caret",o).addClass("mce-visual-caret-hidden")},500)};return{show:function(e,n){var a,u;return d(),function(e){return e&&/^(TD|TH)$/i.test(e.nodeName)}(n)?null:s(n)?(l=t.insertBlock("p",n,e),a=function(e,t){var n,r,a,c,s,u=i.collapse(e.getBoundingClientRect(),t);return"BODY"==o.tagName?(n=o.ownerDocument.documentElement,r=o.scrollLeft||n.scrollLeft,a=o.scrollTop||n.scrollTop):(s=o.getBoundingClientRect(),r=o.scrollLeft-s.left,a=o.scrollTop-s.top),u.left+=r,u.right+=r,u.top+=a,u.bottom+=a,u.width=1,(c=e.offsetWidth-e.clientWidth)>0&&(t&&(c*=-1),u.left+=c,u.right+=c),u}(n,e),r(l).css("top",a.top),f=r('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(a).appendTo(o),e&&f.addClass("mce-visual-caret-before"),p(),(u=n.ownerDocument.createRange()).setStart(l,0),u.setEnd(l,0),u):(l=t.insertInline(n,e),u=n.ownerDocument.createRange(),c(l.nextSibling)?(u.setStart(l,0),u.setEnd(l,0)):(u.setStart(l,1),u.setEnd(l,1)),u)},hide:d,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function(){a.clearInterval(u)}}}}),a("tinymce.core.dom.Dimensions",["tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.geom.ClientRect"],function(e,t,n){var r=function(o){var i=function(t){return e.map(t,function(e){return e=n.clone(e),e.node=o,e})};if(e.isArray(o))return e.reduce(o,function(e,t){return e.concat(r(t))},[]);if(t.isElement(o))return i(o.getClientRects());if(t.isText(o)){var a=o.ownerDocument.createRange();return a.setStart(o,0),a.setEnd(o,o.data.length),i(a.getClientRects())}};return{getClientRects:r}}),a("tinymce.core.caret.LineUtils",["tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.dom.Dimensions","tinymce.core.geom.ClientRect","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretCandidate"],function(e,t,n,r,o,i,a){var c=n.isContentEditableFalse,s=i.findNode,u=e.curry,l=function(e,t){return Math.abs(e.left-t)},f=function(e,t){return Math.abs(e.right-t)},d=function(e,n){var r=function(e,t){return e>=t.left&&e<=t.right};return t.reduce(e,function(e,t){var o,i;return o=Math.min(l(e,n),f(e,n)),i=Math.min(l(t,n),f(t,n)),r(n,t)?t:r(n,e)?e:i==o&&c(t.node)?t:i<o?t:e})},p=function(e,t,n,r){for(;r=s(r,e,a.isEditableCaretCandidate,t);)if(n(r))return},m=function(e,n){var i=[],a=function(e,o){var a;return a=t.filter(r.getClientRects(o),function(t){return!e(t,n)}),i=i.concat(a),0===a.length};return i.push(n),p(-1,e,u(a,o.isAbove),n.node),p(1,e,u(a,o.isBelow),n.node),i};return{findClosestClientRect:d,findLineNodeRects:m,closestCaret:function(e,n,o){var i,a;return i=r.getClientRects(function(e){return t.filter(t.toArray(e.getElementsByTagName("*")),c)}(e)),i=t.filter(i,function(e){return o>=e.top&&o<=e.bottom}),(a=d(i,n))&&(a=d(m(e,a),n))&&c(a.node)?function(e,t){return{node:e.node,before:l(e,t)<f(e,t)}}(a,n):null}}}),a("tinymce.core.dom.RangePoint",["ephox.katamari.api.Arr","tinymce.core.geom.ClientRect"],function(e,t){return{isXYWithinRange:function(n,r,o){return!o.collapsed&&e.foldl(o.getClientRects(),function(e,o){return e||t.containsXY(o,n,r)},!1)}}}),a("ephox.katamari.api.Throttler",["global!clearTimeout","global!setTimeout"],function(e,t){return{adaptable:function(n,r){var o=null,i=null;return{cancel:function(){null!==o&&(e(o),o=null,i=null)},throttle:function(){i=arguments,null===o&&(o=t(function(){n.apply(null,i),o=null,i=null},r))}}},first:function(n,r){var o=null;return{cancel:function(){null!==o&&(e(o),o=null)},throttle:function(){var e=arguments;null===o&&(o=t(function(){n.apply(null,e),o=null,e=null},r))}}},last:function(n,r){var o=null;return{cancel:function(){null!==o&&(e(o),o=null)},throttle:function(){var i=arguments;null!==o&&e(o),o=t(function(){n.apply(null,i),o=null,i=null},r)}}}}}),a("tinymce.core.keyboard.CefUtils",["tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.NodeType","tinymce.core.util.Fun"],function(e,t,n,r){var o=n.isContentEditableTrue,i=n.isContentEditableFalse,a=function(e,t,n,r){return t._selectionOverrides.showCaret(e,n,r)},c=function(n,c){var s,u;return c=t.normalizeRange(1,n.getBody(),c),s=e.fromRangeStart(c),i(s.getNode())?a(1,n,s.getNode(),!s.isAtEnd()):i(s.getNode(!0))?a(1,n,s.getNode(!0),!1):(u=n.dom.getParent(s.getNode(),r.or(i,o)),i(u)?a(1,n,u,!1):null)};return{showCaret:a,selectNode:function(e,t){return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t}(t)},renderCaretAtRange:c,renderRangeCaret:function(e,t){return t&&t.collapsed?c(e,t)||t:t}}}),a("tinymce.core.focus.CefFocus",["ephox.katamari.api.Throttler","tinymce.core.keyboard.CefUtils"],function(e,t){return{setup:function(n){var r=e.first(function(){if(!n.removed){var e=t.renderRangeCaret(n,n.selection.getRng());n.selection.setRng(e)}},0);n.on("focus",function(){r.throttle()}),n.on("blur",function(){r.cancel()})}}}),a("tinymce.core.util.VK",["tinymce.core.Env"],function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(t){return e.mac?t.metaKey:t.ctrlKey&&!t.altKey}}}),a("tinymce.core.SelectionOverrides",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.properties.Attr","ephox.sugar.api.search.SelectorFilter","ephox.sugar.api.search.SelectorFind","tinymce.core.DragDropOverrides","tinymce.core.EditorView","tinymce.core.Env","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.FakeCaret","tinymce.core.caret.LineUtils","tinymce.core.dom.NodeType","tinymce.core.dom.RangePoint","tinymce.core.focus.CefFocus","tinymce.core.keyboard.CefUtils","tinymce.core.util.VK"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m,h,g,v,y,b){var x=h.isContentEditableTrue,w=h.isContentEditableFalse,C=f.isAfterContentEditableFalse,k=f.isBeforeContentEditableFalse;return function(h){var T,_=h.getBody(),S=new p(h.getBody(),function(e){return h.dom.isBlock(e)}),E="sel-"+h.dom.uniqueId(),A=function(e){e&&h.selection.setRng(e)},N=function(){return h.selection.getRng()},D=function(e,t){h.selection.scrollIntoView(e,t)},R=function(e,t,n){return h.fire("ShowCaret",{target:t,direction:e,before:n}).isDefaultPrevented()?null:(D(t,-1===e),S.show(n,t))},P=function(e,t){return t=f.normalizeRange(e,_,t),-1==e?l.fromRangeStart(t):l.fromRangeEnd(t)},O=function(){var e=function(e){for(var t=h.getBody();e&&e!=t;){if(x(e)||w(e))return e;e=e.parentNode}return null};h.on("mouseup",function(e){var t=N();t.collapsed&&c.isXYInContentArea(h,e.clientX,e.clientY)&&A(y.renderCaretAtRange(h,t))}),h.on("click",function(t){var n;(n=e(t.target))&&(w(n)&&(t.preventDefault(),h.focus()),x(n)&&h.dom.isChildOf(n,h.selection.getNode())&&L())}),h.on("blur NewBlock",function(){L()});var t=function(e,t){var n=h.dom.getParent(e,h.dom.isBlock),r=h.dom.getParent(t,h.dom.isBlock);return n&&!function(e,t){return h.dom.getParent(e,h.dom.isBlock)===h.dom.getParent(t,h.dom.isBlock)}(n,r)&&function(e){var t=new d(e);if(!e.firstChild)return!1;var n=l.before(e.firstChild),r=t.next(n);return r&&!k(r)&&!C(r)}(n)};!function(t){var n=!1;t.on("touchstart",function(){n=!1}),t.on("touchmove",function(){n=!0}),t.on("touchend",function(r){var o=e(r.target);w(o)&&(n||(r.preventDefault(),M(y.selectNode(t,o))))})}(h),h.on("mousedown",function(n){var r;if(!1!==c.isXYInContentArea(h,n.clientX,n.clientY))if(r=e(n.target))w(r)?(n.preventDefault(),M(y.selectNode(h,r))):(L(),x(r)&&n.shiftKey||g.isXYWithinRange(n.clientX,n.clientY,h.selection.getRng())||h.selection.placeCaretAt(n.clientX,n.clientY));else{L(),F();var o=m.closestCaret(_,n.clientX,n.clientY);o&&(t(n.target,o.node)||(n.preventDefault(),h.getBody().focus(),A(R(1,o.node,o.before))))}}),h.on("keypress",function(e){b.modifierPressed(e)||(e.keyCode,w(h.selection.getNode())&&e.preventDefault())}),h.on("getSelectionRange",function(e){var t=e.range;if(T){if(!T.parentNode)return void(T=null);(t=t.cloneRange()).selectNode(T),e.range=t}}),h.on("setSelectionRange",function(e){var t;(t=M(e.range,e.forward))&&(e.range=t)}),h.on("AfterSetSelectionRange",function(e){var t=e.range;I(t)||F(),function(e){return h.dom.hasClass(e,"mce-offscreen-selection")}(t.startContainer.parentNode)||L()}),h.on("copy",function(e){var t=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!s.ie){var n=function(){var e=h.dom.get(E);return e?e.getElementsByTagName("*")[0]:e}();n&&(e.preventDefault(),t.clearData(),t.setData("text/html",n.outerHTML),t.setData("text/plain",n.outerText))}}),a.init(h),v.setup(h)},B=function(e){return u.isCaretContainer(e)||u.startsWithCaretContainer(e)||u.endsWithCaretContainer(e)},I=function(e){return B(e.startContainer)||B(e.endContainer)},M=function(t,a){var c,u,l,f,d,p,m,g,v,y,b=h.$,x=h.dom;if(!t)return null;if(t.collapsed){if(!I(t))if(!1===a){if(g=P(-1,t),w(g.getNode(!0)))return R(-1,g.getNode(!0),!1);if(w(g.getNode()))return R(-1,g.getNode(),!g.isAtEnd())}else{if(g=P(1,t),w(g.getNode()))return R(1,g.getNode(),!g.isAtEnd());if(w(g.getNode(!0)))return R(1,g.getNode(!0),!1)}return null}return f=t.startContainer,d=t.startOffset,p=t.endOffset,3===f.nodeType&&0===d&&w(f.parentNode)&&(f=f.parentNode,d=x.nodeIndex(f),f=f.parentNode),1!=f.nodeType?null:(p==d+1&&(c=f.childNodes[d]),w(c)?(v=y=c.cloneNode(!0),(m=h.fire("ObjectSelected",{target:c,targetClone:v})).isDefaultPrevented()?null:(u=i.descendant(n.fromDom(h.getBody()),"#"+E).fold(function(){return b([])},function(e){return b([e.dom()])}),v=m.targetClone,0===u.length&&(u=b('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",E)).appendTo(h.getBody()),t=h.dom.createRng(),v===y&&s.ie?(u.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(v),t.setStartAfter(u[0].firstChild.firstChild),t.setEndAfter(v)):(u.empty().append("").append(v).append(""),t.setStart(u[0].firstChild,1),t.setEnd(u[0].lastChild,0)),u.css({top:x.getPos(c,h.getBody()).y}),u[0].focus(),(l=h.selection.getSel()).removeAllRanges(),l.addRange(t),e.each(o.descendants(n.fromDom(h.getBody()),"*[data-mce-selected]"),function(e){r.remove(e,"data-mce-selected")}),c.setAttribute("data-mce-selected",1),T=c,F(),t)):null)},L=function(){T&&(T.removeAttribute("data-mce-selected"),i.descendant(n.fromDom(h.getBody()),"#"+E).each(t.remove),T=null)},F=function(){S.hide()};return s.ceFalse&&(O(),function(){var e=h.contentStyles,t=".mce-content-body";e.push(S.getCss()),e.push(t+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+t+" *[contentEditable=false] {cursor: default;}"+t+" *[contentEditable=true] {cursor: text;}")}()),{showCaret:R,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(u.showCaretContainerBlock(e),A(N()),D(e[0]))},hideFakeCaret:F,destroy:function(){S.destroy(),T=null}}}}),a("tinymce.core.undo.Diff",[],function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(e,t){var n=e.length+t.length+2,r=new Array(n),o=new Array(n),i=function(n,r,o,a,s){var u=c(n,r,o,a);if(null===u||u.start===r&&u.diag===r-a||u.end===n&&u.diag===n-o)for(var l=n,f=o;l<r||f<a;)l<r&&f<a&&e[l]===t[f]?(s.push([0,e[l]]),++l,++f):r-n>a-o?(s.push([2,e[l]]),++l):(s.push([1,t[f]]),++f);else{i(n,u.start,o,u.start-u.diag,s);for(var d=u.start;d<u.end;++d)s.push([0,e[d]]);i(u.end,r,u.end-u.diag,a,s)}},a=function(n,r,o,i){for(var a=n;a-r<i&&a<o&&e[a]===t[a-r];)++a;return function(e,t,n){return{start:e,end:t,diag:n}}(n,a,r)},c=function(n,i,c,s){var u=i-n,l=s-c;if(0===u||0===l)return null;var f=u-l,d=l+u,p=(d%2==0?d:d+1)/2;r[1+p]=n,o[1+p]=i+1;for(var m=0;m<=p;++m){for(var h=-m;h<=m;h+=2){var g=h+p;h===-m||h!=m&&r[g-1]<r[g+1]?r[g]=r[g+1]:r[g]=r[g-1]+1;for(var v=r[g],y=v-n+c-h;v<i&&y<s&&e[v]===t[y];)r[g]=++v,++y;if(f%2!=0&&f-m<=h&&h<=f+m&&o[g-f]<=r[g])return a(o[g-f],h+n-c,i,s)}for(h=f-m;h<=f+m;h+=2){for(g=h+p-f,h===f-m||h!=f+m&&o[g+1]<=o[g-1]?o[g]=o[g+1]-1:o[g]=o[g-1],y=(v=o[g]-1)-n+c-h;v>=n&&y>=c&&e[v]===t[y];)o[g]=v--,y--;if(f%2==0&&-m<=h&&h<=m&&o[g]<=r[g+f])return a(o[g],h+n-c,i,s)}}},s=[];return i(0,e.length,0,t.length,s),s}}}),a("tinymce.core.undo.Fragments",["global!document","tinymce.core.html.Entities","tinymce.core.undo.Diff","tinymce.core.util.Arr"],function(e,t,n,r){var o=function(e){return 1===e.nodeType?e.outerHTML:3===e.nodeType?t.encodeRaw(e.data,!1):8===e.nodeType?"\x3c!--"+e.data+"--\x3e":""},i=function(t,n,r){var o=function(t){var n,r,o;for(o=e.createElement("div"),n=e.createDocumentFragment(),t&&(o.innerHTML=t);r=o.firstChild;)n.appendChild(r);return n}(n);if(t.hasChildNodes()&&r<t.childNodes.length){var i=t.childNodes[r];i.parentNode.insertBefore(o,i)}else t.appendChild(o)};return{read:function(e){return r.filter(r.map(e.childNodes,o),function(e){return e.length>0})},write:function(e,t){var a=r.map(t.childNodes,o);return function(e,t){var o=0;r.each(e,function(e){e[0]===n.KEEP?o++:e[0]===n.INSERT?(i(t,e[1],o),o++):e[0]===n.DELETE&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(t,o)})}(n.diff(a,e),t),t}}}),a("tinymce.core.undo.Levels",["ephox.katamari.api.Arr","tinymce.core.dom.TrimHtml","tinymce.core.undo.Fragments"],function(e,t,n){var r=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},o=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},i=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content};return{createFragmentedLevel:r,createCompleteLevel:o,createFromEditor:function(i){var a,c,s;return a=n.read(i.getBody()),s=e.bind(a,function(e){var n=t.trimInternal(i.serializer,e);return n.length>0?[n]:[]}),c=s.join(""),function(e){return-1!==e.indexOf("</iframe>")}(c)?r(s):o(c)},applyToEditor:function(e,t,r){"fragmented"===t.type?n.write(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(r?t.beforeBookmark:t.bookmark)},isEq:function(e,t){return!!e&&!!t&&i(e)===i(t)}}}),a("tinymce.core.UndoManager",["tinymce.core.dom.GetBookmark","tinymce.core.undo.Levels","tinymce.core.util.Tools"],function(e,t,n){return function(r){var o,i,a=this,c=0,s=[],u=0,l=function(){return 0===u},f=function(e){l()&&(a.typing=e)},d=function(e){r.setDirty(e)},p=function(e){f(!1),a.add({},e)},m=function(){a.typing&&(f(!1),a.add())};return r.on("init",function(){a.add()}),r.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(m(),a.beforeChange())}),r.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&p(e)}),r.on("ObjectResizeStart Cut",function(){a.beforeChange()}),r.on("SaveContent ObjectResized blur",p),r.on("DragEnd",p),r.on("KeyUp",function(e){var n=e.keyCode;e.isDefaultPrevented()||((n>=33&&n<=36||n>=37&&n<=40||45===n||e.ctrlKey)&&(p(),r.nodeChanged()),46!==n&&8!==n||r.nodeChanged(),i&&a.typing&&!1===t.isEq(t.createFromEditor(r),s[0])&&(!1===r.isDirty()&&(d(!0),r.fire("change",{level:s[0],lastLevel:null})),r.fire("TypingUndo"),i=!1,r.nodeChanged()))}),r.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented())if(t>=33&&t<=36||t>=37&&t<=40||45===t)a.typing&&p(e);else{var n=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||t>20)||224===t||91===t||a.typing||n||(a.beforeChange(),f(!0),a.add({},e),i=!0)}}),r.on("MouseDown",function(e){a.typing&&p(e)}),r.addShortcut("meta+z","","Undo"),r.addShortcut("meta+y,meta+shift+z","","Redo"),r.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||r.nodeChanged()}),a={data:s,typing:!1,beforeChange:function(){l()&&(o=e.getUndoBookmark(r.selection))},add:function(i,a){var u,f,p,m=r.settings;if(p=t.createFromEditor(r),i=i||{},i=n.extend(i,p),!1===l()||r.removed)return null;if(f=s[c],r.fire("BeforeAddUndo",{level:i,lastLevel:f,originalEvent:a}).isDefaultPrevented())return null;if(f&&t.isEq(f,i))return null;if(s[c]&&(s[c].beforeBookmark=o),m.custom_undo_redo_levels&&s.length>m.custom_undo_redo_levels){for(u=0;u<s.length-1;u++)s[u]=s[u+1];s.length--,c=s.length}i.bookmark=e.getUndoBookmark(r.selection),c<s.length-1&&(s.length=c+1),s.push(i),c=s.length-1;var h={level:i,lastLevel:f,originalEvent:a};return r.fire("AddUndo",h),c>0&&(d(!0),r.fire("change",h)),i},undo:function(){var e;return a.typing&&(a.add(),a.typing=!1,f(!1)),c>0&&(e=s[--c],t.applyToEditor(r,e,!0),d(!0),r.fire("undo",{level:e})),e},redo:function(){var e;return c<s.length-1&&(e=s[++c],t.applyToEditor(r,e,!1),d(!0),r.fire("redo",{level:e})),e},clear:function(){s=[],c=0,a.typing=!1,a.data=s,r.fire("ClearUndos")},hasUndo:function(){return c>0||a.typing&&s[0]&&!t.isEq(t.createFromEditor(r),s[0])},hasRedo:function(){return c<s.length-1&&!a.typing},transact:function(e){return m(),a.beforeChange(),a.ignore(e),a.add()},ignore:function(e){try{u++,e()}finally{u--}},extra:function(e,n){var o,i;a.transact(e)&&(i=s[c].bookmark,o=s[c-1],t.applyToEditor(r,o,!0),a.transact(n)&&(s[c-1].beforeBookmark=i))}}}}),a("tinymce.core.fmt.Hooks",["tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.dom.DomQuery"],function(e,t,n){var r={},o=e.filter,i=e.each;return function(e,t){var n=r[e];n||(r[e]=n=[]),r[e].push(t)}("pre",function(r){var a,c,s=r.selection.getRng(),u=function(t){return a(t.previousSibling)&&-1!==e.indexOf(c,t.previousSibling)};a=t.matchNodeNames("pre"),s.collapsed||(c=r.selection.getSelectedBlocks(),i(o(o(c,a),u),function(e){!function(e,t){n(t).remove(),n(e).append("<br><br>").append(t.childNodes)}(e.previousSibling,e)}))}),{postProcess:function(e,t){i(r[e],function(e){e(t)})}}}),a("tinymce.core.selection.RangeWalk",["tinymce.core.util.Tools"],function(e){var t=e.each;return{walk:function(e,n,r){var o,i,a,c,s,u,l,f=n.startContainer,d=n.startOffset,p=n.endContainer,m=n.endOffset;if((l=e.select("td[data-mce-selected],th[data-mce-selected]")).length>0)t(l,function(e){r([e])});else{var h=function(e){var t;return 3===(t=e[0]).nodeType&&t===f&&d>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===m&&e.length>0&&t===p&&3===t.nodeType&&e.splice(e.length-1,1),e},g=function(e,t,n){for(var r=[];e&&e!=n;e=e[t])r.push(e);return r},v=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},y=function(e,t,n){var o=n?"nextSibling":"previousSibling";for(s=(c=e).parentNode;c&&c!=t;c=s)s=c.parentNode,(u=g(c===e?c:c[o],o)).length&&(n||u.reverse(),r(h(u)))};if(1===f.nodeType&&f.hasChildNodes()&&(f=f.childNodes[d]),1===p.nodeType&&p.hasChildNodes()&&(p=function(e,t){var n=e.childNodes;return--t>n.length-1?t=n.length-1:t<0&&(t=0),n[t]||e}(p,m)),f===p)return r(h([f]));for(o=e.findCommonAncestor(f,p),c=f;c;c=c.parentNode){if(c===p)return y(f,o,!0);if(c===o)break}for(c=p;c;c=c.parentNode){if(c===f)return y(p,o);if(c===o)break}i=v(f,o)||f,a=v(p,o)||p,y(f,i,!0),(u=g(i===f?i:i.nextSibling,"nextSibling",a===p?a.nextSibling:a)).length&&r(h(u)),y(p,a)}}}}),a("tinymce.core.fmt.RemoveFormat",["tinymce.core.dom.Bookmarks","tinymce.core.dom.NodeType","tinymce.core.dom.TreeWalker","tinymce.core.fmt.CaretFormat","tinymce.core.fmt.ExpandRange","tinymce.core.fmt.FormatUtils","tinymce.core.fmt.MatchFormat","tinymce.core.selection.RangeWalk","tinymce.core.util.Tools"],function(e,t,n,r,o,i,a,c,s){var u=/^(src|href|style)$/,l=s.each,f=i.isEq,d=function(e){return/^(TH|TD)$/.test(e.nodeName)},p=function(e,r,o){var i,a,c;return i=r[o?"startContainer":"endContainer"],a=r[o?"startOffset":"endOffset"],t.isElement(i)&&(c=i.childNodes.length-1,!o&&a&&a--,i=i.childNodes[a>c?c:a]),t.isText(i)&&o&&a>=i.nodeValue.length&&(i=new n(i,e.getBody()).next()||i),t.isText(i)&&!o&&0===a&&(i=new n(i,e.getBody()).prev()||i),i},m=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},h=function(e,t,n,r){return!(t=i.getNonWhiteSpaceSibling(t,n,r))||"BR"===t.nodeName||e.isBlock(t)},g=function(e,n,r,o,a){var c,d,p,g=e.dom;if(!function(e,n,r){return!!f(n,r.inline)||!!f(n,r.block)||(r.selector?t.isElement(n)&&e.is(n,r.selector):void 0)}(g,o,n)&&!function(e,t){return t.links&&"A"===e.tagName}(o,n))return!1;if("all"!==n.remove)for(l(n.styles,function(e,t){e=i.normalizeStyleValue(g,i.replaceVars(e,r),t),"number"==typeof t&&(t=e,a=0),(n.remove_similar||!a||f(i.getStyle(g,a,t),e))&&g.setStyle(o,t,""),p=1}),p&&""===g.getAttrib(o,"style")&&(o.removeAttribute("style"),o.removeAttribute("data-mce-style")),l(n.attributes,function(e,t){var n;if(e=i.replaceVars(e,r),"number"==typeof t&&(t=e,a=0),!a||f(g.getAttrib(a,t),e)){if("class"===t&&(e=g.getAttrib(o,t))&&(n="",l(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(n+=(n?" ":"")+e)}),n))return void g.setAttrib(o,t,n);"class"===t&&o.removeAttribute("className"),u.test(t)&&o.removeAttribute("data-mce-"+t),o.removeAttribute(t)}}),l(n.classes,function(e){e=i.replaceVars(e,r),a&&!g.hasClass(a,e)||g.removeClass(o,e)}),d=g.getAttribs(o),c=0;c<d.length;c++){var v=d[c].nodeName;if(0!==v.indexOf("_")&&0!==v.indexOf("data-"))return!1}return"none"!==n.remove?(function(e,t,n){var r,o=t.parentNode,a=e.dom,c=e.settings.forced_root_block;n.block&&(c?o===a.getRoot()&&(n.list_block&&f(t,n.list_block)||l(s.grep(t.childNodes),function(t){i.isValid(e,c,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=m(a,t,c),a.setAttribs(r,e.settings.forced_root_block_attrs)):r=0})):a.isBlock(t)&&!a.isBlock(o)&&(h(a,t,!1)||h(a,t.firstChild,!0,1)||t.insertBefore(a.create("br"),t.firstChild),h(a,t,!0)||h(a,t.lastChild,!1,1)||t.appendChild(a.create("br")))),n.selector&&n.inline&&!f(n.inline,t)||a.remove(t,1)}(e,o,n),!0):void 0};return{removeFormat:g,remove:function(n,u,f,h,v){var y,b,x=n.formatter.get(u),w=x[0],C=!0,k=n.dom,T=n.selection,_=function(e){var t=function(e,t,n,r,o){var c;return l(i.getParents(e.dom,t.parentNode).reverse(),function(t){var i;c||"_start"===t.id||"_end"===t.id||(i=a.matchNode(e,t,n,r,o))&&!1!==i.split&&(c=t)}),c}(n,e,u,f,v);return function(e,t,n,r,o,i,a,c){var s,u,l,f,d,p,m=e.dom;if(n){for(p=n.parentNode,s=r.parentNode;s&&s!==p;s=s.parentNode){for(u=m.clone(s,!1),d=0;d<t.length;d++)if(g(e,t[d],c,u,u)){u=0;break}u&&(l&&u.appendChild(l),f||(f=u),l=u)}!i||a.mixed&&m.isBlock(n)||(r=m.split(n,r)),l&&(o.parentNode.insertBefore(l,o),f.appendChild(o))}return r}(n,x,t,e,e,!0,w,f)},S=function(e){var r,o,i,a,c;if(t.isElement(e)&&k.getContentEditable(e)&&(a=C,C="true"===k.getContentEditable(e),c=!0),r=s.grep(e.childNodes),C&&!c)for(o=0,i=x.length;o<i&&!g(n,x[o],f,e,e);o++);if(w.deep&&r.length){for(o=0,i=r.length;o<i;o++)S(r[o]);c&&(C=a)}},E=function(n){var r=k.get(n?"_start":"_end"),o=r[n?"firstChild":"lastChild"];return e.isBookmarkNode(o)&&(o=o[n?"firstChild":"lastChild"]),t.isText(o)&&0===o.data.length&&(o=n?r.previousSibling||r.nextSibling:r.nextSibling||r.previousSibling),k.remove(r,!0),o},A=function(e){var r,a,s=e.commonAncestorContainer;if(e=o.expandRng(n,e,x,!0),w.split){if(r=p(n,e,!0),a=p(n,e),r!==a){if(/^(TR|TH|TD)$/.test(r.nodeName)&&r.firstChild&&(r="TR"===r.nodeName?r.firstChild.firstChild||r:r.firstChild||r),s&&/^T(HEAD|BODY|FOOT|R)$/.test(s.nodeName)&&d(a)&&a.firstChild&&(a=a.firstChild||a),k.isChildOf(r,a)&&r!==a&&!k.isBlock(a)&&!d(r)&&!d(a))return r=m(k,r,"span",{id:"_start","data-mce-type":"bookmark"}),_(r),void(r=E(!0));r=m(k,r,"span",{id:"_start","data-mce-type":"bookmark"}),a=m(k,a,"span",{id:"_end","data-mce-type":"bookmark"}),_(r),_(a),r=E(!0),a=E()}else r=a=_(r);e.startContainer=r.parentNode?r.parentNode:r,e.startOffset=k.nodeIndex(r),e.endContainer=a.parentNode?a.parentNode:a,e.endOffset=k.nodeIndex(a)+1}c.walk(k,e,function(e){l(e,function(e){S(e),t.isElement(e)&&"underline"===n.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===i.getTextDecoration(k,e.parentNode)&&g(n,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})};if(h)h.nodeType?((b=k.createRng()).setStartBefore(h),b.setEndAfter(h),A(b)):A(h);else if("false"!==k.getContentEditable(T.getNode()))T.isCollapsed()&&w.inline&&!k.select("td[data-mce-selected],th[data-mce-selected]").length?r.removeCaretFormat(n,u,f,v):(y=T.getBookmark(),A(T.getRng(!0)),T.moveToBookmark(y),w.inline&&a.match(n,u,f,T.getStart())&&i.moveStart(k,T,T.getRng(!0)),n.nodeChanged());else{h=T.getNode();for(var N=0,D=x.length;N<D&&(!x[N].ceFalseOverride||!g(n,x[N],f,h,h));N++);}}}}),a("tinymce.core.fmt.MergeFormats",["ephox.katamari.api.Fun","tinymce.core.dom.Bookmarks","tinymce.core.dom.ElementUtils","tinymce.core.dom.NodeType","tinymce.core.fmt.CaretFormat","tinymce.core.fmt.FormatUtils","tinymce.core.fmt.MatchFormat","tinymce.core.fmt.RemoveFormat","tinymce.core.util.Tools"],function(e,t,n,r,o,i,a,c,s){var u=s.each,l=function(e){return e&&1===e.nodeType&&!t.isBookmarkNode(e)&&!o.isCaretNode(e)&&!r.isBogus(e)},f=function(e,n){var r;for(r=e;r;r=r[n]){if(3===r.nodeType&&0!==r.nodeValue.length)return e;if(1===r.nodeType&&!t.isBookmarkNode(r))return r}return e},d=function(e,t,r){var o,i,a=new n(e);if(t&&r&&(t=f(t,"previousSibling"),r=f(r,"nextSibling"),a.compare(t,r))){for(o=t.nextSibling;o&&o!==r;)i=o,o=o.nextSibling,t.appendChild(i);return e.remove(r),s.each(s.grep(r.childNodes),function(e){t.appendChild(e)}),t}return r},p=function(e,t,n){u(e.childNodes,function(e){l(e)&&(t(e)&&n(e),e.hasChildNodes()&&p(e,t,n))})},m=function(t,n){return e.curry(function(e,n){return!(!n||!i.getStyle(t,n,e))},n)},h=function(t,n,r){return e.curry(function(e,n,r){t.setStyle(r,e,n),""===r.getAttribute("style")&&r.removeAttribute("style"),g(t,r)},n,r)},g=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},v=function(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=i.getTextDecoration(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))};return{mergeWithChildren:function(e,t,n,r){u(t,function(t){u(e.dom.select(t.inline,r),function(r){l(r)&&c.removeFormat(e,t,n,r,t.exact?r:null)}),function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";u(e.select(r,n),function(n){l(n)&&u(t.styles,function(t,r){e.setStyle(n,r,"")})})}}(e.dom,t,r)})},mergeUnderlineAndColor:function(t,n,r,o){(n.styles.color||n.styles.textDecoration)&&(s.walk(o,e.curry(v,t),"childNodes"),v(t,o))},mergeBackgroundColorAndFontSize:function(e,t,n,r){t.styles&&t.styles.backgroundColor&&p(r,m(e,"fontSize"),h(e,"backgroundColor",i.replaceVars(t.styles.backgroundColor,n)))},mergeSubSup:function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(p(r,m(e,"fontSize"),h(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))},mergeSiblings:function(e,t,n,r){r&&!1!==t.merge_siblings&&(r=d(e,i.getNonWhiteSpaceSibling(r),r),r=d(e,r,i.getNonWhiteSpaceSibling(r,!0)))},mergeWithParents:function(e,t,n,r,o){a.matchNode(e,o.parentNode,n,r)&&c.removeFormat(e,t,r,o)||t.merge_with_parents&&e.dom.getParent(o.parentNode,function(i){if(a.matchNode(e,i,n,r))return c.removeFormat(e,t,r,o),!0})}}}),a("tinymce.core.fmt.ApplyFormat",["tinymce.core.dom.Bookmarks","tinymce.core.dom.NodeType","tinymce.core.fmt.CaretFormat","tinymce.core.fmt.ExpandRange","tinymce.core.fmt.FormatUtils","tinymce.core.fmt.Hooks","tinymce.core.fmt.MatchFormat","tinymce.core.fmt.MergeFormats","tinymce.core.selection.RangeNormalizer","tinymce.core.selection.RangeWalk","tinymce.core.util.Tools"],function(e,t,n,r,o,i,a,c,s,u,l){var f=l.each,d=function(r){return r&&1===r.nodeType&&!e.isBookmarkNode(r)&&!n.isCaretNode(r)&&!t.isBogus(r)},p=function(t,m,h,g){var v,y,b=t.formatter.get(m),x=b[0],w=!g&&t.selection.isCollapsed(),C=t.dom,k=t.selection,T=function(e,t){if(t=t||x,e){if(t.onformat&&t.onformat(e,t,h,g),f(t.styles,function(t,n){C.setStyle(e,n,o.replaceVars(t,h))}),t.styles){var n=C.getAttrib(e,"style");n&&e.setAttribute("data-mce-style",n)}f(t.attributes,function(t,n){C.setAttrib(e,n,o.replaceVars(t,h))}),f(t.classes,function(t){t=o.replaceVars(t,h),C.hasClass(e,t)||C.addClass(e,t)})}},_=function(e,t){var r=!1;return!!x.selector&&(f(e,function(e){if(!("collapsed"in e&&e.collapsed!==w))return C.is(t,e.selector)&&!n.isCaretNode(t)?(T(t,e),r=!0,!1):void 0}),r)},S=function(r,i,s,p){var g,v,y=[],w=!0;g=x.inline||x.block,v=r.create(g),T(v),u.walk(r,i,function(e){var i,c=function(e){var s,u,d,C;if(C=w,s=e.nodeName.toLowerCase(),u=e.parentNode.nodeName.toLowerCase(),1===e.nodeType&&r.getContentEditable(e)&&(C=w,w="true"===r.getContentEditable(e),d=!0),o.isEq(s,"br"))return i=0,void(x.block&&r.remove(e));if(x.wrapper&&a.matchNode(t,e,m,h))i=0;else{if(w&&!d&&x.block&&!x.wrapper&&o.isTextBlock(t,s)&&o.isValid(t,u,g))return e=r.rename(e,g),T(e),y.push(e),void(i=0);if(x.selector){var k=_(b,e);if(!x.inline||k)return void(i=0)}!w||d||!o.isValid(t,g,s)||!o.isValid(t,u,g)||!p&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||n.isCaretNode(e)||x.inline&&r.isBlock(e)?(i=0,f(l.grep(e.childNodes),c),d&&(w=C),i=0):(i||(i=r.clone(v,!1),e.parentNode.insertBefore(i,e),y.push(i)),i.appendChild(e))}};f(e,c)}),!0===x.links&&f(y,function(e){var t=function(e){"A"===e.nodeName&&T(e,x),f(l.grep(e.childNodes),t)};t(e)}),f(y,function(n){var i,s=function(t){var n,o;return(n=function(e){var t=!1;return f(e.childNodes,function(e){if(d(e))return t=e,!1}),t}(t))&&!e.isBookmarkNode(n)&&a.matchName(r,n,x)&&(o=r.clone(n,!1),T(o),r.replace(o,t,!0),r.remove(n,1)),o||t};i=function(t){var n=0;return f(t.childNodes,function(t){o.isWhiteSpaceNode(t)||e.isBookmarkNode(t)||n++}),n}(n),!(y.length>1)&&r.isBlock(n)||0!==i?(x.inline||x.wrapper)&&(x.exact||1!==i||(n=s(n)),c.mergeWithChildren(t,b,h,n),c.mergeWithParents(t,x,m,h,n),c.mergeBackgroundColorAndFontSize(r,x,h,n),c.mergeSubSup(r,x,h,n),c.mergeSiblings(r,x,h,n)):r.remove(n,1)})};if("false"!==C.getContentEditable(k.getNode())){if(x){if(g)g.nodeType?_(b,g)||((y=C.createRng()).setStartBefore(g),y.setEndAfter(g),S(C,r.expandRng(t,y,b),0,!0)):S(C,g,0,!0);else if(w&&x.inline&&!C.select("td[data-mce-selected],th[data-mce-selected]").length)n.applyCaretFormat(t,m,h);else{var E=t.selection.getNode();t.settings.forced_root_block||!b[0].defaultBlock||C.getParent(E,C.isBlock)||p(t,b[0].defaultBlock),t.selection.setRng(s.normalize(t.selection.getRng())),v=k.getBookmark(),S(C,r.expandRng(t,k.getRng(!0),b)),x.styles&&c.mergeUnderlineAndColor(C,x,h,E),k.moveToBookmark(v),o.moveStart(C,k,k.getRng(!0)),t.nodeChanged()}i.postProcess(m,t)}}else{g=k.getNode();for(var A=0,N=b.length;A<N;A++)if(b[A].ceFalseOverride&&C.is(g,b[A].selector))return void T(g,b[A])}};return{applyFormat:p}}),a("tinymce.core.fmt.FormatChanged",["ephox.katamari.api.Cell","tinymce.core.fmt.FormatUtils","tinymce.core.fmt.MatchFormat","tinymce.core.util.Tools"],function(e,t,n,r){var o=r.each;return{formatChanged:function(e,i,a,c,s){null===i.get()&&function(e,i){var a={};e.set({}),i.on("NodeChange",function(c){var s=t.getParents(i.dom,c.element),u={};s=r.grep(s,function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}),o(e.get(),function(e,t){o(s,function(r){return i.formatter.matchNode(r,t,{},e.similar)?(a[t]||(o(e,function(e){e(!0,{node:r,format:t,parents:s})}),a[t]=e),u[t]=e,!1):!n.matchesUnInheritedFormatSelector(i,r,t)&&void 0})}),o(a,function(e,t){u[t]||(delete a[t],o(e,function(e){e(!1,{node:c.element,format:t,parents:s})}))})})}(i,e),function(e,t,n,r){var i=e.get();o(t.split(","),function(e){i[e]||(i[e]=[],i[e].similar=r),i[e].push(n)}),e.set(i)}(i,a,c,s)}}}),a("tinymce.core.fmt.DefaultFormats",["tinymce.core.util.Tools"],function(e){return{get:function(t){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(n,r,o){e.each(o,function(e,r){t.setAttrib(n,r,e)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return e.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){n[e]={block:e,remove:"all"}}),n}}}),a("tinymce.core.fmt.FormatRegistry",["tinymce.core.fmt.DefaultFormats","tinymce.core.util.Tools"],function(e,t){return function(n){var r={},o=function(e,n){e&&("string"!=typeof e?t.each(e,function(e,t){o(t,e)}):(n=n.length?n:[n],t.each(n,function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),r[e]=n))};return o(e.get(n.dom)),o(n.settings.formats),{get:function(e){return e?r[e]:r},register:o,unregister:function(e){return e&&r[e]&&delete r[e],r}}}}),a("tinymce.core.fmt.Preview",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.core.html.Schema"],function(e,t,n){var r=t.each,o=e.DOM,i=function(e,r){var i,a,c,s=r&&r.schema||new n({}),u=function(e){var t;return a="string"==typeof e?{name:e,classes:[],attrs:{}}:e,t=o.create(a.name),function(e,t){t.classes.length&&o.addClass(e,t.classes.join(" ")),o.setAttribs(e,t.attrs)}(t,a),t},l=function(e,n,r){var i,a,c,f=n.length>0&&n[0],d=f&&f.name;if(c=function(e,n){var r="string"!=typeof e?e.nodeName.toLowerCase():e,o=s.getElementRule(r),i=o&&o.parentsRequired;return!(!i||!i.length)&&(n&&-1!==t.inArray(i,n)?n:i[0])}(e,d))d===c?(a=n[0],n=n.slice(1)):a=c;else if(f)a=n[0],n=n.slice(1);else if(!r)return e;return a&&(i=u(a)).appendChild(e),r&&(i||(i=o.create("div")).appendChild(e),t.each(r,function(t){var n=u(t);i.insertBefore(n,e)})),l(i,n,a&&a.siblings)};return e&&e.length?(a=e[0],i=u(a),(c=o.create("div")).appendChild(l(i,e.slice(1),a.siblings)),c):""},a=function(e){var n,r={classes:[],attrs:{}};return"*"!==(e=r.selector=t.trim(e))&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,n,o,i,a){switch(n){case"#":r.attrs.id=o;break;case".":r.classes.push(o);break;case":":-1!==t.inArray("checked disabled enabled read-only required".split(" "),o)&&(r.attrs[o]=o)}if("["===i){var c=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);c&&(r.attrs[c[1]]=c[2])}return""})),r.name=n||"div",r},c=function(e){return e&&"string"==typeof e?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),t.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var n=t.map(e.split(/(?:~\+|~|\+)/),a),r=n.pop();return n.length&&(r.siblings=n),r}).reverse()):[]};return{getCssText:function(e,t){var n,a,s,u,l,f,d="";if(!1===(f=e.settings.preview_styles))return"";"string"!=typeof f&&(f="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var p=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}return"preview"in t&&!1===(f=t.preview)?"":(n=t.block||t.inline||"span",(u=c(t.selector)).length?(u[0].name||(u[0].name=n),n=t.selector,a=i(u,e)):a=i([n],e),s=o.select(n,a)[0]||a.firstChild,r(t.styles,function(e,t){(e=p(e))&&o.setStyle(s,t,e)}),r(t.attributes,function(e,t){(e=p(e))&&o.setAttrib(s,t,e)}),r(t.classes,function(e){e=p(e),o.hasClass(s,e)||o.addClass(s,e)}),e.fire("PreviewFormats"),o.setStyles(a,{position:"absolute",left:-65535}),e.getBody().appendChild(a),l=o.getStyle(e.getBody(),"fontSize",!0),l=/px$/.test(l)?parseInt(l,10):0,r(f.split(" "),function(t){var n=o.getStyle(s,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=o.getStyle(e.getBody(),t,!0),"#ffffff"===o.toHex(n).toLowerCase())||"color"===t&&"#000000"===o.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===l)return;n=(n=parseFloat(n,10)/(/%$/.test(n)?100:1))*l+"px"}"border"===t&&n&&(d+="padding:0 2px;"),d+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),o.remove(a),d)},parseSelector:c,selectorToHtml:function(e,t){return i(c(e),t)}}}),a("tinymce.core.fmt.ToggleFormat",["tinymce.core.fmt.ApplyFormat","tinymce.core.fmt.MatchFormat","tinymce.core.fmt.RemoveFormat"],function(e,t,n){return{toggle:function(r,o,i,a,c){var s=o.get(i);!t.match(r,i,a,c)||"toggle"in s[0]&&!s[0].toggle?e.applyFormat(r,i,a,c):n.remove(r,i,a,c)}}}),a("tinymce.core.keyboard.FormatShortcuts",[],function(){return{setup:function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])}}}),a("tinymce.core.api.Formatter",["ephox.katamari.api.Cell","ephox.katamari.api.Fun","tinymce.core.fmt.ApplyFormat","tinymce.core.fmt.CaretFormat","tinymce.core.fmt.FormatChanged","tinymce.core.fmt.FormatRegistry","tinymce.core.fmt.MatchFormat","tinymce.core.fmt.Preview","tinymce.core.fmt.RemoveFormat","tinymce.core.fmt.ToggleFormat","tinymce.core.keyboard.FormatShortcuts"],function(e,t,n,r,o,i,a,c,s,u,l){return function(f){var d=i(f),p=e(null);return l.setup(f),r.setup(f),{get:d.get,register:d.register,unregister:d.unregister,apply:t.curry(n.applyFormat,f),remove:t.curry(s.remove,f),toggle:t.curry(u.toggle,f,d),match:t.curry(a.match,f),matchAll:t.curry(a.matchAll,f),matchNode:t.curry(a.matchNode,f),canApply:t.curry(a.canApply,f),formatChanged:t.curry(o.formatChanged,f,p),getCssText:t.curry(c.getCssText,f)}}}),a("ephox.katamari.api.Merger",["ephox.katamari.api.Type","global!Array","global!Error"],function(e,t,n){var r=function(e){return function(){for(var r=new t(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];if(0===r.length)throw new n("Can't merge zero objects");for(var i={},a=0;a<r.length;a++){var c=r[a];for(var s in c)c.hasOwnProperty(s)&&(i[s]=e(i[s],c[s]))}return i}},o=r(function(t,n){return e.isObject(t)&&e.isObject(n)?o(t,n):n}),i=r(function(e,t){return t});return{deepMerge:o,merge:i}}),a("tinymce.core.api.Events",[],function(){return{firePreProcess:function(e,t){return e.fire("PreProcess",t)},firePostProcess:function(e,t){return e.fire("PostProcess",t)}}}),a("tinymce.core.dom.DomSerializerFilters",["ephox.katamari.api.Arr","tinymce.core.html.Entities"],function(e,t){return{register:function(n,r,o){n.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,r=e.length;r--;)(n=e[r]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),n.addAttributeFilter("src,href,style",function(e,t){for(var n,i,a=e.length,c="data-mce-"+t,s=r.url_converter,u=r.url_converter_scope;a--;)void 0!==(i=(n=e[a]).attributes.map[c])?(n.attr(t,i.length>0?i:null),n.attr(c,null)):(i=n.attributes.map[t],"style"===t?i=o.serializeStyle(o.parseStyle(i),n.name):s&&(i=s.call(u,i,t,n.name)),n.attr(t,i.length>0?i:null))}),n.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)(n=(t=e[r]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))}),n.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,o=e.length;o--;)"bookmark"!==(r=e[o]).attributes.map["data-mce-type"]||n.cleanup||r.remove()}),n.addNodeFilter("noscript",function(e){for(var n,r=e.length;r--;)(n=e[r].firstChild)&&(n.value=t.decode(n.value))}),n.addNodeFilter("script,style",function(e,t){for(var n,o,i,a=e.length,c=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)o=(n=e[a]).firstChild?n.firstChild.value:"","script"===t?((i=n.attr("type"))&&n.attr("type","mce-no/type"===i?null:i.replace(/^mce\-/,"")),"xhtml"===r.element_format&&o.length>0&&(n.firstChild.value="// <![CDATA[\n"+c(o)+"\n// ]]>")):"xhtml"===r.element_format&&o.length>0&&(n.firstChild.value="\x3c!--\n"+c(o)+"\n--\x3e")}),n.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),n.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;)7===(n=e[r]).type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),n.addAttributeFilter("data-mce-type",function(t){e.each(t,function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(n.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),n.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})},trimTrailingBr:function(e){var t,n,r=function(e){return e&&"br"===e.name};r(t=e.lastChild)&&r(n=t.prev)&&(t.remove(),n.remove())}}}),a("tinymce.core.dom.DomSerializerPreProcess",["ephox.katamari.api.Merger","global!document","tinymce.core.api.Events","tinymce.core.util.Tools"],function(e,t,n,r){return{process:function(o,i,a){return function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events}(o,a)?function(o,i,a){var c,s,u,l=o.dom;return i=i.cloneNode(!0),(c=t.implementation).createHTMLDocument&&(s=c.createHTMLDocument(""),r.each("BODY"===i.nodeName?i.childNodes:[i],function(e){s.body.appendChild(s.importNode(e,!0))}),i="BODY"!==i.nodeName?s.body.firstChild:s.body,u=l.doc,l.doc=s),n.firePreProcess(o,e.merge(a,{node:i})),u&&(l.doc=u),i}(o,i,a):i}}}),a("tinymce.core.html.LegacyFilter",["ephox.katamari.api.Arr","tinymce.core.html.Styles","tinymce.core.util.Tools"],function(e,t,n){var r=function(t,n,r){t.addNodeFilter("font",function(t){e.each(t,function(t){var o=n.parse(t.attr("style")),i=t.attr("color"),a=t.attr("face"),c=t.attr("size");i&&(o.color=i),a&&(o["font-family"]=a),c&&(o["font-size"]=r[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",n.serialize(o)),function(t,n){e.each(n,function(e){t.attr(e,null)})}(t,["color","face","size"])})})},o=function(o,i){var a=t();i.convert_fonts_to_spans&&r(o,a,n.explode(i.font_size_legacy_values)),function(t,n){t.addNodeFilter("strike",function(t){e.each(t,function(e){var t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))})})}(o,a)};return{register:function(e,t){t.inline_styles&&o(e,t)}}}),a("tinymce.core.html.Node",[],function(){var e=/^[ \t\r\n]*$/,t={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},n=function(e,t,n){var r,o,i=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[i])return e[i];if(e!==t){if(r=e[a])return r;for(o=e.parent;o&&o!==t;o=o.parent)if(r=o[a])return r}},r=function(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})};return r.prototype={replace:function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},attr:function(e,t){var n,r;if("string"!=typeof e){for(r in e)this.attr(r,e[r]);return this}if(n=this.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],r=n.length;r--;)if(n[r].name===e)return n=n.splice(r,1),this;return this}if(e in n.map){for(r=n.length;r--;)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,this}return n.map[e]}},clone:function(){var e,t,n,o,i,a=new r(this.name,this.type);if(n=this.attributes){for((i=[]).map={},e=0,t=n.length;e<t;e++)"id"!==(o=n[e]).name&&(i[i.length]={name:o.name,value:o.value},i.map[o.name]=o.value);a.attributes=i}return a.value=this.value,a.shortEnded=this.shortEnded,a},wrap:function(e){return this.parent.insert(e,this),e.append(this),this},unwrap:function(){var e,t;for(e=this.firstChild;e;)t=e.next,this.insert(e,this,!0),e=t;this.remove()},remove:function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t,t&&(t.prev=null)):n.next=t,e.lastChild===this?(e.lastChild=n,n&&(n.next=null)):t.prev=n,this.parent=this.next=this.prev=null),this},append:function(e){var t;return e.parent&&e.remove(),(t=this.lastChild)?(t.next=e,e.prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},insert:function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},getAll:function(e){var t,r=[];for(t=this.firstChild;t;t=n(t,this))t.name===e&&r.push(t);return r},empty:function(){var e,t,r;if(this.firstChild){for(e=[],r=this.firstChild;r;r=n(r,this))e.push(r);for(t=e.length;t--;)(r=e[t]).parent=r.firstChild=r.lastChild=r.next=r.prev=null}return this.firstChild=this.lastChild=null,this},isEmpty:function(t,r,o){var i,a,c=this.firstChild;if(r=r||{},c)do{if(1===c.type){if(c.attributes.map["data-mce-bogus"])continue;if(t[c.name])return!1;for(i=c.attributes.length;i--;)if("name"===(a=c.attributes[i].name)||0===a.indexOf("data-mce-bookmark"))return!1}if(8===c.type)return!1;if(3===c.type&&!e.test(c.value))return!1;if(3===c.type&&c.parent&&r[c.parent.name]&&e.test(c.value))return!1;if(o&&o(c))return!1}while(c=n(c,this));return!0},walk:function(e){return n(this,null,e)}},r.create=function(e,n){var o,i;if(o=new r(e,t[e]||1),n)for(i in n)o.attr(i,n[i]);return o},r}),a("tinymce.core.html.DomParser",["tinymce.core.html.LegacyFilter","tinymce.core.html.Node","tinymce.core.html.SaxParser","tinymce.core.html.Schema","tinymce.core.util.Tools"],function(e,t,n,r,o){var i=o.makeMap,a=o.each,c=o.explode,s=o.extend,u=function(e,n,r,o){(e.padd_empty_with_br||n.insert)&&r[o.name]?o.empty().append(new t("br","1")).shortEnded=!0:o.empty().append(new t("#text","3")).value=""},l=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},f=function(e,t,n,r){return r.isEmpty(t,n,function(t){return function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty}(e,t)})};return function(d,p){var m=this,h={},g=[],v={},y={};(d=d||{}).validate=!("validate"in d)||d.validate,d.root_name=d.root_name||"body",m.schema=p=p||new r;m.filterNode=function(e){var t,n,r;n in h&&((r=v[n])?r.push(e):v[n]=[e]),t=g.length;for(;t--;)(n=g[t].name)in e.attributes.map&&((r=y[n])?r.push(e):y[n]=[e]);return e},m.addNodeFilter=function(e,t){a(c(e),function(e){var n=h[e];n||(h[e]=n=[]),n.push(t)})},m.addAttributeFilter=function(e,t){a(c(e),function(e){var n;for(n=0;n<g.length;n++)if(g[n].name===e)return void g[n].callbacks.push(t);g.push({name:e,callbacks:[t]})})},m.parse=function(e,r){var o,a,c,b,x,w,C,k,T,_,S,E,A,N,D,R,P,O,B,I,M,L=[];r=r||{},v={},y={},E=s(i("script,style,head,html,body,title,meta,param"),p.getBlockElements()),I=p.getNonEmptyElements(),B=p.children,S=d.validate,M="forced_root_block"in r?r.forced_root_block:d.forced_root_block,O=p.getWhiteSpaceElements(),A=/^[ \t\r\n]+/,D=/[ \t\r\n]+$/,R=/[ \t\r\n]+/g,P=/^[ \t\r\n]+$/;var F=function(e,n){var r,o=new t(e,n);return e in h&&((r=v[e])?r.push(o):v[e]=[o]),o},U=function(e){var t,n,r,o,i=p.getBlockElements();for(t=e.prev;t&&3===t.type;){if((r=t.value.replace(D,"")).length>0)return void(t.value=r);if(n=t.next){if(3==n.type&&n.value.length){t=t.prev;continue}if(!i[n.name]&&"script"!=n.name&&"style"!=n.name){t=t.prev;continue}}o=t.prev,t.remove(),t=o}};if(o=new n({validate:S,allow_script_urls:d.allow_script_urls,allow_conditional_comments:d.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}(p.getSelfClosingElements()),cdata:function(e){c.append(F("#cdata",4)).value=e},text:function(e,t){var n;N||(e=e.replace(R," "),c.lastChild&&E[c.lastChild.name]&&(e=e.replace(A,""))),0!==e.length&&((n=F("#text",3)).raw=!!t,c.append(n).value=e)},comment:function(e){c.append(F("#comment",8)).value=e},pi:function(e,t){c.append(F(e,7)).value=t,U(c)},doctype:function(e){c.append(F("#doctype",10)).value=e,U(c)},start:function(e,t,n){var r,o,i,a,s;if(i=S?p.getElementRule(e):{}){for((r=F(i.outputName||e,1)).attributes=t,r.shortEnded=n,c.append(r),(s=B[c.name])&&B[r.name]&&!s[r.name]&&L.push(r),o=g.length;o--;)(a=g[o].name)in t.map&&((T=y[a])?T.push(r):y[a]=[r]);E[e]&&U(r),n||(c=r),!N&&O[e]&&(N=!0)}},end:function(e){var t,n,o,i,a;if(n=S?p.getElementRule(e):{}){if(E[e]&&!N){if((t=c.firstChild)&&3===t.type)if((o=t.value.replace(A,"")).length>0)t.value=o,t=t.next;else for(i=t.next,t.remove(),t=i;t&&3===t.type;)o=t.value,i=t.next,(0===o.length||P.test(o))&&(t.remove(),t=i),t=i;if((t=c.lastChild)&&3===t.type)if((o=t.value.replace(D,"")).length>0)t.value=o,t=t.prev;else for(i=t.prev,t.remove(),t=i;t&&3===t.type;)o=t.value,i=t.prev,(0===o.length||P.test(o))&&(t.remove(),t=i),t=i}if(N&&O[e]&&(N=!1),n.removeEmpty&&f(p,I,O,c)&&!c.attributes.map.name&&!c.attributes.map.id)return a=c.parent,E[c.name]?c.empty().remove():c.unwrap(),void(c=a);n.paddEmpty&&(function(e){return l(e,"#text")&&""===e.firstChild.value}(c)||f(p,I,O,c))&&u(d,r,E,c),c=c.parent}}},p),a=c=new t(r.context||d.root_name,11),o.parse(e),S&&L.length&&(r.context?r.invalid=!0:function(e){var n,r,o,a,c,s,u,d,h,g,v,y,b,x,w,C;for(y=i("tr,td,th,tbody,thead,tfoot,table"),g=p.getNonEmptyElements(),v=p.getWhiteSpaceElements(),b=p.getTextBlockElements(),x=p.getSpecialElements(),n=0;n<e.length;n++)if((r=e[n]).parent&&!r.fixed)if(b[r.name]&&"li"==r.parent.name){for(w=r.next;w&&b[w.name];)w.name="li",w.fixed=!0,r.parent.insert(w,r.parent),w=w.next;r.unwrap(r)}else{for(a=[r],o=r.parent;o&&!p.isValidChild(o.name,r.name)&&!y[o.name];o=o.parent)a.push(o);if(o&&a.length>1){for(a.reverse(),c=s=m.filterNode(a[0].clone()),h=0;h<a.length-1;h++){for(p.isValidChild(s.name,a[h].name)?(u=m.filterNode(a[h].clone()),s.append(u)):u=s,d=a[h].firstChild;d&&d!=a[h+1];)C=d.next,u.append(d),d=C;s=u}f(p,g,v,c)?o.insert(r,a[0],!0):(o.insert(c,a[0],!0),o.insert(r,c)),o=a[0],(f(p,g,v,o)||l(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if((w=r.prev)&&("ul"===w.name||"ul"===w.name)){w.append(r);continue}if((w=r.next)&&("ul"===w.name||"ul"===w.name)){w.insert(r,w.firstChild,!0);continue}r.wrap(m.filterNode(new t("ul",1)));continue}p.isValidChild(r.parent.name,"div")&&p.isValidChild("div",r.name)?r.wrap(m.filterNode(new t("div",1))):x[r.name]?r.empty().remove():r.unwrap()}}}(L)),M&&("body"==a.name||r.isRootContent)&&function(){var e,t,n=a.firstChild,r=function(e){e&&((n=e.firstChild)&&3==n.type&&(n.value=n.value.replace(A,"")),(n=e.lastChild)&&3==n.type&&(n.value=n.value.replace(D,"")))};if(p.isValidChild(a.name,M.toLowerCase())){for(;n;)e=n.next,3==n.type||1==n.type&&"p"!==n.name&&!E[n.name]&&!n.attr("data-mce-type")?t?t.append(n):((t=F(M,1)).attr(d.forced_root_block_attrs),a.insert(t,n),t.append(n)):(r(t),t=null),n=e;r(t)}}(),!r.invalid){for(_ in v){for(T=h[_],C=(b=v[_]).length;C--;)b[C].parent||b.splice(C,1);for(x=0,w=T.length;x<w;x++)T[x](b,_,r)}for(x=0,w=g.length;x<w;x++)if((T=g[x]).name in y){for(C=(b=y[T.name]).length;C--;)b[C].parent||b.splice(C,1);for(C=0,k=T.callbacks.length;C<k;C++)T.callbacks[C](b,T.name,r)}}return a},d.remove_trailing_brs&&m.addNodeFilter("br",function(e,n,r){var o,i,a,c,l,m,h,g,v=e.length,y=s({},p.getBlockElements()),b=p.getNonEmptyElements(),x=p.getNonEmptyElements();for(y.body=1,o=0;o<v;o++)if(i=e[o],a=i.parent,y[i.parent.name]&&i===a.lastChild){for(l=i.prev;l;){if("span"!==(m=l.name)||"bookmark"!==l.attr("data-mce-type")){if("br"!==m)break;if("br"===m){i=null;break}}l=l.prev}i&&(i.remove(),f(p,b,x,a)&&(h=p.getElementRule(a.name))&&(h.removeEmpty?a.remove():h.paddEmpty&&u(d,r,y,a)))}else{for(c=i;a&&a.firstChild===c&&a.lastChild===c&&(c=a,!y[a.name]);)a=a.parent;c===a&&!0!==d.padd_empty_with_br&&((g=new t("#text",3)).value="",i.replace(g))}}),m.addAttributeFilter("href",function(e){var t,n=e.length,r=function(e){var t=e?o.trim(e):"";return/\b(noopener)\b/g.test(t)?t:function(e){return e.split(" ").filter(function(e){return e.length>0}).concat(["noopener"]).sort().join(" ")}(t)};if(!d.allow_unsafe_link_target)for(;n--;)"a"===(t=e[n]).name&&"_blank"===t.attr("target")&&t.attr("rel",r(t.attr("rel")))}),d.allow_html_in_named_anchor||m.addAttributeFilter("id,name",function(e){for(var t,n,r,o,i=e.length;i--;)if("a"===(o=e[i]).name&&o.firstChild&&!o.attr("href")){r=o.parent,t=o.lastChild;do{n=t.prev,r.insert(t,o),t=n}while(t)}}),d.fix_list_elements&&m.addNodeFilter("ul,ol",function(e){for(var n,r,o=e.length;o--;)if(n=e[o],"ul"===(r=n.parent).name||"ol"===r.name)if(n.prev&&"li"===n.prev.name)n.prev.append(n);else{var i=new t("li",1);i.attr("style","list-style-type: none"),n.wrap(i)}}),d.validate&&p.getValidClasses()&&m.addAttributeFilter("class",function(e){for(var t,n,r,o,i,a,c,s=e.length,u=p.getValidClasses();s--;){for(n=(t=e[s]).attr("class").split(" "),i="",r=0;r<n.length;r++)o=n[r],c=!1,(a=u["*"])&&a[o]&&(c=!0),a=u[t.name],!c&&a&&a[o]&&(c=!0),c&&(i&&(i+=" "),i+=o);i.length||(i=null),t.attr("class",i)}}),e.register(this,d)}}),a("tinymce.core.dom.DomSerializer",["ephox.katamari.api.Fun","ephox.katamari.api.Merger","tinymce.core.api.Events","tinymce.core.dom.DOMUtils","tinymce.core.dom.DomSerializerFilters","tinymce.core.dom.DomSerializerPreProcess","tinymce.core.html.DomParser","tinymce.core.html.Schema","tinymce.core.html.Serializer","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(e,t,n,r,o,i,a,c,s,u,l){var f=function(e,t,n){-1===l.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},d=function(e,r,o,i,a){return function(e,r,o){if(!r.no_events&&e)return n.firePostProcess(e,t.merge(r,{content:o})).content;return o}(e,a,function(e,t,n){return new s(e,t).serialize(n)}(r,o,i))};return function(n,s){var p,m,h,g=["data-mce-selected"];p=s&&s.dom?s.dom:r.DOM,m=s&&s.schema?s.schema:new c(n),n.entity_encoding=n.entity_encoding||"named",n.remove_trailing_brs=!("remove_trailing_brs"in n)||n.remove_trailing_brs,h=new a(n,m),o.register(h,n,p);return{schema:m,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:function(e,r){var a=t.merge({format:"html"},r||{}),c=i.process(s,e,a),f=function(e,t,n){var r=u.trim(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection?r:l.trim(r)}(p,c,a),g=function(e,n,r,i){var a=i.selection?t.merge({forced_root_block:!1},i):i,c=e.parse(r,a);return o.trimTrailingBr(c),c}(h,0,f,a);return"tree"===a.format?g:d(s,n,m,g,a)},addRules:function(e){m.addValidElements(e)},setRules:function(e){m.setValidElements(e)},addTempAttr:e.curry(f,h,g),getTempAttrs:function(){return g}}}}),a("tinymce.core.api.dom.Serializer",["tinymce.core.dom.DomSerializer"],function(e){return function(t,n){var r=new e(t,n);return{schema:r.schema,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:r.serialize,addRules:r.addRules,setRules:r.setRules,addTempAttr:r.addTempAttr,getTempAttrs:r.getTempAttrs}}}),a("tinymce.core.caret.CaretContainerInput",["ephox.katamari.api.Fun","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFind","tinymce.core.caret.CaretContainer"],function(e,t,n,r){var o=function(e,t){t.hasAttribute("data-mce-caret")&&(r.showCaretContainerBlock(t),function(e){e.selection.setRng(e.selection.getRng())}(e),e.selection.scrollIntoView(t))},i=function(i,a){var c=function(r){return n.descendant(t.fromDom(r.getBody()),"*[data-mce-caret]").fold(e.constant(null),function(e){return e.dom()})}(i);if(c)return"compositionstart"===a.type?(a.preventDefault(),a.stopPropagation(),void o(c)):void(r.hasContent(c)&&o(i,c))};return{setup:function(t){t.on("keyup compositionstart",e.curry(i,t))}}}),a("tinymce.core.api.dom.BookmarkManager",["ephox.katamari.api.Fun","tinymce.core.dom.Bookmarks"],function(e,t){var n=function(n){return{getBookmark:e.curry(t.getBookmark,n),moveToBookmark:e.curry(t.moveToBookmark,n)}};return n.isBookmarkNode=t.isBookmarkNode,n}),a("tinymce.core.dom.ControlSelection",["ephox.katamari.api.Fun","ephox.sugar.api.node.Element","ephox.sugar.api.search.Selectors","global!document","tinymce.core.dom.NodeType","tinymce.core.dom.RangePoint","tinymce.core.Env","tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.VK"],function(e,t,n,r,o,i,a,c,s,u){var l=o.isContentEditableFalse,f=o.isContentEditableTrue;return function(e,o){var d,p,m,h,g,v,y,b,x,w,C,k,T,_,S,E,A,N=o.dom,D=s.each,R=o.getDoc(),P=r,O=Math.abs,B=Math.round,I=o.getBody();h={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var M=".mce-content-body";o.contentStyles.push(M+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+M+" .mce-resizehandle:hover {background: #000}"+M+" img[data-mce-selected],"+M+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+M+" .mce-clonedresizable {position: absolute;"+(a.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+M+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var L=function(e){return e&&("IMG"===e.nodeName||o.dom.is(e,"figure.image"))},F=function(e){var t=e.target;(function(e,t){return L(e.target)&&!i.isXYWithinRange(e.clientX,e.clientY,t)})(e,o.selection.getRng())&&!e.isDefaultPrevented()&&(e.preventDefault(),o.selection.select(t))},U=function(e){return o.dom.is(e,"figure.image")?e.querySelector("img"):e},H=function(e){var r=o.settings.object_resizing;return!1!==r&&!a.iOS&&("string"!=typeof r&&(r="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&(e!=o.getBody()&&n.is(t.fromDom(e),r)))},z=function(e){var t,n,r,i;t=e.screenX-v,n=e.screenY-y,_=t*g[2]+w,S=n*g[3]+C,_=_<5?5:_,S=S<5?5:S,(L(d)&&!1!==o.settings.resize_img_proportional?!u.modifierPressed(e):u.modifierPressed(e)||L(d)&&g[2]*g[3]!=0)&&(O(t)>O(n)?(S=B(_*k),_=B(S/k)):(_=B(S/k),S=B(_*k))),N.setStyles(U(p),{width:_,height:S}),r=g.startPos.x+t,i=g.startPos.y+n,r=r>0?r:0,i=i>0?i:0,N.setStyles(m,{left:r,top:i,display:"block"}),m.innerHTML=_+" &times; "+S,g[2]<0&&p.clientWidth<=_&&N.setStyle(p,"left",b+(w-_)),g[3]<0&&p.clientHeight<=S&&N.setStyle(p,"top",x+(C-S)),(t=I.scrollWidth-E)+(n=I.scrollHeight-A)!==0&&N.setStyles(m,{left:r-t,top:i-n}),T||(o.fire("ObjectResizeStart",{target:d,width:w,height:C}),T=!0)},j=function(){T=!1;var e=function(e,t){t&&(d.style[e]||!o.schema.isValid(d.nodeName.toLowerCase(),e)?N.setStyle(U(d),e,t):N.setAttrib(U(d),e,t))};e("width",_),e("height",S),N.unbind(R,"mousemove",z),N.unbind(R,"mouseup",j),P!=R&&(N.unbind(P,"mousemove",z),N.unbind(P,"mouseup",j)),N.remove(p),N.remove(m),W(d),o.fire("ObjectResized",{target:d,width:_,height:S}),N.setAttrib(d,"style",N.getAttrib(d,"style")),o.nodeChanged()},W=function(e){var t,n,r,i,c;$(),K(),t=N.getPos(e,I),b=t.x,x=t.y,c=e.getBoundingClientRect(),n=c.width||c.right-c.left,r=c.height||c.bottom-c.top,d!=e&&(d=e,_=S=0),i=o.fire("ObjectSelected",{target:e}),H(e)&&!i.isDefaultPrevented()?D(h,function(e,t){var o;(o=N.get("mceResizeHandle"+t))&&N.remove(o),o=N.add(I,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),a.ie&&(o.contentEditable=!1),N.bind(o,"mousedown",function(t){t.stopImmediatePropagation(),t.preventDefault(),function(t){v=t.screenX,y=t.screenY,w=U(d).clientWidth,C=U(d).clientHeight,k=C/w,g=e,e.startPos={x:n*e[0]+b,y:r*e[1]+x},E=I.scrollWidth,A=I.scrollHeight,p=d.cloneNode(!0),N.addClass(p,"mce-clonedresizable"),N.setAttrib(p,"data-mce-bogus","all"),p.contentEditable=!1,p.unSelectabe=!0,N.setStyles(p,{left:b,top:x,margin:0}),p.removeAttribute("data-mce-selected"),I.appendChild(p),N.bind(R,"mousemove",z),N.bind(R,"mouseup",j),P!=R&&(N.bind(P,"mousemove",z),N.bind(P,"mouseup",j)),m=N.add(I,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},w+" &times; "+C)}(t)}),e.elm=o,N.setStyles(o,{left:n*e[0]+b-o.offsetWidth/2,top:r*e[1]+x-o.offsetHeight/2})}):$(),d.setAttribute("data-mce-selected","1")},$=function(){var e,t;K(),d&&d.removeAttribute("data-mce-selected");for(e in h)(t=N.get("mceResizeHandle"+e))&&(N.unbind(t),N.remove(t))},q=function(t){var n,r,i=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};T||o.removed||(D(N.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),r="mousedown"==t.type?t.target:e.getNode(),i(r=N.$(r).closest("table,img,figure.image,hr")[0],I)&&(G(),n=e.getStart(!0),i(n,r)&&i(e.getEnd(!0),r))?W(r):$())},V=function(e){return l(function(e,t){for(;t&&t!=e;){if(f(t)||l(t))return t;t=t.parentNode}return null}(o.getBody(),e))},K=function(){for(var e in h){var t=h[e];t.elm&&(N.unbind(t.elm),delete t.elm)}},G=function(){try{o.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};o.on("init",function(){G(),a.ie&&a.ie>=11&&(o.on("mousedown click",function(e){var t=e.target,n=t.nodeName;T||!/^(TABLE|IMG|HR)$/.test(n)||V(t)||(2!==e.button&&o.selection.select(t,"TABLE"==n),"mousedown"==e.type&&o.nodeChanged())}),o.dom.bind(I,"mscontrolselect",function(e){var t=function(e){c.setEditorTimeout(o,function(){o.selection.select(e)})};if(V(e.target))return e.preventDefault(),void t(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"==e.target.tagName&&t(e.target))}));var e=c.throttle(function(e){o.composing||q(e)});o.on("nodechange ResizeEditor ResizeWindow drop",e),o.on("keyup compositionend",function(t){d&&"TABLE"==d.nodeName&&e(t)}),o.on("hide blur",$),o.on("contextmenu",F)}),o.on("remove",K);return{isResizable:H,showResizeRect:W,hideResizeRect:$,updateResizeRect:q,destroy:function(){d=p=null}}}}),a("tinymce.core.dom.ScrollIntoView",["tinymce.core.dom.NodeType"],function(e){var t=function(e){for(var t=0,n=0,r=e;r&&r.nodeType;)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}};return{scrollIntoView:function(n,r,o){var i,a,c,s,u=n.dom,l=u.getRoot(),f=0;if(!function(e,t,n){var r={elm:t,alignToTop:n};return e.fire("scrollIntoView",r),r.isDefaultPrevented()}(n,r,o)&&e.isElement(r)){if(!1===o&&(f=r.offsetHeight),"BODY"!==l.nodeName){var d=n.selection.getScrollContainer();if(d)return i=t(r).y-t(d).y+f,s=d.clientHeight,c=d.scrollTop,void((i<c||i+25>c+s)&&(d.scrollTop=i<c?i:i-s+25))}a=u.getViewPort(n.getWin()),i=u.getPos(r).y+f,c=a.y,s=a.h,(i<a.y||i+25>c+s)&&n.getWin().scrollTo(0,i<c?i:i-s+25)}}}}),a("tinymce.core.selection.CaretRangeFromPoint",["tinymce.core.dom.NodeType","tinymce.core.util.Tools"],function(e,t){var n=function(t){return e.isContentEditableTrue(t)||e.isContentEditableFalse(t)};return{fromPoint:function(r,o,i){var a,c;if(i.caretPositionFromPoint)(c=i.caretPositionFromPoint(r,o))&&((a=i.createRange()).setStart(c.offsetNode,c.offset),a.collapse(!0));else if(i.caretRangeFromPoint)a=i.caretRangeFromPoint(r,o);else if(i.body.createTextRange){a=i.body.createTextRange();try{a.moveToPoint(r,o),a.collapse(!0)}catch(e){a=function(e,n,r){var o,i,a;if(o=r.elementFromPoint(e,n),i=r.body.createTextRange(),o&&"HTML"!==o.tagName||(o=r.body),i.moveToElementText(o),a=t.toArray(i.getClientRects()),(a=a.sort(function(e,t){return e=Math.abs(Math.max(e.top-n,e.bottom-n)),t=Math.abs(Math.max(t.top-n,t.bottom-n)),e-t})).length>0){n=(a[0].bottom+a[0].top)/2;try{return i.moveToPoint(e,n),i.collapse(!0),i}catch(e){}}return null}(r,o,i)}return function(t,r){var o=t&&t.parentElement?t.parentElement():null;return e.isContentEditableFalse(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(o,r,n))?null:t}(a,i.body)}return a}}}),a("tinymce.core.selection.EventProcessRanges",["ephox.katamari.api.Arr"],function(e){return{processRanges:function(t,n){return e.map(n,function(e){var n=t.fire("GetSelectionRange",{range:e});return n.range!==e?n.range:e})}}}),a("ephox.sugar.api.dom.Replication",["ephox.sugar.api.properties.Attr","ephox.sugar.api.node.Element","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.dom.Remove","ephox.sugar.api.search.Traverse"],function(e,t,n,r,o,i){var a=function(e,n){return t.fromDom(e.dom().cloneNode(n))},c=function(e){return a(e,!0)},s=function(n,r){var o=t.fromTag(r),i=e.clone(n);return e.setAll(o,i),o};return{shallow:function(e){return a(e,!1)},shallowAs:s,deep:c,copy:function(e,t){var n=s(e,t),o=i.children(c(e));return r.append(n,o),n},mutate:function(e,t){var a=s(e,t);n.before(e,a);var c=i.children(e);return r.append(a,c),o.remove(e),a}}}),a("ephox.sugar.api.node.Fragment",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","global!document"],function(e,t,n){return{fromElements:function(r,o){var i=(o||n).createDocumentFragment();return e.each(r,function(e){i.appendChild(e.dom())}),t.fromDom(i)}}}),a("tinymce.core.selection.SelectionUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.Traverse","tinymce.core.dom.NodeType"],function(e,t,n,r,o,i,a,c,s){var u=function(e){return c.firstChild(e).fold(t.constant([e]),function(t){return[e].concat(u(t))})},l=function(e){return c.lastChild(e).fold(t.constant([e]),function(t){return"br"===a.name(t)?c.prevSibling(t).map(function(t){return[e].concat(l(t))}).getOr([]):[e].concat(l(t))})};return{hasAllContentsSelected:function(a,c){return r.liftN([function(e){var t=e.startContainer,r=e.startOffset;return s.isText(t)?0===r?n.some(i.fromDom(t)):n.none():n.from(t.childNodes[r]).map(i.fromDom)}(c),function(e){var t=e.endContainer,r=e.endOffset;return s.isText(t)?r===t.data.length?n.some(i.fromDom(t)):n.none():n.from(t.childNodes[r-1]).map(i.fromDom)}(c)],function(n,r){var i=e.find(u(a),t.curry(o.eq,n)),c=e.find(l(a),t.curry(o.eq,r));return i.isSome()&&c.isSome()}).getOr(!1)}}}),a("tinymce.core.selection.SimpleTableModel",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.katamari.api.Struct","ephox.sugar.api.dom.Compare","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.dom.Replication","ephox.sugar.api.node.Element","ephox.sugar.api.properties.Attr","ephox.sugar.api.search.SelectorFilter"],function(e,t,n,r,o,i,a,c,s,u){var l=n.immutable("element","width","rows"),f=n.immutable("element","cells"),d=n.immutable("x","y"),p=function(e,t){var n=parseInt(s.get(e,t),10);return isNaN(n)?1:n},m=function(e,t,n){var r=e.rows();return!!(r[n]?r[n].cells():[])[t]},h=function(t){return e.foldl(t,function(e,t){return t.cells().length>e?t.cells().length:e},0)},g=function(e,n){for(var o=e.rows(),i=0;i<o.length;i++)for(var a=o[i].cells(),c=0;c<a.length;c++)if(r.eq(a[c],n))return t.some(d(c,i));return t.none()},v=function(e,t,n,r,o){for(var i=[],a=e.rows(),c=n;c<=o;c++){var s=a[c].cells(),u=t<r?s.slice(t,r+1):s.slice(r,t+1);i.push(f(a[c].element(),u))}return i};return{fromDom:function(t){var n=l(a.shallow(t),0,[]);return e.each(u.descendants(t,"tr"),function(t,r){e.each(u.descendants(t,"td,th"),function(e,o){!function(e,t,n,r,o){for(var i=p(o,"rowspan"),c=p(o,"colspan"),s=e.rows(),u=n;u<n+i;u++){s[u]||(s[u]=f(a.deep(r),[]));for(var l=t;l<t+c;l++)s[u].cells()[l]=u==n&&l==t?o:a.shallow(o)}}(n,function(e,t,n){for(;m(e,t,n);)t++;return t}(n,o,r),r,t,e)})}),l(n.element(),h(n.rows()),n.rows())},toDom:function(t){return function(e,t){var n=a.shallow(e.element()),r=c.fromTag("tbody");return i.append(r,t),o.append(n,r),n}(t,function(t){return e.map(t.rows(),function(t){var n=e.map(t.cells(),function(e){var t=a.deep(e);return s.remove(t,"colspan"),s.remove(t,"rowspan"),t}),r=a.shallow(t.element());return i.append(r,n),r})}(t))},subsection:function(e,t,n){return g(e,t).bind(function(t){return g(e,n).map(function(n){return function(e,t,n){var r=t.x(),o=t.y(),i=n.x(),a=n.y(),c=o<a?v(e,r,o,i,a):v(e,r,a,i,o);return l(e.element(),h(c),c)}(e,t,n)})})}}}),a("tinymce.core.selection.FragmentReader",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.dom.Compare","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Replication","ephox.sugar.api.node.Element","ephox.sugar.api.node.Fragment","ephox.sugar.api.node.Node","ephox.sugar.api.search.SelectorFind","ephox.sugar.api.search.Traverse","tinymce.core.dom.ElementType","tinymce.core.dom.Parents","tinymce.core.selection.SelectionUtils","tinymce.core.selection.SimpleTableModel","tinymce.core.selection.TableCellSelection"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m){var h=function(n,r){return e.find(n,function(e){return"li"===c.name(e)&&d.hasAllContentsSelected(e,r)}).fold(t.constant([]),function(t){return function(t){return e.find(t,function(e){return"ul"===c.name(e)||"ol"===c.name(e)})}(n).map(function(e){return[i.fromTag("li"),i.fromTag(c.name(e))]}).getOr([])})},g=function(n,r){var a=i.fromDom(r.commonAncestorContainer),c=f.parentsAndSelf(a,n),s=e.filter(c,function(e){return l.isInline(e)||l.isHeading(e)}),d=h(c,r),p=s.concat(d.length?d:function(e){return l.isListItem(e)?u.parent(e).filter(l.isList).fold(t.constant([]),function(t){return[e,t]}):l.isList(e)?[e]:[]}(a));return e.map(p,o.shallow)},v=function(){return a.fromElements([])},y=function(t,n){return function(t,n){var o=e.foldl(n,function(e,t){return r.append(t,e),t},t);return n.length>0?a.fromElements([o]):o}(i.fromDom(n.cloneContents()),g(t,n))},b=function(e,r){return function(e,r){return s.ancestor(r,"table",t.curry(n.eq,e))}(e,r[0]).bind(function(e){var t=r[0],n=r[r.length-1],o=p.fromDom(e);return p.subsection(o,t,n).map(function(e){return a.fromElements([p.toDom(e)])})}).getOrThunk(v)};return{read:function(e,t){var n=m.getCellsFromElementOrRanges(t,e);return n.length>0?b(e,n):function(e,t){return t.length>0&&t[0].collapsed?v():y(e,t[0])}(e,t)}}}),a("tinymce.core.selection.GetSelectionContent",["ephox.sugar.api.node.Element","tinymce.core.selection.EventProcessRanges","tinymce.core.selection.FragmentReader","tinymce.core.selection.MultiRange","tinymce.core.text.Zwsp"],function(e,t,n,r,o){return{getContent:function(i,a){var c,s=i.selection.getRng(),u=i.dom.create("body"),l=i.selection.getSel(),f=t.processRanges(i,r.getRanges(l));if(a=a||{},a.get=!0,a.format=a.format||"html",a.selection=!0,(a=i.fire("BeforeGetContent",a)).isDefaultPrevented())return i.fire("GetContent",a),a.content;if("text"===a.format)return i.selection.isCollapsed()?"":o.trim(s.text||(l.toString?l.toString():""));s.cloneContents?(c=a.contextual?n.read(e.fromDom(i.getBody()),f).dom():s.cloneContents())&&u.appendChild(c):void 0!==s.item||void 0!==s.htmlText?(u.innerHTML="<br>"+(s.item?s.item(0).outerHTML:s.htmlText),u.removeChild(u.firstChild)):u.innerHTML=s.toString(),a.getInner=!0;var d=i.selection.serializer.serialize(u,a);return"tree"===a.format?d:(a.content=i.selection.isCollapsed()?"":d,i.fire("GetContent",a),a.content)}}}),a("tinymce.core.selection.SetSelectionContent",[],function(){return{setContent:function(e,t,n){var r,o,i,a=e.selection.getRng(),c=e.getDoc();if(n=n||{format:"html"},n.set=!0,n.selection=!0,n.content=t,n.no_events||!(n=e.fire("BeforeSetContent",n)).isDefaultPrevented()){if(t=n.content,a.insertNode){t+='<span id="__caret">_</span>',a.startContainer==c&&a.endContainer==c?c.body.innerHTML=t:(a.deleteContents(),0===c.body.childNodes.length?c.body.innerHTML=t:a.createContextualFragment?a.insertNode(a.createContextualFragment(t)):(o=c.createDocumentFragment(),i=c.createElement("div"),o.appendChild(i),i.outerHTML=t,a.insertNode(o))),r=e.dom.get("__caret"),(a=c.createRange()).setStartBefore(r),a.setEndBefore(r),e.selection.setRng(a),e.dom.remove("__caret");try{e.selection.setRng(a)}catch(e){}}else a.item&&(c.execCommand("Delete",!1,null),a=e.getRng()),/^\s+/.test(t)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+t),e.dom.remove("__mce_tmp")):a.pasteHTML(t);n.no_events||e.fire("SetContent",n)}else e.fire("SetContent",n)}}}),a("tinymce.core.dom.Selection",["ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","tinymce.core.Env","tinymce.core.api.dom.BookmarkManager","tinymce.core.caret.CaretPosition","tinymce.core.dom.ControlSelection","tinymce.core.dom.ScrollIntoView","tinymce.core.dom.TreeWalker","tinymce.core.focus.EditorFocus","tinymce.core.selection.CaretRangeFromPoint","tinymce.core.selection.EventProcessRanges","tinymce.core.selection.GetSelectionContent","tinymce.core.selection.MultiRange","tinymce.core.selection.NormalizeRange","tinymce.core.selection.SelectionBookmark","tinymce.core.selection.SetSelectionContent","tinymce.core.util.Tools"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m,h,g){var v=g.each,y=g.trim,b=function(n){return!(!n||!n.ownerDocument)&&e.contains(t.fromDom(n.ownerDocument),t.fromDom(n))},x=function(e,t,n,o){this.dom=e,this.win=t,this.serializer=n,this.editor=o,this.bookmarkManager=new r(this),this.controlSelection=new i(this,o)};return x.prototype={setCursorLocation:function(e,t){var n=this.dom.createRng();e?(n.setStart(e,t),n.setEnd(e,t),this.setRng(n),this.collapse(!1)):(this._moveEndPoint(n,this.editor.getBody(),!0),this.setRng(n))},getContent:function(e){return f.getContent(this.editor,e)},setContent:function(e,t){h.setContent(this.editor,e,t)},getStart:function(e){var t,n=this.getRng();return 1==(t=n.startContainer).nodeType&&t.hasChildNodes()&&(e&&n.collapsed||(t=t.childNodes[Math.min(t.childNodes.length-1,n.startOffset)])),t&&3==t.nodeType?t.parentNode:t},getEnd:function(e){var t,n,r=this.getRng();return t=r.endContainer,n=r.endOffset,1==t.nodeType&&t.hasChildNodes()&&(e&&r.collapsed||(t=t.childNodes[n>0?n-1:n])),t&&3==t.nodeType?t.parentNode:t},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n,r=this.dom,o=r.createRng();return e&&(n=r.nodeIndex(e),o.setStart(e.parentNode,n),o.setEnd(e.parentNode,n+1),t&&(this._moveEndPoint(o,e,!0),this._moveEndPoint(o,e)),this.setRng(o)),e},isCollapsed:function(){var e=this.getRng(),t=this.getSel();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},collapse:function(e){var t=this.getRng();t.collapse(!!e),this.setRng(t)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){var t,n,r,o,i=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}};if(!this.win)return null;if(void 0===(o=this.win.document)||null===o)return null;if(void 0!==this.editor.bookmark&&!1===s.hasFocus(this.editor)){var a=m.getRng(this.editor);if(a.isSome())return a.getOr(o.createRange())}try{(t=this.getSel())&&(n=t.rangeCount>0?t.getRangeAt(0):t.createRange?t.createRange():o.createRange())}catch(e){}return(n=l.processRanges(this.editor,[n])[0])||(n=o.createRange?o.createRange():o.body.createTextRange()),n.setStart&&9===n.startContainer.nodeType&&n.collapsed&&(r=this.dom.getRoot(),n.setStart(r,0),n.setEnd(r,0)),this.selectedRange&&this.explicitRange&&(0===i(n.START_TO_START,n,this.selectedRange)&&0===i(n.END_TO_END,n,this.selectedRange)?n=this.explicitRange:(this.selectedRange=null,this.explicitRange=null)),n},setRng:function(e,t){var r,o,i;if(function(e){return!!e&&(!!e.select||b(e.startContainer)&&b(e.endContainer))}(e))if(e.select){this.explicitRange=null;try{e.select()}catch(e){}}else{if(r=this.getSel(),i=this.editor.fire("SetSelectionRange",{range:e,forward:t}),e=i.range,r){this.explicitRange=e;try{r.removeAllRanges(),r.addRange(e)}catch(e){}!1===t&&r.extend&&(r.collapse(e.endContainer,e.endOffset),r.extend(e.startContainer,e.startOffset)),this.selectedRange=r.rangeCount>0?r.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!r.setBaseAndExtent||n.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(o=e.startContainer.childNodes[e.startOffset])&&"IMG"===o.tagName&&(r.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),r.anchorNode===e.startContainer&&r.focusNode===e.endContainer||r.setBaseAndExtent(o,0,o,1)),this.editor.fire("AfterSetSelectionRange",{range:e,forward:t})}},setNode:function(e){return this.setContent(this.dom.getOuterHTML(e)),e},getNode:function(){var e,t,n,r,o,i=this.getRng(),a=this.dom.getRoot(),c=function(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n};return i?(t=i.startContainer,n=i.endContainer,r=i.startOffset,o=i.endOffset,e=i.commonAncestorContainer,!i.collapsed&&(t==n&&o-r<2&&t.hasChildNodes()&&(e=t.childNodes[r]),3===t.nodeType&&3===n.nodeType&&(t=t.length===r?c(t.nextSibling,!0):t.parentNode,n=0===o?c(n.previousSibling,!1):n.parentNode,t&&t===n))?t:e&&3==e.nodeType?e.parentNode:e):a},getSelectedBlocks:function(e,t){var n,r,o=this.dom,i=[];if(r=o.getRoot(),e=o.getParent(e||this.getStart(),o.isBlock),t=o.getParent(t||this.getEnd(),o.isBlock),e&&e!=r&&i.push(e),e&&t&&e!=t){n=e;for(var a=new c(e,r);(n=a.next())&&n!=t;)o.isBlock(n)&&i.push(n)}return t&&e!=t&&t!=r&&i.push(t),i},isForward:function(){var e,t,n=this.dom,r=this.getSel();return!(r&&r.anchorNode&&r.focusNode)||((e=n.createRng()).setStart(r.anchorNode,r.anchorOffset),e.collapse(!0),(t=n.createRng()).setStart(r.focusNode,r.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0)},normalize:function(){var e=this,t=e.getRng();if(!d.hasMultipleRanges(e.getSel())){var n=p.normalize(e.dom,t);return n.each(function(t){e.setRng(t,e.isForward())}),n.getOr(t)}return t},selectorChanged:function(e,t){var n,r=this;return r.selectorChangedData||(r.selectorChangedData={},n={},r.editor.on("NodeChange",function(e){var t=e.element,o=r.dom,i=o.getParents(t,null,o.getRoot()),a={};v(r.selectorChangedData,function(e,t){v(i,function(r){if(o.is(r,t))return n[t]||(v(e,function(e){e(!0,{node:r,selector:t,parents:i})}),n[t]=e),a[t]=e,!1})}),v(n,function(e,r){a[r]||(delete n[r],v(e,function(e){e(!1,{node:t,selector:r,parents:i})}))})})),r.selectorChangedData[e]||(r.selectorChangedData[e]=[]),r.selectorChangedData[e].push(t),r},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){a.scrollIntoView(this.editor,e,t)},placeCaretAt:function(e,t){this.setRng(u.fromPoint(e,t,this.editor.getDoc()))},_moveEndPoint:function(e,t,r){var o=t,i=new c(t,o),a=this.dom.schema.getNonEmptyElements();do{if(3==t.nodeType&&0!==y(t.nodeValue).length)return void(r?e.setStart(t,0):e.setEnd(t,t.nodeValue.length));if(a[t.nodeName]&&!/^(TD|TH)$/.test(t.nodeName))return void(r?e.setStartBefore(t):"BR"==t.nodeName?e.setEndBefore(t):e.setEndAfter(t));if(n.ie&&n.ie<11&&this.dom.isBlock(t)&&this.dom.isEmpty(t))return void(r?e.setStart(t,0):e.setEnd(t,0))}while(t=r?i.next():i.prev());"BODY"==o.nodeName&&(r?e.setStart(o,0):e.setEnd(o,o.childNodes.length))},getBoundingClientRect:function(){var e=this.getRng();return e.collapsed?o.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},x}),a("tinymce.core.caret.LineWalker",["tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.dom.Dimensions","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.CaretPosition","tinymce.core.geom.ClientRect"],function(e,t,n,r,o,i,a,c){var s=e.curry,u=function(e,i,a,c,s,u){var l,f,d=0,p=[],m=function(r){var o,c,u;for(u=n.getClientRects(r),-1==e&&(u=u.reverse()),o=0;o<u.length;o++)if(c=u[o],!a(c,f)){if(p.length>0&&i(c,t.last(p))&&d++,c.line=d,s(c))return!0;p.push(c)}};return(f=t.last(u.getClientRects()))?(l=u.getNode(),m(l),function(e,t,n,i){for(;i=o.findNode(i,e,r.isEditableCaretCandidate,t);)if(n(i))return}(e,c,m,l),p):p};return{upUntil:s(u,-1,c.isAbove,c.isBelow),downUntil:s(u,1,c.isBelow,c.isAbove),positionsUntil:function(e,n,r,o){var s,u,l,f,d,p,m=new i(n),h=[],g=0,v=function(e){return t.last(e.getClientRects())};1==e?(s=m.next,u=c.isBelow,l=c.isAbove,f=a.after(o)):(s=m.prev,u=c.isAbove,l=c.isBelow,f=a.before(o)),p=v(f);do{if(f.isVisible()&&(d=v(f),!l(d,p))){if(h.length>0&&u(d,t.last(h))&&g++,d=c.clone(d),d.position=f,d.line=g,r(d))return h;h.push(d)}}while(f=s(f));return h},isAboveLine:s(function(e,t){return t.line>e}),isLine:s(function(e,t){return t.line===e})}}),a("tinymce.core.keyboard.CefNavigation",["tinymce.core.Env","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.LineUtils","tinymce.core.caret.LineWalker","tinymce.core.dom.NodeType","tinymce.core.keyboard.CefUtils","tinymce.core.selection.RangeNodes","tinymce.core.util.Arr","tinymce.core.util.Fun"],function(e,t,n,r,o,i,a,c,s,u,l,f){var d=c.isContentEditableFalse,p=u.getSelectedNode,m=r.isAfterContentEditableFalse,h=r.isBeforeContentEditableFalse,g=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},v=function(e,t,o){return o=r.normalizeRange(e,t,o),-1===e?n.fromRangeStart(o):n.fromRangeEnd(o)},y=function(e,n,o,i,a){var u,l,f,m;return!a.collapsed&&(u=p(a),d(u))?s.showCaret(e,n,u,-1===e):(m=function(e){return t.isCaretContainerBlock(e.startContainer)}(a),l=v(e,n.getBody(),a),i(l)?s.selectNode(n,l.getNode(-1===e)):(l=o(l))?i(l)?s.showCaret(e,n,l.getNode(-1===e),1===e):(f=o(l),i(f)&&function(e,t){var n=r.isInSameBlock(e,t);return!(n||!c.isBr(e.getNode()))||n}(l,f)?s.showCaret(e,n,f.getNode(-1===e),1===e):m?s.renderRangeCaret(n,l.toRange()):null):m?a:null)},b=function(t,r,i){var a,c,s=new o(t.getBody()),u=f.curry(g,s.next),l=f.curry(g,s.prev);if(i.collapsed&&t.settings.forced_root_block){if(!(a=t.dom.getParent(i.startContainer,"PRE")))return;(1===r?u(n.fromRangeStart(i)):l(n.fromRangeStart(i)))||(c=function(t){var n=t.dom.create(t.settings.forced_root_block);return(!e.ie||e.ie>=11)&&(n.innerHTML='<br data-mce-bogus="1">'),n}(t),1===r?t.$(a).after(c):t.$(a).before(c),t.selection.select(c,!0),t.selection.collapse())}},x=function(e,t){var n,r=t?1:-1,o=t?a.downUntil:a.upUntil,c=e.selection.getRng();return(n=function(e,t,n,r){var o,c,u,f,g,y,b,x,w;if(w=p(r),o=v(e,t.getBody(),r),c=n(t.getBody(),a.isAboveLine(1),o),u=l.filter(c,a.isLine(1)),g=l.last(o.getClientRects()),h(o)&&(w=o.getNode()),m(o)&&(w=o.getNode(!0)),!g)return null;if(y=g.left,(f=i.findClosestClientRect(u,y))&&d(f.node))return b=Math.abs(y-f.left),x=Math.abs(y-f.right),s.showCaret(e,t,f.node,b<x);if(w){var C=a.positionsUntil(e,t.getBody(),a.isAboveLine(1),w);if(f=i.findClosestClientRect(l.filter(C,a.isLine(1)),y))return s.renderRangeCaret(t,f.position.toRange());if(f=l.last(l.filter(C,a.isLine(0))))return s.renderRangeCaret(t,f.position.toRange())}}(r,e,o,c))?n:(n=b(e,r,c))||null};return{moveH:function(e,t){return function(){var n=function(e,t){var n,r=new o(e.getBody()),i=f.curry(g,r.next),a=f.curry(g,r.prev),c=t?1:-1,s=t?i:a,u=t?h:m,l=e.selection.getRng();return(n=y(c,e,s,u,l))?n:(n=b(e,c,l))||null}(e,t);return!!n&&(e.selection.setRng(n),!0)}},moveV:function(e,t){return function(){var n=x(e,t);return!!n&&(e.selection.setRng(n),!0)}}}}),a("tinymce.core.keyboard.MatchKeys",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Merger"],function(e,t,n){var r=function(r,o){return e.bind(function(r){return e.map(r,function(e){return n.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:t.noop},e)})}(r),function(e){return function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey}(e,o)?[e]:[]})};return{match:r,action:function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}},execute:function(t,n){return e.find(r(t,n),function(e){return e.action()})}}}),a("tinymce.core.keyboard.ArrowKeys",["ephox.sand.api.PlatformDetection","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.CefNavigation","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],function(e,t,n,r,o){return{setup:function(i,a){i.on("keydown",function(c){!1===c.isDefaultPrevented()&&function(i,a,c){var s=e.detect().os;r.execute([{keyCode:o.RIGHT,action:n.moveH(i,!0)},{keyCode:o.LEFT,action:n.moveH(i,!1)},{keyCode:o.UP,action:n.moveV(i,!1)},{keyCode:o.DOWN,action:n.moveV(i,!0)},{keyCode:o.RIGHT,action:t.move(i,a,!0)},{keyCode:o.LEFT,action:t.move(i,a,!1)},{keyCode:o.RIGHT,ctrlKey:!s.isOSX(),altKey:s.isOSX(),action:t.moveNextWord(i,a)},{keyCode:o.LEFT,ctrlKey:!s.isOSX(),altKey:s.isOSX(),action:t.movePrevWord(i,a)}],c).each(function(e){c.preventDefault()})}(i,a,c)})}}}),a("tinymce.core.delete.InlineFormatDelete",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.node.Element","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretPosition","tinymce.core.delete.DeleteElement","tinymce.core.delete.DeleteUtils","tinymce.core.dom.ElementType","tinymce.core.dom.Parents","tinymce.core.fmt.CaretFormat"],function(e,t,n,r,o,i,a,c,s,u){var l=function(e){return 1===r.children(e).length},f=function(r,f){var d=n.fromDom(r.getBody()),p=n.fromDom(r.selection.getStart()),m=e.filter(function(n,r){var o=s.parentsAndSelf(r,n);return e.findIndex(o,c.isBlock).fold(t.constant(o),function(e){return o.slice(0,e)})}(d,p),l);return e.last(m).map(function(n){var c=o.fromRangeStart(r.selection.getRng());return!!a.willDeleteLastPositionInElement(f,c,n.dom())&&(function(n,r,o,a){var c=t.curry(u.isFormatElement,r),s=e.map(e.filter(a,c),function(e){return e.dom()});if(0===s.length)i.deleteElement(r,n,o);else{var l=u.replaceWithCaretFormat(o.dom(),s);r.selection.setRng(l.toRange())}}(f,r,n,m),!0)}).getOr(!1)};return{backspaceDelete:function(e,t){return!!e.selection.isCollapsed()&&f(e,t)}}}),a("tinymce.core.keyboard.DeleteBackspaceKeys",["tinymce.core.delete.BlockBoundaryDelete","tinymce.core.delete.BlockRangeDelete","tinymce.core.delete.CefDelete","tinymce.core.delete.InlineBoundaryDelete","tinymce.core.delete.InlineFormatDelete","tinymce.core.delete.TableDelete","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],function(e,t,n,r,o,i,a,c){return{setup:function(s,u){s.on("keydown",function(l){!1===l.isDefaultPrevented()&&function(s,u,l){a.execute([{keyCode:c.BACKSPACE,action:a.action(n.backspaceDelete,s,!1)},{keyCode:c.DELETE,action:a.action(n.backspaceDelete,s,!0)},{keyCode:c.BACKSPACE,action:a.action(r.backspaceDelete,s,u,!1)},{keyCode:c.DELETE,action:a.action(r.backspaceDelete,s,u,!0)},{keyCode:c.BACKSPACE,action:a.action(t.backspaceDelete,s,!1)},{keyCode:c.DELETE,action:a.action(t.backspaceDelete,s,!0)},{keyCode:c.BACKSPACE,action:a.action(e.backspaceDelete,s,!1)},{keyCode:c.DELETE,action:a.action(e.backspaceDelete,s,!0)},{keyCode:c.BACKSPACE,action:a.action(i.backspaceDelete,s,!1)},{keyCode:c.DELETE,action:a.action(i.backspaceDelete,s,!0)},{keyCode:c.BACKSPACE,action:a.action(o.backspaceDelete,s,!1)},{keyCode:c.DELETE,action:a.action(o.backspaceDelete,s,!0)}],l).each(function(e){l.preventDefault()})}(s,u,l)}),s.on("keyup",function(e){!1===e.isDefaultPrevented()&&function(e,t){a.execute([{keyCode:c.BACKSPACE,action:a.action(n.paddEmptyElement,e)},{keyCode:c.DELETE,action:a.action(n.paddEmptyElement,e)}],t)}(s,e)})}}}),a("tinymce.core.api.Settings",[],function(){var e=function(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var o=e.getParam(t,"","hash");return o.hasOwnProperty(e.id)?o[e.id]:n}return r};return{getIframeAttrs:function(e){return e.getParam("iframe_attrs",{})},getDocType:function(e){return e.getParam("doctype","<!DOCTYPE html>")},getDocumentBaseUrl:function(e){return e.getParam("document_base_url","")},getBodyId:function(t){return e(t,"body_id","tinymce")},getBodyClass:function(t){return e(t,"body_class","")},getContentSecurityPolicy:function(e){return e.getParam("content_security_policy","")},shouldPutBrInPre:function(e){return e.getParam("br_in_pre",!0)},getForcedRootBlock:function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":t},getForcedRootBlockAttrs:function(e){return e.getParam("forced_root_block_attrs",{})},getBrNewLineSelector:function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},getNoNewLineSelector:function(e){return e.getParam("no_newline_selector","")},shouldKeepStyles:function(e){return e.getParam("keep_styles",!0)},shouldEndContainerOnEmtpyBlock:function(e){return e.getParam("end_container_on_empty_block",!1)}}}),a("tinymce.core.newline.NewLineUtils",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Element","tinymce.core.dom.ElementType","tinymce.core.dom.NodeType","tinymce.core.dom.TreeWalker"],function(e,t,n,r,o,i){var a=function(e){return t.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))};return{moveToCaretPosition:function(e,t){var n,r,a,c=t,s=e.dom,u=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var l=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild);l&&/^(UL|OL|DL)$/.test(l.nodeName)&&t.insertBefore(s.doc.createTextNode(""),t.firstChild)}if(a=s.createRng(),t.normalize(),t.hasChildNodes()){for(n=new i(t,t);r=n.current();){if(o.isText(r)){a.setStart(r,0),a.setEnd(r,0);break}if(u[r.nodeName.toLowerCase()]){a.setStartBefore(r),a.setEndBefore(r);break}c=r,r=n.next()}r||(a.setStart(c,0),a.setEnd(c,0))}else o.isBr(t)?t.nextSibling&&s.isBlock(t.nextSibling)?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));e.selection.setRng(a),s.remove(void 0),e.selection.scrollIntoView(t)}},getEditableRoot:function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},getParentBlock:a,getParentBlockName:function(t){return a(t).fold(e.constant(""),function(e){return e.nodeName.toUpperCase()})},isListItemParentBlock:function(e){return a(e).filter(function(e){return r.isListItem(n.fromDom(e))}).isSome()}}}),a("tinymce.core.newline.InsertLi",["tinymce.core.dom.NodeType","tinymce.core.newline.NewLineUtils"],function(e,t){var n=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},r=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},o=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},i=function(t,n,r){for(var o=t[r?"firstChild":"lastChild"];o&&!e.isElement(o);)o=o[r?"nextSibling":"previousSibling"];return o===n};return{insert:function(e,a,c,s,u){var l=e.dom,f=e.selection.getRng();if(c!==e.getBody()){(function(e){return r(e)&&r(e.parentNode)})(c)&&(u="LI");var d=u?a(u):l.create("BR");if(i(c,s,!0)&&i(c,s,!1))n(c,"LI")?l.insertAfter(d,o(c)):l.replace(d,c);else if(i(c,s,!0))n(c,"LI")?(l.insertAfter(d,o(c)),d.appendChild(l.doc.createTextNode(" ")),d.appendChild(c)):c.parentNode.insertBefore(d,c);else if(i(c,s,!1))l.insertAfter(d,o(c));else{c=o(c);var p=f.cloneRange();p.setStartAfter(s),p.setEndAfter(c);var m=p.extractContents();"LI"===u&&function(e,t){return e.firstChild&&e.firstChild.nodeName===t}(m,"LI")?(d=m.firstChild,l.insertAfter(m,c)):(l.insertAfter(m,c),l.insertAfter(d,c))}l.remove(s),t.moveToCaretPosition(e,d)}}}}),a("tinymce.core.newline.InsertBlock",["tinymce.core.api.Settings","tinymce.core.caret.CaretContainer","tinymce.core.dom.NodeType","tinymce.core.dom.TreeWalker","tinymce.core.fmt.CaretFormat","tinymce.core.newline.InsertLi","tinymce.core.newline.NewLineUtils","tinymce.core.selection.NormalizeRange","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(e,t,n,r,o,i,a,c,s,u){var l=function(e){return e&&"A"===e.nodeName&&0===u.trim(s.trim(e.innerText||e.textContent)).length},f=function(e){e.innerHTML='<br data-mce-bogus="1">'},d=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},p=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},m=function(e,t,r){return!1===n.isText(t)?r:e?1===r&&t.data.charAt(r-1)===s.ZWSP?0:r:r===t.data.length-1&&t.data.charAt(r)===s.ZWSP?t.data.length:r},h=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},g=function(t,n){var r=e.getForcedRootBlock(t);r&&r.toLowerCase()===n.tagName.toLowerCase()&&t.dom.setAttribs(n,e.getForcedRootBlockAttrs(t))};return{insert:function(s,u){var v,y,b,x,w,C,k,T,_,S,E,A,N,D=s.dom,R=s.schema,P=R.getNonEmptyElements(),O=s.selection.getRng(),B=function(t){var n,r,i,a=b,c=R.getTextInlineElements();if(t||"TABLE"===S||"HR"===S?(n=D.create(t||A),g(s,n)):n=w.cloneNode(!1),i=n,!1===e.shouldKeepStyles(s))D.setAttrib(n,"style",null),D.setAttrib(n,"class",null);else do{if(c[a.nodeName]){if(o.isCaretNode(a))continue;r=a.cloneNode(!1),D.setAttrib(r,"id",""),n.hasChildNodes()?(r.appendChild(n.firstChild),n.appendChild(r)):(i=r,n.appendChild(r))}}while((a=a.parentNode)&&a!==y);return f(i),n},I=function(e){var t,o,i,a;if(a=m(e,b,x),n.isText(b)&&(e?a>0:a<b.nodeValue.length))return!1;if(b.parentNode===w&&N&&!e)return!0;if(e&&n.isElement(b)&&b===w.firstChild)return!0;if(d(b,"TABLE")||d(b,"HR"))return N&&!e||!N&&e;for(t=new r(b,w),n.isText(b)&&(e&&0===a?t.prev():e||a!==b.nodeValue.length||t.next());o=t.current();){if(n.isElement(o)){if(!o.getAttribute("data-mce-bogus")&&(i=o.nodeName.toLowerCase(),P[i]&&"br"!==i))return!1}else if(n.isText(o)&&!/^[ \t\r\n]*$/.test(o.nodeValue))return!1;e?t.prev():t.next()}return!0},M=function(){k=/^(H[1-6]|PRE|FIGURE)$/.test(S)&&"HGROUP"!==E?B(A):B(),e.shouldEndContainerOnEmtpyBlock(s)&&p(D,_)&&D.isEmpty(w)?k=D.split(_,w):D.insertAfter(k,w),a.moveToCaretPosition(s,k)};c.normalize(D,O).each(function(e){O.setStart(e.startContainer,e.startOffset),O.setEnd(e.endContainer,e.endOffset)}),b=O.startContainer,x=O.startOffset,A=e.getForcedRootBlock(s),C=u.shiftKey,n.isElement(b)&&b.hasChildNodes()&&(N=x>b.childNodes.length-1,b=b.childNodes[Math.min(x,b.childNodes.length-1)]||b,x=N&&n.isText(b)?b.nodeValue.length:0),(y=h(D,b))&&((A&&!C||!A&&C)&&(b=function(e,t,n,r,o){var i,a,c,s,u,l,f=t||"P",d=e.dom,m=h(d,r);if(!(a=d.getParent(r,d.isBlock))||!p(d,a)){if(a=a||m,l=a===e.getBody()||function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=d.create(f),g(e,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(s=r;s.parentNode!==a;)s=s.parentNode;for(;s&&!d.isBlock(s);)c=s,s=s.previousSibling;if(c&&e.schema.isValidChild(l,f.toLowerCase())){for(i=d.create(f),g(e,i),c.parentNode.insertBefore(i,c),s=c;s&&!d.isBlock(s);)u=s.nextSibling,i.appendChild(s),s=u;n.setStart(r,o),n.setEnd(r,o)}}return r}(s,A,O,b,x)),w=D.getParent(b,D.isBlock),_=w?D.getParent(w.parentNode,D.isBlock):null,S=w?w.nodeName.toUpperCase():"","LI"!==(E=_?_.nodeName.toUpperCase():"")||u.ctrlKey||(w=_,_=_.parentNode,S=E),/^(LI|DT|DD)$/.test(S)&&D.isEmpty(w)?i.insert(s,B,_,w,A):A&&w===s.getBody()||(A=A||"P",t.isCaretContainerBlock(w)?(k=t.showCaretContainerBlock(w),D.isEmpty(w)&&f(w),a.moveToCaretPosition(s,k)):I()?M():I(!0)?(k=w.parentNode.insertBefore(B(),w),a.moveToCaretPosition(s,d(w,"HR")?k:w)):((v=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,m(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,m(!1,e.endContainer,e.endOffset)),t}(O).cloneRange()).setEndAfter(w),function(e){do{n.isText(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)}(T=v.extractContents()),k=T.firstChild,D.insertAfter(T,w),function(e,t,r){var o,i=r,a=[];if(i){for(;i=i.firstChild;){if(e.isBlock(i))return;n.isElement(i)&&!t[i.nodeName.toLowerCase()]&&a.push(i)}for(o=a.length;o--;)!(i=a[o]).hasChildNodes()||i.firstChild===i.lastChild&&""===i.firstChild.nodeValue?e.remove(i):l(i)&&e.remove(i)}}(D,P,k),function(e,t){var n;t.normalize(),(n=t.lastChild)&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")}(D,w),D.isEmpty(w)&&f(w),k.normalize(),D.isEmpty(k)?(D.remove(k),M()):a.moveToCaretPosition(s,k)),D.setAttrib(k,"id",""),s.fire("NewBlock",{newBlock:k})))}}}),a("tinymce.core.newline.ContextSelectors",["ephox.sugar.api.node.Element","ephox.sugar.api.search.Selectors","tinymce.core.api.Settings","tinymce.core.newline.NewLineUtils"],function(e,t,n,r){var o=function(n,o){return r.getParentBlock(n).filter(function(n){return o.length>0&&t.is(e.fromDom(n),o)}).isSome()};return{shouldInsertBr:function(e){return o(e,n.getBrNewLineSelector(e))},shouldBlockNewLine:function(e){return o(e,n.getNoNewLineSelector(e))}}}),a("tinymce.core.newline.NewLineAction",["ephox.katamari.api.Adt","ephox.katamari.api.Arr","ephox.katamari.api.Option","tinymce.core.api.Settings","tinymce.core.newline.ContextSelectors","tinymce.core.newline.NewLineUtils","tinymce.core.util.LazyEvaluator"],function(e,t,n,r,o,i,a){var c=e.generate([{br:[]},{block:[]},{none:[]}]),s=function(e,t){return o.shouldBlockNewLine(e)},u=function(e){return function(t,n){return""===r.getForcedRootBlock(t)===e}},l=function(e){return function(t,n){return i.isListItemParentBlock(t)===e}},f=function(e){return function(t,n){return"PRE"===i.getParentBlockName(t)===e}},d=function(e){return function(t,n){return r.shouldPutBrInPre(t)===e}},p=function(e,t){return o.shouldInsertBr(e)},m=function(e,t){return t},h=function(e){var t=r.getForcedRootBlock(e),n=i.getEditableRoot(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},g=function(e,r){return function(o,i){return t.foldl(e,function(e,t){return e&&t(o,i)},!0)?n.some(r):n.none()}};return{getAction:function(e,t){return a.evaluateUntil([g([s],c.none()),g([f(!0),d(!1),m],c.br()),g([f(!0),d(!1)],c.block()),g([f(!0),d(!0),m],c.block()),g([f(!0),d(!0)],c.br()),g([l(!0),m],c.br()),g([l(!0)],c.block()),g([u(!0),m,h],c.block()),g([u(!0)],c.br()),g([p],c.br()),g([u(!1),m],c.br()),g([h],c.block())],[e,t.shiftKey]).getOr(c.none())}}}),a("tinymce.core.newline.InsertNewLine",["ephox.katamari.api.Fun","tinymce.core.newline.InsertBlock","tinymce.core.newline.InsertBr","tinymce.core.newline.NewLineAction"],function(e,t,n,r){return{insert:function(o,i){r.getAction(o,i).fold(function(){n.insert(o,i)},function(){t.insert(o,i)},e.noop)}}}),a("tinymce.core.keyboard.EnterKey",["tinymce.core.newline.InsertNewLine","tinymce.core.util.VK"],function(e,t){return{setup:function(n){n.on("keydown",function(r){r.keyCode===t.ENTER&&function(t,n){n.isDefaultPrevented()||(n.preventDefault(),function(e){e.typing&&(e.typing=!1,e.add())}(t.undoManager),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),e.insert(t,n)}))}(n,r)})}}}),a("tinymce.core.keyboard.InsertSpace",["ephox.katamari.api.Fun","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.InlineUtils"],function(e,t,n,r,o){var i=function(e,t,r){return!!function(e,t){return a(e)&&n.isText(t.container())}(r,t)&&(function(e,t){var n=t.container(),r=t.offset();n.insertData(r,""),e.selection.setCursorLocation(n,r+1)}(e,t),!0)},a=function(t){return t.fold(e.constant(!1),e.constant(!0),e.constant(!0),e.constant(!1))};return{insertAtSelection:function(n){return!!n.selection.isCollapsed()&&function(n){var a=e.curry(o.isInlineTarget,n),c=t.fromRangeStart(n.selection.getRng());return r.readLocation(a,n.getBody(),c).map(e.curry(i,n,c)).getOr(!1)}(n)}}}),a("tinymce.core.keyboard.SpaceKey",["tinymce.core.keyboard.InsertSpace","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],function(e,t,n){return{setup:function(r){r.on("keydown",function(o){!1===o.isDefaultPrevented()&&function(r,o){t.execute([{keyCode:n.SPACEBAR,action:t.action(e.insertAtSelection,r)}],o).each(function(e){o.preventDefault()})}(r,o)})}}}),a("tinymce.core.keyboard.KeyboardOverrides",["tinymce.core.keyboard.ArrowKeys","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.DeleteBackspaceKeys","tinymce.core.keyboard.EnterKey","tinymce.core.keyboard.SpaceKey"],function(e,t,n,r,o){return{setup:function(i){var a=t.setupSelectedState(i);e.setup(i,a),n.setup(i,a),r.setup(i),o.setup(i)}}}),a("tinymce.core.util.Quirks",["global!document","global!window","tinymce.core.Env","tinymce.core.caret.CaretContainer","tinymce.core.selection.CaretRangeFromPoint","tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.VK"],function(e,t,n,r,o,i,a,c){return function(s){var u=a.each,l=c.BACKSPACE,f=c.DELETE,d=s.dom,p=s.selection,m=s.settings,h=s.parser,g=n.gecko,v=n.ie,y=n.webkit,b="data:text/mce-internal,",x=v?"Text":"URL",w=function(e,t){try{s.getDoc().execCommand(e,!1,t)}catch(e){}},C=function(e){return e.isDefaultPrevented()},k=function(){s.shortcuts.add("meta+a",null,"SelectAll")},T=function(){s.on("keydown",function(e){if(!C(e)&&e.keyCode===l&&p.isCollapsed()&&0===p.getRng(!0).startOffset){var t=p.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},_=function(){s.on("SetContent ExecCommand",function(e){"setcontent"!=e.type&&"mceInsertLink"!==e.command||u(d.select("a"),function(e){var t=e.parentNode,n=d.getRoot();if(t.lastChild===e){for(;t&&!d.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}d.add(t,"br",{"data-mce-bogus":1})}})})},S=function(){s.inline||(s.contentStyles.push("body {min-height: 150px}"),s.on("click",function(e){var t;if("HTML"==e.target.nodeName){if(n.ie>11)return void s.getBody().focus();t=s.selection.getRng(),s.getBody().focus(),s.selection.setRng(t),s.selection.normalize(),s.nodeChanged()}}))},E=function(){s.on("dragstart",function(e){!function(e){var t,n;e.dataTransfer&&(s.selection.isCollapsed()&&"IMG"==e.target.tagName&&p.select(e.target),(t=s.selection.getContent()).length>0&&(n=b+escape(s.id)+","+escape(t),e.dataTransfer.setData(x,n)))}(e)}),s.on("drop",function(e){if(!C(e)){var t=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(x))&&t.indexOf(b)>=0?(t=t.substr(b.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null}(e);if(t&&t.id!=s.id){e.preventDefault();var n=o.fromPoint(e.x,e.y,s.getDoc());p.setRng(n),function(e,t){s.queryCommandSupported("mceInsertClipboardContent")?s.execCommand("mceInsertClipboardContent",!1,{content:e,internal:t}):s.execCommand("mceInsertContent",!1,e)}(t.html,!0)}}})},A=function(){};return s.on("keydown",function(e){var t,n,r,o,i;if(!C(e)&&e.keyCode==c.BACKSPACE&&(t=p.getRng(),n=t.startContainer,r=t.startOffset,o=d.getRoot(),i=n,t.collapsed&&0===r)){for(;i&&i.parentNode&&i.parentNode.firstChild==i&&i.parentNode!=o;)i=i.parentNode;"BLOCKQUOTE"===i.tagName&&(s.formatter.toggle("blockquote",null,i),(t=d.createRng()).setStart(n,0),t.setEnd(n,0),p.setRng(t))}}),function(){var e=function(e){var t=d.create("body"),n=e.cloneContents();return t.appendChild(n),p.serializer.serialize(t,{format:"html"})};s.on("keydown",function(t){var n,r,o=t.keyCode;if(!C(t)&&(o==f||o==l)){if(n=s.selection.isCollapsed(),r=s.getBody(),n&&!d.isEmpty(r))return;if(!n&&!function(t){var n=e(t),r=d.createRng();return r.selectNode(s.getBody()),n===e(r)}(s.selection.getRng()))return;t.preventDefault(),s.setContent(""),r.firstChild&&d.isBlock(r.firstChild)?s.selection.setCursorLocation(r.firstChild,0):s.selection.setCursorLocation(r,0),s.nodeChanged()}})}(),n.windowsPhone||s.on("keyup focusin mouseup",function(e){c.modifierPressed(e)||p.normalize()},!0),y&&(s.settings.content_editable||d.bind(s.getDoc(),"mousedown mouseup",function(e){var t;if(e.target==s.getDoc().documentElement)if(t=p.getRng(),s.getBody().focus(),"mousedown"==e.type){if(r.isCaretContainer(t.startContainer))return;p.placeCaretAt(e.clientX,e.clientY)}else p.setRng(t)}),s.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==d.getContentEditableParent(t)&&(e.preventDefault(),s.selection.select(t),s.nodeChanged()),"A"==t.nodeName&&d.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),p.select(t))}),m.forced_root_block&&s.on("init",function(){w("DefaultParagraphSeparator",m.forced_root_block)}),s.on("init",function(){s.dom.bind(s.getBody(),"submit",function(e){e.preventDefault()})}),T(),h.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"==e[t].attr("class")&&e[t].remove()}),n.iOS?(s.inline||s.on("keydown",function(){e.activeElement==e.body&&s.getWin().focus()}),S(),s.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),s.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):k()),n.ie>=11&&(S(),T()),n.ie&&(k(),w("AutoUrlDetect",!1),E()),g&&(s.on("keydown",function(e){if(!C(e)&&e.keyCode===l){if(!s.getBody().getElementsByTagName("hr").length)return;if(p.isCollapsed()&&0===p.getRng(!0).startOffset){var t=p.getNode(),n=t.previousSibling;if("HR"==t.nodeName)return d.remove(t),void e.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(d.remove(n),e.preventDefault())}}}),t.Range.prototype.getClientRects||s.on("mousedown",function(e){if(!C(e)&&"HTML"===e.target.nodeName){var t=s.getBody();t.blur(),i.setEditorTimeout(s,function(){t.focus()})}}),function(){var e=function(){var e=d.getAttribs(p.getStart().cloneNode(!1));return function(){var t=p.getStart();t!==s.getBody()&&(d.setAttrib(t,"style",null),u(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}},t=function(){return!p.isCollapsed()&&d.getParent(p.getStart(),d.isBlock)!=d.getParent(p.getEnd(),d.isBlock)};s.on("keypress",function(n){var r;if(!C(n)&&(8==n.keyCode||46==n.keyCode)&&t())return r=e(),s.getDoc().execCommand("delete",!1,null),r(),n.preventDefault(),!1}),d.bind(s.getDoc(),"cut",function(n){var r;!C(n)&&t()&&(r=e(),i.setEditorTimeout(s,function(){r()}))})}(),function(){var e=function(){A(),w("StyleWithCSS",!1),w("enableInlineTableEditing",!1),m.object_resizing||w("enableObjectResizing",!1)};m.readonly||s.on("BeforeExecCommand MouseDown",e)}(),_(),s.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),n.mac&&s.on("keydown",function(e){!c.metaKeyPressed(e)||e.shiftKey||37!=e.keyCode&&39!=e.keyCode||(e.preventDefault(),s.selection.getSel().modify("move",37==e.keyCode?"backward":"forward","lineboundary"))}),T()),{refreshContentEditable:A,isHidden:function(){var e;return!g||s.removed?0:!(e=s.selection.getSel())||!e.rangeCount||0===e.rangeCount}}}}),a("tinymce.core.init.InitContentBody",["ephox.sugar.api.dom.Insert","ephox.sugar.api.node.Element","ephox.sugar.api.properties.Attr","global!document","global!window","tinymce.core.EditorUpload","tinymce.core.ForceBlocks","tinymce.core.NodeChange","tinymce.core.SelectionOverrides","tinymce.core.UndoManager","tinymce.core.api.Formatter","tinymce.core.api.dom.Serializer","tinymce.core.caret.CaretContainerInput","tinymce.core.dom.DOMUtils","tinymce.core.dom.Selection","tinymce.core.html.DomParser","tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.keyboard.KeyboardOverrides","tinymce.core.util.Delay","tinymce.core.util.Quirks","tinymce.core.util.Tools"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m,h,g,v,y,b,x,w){var C=p.DOM,k=function(e){e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),function(e){e.settings.auto_focus&&b.setEditorTimeout(e,function(){var t;(t=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus)).destroyed||t.focus()},100)}(e)};return{initContentBody:function(b,T){var _,S,E=b.settings,A=b.getElement(),N=b.getDoc();E.inline||(b.getElement().style.visibility=b.orgVisibility),T||E.content_editable||(N.open(),N.write(b.iframeHTML),N.close()),E.content_editable&&(b.on("remove",function(){var e=this.getBody();C.removeClass(e,"mce-content-body"),C.removeClass(e,"mce-edit-focus"),C.setAttrib(e,"contentEditable",null)}),C.addClass(A,"mce-content-body"),b.contentDocument=N=E.content_document||r,b.contentWindow=E.content_window||o,b.bodyElement=A,E.content_document=E.content_window=null,E.root_name=A.nodeName.toLowerCase()),(_=b.getBody()).disabled=!0,b.readonly=E.readonly,b.readonly||(b.inline&&"static"===C.getStyle(_,"position",!0)&&(_.style.position="relative"),_.contentEditable=b.getParam("content_editable_state",!0)),_.disabled=!1,b.editorUpload=new i(b),b.schema=new v(E),b.dom=new p(N,{keep_values:!0,url_converter:b.convertURL,url_converter_scope:b,hex_colors:E.force_hex_style_colors,class_filter:E.class_filter,update_styles:!0,root_element:b.inline?b.getBody():null,collect:E.content_editable,schema:b.schema,onSetAttrib:function(e){b.fire("SetAttrib",e)}}),b.parser=function(e){var t=new h(e.settings,e.schema);return t.addAttributeFilter("src,href,style,tabindex",function(t,n){for(var r,o,i,a=t.length,c=e.dom;a--;)if(r=t[a],o=r.attr(n),i="data-mce-"+n,!r.attributes.map[i]){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?((o=c.serializeStyle(c.parseStyle(o),r.name)).length||(o=null),r.attr(i,o),r.attr(n,o)):"tabindex"===n?(r.attr(i,o),r.attr(n,null)):r.attr(i,e.convertURL(o,n,r.name))}}),t.addNodeFilter("script",function(e){for(var t,n,r=e.length;r--;)0!==(n=(t=e[r]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n)}),t.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var n,r=t.length,o=e.schema.getNonEmptyElements();r--;)(n=t[r]).isEmpty(o)&&0===n.getAll("br").length&&(n.append(new g("br",1)).shortEnded=!0)}),t}(b),b.serializer=new f(E,b),b.selection=new m(b.dom,b.getWin(),b.serializer,b),b.formatter=new l(b),b.undoManager=new u(b),b._nodeChangeDispatcher=new c(b),b._selectionOverrides=new s(b),d.setup(b),y.setup(b),a.setup(b),b.fire("PreInit"),E.browser_spellcheck||E.gecko_spellcheck||(N.body.spellcheck=!1,C.setAttrib(_,"spellcheck","false")),b.quirks=new x(b),b.fire("PostRender"),E.directionality&&(_.dir=E.directionality),E.nowrap&&(_.style.whiteSpace="nowrap"),E.protect&&b.on("BeforeSetContent",function(e){w.each(E.protect,function(t){e.content=e.content.replace(t,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),b.on("SetContent",function(){b.addVisual(b.getBody())}),E.padd_empty_editor&&b.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),b.load({initial:!0,format:"html"}),b.startContent=b.getContent({format:"raw"}),b.on("compositionstart compositionend",function(e){b.composing="compositionstart"===e.type}),b.contentStyles.length>0&&(S="",w.each(b.contentStyles,function(e){S+=e+"\r\n"}),b.dom.addStyle(S)),function(e){return e.inline?C.styleSheetLoader:e.dom.styleSheetLoader}(b).loadAll(b.contentCSS,function(e){k(b)},function(e){k(b)}),E.content_style&&function(r,o){var i=t.fromDom(r.getDoc().head),a=t.fromTag("style");n.set(a,"type","text/css"),e.append(a,t.fromText(o)),e.append(i,a)}(b,E.content_style)}}}),a("tinymce.core.init.InitIframe",["ephox.sugar.api.node.Element","ephox.sugar.api.properties.Attr","ephox.sugar.api.properties.Css","global!document","global!window","tinymce.core.Env","tinymce.core.api.Settings","tinymce.core.dom.DOMUtils","tinymce.core.init.InitContentBody","tinymce.core.util.Uuid"],function(e,t,n,r,o,i,a,c,s,u){var l=c.DOM,f=function(c,f){var d=c.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),p=function(r,o,i,a){var c=e.fromTag("iframe");return t.setAll(c,a),t.setAll(c,{id:r+"_ifr",frameBorder:"0",allowTransparency:"true",title:o}),n.setAll(c,{width:"100%",height:function(e){var t="number"==typeof e?e+"px":e;return t||""}(i),display:"block"}),c}(c.id,d,f.height,a.getIframeAttrs(c)).dom();p.onload=function(){p.onload=null,c.fire("load")};var m=function(e,t){if(r.domain!==o.location.hostname&&i.ie&&i.ie<12){var n=u.uuid("mce");e[n]=function(){s.initContentBody(e)};var a='javascript:(function(){document.open();document.domain="'+r.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return l.setAttrib(t,"src",a),!0}return!1}(c,p);return c.contentAreaContainer=f.iframeContainer,c.iframeElement=p,c.iframeHTML=function(e){var t,n,r;return r=a.getDocType(e)+"<html><head>",a.getDocumentBaseUrl(e)!==e.documentBaseUrl&&(r+='<base href="'+e.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',t=a.getBodyId(e),n=a.getBodyClass(e),a.getContentSecurityPolicy(e)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+a.getContentSecurityPolicy(e)+'" />'),r+='</head><body id="'+t+'" class="mce-content-body '+n+'" data-id="'+e.id+'"><br></body></html>'}(c),l.add(f.iframeContainer,p),m};return{init:function(e,t){var n=f(e,t);t.editorContainer&&(l.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=l.isHidden(t.editorContainer)),e.getElement().style.display="none",l.setAttrib(e.id,"aria-hidden",!0),n||s.initContentBody(e)}}}),a("tinymce.core.init.Init",["ephox.katamari.api.Type","global!document","global!window","tinymce.core.PluginManager","tinymce.core.ThemeManager","tinymce.core.dom.DOMUtils","tinymce.core.init.InitContentBody","tinymce.core.init.InitIframe","tinymce.core.util.Tools"],function(e,t,n,r,o,i,a,c,s){var u=i.DOM,l=function(e,t,n){var o,i,a=r.get(n);if(o=r.urls[n]||e.documentBaseUrl.replace(/\/$/,""),n=s.trim(n),a&&-1===s.inArray(t,n)){if(s.each(r.dependencies(n),function(n){l(e,t,n)}),e.plugins[n])return;i=new a(e,o,e.$),e.plugins[n]=i,i.init&&(i.init(e,o),t.push(n))}},f=function(e){return e.replace(/^\-/,"")},d=function(e){return{editorContainer:e,iframeContainer:e}},p=function(e){var t=e.getElement();return e.inline?d(null):function(e){var t=u.create("div");return u.insertAfter(t,e),d(t)}(t)},m=function(t){var n=t.settings,r=t.getElement();return t.orgDisplay=r.style.display,e.isString(n.theme)?function(e){var t,n,r,o,i,a=e.settings,c=e.getElement();return t=a.width||u.getStyle(c,"width")||"100%",n=a.height||u.getStyle(c,"height")||c.offsetHeight,r=a.min_height||100,(o=/^[0-9\.]+(|px)$/i).test(""+t)&&(t=Math.max(parseInt(t,10),100)),o.test(""+n)&&(n=Math.max(parseInt(n,10),r)),i=e.theme.renderUI({targetNode:c,width:t,height:n,deltaWidth:a.delta_width,deltaHeight:a.delta_height}),a.content_editable||(n=(i.iframeHeight||n)+("number"==typeof n?i.deltaHeight||0:""))<r&&(n=r),i.height=n,i}(t):e.isFunction(n.theme)?function(e){var t,n=e.getElement();return(t=e.settings.theme(e,n)).editorContainer.nodeType&&(t.editorContainer.id=t.editorContainer.id||e.id+"_parent"),t.iframeContainer&&t.iframeContainer.nodeType&&(t.iframeContainer.id=t.iframeContainer.id||e.id+"_iframecontainer"),t.height=t.iframeHeight?t.iframeHeight:n.offsetHeight,t}(t):p(t)};return{init:function(t){var n,r=t.settings,i=t.getElement();return t.rtl=r.rtl_ui||t.editorManager.i18n.rtl,t.editorManager.i18n.setCode(r.language),r.aria_label=r.aria_label||u.getAttrib(i,"aria-label",t.getLang("aria.rich_text_area")),t.fire("ScriptsLoaded"),function(t){var n,r=t.settings.theme;e.isString(r)?(t.settings.theme=f(r),n=o.get(r),t.theme=new n(t,o.urls[r]),t.theme.init&&t.theme.init(t,o.urls[r]||t.documentBaseUrl.replace(/\/$/,""),t.$)):t.theme={}}(t),function(e){var t=[];s.each(e.settings.plugins.split(/[ ,]/),function(n){l(e,t,f(n))})}(t),n=m(t),t.editorContainer=n.editorContainer?n.editorContainer:null,r.content_css&&s.each(s.explode(r.content_css),function(e){t.contentCSS.push(t.documentBaseURI.toAbsolute(e))}),r.content_editable?a.initContentBody(t):c.init(t,n)}}}),a("tinymce.core.init.Render",["ephox.katamari.api.Type","global!window","tinymce.core.api.NotificationManager","tinymce.core.api.WindowManager","tinymce.core.dom.DOMUtils","tinymce.core.dom.EventUtils","tinymce.core.dom.ScriptLoader","tinymce.core.Env","tinymce.core.ErrorReporter","tinymce.core.init.Init","tinymce.core.PluginManager","tinymce.core.ThemeManager","tinymce.core.util.Tools"],function(e,t,n,r,o,i,a,c,s,u,l,f,d){var p=o.DOM,m=function(e){return"-"===e.charAt(0)},h=function(t,n){var r=a.ScriptLoader;!function(t,n,r,o){var i=n.settings,a=i.theme;if(e.isString(a)){if(!m(a)&&!f.urls.hasOwnProperty(a)){var c=i.theme_url;c?f.load(a,n.documentBaseURI.toAbsolute(c)):f.load(a,"themes/"+a+"/theme"+r+".js")}t.loadQueue(function(){f.waitFor(a,o)})}else o()}(r,t,n,function(){!function(e,t){var n=t.settings;n.language&&"en"!==n.language&&!n.language_url&&(n.language_url=t.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&!t.editorManager.i18n.data[n.language]&&e.add(n.language_url)}(r,t),function(e,t){d.isArray(e.plugins)&&(e.plugins=e.plugins.join(" ")),d.each(e.external_plugins,function(t,n){l.load(n,t),e.plugins+=" "+n}),d.each(e.plugins.split(/[ ,]/),function(e){if((e=d.trim(e))&&!l.urls[e])if(m(e)){e=e.substr(1,e.length);var n=l.dependencies(e);d.each(n,function(e){var n={prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"};e=l.createUrl(n,e),l.load(e.resource,e)})}else l.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"})})}(t.settings,n),r.loadQueue(function(){t.removed||u.init(t)},t,function(e){s.pluginLoadError(t,e[0]),t.removed||u.init(t)})})};return{render:function(e){var o=e.settings,a=e.id,s=function(){p.unbind(t,"ready",s),e.render()};if(i.Event.domLoaded){if(e.getElement()&&c.contentEditable){o.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var u=e.getElement().form||p.getParent(a,"form");u&&(e.formElement=u,o.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&(p.insertAfter(p.create("input",{type:"hidden",name:a}),a),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},p.bind(u,"submit reset",e.formEventDelegate),e.on("reset",function(){e.setContent(e.startContent,{format:"raw"})}),!o.submit_patch||u.submit.nodeType||u.submit.length||u._mceOldSubmit||(u._mceOldSubmit=u.submit,u.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),u._mceOldSubmit(u)})),e.windowManager=new r(e),e.notificationManager=new n(e),"xml"===o.encoding&&e.on("GetContent",function(e){e.save&&(e.content=p.encode(e.content))}),o.add_form_submit_trigger&&e.on("submit",function(){e.initialized&&e.save()}),o.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),h(e,e.suffix)}}else p.bind(t,"ready",s)}}}),a("tinymce.core.ui.Sidebar",[],function(){return{add:function(e,t,n){var r=e.sidebars?e.sidebars:[];r.push({name:t,settings:n}),e.sidebars=r}}}),a("tinymce.core.util.URI",["global!document","tinymce.core.util.Tools"],function(e,t){var n=t.each,r=t.trim,o="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),i={ftp:21,http:80,https:443,mailto:25},a=function(t,i){var c,s,u=this;if(t=r(t),i=u.settings=i||{},c=i.base_uri,/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))u.source=t;else{var l=0===t.indexOf("//");0!==t.indexOf("/")||l||(t=(c?c.protocol||"http":"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(s=i.base_uri?i.base_uri.path:new a(e.location.href).directory,""===i.base_uri.protocol?t="//mce_host"+u.toAbsPath(s,t):(t=/([^#?]*)([#?]?.*)/.exec(t),t=(c&&c.protocol||"http")+"://mce_host"+u.toAbsPath(s,t[1])+t[2])),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),n(o,function(e,n){var r=t[n];r&&(r=r.replace(/\(mce_at\)/g,"@@")),u[e]=r}),c&&(u.protocol||(u.protocol=c.protocol),u.userInfo||(u.userInfo=c.userInfo),u.port||"mce_host"!==u.host||(u.port=c.port),u.host&&"mce_host"!==u.host||(u.host=c.host),u.source=""),l&&(u.protocol="")}};return a.prototype={setPath:function(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},toRelative:function(e){var t;if("./"===e)return e;if("mce_host"!=(e=new a(e,{base_uri:this})).host&&this.host!=e.host&&e.host||this.port!=e.port||this.protocol!=e.protocol&&""!==e.protocol)return e.getURI();var n=this.getURI(),r=e.getURI();return n==r||"/"==n.charAt(n.length-1)&&n.substr(0,n.length-1)==r?n:(t=this.toRelPath(this.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return(e=new a(e,{base_uri:this})).getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=i[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r,o,i=0,a="";if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(r=0,o=e.length;r<o;r++)if(r>=n.length||e[r]!=n[r]){i=r+1;break}if(e.length<n.length)for(r=0,o=n.length;r<o;r++)if(r>=e.length||e[r]!=n[r]){i=r+1;break}if(1===i)return t;for(r=0,o=e.length-(i-1);r<o;r++)a+="../";for(r=i-1,o=n.length;r<o;r++)a+=r!=i-1?"/"+n[r]:n[r];return a},toAbsPath:function(e,t){var r,o,i,a=0,c=[];for(o=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),n(e,function(e){e&&c.push(e)}),e=c,r=t.length-1,c=[];r>=0;r--)0!==t[r].length&&"."!==t[r]&&(".."!==t[r]?a>0?a--:c.push(t[r]):a++);return r=e.length-a,0!==(i=r<=0?c.reverse().join("/"):e.slice(0,r).join("/")+"/"+c.reverse().join("/")).indexOf("/")&&(i="/"+i),o&&i.lastIndexOf("/")!==i.length-1&&(i+=o),i},getURI:function(e){var t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}},a.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},a.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},a}),a("tinymce.core.Editor",["tinymce.core.AddOnManager","tinymce.core.EditorCommands","tinymce.core.EditorObservable","tinymce.core.EditorSettings","tinymce.core.Env","tinymce.core.Mode","tinymce.core.Shortcuts","tinymce.core.dom.DOMUtils","tinymce.core.dom.DomQuery","tinymce.core.dom.TrimHtml","tinymce.core.focus.EditorFocus","tinymce.core.html.Serializer","tinymce.core.init.Render","tinymce.core.ui.Sidebar","tinymce.core.util.Tools","tinymce.core.util.URI","tinymce.core.util.Uuid"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m,h,g){var v=c.DOM,y=m.extend,b=m.each,x=m.trim,w=m.resolve,C=o.ie,k=function(n,i,c){var u,l,f=this;u=f.documentBaseUrl=c.documentBaseURL,l=c.baseURI,i=r.getEditorSettings(f,n,u,c.defaultSettings,i),f.settings=i,e.language=i.language||"en",e.languageLoad=i.language_load,e.baseURL=c.baseURL,f.id=n,f.setDirty(!1),f.plugins={},f.documentBaseURI=new h(i.document_base_url,{base_uri:l}),f.baseURI=l,f.contentCSS=[],f.contentStyles=[],f.shortcuts=new a(f),f.loadedCSS={},f.editorCommands=new t(f),f.suffix=c.suffix,f.editorManager=c,f.inline=i.inline,f.buttons={},f.menuItems={},i.cache_suffix&&(o.cacheSuffix=i.cache_suffix.replace(/^[\?\&]+/,"")),!1===i.override_viewport&&(o.overrideViewPort=!1),c.fire("SetupEditor",f),f.execCallback("setup",f),f.$=s.overrideDefaults(function(){return{context:f.inline?f.getBody():f.getDoc(),element:f.getBody()}})};return k.prototype={render:function(){d.render(this)},focus:function(e){l.focus(this,e)},execCallback:function(e){var t,n=this.settings[e];if(n)return this.callbackLookup&&(t=this.callbackLookup[e])&&(n=t.func,t=t.scope),"string"==typeof n&&(t=(t=n.replace(/\.\w+$/,""))?w(t):0,n=w(n),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:n,scope:t}),n.apply(t||this,Array.prototype.slice.call(arguments,1))},translate:function(e){if(e&&m.is(e,"string")){var t=this.settings.language||"en",n=this.editorManager.i18n;e=n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,r){return n.data[t+"."+r]||"{#"+r+"}"})}return this.editorManager.translate(e)},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==t?t:"{#"+e+"}")},getParam:function(e,t,n){var r,o=e in this.settings?this.settings[e]:t;return"hash"===n?(r={},"string"==typeof o?b(o.indexOf("=")>0?o.split(/[;,](?![^=;,]*(?:[;,]|$))/):o.split(","),function(e){(e=e.split("=")).length>1?r[x(e[0])]=x(e[1]):r[x(e[0])]=x(e)}):r=o,r):o},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.stateSelector&&void 0===t.active&&(t.active=!1),t.text||t.icon||(t.icon=e),n.buttons=n.buttons,t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return p.add(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems,n.menuItems[e]=t},addContextToolbar:function(e,t){var n,r=this;r.contextToolbars=r.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return r.dom.is(e,n)}),r.contextToolbars.push({id:g.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(v.show(this.getContainer()),v.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var e=this.getDoc();this.hidden||(C&&e&&!this.inline&&e.execCommand("SelectAll"),this.save(),this.inline?(this.getBody().contentEditable=!1,this==this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(v.hide(this.getContainer()),v.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this.getElement();return this.removed?"":n?(e=e||{},e.load=!0,t=this.setContent(void 0!==n.value?n.value:n.innerHTML,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=n=null,t):void 0},save:function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return e=e||{},e.save=!0,e.element=o,t=e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"==e.format&&r.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(o.nodeName)?o.value=t:(r.inline||(o.innerHTML=t),(n=v.getParent(r.id,"form"))&&b(n.elements,function(e){if(e.name==r.id)return e.value=t,!1})),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},setContent:function(e,t){var n,r,o=this.getBody();return t=t||{},t.format=t.format||"html",t.set=!0,t.content=e,t.no_events||this.fire("BeforeSetContent",t),0===(e=t.content).length||/^\s+$/.test(e)?(r=C&&C<11?"":'<br data-mce-bogus="1">',"TABLE"==o.nodeName?e="<tr><td>"+r+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(e="<li>"+r+"</li>"),(n=this.settings.forced_root_block)&&this.schema.isValidChild(o.nodeName.toLowerCase(),n.toLowerCase())?(e=r,e=this.dom.createHTML(n,this.settings.forced_root_block_attrs,e)):C||e||(e='<br data-mce-bogus="1">'),this.dom.setHTML(o,e),this.fire("SetContent",t)):("raw"!==t.format&&(e=new f({validate:this.validate},this.schema).serialize(this.parser.parse(e,{isRootContent:!0,insert:!0}))),t.content=x(e),this.dom.setHTML(o,t.content),t.no_events||this.fire("SetContent",t)),t.content},getContent:function(e){var t,n=this.getBody();if(this.removed)return"";if(e=e||{},e.format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||this.fire("BeforeGetContent",e),"raw"===e.format)t=m.trim(u.trimExternal(this.serializer,n.innerHTML));else if("text"===e.format)t=n.innerText||n.textContent;else{if("tree"===e.format)return this.serializer.serialize(n,e);t=this.serializer.serialize(n,e)}return"text"!==e.format?e.content=x(t):e.content=t,e.no_events||this.fire("GetContent",e),e.content},insertContent:function(e,t){t&&(e=y({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!=t&&this.fire("dirty")},setMode:function(e){i.setMode(this,e)},getContainer:function(){return this.container||(this.container=v.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=v.get(this.id)),this.targetElm},getWin:function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},getDoc:function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,r.remove_script_host)},addVisual:function(e){var t,n=this,r=n.settings,o=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=r.visual),b(o.select("table,a",e),function(e){var i;switch(e.nodeName){case"TABLE":return t=r.visual_table_class||"mce-item-table",void((i=o.getAttrib(e,"border"))&&"0"!=i||!n.hasVisual?o.removeClass(e,t):o.addClass(e,t));case"A":return void(o.getAttrib(e,"href",!1)||(i=o.getAttrib(e,"name")||e.id,t=r.visual_anchor_class||"mce-item-anchor",i&&n.hasVisual?o.addClass(e,t):o.removeClass(e,t)))}}),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){this.removed||(this.save(),this.removed=1,this.unbindAllNativeEvents(),this.hasHiddenInput&&v.remove(this.getElement().nextSibling),this.inline||(C&&C<10&&this.getDoc().execCommand("SelectAll",!1,null),v.setStyle(this.id,"display",this.orgDisplay),this.getBody().onload=null),this.fire("remove"),this.editorManager.remove(this),v.remove(this.getContainer()),this._selectionOverrides.destroy(),this.editorUpload.destroy(),this.destroy())},destroy:function(e){var t;this.destroyed||(e||this.removed?(e||(this.editorManager.off("beforeunload",this._beforeUnload),this.theme&&this.theme.destroy&&this.theme.destroy(),this.selection.destroy(),this.dom.destroy()),(t=this.formElement)&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),v.unbind(t,"submit reset",this.formEventDelegate)),this.contentAreaContainer=this.formElement=this.container=this.editorContainer=null,this.bodyElement=this.contentDocument=this.contentWindow=null,this.iframeElement=this.targetElm=null,this.selection&&(this.selection=this.selection.win=this.selection.dom=this.selection.dom.doc=null),this.destroyed=1):this.remove())},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},y(k.prototype,n),k}),a("tinymce.core.api.FocusManager",["global!document"],function(e){return{isEditorUIElement:function(e){return-1!==e.className.toString().indexOf("mce-")}}}),a("tinymce.core.selection.SelectionRestore",["ephox.katamari.api.Throttler","ephox.sand.api.PlatformDetection","global!document","tinymce.core.dom.DOMUtils","tinymce.core.selection.SelectionBookmark"],function(e,t,n,r,o){var i=function(e,n){var r=t.detect().browser;r.isIE()||r.isEdge()?function(e){e.on("focusout",function(){o.store(e)})}(e):function(e,t){e.on("mouseup touchend",function(e){t.throttle()})}(e,n),e.on("keyup nodechange",function(t){(function(e){return"nodechange"===e.type&&e.selectionChange})(t)||o.store(e)})};return{register:function(t){var a=e.first(function(){o.store(t)},0);t.inline&&function(e,t){var o=function(){t.throttle()};r.DOM.bind(n,"mouseup",o),e.on("remove",function(){r.DOM.unbind(n,"mouseup",o)})}(t,a),t.on("init",function(){i(t,a)}),t.on("remove",function(){a.cancel()})}}}),a("tinymce.core.focus.FocusController",["ephox.katamari.api.Fun","global!document","tinymce.core.api.FocusManager","tinymce.core.dom.DOMUtils","tinymce.core.selection.SelectionRestore","tinymce.core.util.Delay"],function(e,t,n,r,o,i){var a,c=r.DOM,s=function(e){return n.isEditorUIElement(e)},u=function(e,t){var n=e?e.settings.custom_ui_selector:"";return null!==c.getParent(t,function(t){return s(t)||!!n&&e.dom.is(t,n)})},l=function(e,n){var r=n.editor;o.register(r),r.on("focusin",function(){var t=e.focusedEditor;t!=r&&(t&&t.fire("blur",{focusedEditor:r}),e.setActive(r),e.focusedEditor=r,r.fire("focus",{blurredEditor:t}),r.focus(!0))}),r.on("focusout",function(){i.setEditorTimeout(r,function(){var n=e.focusedEditor;u(r,function(){try{return t.activeElement}catch(e){return t.body}}())||n!=r||(r.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),a||(a=function(n){var r,o=e.activeEditor;r=n.target,o&&r.ownerDocument===t&&(r===t.body||u(o,r)||e.focusedEditor!==o||(o.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},c.bind(t,"focusin",a))},f=function(e,n){e.focusedEditor==n.editor&&(e.focusedEditor=null),e.activeEditor||(c.unbind(t,"focusin",a),a=null)};return{setup:function(t){t.on("AddEditor",e.curry(l,t)),t.on("RemoveEditor",e.curry(f,t))},isEditorUIElement:s,isUIElement:u}}),a("tinymce.core.util.I18n",["tinymce.core.util.Tools"],function(e){"use strict";var t={},n="en";return{setCode:function(e){e&&(n=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return n},rtl:!1,add:function(e,n){var r=t[e];r||(t[e]=r={});for(var o in n)r[o]=n[o];this.setCode(e)},translate:function(r){var o=t[n]||{},i=function(t){return e.is(t,"function")?Object.prototype.toString.call(t):a(t)?"":""+t},a=function(t){return""===t||null===t||e.is(t,"undefined")},c=function(t){return t=i(t),e.hasOwn(o,t)?i(o[t]):t};if(a(r))return"";if(e.is(r,"object")&&e.hasOwn(r,"raw"))return i(r.raw);if(e.is(r,"array")){var s=r.slice(1);r=c(r[0]).replace(/\{([0-9]+)\}/g,function(t,n){return e.hasOwn(s,n)?i(s[n]):t})}return c(r).replace(/{context:\w+}$/,"")},data:t}}),a("tinymce.core.EditorManager",["ephox.katamari.api.Arr","ephox.katamari.api.Type","global!document","global!window","tinymce.core.AddOnManager","tinymce.core.Editor","tinymce.core.Env","tinymce.core.ErrorReporter","tinymce.core.dom.DOMUtils","tinymce.core.dom.DomQuery","tinymce.core.focus.FocusController","tinymce.core.util.I18n","tinymce.core.util.Observable","tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.core.util.URI"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m,h){var g,v,y=s.DOM,b=m.explode,x=m.each,w=m.extend,C=0,k=!1,T=[],_=[],S=function(e){x(v.get(),function(t){"scroll"===e.type?t.fire("ScrollWindow",e):t.fire("ResizeWindow",e)})},E=function(e){e!==k&&(e?u(r).on("resize scroll",S):u(r).off("resize scroll",S),k=e)},A=function(t){var n=_;delete T[t.id];for(var r=0;r<T.length;r++)if(T[r]===t){T.splice(r,1);break}return _=e.filter(_,function(e){return t!==e}),v.activeEditor===t&&(v.activeEditor=_.length>0?_[0]:null),v.focusedEditor===t&&(v.focusedEditor=null),n.length!==_.length};return v={defaultSettings:{},$:u,majorVersion:"4",minorVersion:"7.4",releaseDate:"2017-12-05",editors:T,i18n:f,activeEditor:null,settings:{},setup:function(){var e,t,o,i,a="";if(t=h.getDocumentBaseUrl(n.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),o=r.tinymce||r.tinyMCEPreInit)e=o.base||o.baseURL,a=o.suffix;else{for(var c=n.getElementsByTagName("script"),s=0;s<c.length;s++){var u=(i=c[s].src).substring(i.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){-1!=u.indexOf(".min")&&(a=".min"),e=i.substring(0,i.lastIndexOf("/"));break}}!e&&n.currentScript&&(-1!=(i=n.currentScript.src).indexOf(".min")&&(a=".min"),e=i.substring(0,i.lastIndexOf("/")))}this.baseURL=new h(t).toAbsolute(e),this.documentBaseURL=t,this.baseURI=new h(this.baseURL),this.suffix=a,l.setup(this)},overrideDefaults:function(e){var t,n;(t=e.base_url)&&(this.baseURL=new h(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new h(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;for(var i in r)o.PluginManager.urls[i]=r[i]},init:function(e){var t,o,s=this;o=m.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var l=function(e){var t=e.id;return t||(t=(t=e.name)&&!y.get(t)?e.name:y.uniqueId(),e.setAttribute("id",t)),t},f=function(e,t){return t.constructor===RegExp?t.test(e.className):y.hasClass(e,t)},d=function(e){t=e},h=function(){var t,p=0,g=[],v=function(e,n,r){var o=new i(e,n,s);g.push(o),o.on("init",function(){++p===t.length&&d(g)}),o.targetElm=o.targetElm||r,o.render()};y.unbind(r,"ready",h),function(t){var n=e[t];if(n)n.apply(s,Array.prototype.slice.call(arguments,2))}("onpageload"),t=u.unique(function(e){var t,r=[];if(a.ie&&a.ie<11)return c.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(e.types)return x(e.types,function(e){r=r.concat(y.select(e.selector))}),r;if(e.selector)return y.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":(t=e.elements||"").length>0&&x(b(t),function(e){var t;(t=y.get(e))?r.push(t):x(n.forms,function(t){x(t.elements,function(t){t.name===e&&(e="mce_editor_"+C++,y.setAttrib(t,"id",e),r.push(t))})})});break;case"textareas":case"specific_textareas":x(y.select("textarea"),function(t){e.editor_deselector&&f(t,e.editor_deselector)||e.editor_selector&&!f(t,e.editor_selector)||r.push(t)})}return r}(e)),e.types?x(e.types,function(n){m.each(t,function(t){return!y.is(t,n.selector)||(v(l(t),w({},e,n),t),!1)})}):(m.each(t,function(e){!function(e){e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(A(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null)}(s.get(e.id))}),0===(t=m.grep(t,function(e){return!s.get(e.id)})).length?d([]):x(t,function(t){!function(e,t){return e.inline&&t.tagName.toLowerCase()in o}(e,t)?v(l(t),e,t):c.initError("Could not initialize inline editor on invalid inline target element",t)}))};return s.settings=e,y.bind(r,"ready",h),new p(function(e){t?e(t):d=function(t){e(t)}})},get:function(n){return 0===arguments.length?_.slice(0):t.isString(n)?e.find(_,function(e){return e.id===n}).getOr(null):t.isNumber(n)&&_[n]?_[n]:null},add:function(e){var t=this;return T[e.id]===e?e:(null===t.get(e.id)&&(function(e){return"length"!==e}(e.id)&&(T[e.id]=e),T.push(e),_.push(e)),E(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),g||(g=function(){t.fire("BeforeUnload")},y.bind(r,"beforeunload",g)),e)},createEditor:function(e,t){return this.add(new i(e,t,this))},remove:function(e){var n,o,i=this;if(e)return t.isString(e)?(e=e.selector||e,void x(y.select(e),function(e){(o=i.get(e.id))&&i.remove(o)})):(o=e,t.isNull(i.get(o.id))?null:(A(o)&&i.fire("RemoveEditor",{editor:o}),0===_.length&&y.unbind(r,"beforeunload",g),o.remove(),E(_.length>0),o));for(n=_.length-1;n>=0;n--)i.remove(_[n])},execCommand:function(e,t,n){var r=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new i(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(this.execCommand("mceAddEditor",0,n),!0)}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){x(_,function(e){e.save()})},addI18n:function(e,t){f.add(e,t)},translate:function(e){return f.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!=e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},w(v,d),v.setup(),v}),a("tinymce.core.api.dom.RangeUtils",["ephox.katamari.api.Fun","tinymce.core.selection.CaretRangeFromPoint","tinymce.core.selection.NormalizeRange","tinymce.core.selection.RangeCompare","tinymce.core.selection.RangeNodes","tinymce.core.selection.RangeWalk","tinymce.core.selection.SplitRange"],function(e,t,n,r,o,i,a){var c=function(t){return{walk:function(e,n){return i.walk(t,e,n)},split:a.split,normalize:function(r){return n.normalize(t,r).fold(e.constant(!1),function(e){return r.setStart(e.startContainer,e.startOffset),r.setEnd(e.endContainer,e.endOffset),!0})}}};return c.compareRanges=r.isEq,c.getCaretRangeFromPoint=t.fromPoint,c.getSelectedNode=o.getSelectedNode,c.getNode=o.getNode,c}),a("tinymce.core.geom.Rect",[],function(){"use strict";var e=Math.min,t=Math.max,n=Math.round,r=function(e,t,r){var i,a,c,s,u,l;return i=t.x,a=t.y,c=e.w,s=e.h,u=t.w,l=t.h,"b"===(r=(r||"").split(""))[0]&&(a+=l),"r"===r[1]&&(i+=u),"c"===r[0]&&(a+=n(l/2)),"c"===r[1]&&(i+=n(u/2)),"b"===r[3]&&(a-=s),"r"===r[4]&&(i-=c),"c"===r[3]&&(a-=n(s/2)),"c"===r[4]&&(i-=n(c/2)),o(i,a,c,s)},o=function(e,t,n,r){return{x:e,y:t,w:n,h:r}};return{inflate:function(e,t,n){return o(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:r,findBestRelativePosition:function(e,t,n,o){var i,a;for(a=0;a<o.length;a++)if((i=r(e,t,o[a])).x>=n.x&&i.x+i.w<=n.w+n.x&&i.y>=n.y&&i.y+i.h<=n.h+n.y)return o[a];return null},intersect:function(n,r){var i,a,c,s;return i=t(n.x,r.x),a=t(n.y,r.y),c=e(n.x+n.w,r.x+r.w),s=e(n.y+n.h,r.y+r.h),c-i<0||s-a<0?null:o(i,a,c-i,s-a)},clamp:function(e,n,r){var i,a,c,s,u,l,f,d,p,m;return u=e.x,l=e.y,f=e.x+e.w,d=e.y+e.h,p=n.x+n.w,m=n.y+n.h,i=t(0,n.x-u),a=t(0,n.y-l),c=t(0,f-p),s=t(0,d-m),u+=i,l+=a,r&&(f+=i,d+=a,u-=c,l-=s),f-=c,d-=s,o(u,l,f-u,d-l)},create:o,fromClientRect:function(e){return o(e.left,e.top,e.width,e.height)}}}),a("tinymce.core.ui.Factory",[],function(){"use strict";var e={};return{add:function(t,n){e[t.toLowerCase()]=n},has:function(t){return!!e[t.toLowerCase()]},get:function(t){var n=t.toLowerCase(),r=e.hasOwnProperty(n)?e[n]:null;if(null===r)throw new Error("Could not find module for type: "+t);return r},create:function(t,n){var r;if("string"==typeof t?(n=n||{}).type=t:t=(n=t).type,t=t.toLowerCase(),!(r=e[t]))throw new Error("Could not find control by type: "+t);return r=new r(n),r.type=t,r}}}),a("tinymce.core.util.Class",["tinymce.core.util.Tools"],function(e){var t,n,r=e.each,o=e.extend,i=function(){};return i.extend=t=function(e){var i,a,c,s=this.prototype,u=function(){var e,t,r;if(!n&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(r=t[e]).init&&r.init.apply(this,arguments)},l=function(){return this},f=function(e,t){return function(){var n,r=this._super;return this._super=s[e],n=t.apply(this,arguments),this._super=r,n}};n=!0,i=new this,n=!1,e.Mixins&&(r(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),s.Mixins&&(e.Mixins=s.Mixins.concat(e.Mixins))),e.Methods&&r(e.Methods.split(","),function(t){e[t]=l}),e.Properties&&r(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){return void 0!==e?(this[n]=e,this):this[n]}}),e.Statics&&r(e.Statics,function(e,t){u[t]=e}),e.Defaults&&s.Defaults&&(e.Defaults=o({},s.Defaults,e.Defaults));for(a in e)"function"==typeof(c=e[a])&&s[a]?i[a]=f(a,c):i[a]=c;return u.prototype=i,u.constructor=u,u.extend=t,u},i}),a("tinymce.core.util.Color",[],function(){var e=Math.min,t=Math.max,n=Math.round;return function(r){var o=this,i=0,a=0,c=0,s=function(r){var s;return"object"==typeof r?"r"in r?(i=r.r,a=r.g,c=r.b):"v"in r&&function(r,o,s){var u,l,f,d;if(r=(parseInt(r,10)||0)%360,o=parseInt(o,10)/100,s=parseInt(s,10)/100,o=t(0,e(o,1)),s=t(0,e(s,1)),0!==o){switch(u=r/60,l=s*o,f=l*(1-Math.abs(u%2-1)),d=s-l,Math.floor(u)){case 0:i=l,a=f,c=0;break;case 1:i=f,a=l,c=0;break;case 2:i=0,a=l,c=f;break;case 3:i=0,a=f,c=l;break;case 4:i=f,a=0,c=l;break;case 5:i=l,a=0,c=f;break;default:i=a=c=0}i=n(255*(i+d)),a=n(255*(a+d)),c=n(255*(c+d))}else i=a=c=n(255*s)}(r.h,r.s,r.v):(s=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(r))?(i=parseInt(s[1],10),a=parseInt(s[2],10),c=parseInt(s[3],10)):(s=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(r))?(i=parseInt(s[1],16),a=parseInt(s[2],16),c=parseInt(s[3],16)):(s=/#([0-F])([0-F])([0-F])/gi.exec(r))&&(i=parseInt(s[1]+s[1],16),a=parseInt(s[2]+s[2],16),c=parseInt(s[3]+s[3],16)),i=i<0?0:i>255?255:i,a=a<0?0:a>255?255:a,c=c<0?0:c>255?255:c,o};r&&s(r),o.toRgb=function(){return{r:i,g:a,b:c}},o.toHsv=function(){return function(r,o,i){var a,c,s,u,l,f;return a=0,c=0,s=0,r/=255,o/=255,i/=255,l=e(r,e(o,i)),f=t(r,t(o,i)),l==f?(s=l,{h:0,s:0,v:100*s}):(u=r==l?o-i:i==l?r-o:i-r,a=r==l?3:i==l?1:5,a=60*(a-u/(f-l)),c=(f-l)/f,s=f,{h:n(a),s:n(100*c),v:n(100*s)})}(i,a,c)},o.toHex=function(){var e=function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e};return"#"+e(i)+e(a)+e(c)},o.parse=s}}),a("tinymce.core.util.JSON",["global!window"],function(e){var t=function(e,n){var r,o,i,a;if(n=n||'"',null===e)return"null";if("string"==(i=typeof e))return o="\bb\tt\nn\ff\rr\"\"''\\\\",n+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(r=o.indexOf(t))+1?"\\"+o.charAt(r+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+n;if("object"==i){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(r=0,o="[";r<e.length;r++)o+=(r>0?",":"")+t(e[r],n);return o+"]"}o="{";for(a in e)e.hasOwnProperty(a)&&(o+="function"!=typeof e[a]?(o.length>1?","+n:n)+a+n+":"+t(e[a],n):"");return o+"}"}return""+e};return{serialize:t,parse:function(t){try{return e[String.fromCharCode(101)+"val"]("("+t+")")}catch(e){}}}}),a("tinymce.core.util.JSONP",["tinymce.core.dom.DOMUtils"],function(e){return{callbacks:{},count:0,send:function(t){var n=this,r=e.DOM,o=void 0!==t.count?t.count:n.count,i="tinymce_jsonp_"+o;n.callbacks[o]=function(e){r.remove(i),delete n.callbacks[o],t.callback(e)},r.add(r.doc.body,"script",{id:i,src:t.url,type:"text/javascript"}),n.count++}}}),a("tinymce.core.util.XHR",["ephox.sand.api.XMLHttpRequest","global!setTimeout","tinymce.core.util.Observable","tinymce.core.util.Tools"],function(e,t,n,r){var o={send:function(n){var i,a=0,c=function(){!n.async||4==i.readyState||a++>1e4?(n.success&&a<1e4&&200==i.status?n.success.call(n.success_scope,""+i.responseText,i,n):n.error&&n.error.call(n.error_scope,a>1e4?"TIMED_OUT":"GENERAL",i,n),i=null):t(c,10)};if(n.scope=n.scope||this,n.success_scope=n.success_scope||n.scope,n.error_scope=n.error_scope||n.scope,n.async=!1!==n.async,n.data=n.data||"",o.fire("beforeInitialize",{settings:n}),i=new e){if(i.overrideMimeType&&i.overrideMimeType(n.content_type),i.open(n.type||(n.data?"POST":"GET"),n.url,n.async),n.crossDomain&&(i.withCredentials=!0),n.content_type&&i.setRequestHeader("Content-Type",n.content_type),n.requestheaders&&r.each(n.requestheaders,function(e){i.setRequestHeader(e.key,e.value)}),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),(i=o.fire("beforeSend",{xhr:i,settings:n}).xhr).send(n.data),!n.async)return c();t(c,10)}}};return r.extend(o,n),o}),a("tinymce.core.util.JSONRequest",["tinymce.core.util.JSON","tinymce.core.util.XHR","tinymce.core.util.Tools"],function(e,t,n){var r=n.extend,o=function(e){this.settings=r({},e),this.count=0};return o.sendRPC=function(e){return(new o).send(e)},o.prototype={send:function(n){var o=n.error,i=n.success;(n=r(this.settings,n)).success=function(t,r){void 0===(t=e.parse(t))&&(t={error:"JSON Parse error."}),t.error?o.call(n.error_scope||n.scope,t.error,r):i.call(n.success_scope||n.scope,t.result)},n.error=function(e,t){o&&o.call(n.error_scope||n.scope,e,t)},n.data=e.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",t.send(n)}},o}),a("tinymce.core.util.LocalStorage",["global!document","global!window"],function(e,t){var n,r,o,i,a;try{if(t.localStorage)return t.localStorage}catch(e){}r=e.documentElement,(a=!!r.addBehavior)&&r.addBehavior("#default#userData");var c=function(){i=[];for(var e in o)i.push(e);n.length=i.length},s=function(){var e,t="";if(a){for(var n in o)e=o[n],t+=(t?",":"")+n.length.toString(32)+","+n+","+e.length.toString(32)+","+e;r.setAttribute("tinymce",t);try{r.save("tinymce")}catch(e){}c()}};return n={key:function(e){return i[e]},getItem:function(e){return e in o?o[e]:null},setItem:function(e,t){o[e]=""+t,s()},removeItem:function(e){delete o[e],s()},clear:function(){o={},s()}},function(){var e,t,n,i=0;if(o={},a){var s=function(e){var n,r;return-1===(r=void 0!==e?i+e:t.indexOf(",",i))||r>t.length?null:(n=t.substring(i,r),i=r+1,n)};r.load("tinymce"),t=r.getAttribute("tinymce")||"";do{var u=s();if(null===u)break;if(null!==(e=s(parseInt(u,32)||0))){if(null===(u=s()))break;n=s(parseInt(u,32)||0),e&&(o[e]=n)}}while(null!==e);c()}}(),n}),a("tinymce.core.api.Tinymce",["tinymce.core.AddOnManager","tinymce.core.Editor","tinymce.core.EditorCommands","tinymce.core.EditorManager","tinymce.core.EditorObservable","tinymce.core.Env","tinymce.core.Shortcuts","tinymce.core.UndoManager","tinymce.core.api.FocusManager","tinymce.core.api.Formatter","tinymce.core.api.NotificationManager","tinymce.core.api.WindowManager","tinymce.core.api.dom.BookmarkManager","tinymce.core.api.dom.RangeUtils","tinymce.core.api.dom.Serializer","tinymce.core.dom.ControlSelection","tinymce.core.dom.DOMUtils","tinymce.core.dom.DomQuery","tinymce.core.dom.EventUtils","tinymce.core.dom.ScriptLoader","tinymce.core.dom.Selection","tinymce.core.dom.Sizzle","tinymce.core.dom.TreeWalker","tinymce.core.geom.Rect","tinymce.core.html.DomParser","tinymce.core.html.Entities","tinymce.core.html.Node","tinymce.core.html.SaxParser","tinymce.core.html.Schema","tinymce.core.html.Serializer","tinymce.core.html.Styles","tinymce.core.html.Writer","tinymce.core.ui.Factory","tinymce.core.util.Class","tinymce.core.util.Color","tinymce.core.util.Delay","tinymce.core.util.EventDispatcher","tinymce.core.util.I18n","tinymce.core.util.JSON","tinymce.core.util.JSONP","tinymce.core.util.JSONRequest","tinymce.core.util.LocalStorage","tinymce.core.util.Observable","tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.core.util.URI","tinymce.core.util.VK","tinymce.core.util.XHR"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m,h,g,v,y,b,x,w,C,k,T,_,S,E,A,N,D,R,P,O,B,I,M,L,F,U,H,z,j,W,$,q,V,K){var G=r,X={geom:{Rect:k},util:{Promise:W,Delay:I,Tools:$,VK:V,URI:q,Class:O,EventDispatcher:M,Observable:j,I18n:L,XHR:K,JSON:F,JSONRequest:H,JSONP:U,LocalStorage:z,Color:B},dom:{EventUtils:y,Sizzle:w,DomQuery:v,TreeWalker:C,DOMUtils:g,ScriptLoader:b,RangeUtils:p,Serializer:m,ControlSelection:h,BookmarkManager:d,Selection:x,Event:y.Event},html:{Styles:D,Entities:_,Node:S,Schema:A,SaxParser:E,DomParser:T,Writer:R,Serializer:N},ui:{Factory:P},Env:i,AddOnManager:e,Formatter:u,UndoManager:c,EditorCommands:n,WindowManager:f,NotificationManager:l,EditorObservable:o,Shortcuts:a,Editor:t,FocusManager:s,EditorManager:r,DOM:g.DOM,ScriptLoader:b.ScriptLoader,PluginManager:e.PluginManager,ThemeManager:e.ThemeManager,trim:$.trim,isArray:$.isArray,is:$.is,toArray:$.toArray,makeMap:$.makeMap,each:$.each,map:$.map,grep:$.grep,inArray:$.inArray,extend:$.extend,create:$.create,walk:$.walk,createNS:$.createNS,resolve:$.resolve,explode:$.explode,_addCacheSuffix:$._addCacheSuffix,isOpera:i.opera,isWebKit:i.webkit,isIE:i.ie,isGecko:i.gecko,isMac:i.mac};return G=$.extend(G,X)}),a("tinymce.core.api.Main",["ephox.katamari.api.Fun","global!window","tinymce.core.api.Tinymce"],function(t,n,r){var o=this||n;return function(){return function(e){n.tinymce=e,n.tinyMCE=e}(r),function(n){"function"!=typeof o.define||o.define.amd||(o.define("ephox/tinymce",[],t.constant(n)),o.define("tinymce.core.EditorManager",[],t.constant(n))),e.exports=n}(r),r}}),o("tinymce.core.api.Main")()}()}).call(t,n(5).setImmediate)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t,i=function(e,t){o(e,[],function(){return t})};i("global!window",window),i("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.ThemeManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.ThemeManager")}),o("tinymce.core.EditorManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.EditorManager")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.themes.modern.api.Settings",["tinymce.core.EditorManager","tinymce.core.util.Tools"],function(e,t){var n=function(e){return e.getParam("menubar")};return{isBrandingEnabled:function(e){return e.getParam("branding",!0)},hasMenubar:function(e){return!1!==n(e)},getMenubar:n,hasStatusbar:function(e){return e.getParam("statusbar",!0)},getToolbarSize:function(e){return e.getParam("toolbar_items_size")},getResize:function(e){var t=e.getParam("resize","vertical");return!1===t?"none":"both"===t?"both":"vertical"},isReadOnly:function(e){return e.getParam("readonly",!1)},getFixedToolbarContainer:function(e){return e.getParam("fixed_toolbar_container")},getInlineToolbarPositionHandler:function(e){return e.getParam("inline_toolbar_position_handler")},getMenu:function(e){return e.getParam("menu")},getRemovedMenuItems:function(e){return e.getParam("removed_menuitems","")},getMinWidth:function(e){return e.getParam("min_width",100)},getMinHeight:function(e){return e.getParam("min_height",100)},getMaxWidth:function(e){return e.getParam("max_width",65535)},getMaxHeight:function(e){return e.getParam("max_height",65535)},getSkinUrl:function(t){var n=t.settings,r=n.skin,o=n.skin_url;if(!1!==r){var i=r||"lightgray";o=o?t.documentBaseURI.toAbsolute(o):e.baseURL+"/skins/"+i}return o},isSkinDisabled:function(e){return!1===e.settings.skin},isInline:function(e){return e.getParam("inline",!1)},getToolbars:function(e){var n=e.getParam("toolbar");return!1===n?[]:t.isArray(n)?t.grep(n,function(e){return e.length>0}):function(e,t){for(var n=[],r=1;r<10;r++){var o=e["toolbar"+r];if(!o)break;n.push(o)}var i=e.toolbar?[e.toolbar]:[t];return n.length>0?n:i}(e.settings,"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image")}}}),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.core.ui.Factory",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.ui.Factory")}),o("tinymce.core.util.I18n",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.I18n")}),o("tinymce.themes.modern.api.Events",[],function(){return{fireSkinLoaded:function(e){return e.fire("SkinLoaded")},fireResizeEditor:function(e){return e.fire("ResizeEditor")},fireBeforeRenderUI:function(e){return e.fire("BeforeRenderUI")}}}),o("tinymce.themes.modern.ui.A11y",[],function(){var e=function(e,t){return function(){var n=e.find(t)[0];n&&n.focus(!0)}};return{addKeys:function(t,n){t.shortcuts.add("Alt+F9","",e(n,"menubar")),t.shortcuts.add("Alt+F10,F10","",e(n,"toolbar")),t.shortcuts.add("Alt+F11","",e(n,"elementpath")),n.on("cancel",function(){t.focus()})}}}),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),o("tinymce.core.geom.Rect",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.geom.Rect")}),o("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Delay")}),i("global!Array",Array),i("global!Error",Error),o("ephox.katamari.api.Fun",["global!Array","global!Error"],function(e,t){var n=function(e){return function(){return e}};return{noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:n,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(t){for(var n=new e(arguments.length-1),r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){for(var r=new e(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];var i=n.concat(r);return t.apply(null,i)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new t(e)}},apply:function(e){return e()},call:function(e){e()},never:n(!1),always:n(!0)}}),i("global!Object",Object),o("ephox.katamari.api.Option",["ephox.katamari.api.Fun","global!Object"],function(e,t){var n=e.never,r=e.always,o=function(){return i},i=function(){var i=function(e){return e.isNone()},a=function(e){return e()},c=function(e){return e},s={fold:function(e,t){return e()},is:n,isSome:n,isNone:r,getOr:c,getOrThunk:a,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:c,orThunk:a,map:o,ap:o,each:function(){},bind:o,flatten:o,exists:n,forall:r,filter:o,equals:i,equals_:i,toArray:function(){return[]},toString:e.constant("none()")};return t.freeze&&t.freeze(s),s}(),a=function(e){var t=function(){return e},c=function(){return u},s=function(t){return t(e)},u={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:r,isNone:n,getOr:t,getOrThunk:t,getOrDie:t,or:c,orThunk:c,map:function(t){return a(t(e))},ap:function(t){return t.fold(o,function(t){return a(t(e))})},each:function(t){t(e)},bind:s,flatten:t,exists:s,forall:s,filter:function(t){return t(e)?u:i},equals:function(t){return t.is(e)},equals_:function(t,r){return t.fold(n,function(t){return r(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return u};return{some:a,none:o,from:function(e){return null===e||void 0===e?i:a(e)}}}),o("tinymce.themes.modern.alien.UiContainer",["ephox.katamari.api.Option","tinymce.core.Env","tinymce.core.dom.DOMUtils"],function(e,t,n){return{getUiContainerDelta:function(){var r=t.container;if(r&&"static"!==n.DOM.getStyle(r,"position",!0)){var o=n.DOM.getPos(r),i=r.scrollLeft-o.x,a=r.scrollTop-o.y;return e.some({x:i,y:a})}return e.none()}}}),o("tinymce.themes.modern.ui.Toolbar",["tinymce.core.ui.Factory","tinymce.core.util.Tools","tinymce.themes.modern.api.Settings"],function(e,t,n){var r=function(n,r,o){var i,a=[];if(r)return t.each(r.split(/[ ,]/),function(t){var r,c=function(){var e=n.selection;t.settings.stateSelector&&e.selectorChanged(t.settings.stateSelector,function(e){t.active(e)},!0),t.settings.disabledStateSelector&&e.selectorChanged(t.settings.disabledStateSelector,function(e){t.disabled(e)})};"|"===t?i=null:(i||(i={type:"buttongroup",items:[]},a.push(i)),n.buttons[t]&&(r=t,"function"==typeof(t=n.buttons[r])&&(t=t()),t.type=t.type||"button",t.size=o,t=e.create(t),i.items.push(t),n.initialized?c():n.on("init",c)))}),{type:"toolbar",layout:"flow",items:a}};return{createToolbar:r,createToolbars:function(e,o){var i=[];if(t.each(n.getToolbars(e),function(t){!function(t){t&&i.push(r(e,t,o))}(t)}),i.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:i}}}}),o("tinymce.themes.modern.ui.ContextToolbars",["tinymce.core.Env","tinymce.core.dom.DOMUtils","tinymce.core.geom.Rect","tinymce.core.ui.Factory","tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.themes.modern.alien.UiContainer","tinymce.themes.modern.api.Settings","tinymce.themes.modern.ui.Toolbar"],function(e,t,n,r,o,i,a,c,s){var u=t.DOM,l=function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}},f=function(e,t){e.moveTo(t.left,t.top)},d=function(e,t,n,r,o,i){return i=l({x:t,y:n,w:i.w,h:i.h}),e&&(i=e({elementRect:l(r),contentAreaRect:l(o),panelRect:i})),i};return{addContextualToolbars:function(t){var l,p=function(){return t.contextToolbars||[]},m=function(e,r){var o,s,l,p,m,h,g,v=c.getInlineToolbarPositionHandler(t);if(!t.removed)if(e&&e.toolbar.panel){g=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],m=e.toolbar.panel,r&&m.show(),l=function(e){var n,r,o;return n=u.getPos(t.getContentAreaContainer()),r=t.dom.getRect(e),"BODY"===(o=t.dom.getRoot()).nodeName&&(r.x-=o.ownerDocument.documentElement.scrollLeft||o.scrollLeft,r.y-=o.ownerDocument.documentElement.scrollTop||o.scrollTop),r.x+=n.x,r.y+=n.y,r}(e.element),s=u.getRect(m.getEl()),p=u.getRect(t.getContentAreaContainer()||t.getBody());var y=a.getUiContainerDelta().getOr({x:0,y:0});if(l.x+=y.x,l.y+=y.y,s.x+=y.x,s.y+=y.y,p.x+=y.x,p.y+=y.y,"inline"!==u.getStyle(e.element,"display",!0)){var b=e.element.getBoundingClientRect();l.w=b.width,l.h=b.height}t.inline||(p.w=t.getDoc().documentElement.offsetWidth),t.selection.controlSelection.isResizable(e.element)&&l.w<25&&(l=n.inflate(l,0,8)),o=n.findBestRelativePosition(s,l,p,g),l=n.clamp(l,p),o?(h=n.relativePosition(s,l,o),f(m,d(v,h.x,h.y,l,p,s))):(p.h+=s.h,(l=n.intersect(p,l))?(o=n.findBestRelativePosition(s,l,p,["bc-tc","bl-tl","br-tr"]))?(h=n.relativePosition(s,l,o),f(m,d(v,h.x,h.y,l,p,s))):f(m,d(v,l.x,l.y,l,p,s)):m.hide()),function(e,t,n){t=t?t.substr(0,2):"",i.each({t:"down",b:"up"},function(r,o){e.classes.toggle("arrow-"+r,n(o,t.substr(0,1)))}),i.each({l:"left",r:"right"},function(r,o){e.classes.toggle("arrow-"+r,n(o,t.substr(1,1)))})}(m,o,function(e,t){return e===t})}else!function(e){i.each(e.contextToolbars,function(e){e.panel&&e.panel.hide()})}(t)},h=function(e){return function(){o.requestAnimationFrame(function(){t.selection&&m(y(t.selection.getNode()),e)})}},g=function(n){var o;if(n.toolbar.panel)return n.toolbar.panel.show(),void m(n);!function(){if(!l){var n=h(!0);l=t.selection.getScrollContainer()||t.getWin(),u.bind(l,"scroll",n),u.bind(e.container,"scroll",n),t.on("remove",function(){u.unbind(l,"scroll",n),u.unbind(e.container,"scroll",n)})}}(),o=r.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:s.createToolbar(t,n.toolbar.items),oncancel:function(){t.focus()}}),n.toolbar.panel=o,o.renderTo().reflow(),m(n)},v=function(){i.each(p(),function(e){e.panel&&e.panel.hide()})},y=function(e){var n,r,o,i=p();for(n=(o=t.$(e).parents().add(e)).length-1;n>=0;n--)for(r=i.length-1;r>=0;r--)if(i[r].predicate(o[n]))return{toolbar:i[r],element:o[n]};return null};t.on("click keyup setContent ObjectResized",function(e){("setcontent"!==e.type||e.selection)&&o.setEditorTimeout(t,function(){var e;(e=y(t.selection.getNode()))?(v(),g(e)):v()})}),t.on("blur hide contextmenu",v),t.on("ObjectResizeStart",function(){var e=y(t.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.hide()}),t.on("ResizeEditor ResizeWindow",h(!0)),t.on("nodeChange",h(!1)),t.on("remove",function(){i.each(p(),function(e){e.panel&&e.panel.remove()}),t.contextToolbars={}}),t.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var e=y(t.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.items()[0].focus()})}}}),i("global!String",String),o("ephox.katamari.api.Arr",["ephox.katamari.api.Option","global!Array","global!Error","global!String"],function(e,t,n,r){var o=function(){var e=t.prototype.indexOf;return void 0===e?function(e,t){return f(e,t)}:function(t,n){return e.call(t,n)}}(),i=function(e,t){return o(e,t)>-1},a=function(e,n){for(var r=e.length,o=new t(r),i=0;i<r;i++){var a=e[i];o[i]=n(a,i,e)}return o},c=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n,e)}},s=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n,e)}},u=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},l=function(t,n){for(var r=0,o=t.length;r<o;r++){if(n(t[r],r,t))return e.some(r)}return e.none()},f=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},d=t.prototype.push,p=function(e){for(var r=[],o=0,i=e.length;o<i;++o){if(!t.prototype.isPrototypeOf(e[o]))throw new n("Arr.flatten item "+o+" was not an array, input: "+e);d.apply(r,e[o])}return r},m=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n,e))return!1}return!0},h=t.prototype.slice;return{map:a,each:c,eachr:s,partition:function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o,e)?n:r).push(a)}return{pass:n,fail:r}},filter:u,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var c=e[i],s=t(c);s!==n&&(r.push(o),o=[]),n=s,o.push(c)}return 0!==o.length&&r.push(o),r},indexOf:function(t,n){var r=o(t,n);return-1===r?e.none():e.some(r)},foldr:function(e,t,n){return s(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return c(e,function(e){n=t(n,e)}),n},find:function(t,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(n(i,r,t))return e.some(i)}return e.none()},findIndex:l,flatten:p,bind:function(e,t){var n=a(e,t);return p(n)},forall:m,exists:function(e,t){return l(e,t).isSome()},contains:i,equal:function(e,t){return e.length===t.length&&m(e,function(e,n){return e===t[n]})},reverse:function(e){var t=h.call(e,0);return t.reverse(),t},chunk:function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=e.slice(r,r+t);n.push(o)}return n},difference:function(e,t){return u(e,function(e){return!i(t,e)})},mapToObject:function(e,t){for(var n={},o=0,i=e.length;o<i;o++){var a=e[o];n[r(a)]=t(a,o)}return n},pure:function(e){return[e]},sort:function(e,t){var n=h.call(e,0);return n.sort(t),n},range:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},head:function(t){return 0===t.length?e.none():e.some(t[0])},last:function(t){return 0===t.length?e.none():e.some(t[t.length-1])}}}),o("tinymce.themes.modern.ui.Menubar",["ephox.katamari.api.Arr","tinymce.core.util.Tools","tinymce.themes.modern.api.Settings"],function(e,t,n){var r={file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck"},table:{title:"Table"},help:{title:"Help"}},o=function(e,t){return"|"===e?{name:"|",item:{text:"|"}}:t?{name:e,item:t}:null},i=function(e){return e&&"|"===e.item.text},a=function(n,a,c,s){var u,l,f,d;return a?(l=a[s],d=!0):l=r[s],l&&(u={text:l.title},f=[],t.each((l.items||"").split(/[ ,]/),function(e){var t=o(e,n[e]);t&&f.push(t)}),d||t.each(n,function(t,n){t.context!==s||function(t,n){return e.findIndex(t,function(e){return e.name===n}).isSome()}(f,n)||("before"===t.separator&&f.push({name:"|",item:{text:"|"}}),t.prependToContext?f.unshift(o(n,t)):f.push(o(n,t)),"after"===t.separator&&f.push({name:"|",item:{text:"|"}}))}),u.menu=e.map(function(t,n){var r=e.filter(t,function(e){return!1===n.hasOwnProperty(e.name)}),o=e.filter(r,function(e,t,n){return!i(e)||!i(n[t-1])});return e.filter(o,function(e,t,n){return!i(e)||t>0&&t<n.length-1})}(f,c),function(e){return e.item}),!u.menu.length)?null:u};return{createMenuButtons:function(e){for(var o=[],i=function(e){var t,o=[],i=n.getMenu(e);if(i)for(t in i)o.push(t);else for(t in r)o.push(t);return o}(e),c=t.makeMap(n.getRemovedMenuItems(e).split(/[ ,]/)),s=n.getMenubar(e),u="string"==typeof s?s.split(/[ ,]/):i,l=0;l<u.length;l++){var f=u[l],d=a(e.menuItems,n.getMenu(e),c,f);d&&o.push(d)}return o}}}),o("tinymce.themes.modern.ui.Resize",["tinymce.core.dom.DOMUtils","tinymce.themes.modern.api.Events","tinymce.themes.modern.api.Settings"],function(e,t,n){var r=e.DOM,o=function(e){return{width:e.clientWidth,height:e.clientHeight}},i=function(e,i,a){var c,s,u,l;c=e.getContainer(),s=e.getContentAreaContainer().firstChild,u=o(c),l=o(s),null!==i&&(i=Math.max(n.getMinWidth(e),i),i=Math.min(n.getMaxWidth(e),i),r.setStyle(c,"width",i+(u.width-l.width)),r.setStyle(s,"width",i)),a=Math.max(n.getMinHeight(e),a),a=Math.min(n.getMaxHeight(e),a),r.setStyle(s,"height",a),t.fireResizeEditor(e)};return{resizeTo:i,resizeBy:function(e,t,n){var r=e.getContentAreaContainer();i(e,r.clientWidth+t,r.clientHeight+n)}}}),o("tinymce.themes.modern.ui.Sidebar",["tinymce.core.Env","tinymce.core.ui.Factory","tinymce.core.util.Tools","tinymce.themes.modern.api.Events"],function(e,t,n,r){var o=function(e,t,n){var r=e.settings[n];r&&r(function(e){return{element:function(){return e}}}(t.getEl("body")))},i=function(e,i,a){return function(c){var s=c.control,u=s.parents().filter("panel")[0],l=u.find("#"+i)[0],f=function(e,t){return n.grep(e,function(e){return e.name===t})[0]}(a,i);!function(e,t,r){n.each(r,function(n){var r=t.items().filter("#"+n.name)[0];r&&r.visible()&&n.name!==e&&(o(n,r,"onhide"),r.visible(!1))})}(i,u,a),function(e){e.items().each(function(e){e.active(!1)})}(s.parent()),l&&l.visible()?(o(f,l,"onhide"),l.hide(),s.active(!1)):(l?(l.show(),o(f,l,"onshow")):(l=t.create({type:"container",name:i,layout:"stack",classes:"sidebar-panel",html:""}),u.prepend(l),o(f,l,"onrender"),o(f,l,"onshow")),s.active(!0)),r.fireResizeEditor(e)}};return{hasSidebar:function(t){return!(e.ie&&!(e.ie>=11)||!t.sidebars)&&t.sidebars.length>0},createSidebar:function(e){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:n.map(e.sidebars,function(t){var n=t.settings;return{type:"button",icon:n.icon,image:n.image,tooltip:n.tooltip,onclick:i(e,t.name,e.sidebars)}})}]}}}}),o("tinymce.themes.modern.ui.SkinLoaded",["tinymce.themes.modern.api.Events"],function(e){return{fireSkinLoaded:function(t){var n=function(){t._skinLoaded=!0,e.fireSkinLoaded(t)};return function(){t.initialized?n():t.on("init",n)}}}}),o("tinymce.themes.modern.modes.Iframe",["tinymce.core.dom.DOMUtils","tinymce.core.ui.Factory","tinymce.core.util.I18n","tinymce.core.util.Tools","tinymce.themes.modern.api.Events","tinymce.themes.modern.api.Settings","tinymce.themes.modern.ui.A11y","tinymce.themes.modern.ui.ContextToolbars","tinymce.themes.modern.ui.Menubar","tinymce.themes.modern.ui.Resize","tinymce.themes.modern.ui.Sidebar","tinymce.themes.modern.ui.SkinLoaded","tinymce.themes.modern.ui.Toolbar"],function(e,t,n,r,o,i,a,c,s,u,l,f,d){var p=e.DOM,m=function(e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:e,html:""}};return{render:function(e,r,h){var g,v,y;if(!1===i.isSkinDisabled(e)&&h.skinUiCss?p.styleSheetLoader.load(h.skinUiCss,f.fireSkinLoaded(e)):f.fireSkinLoaded(e)(),g=r.panel=t.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[{type:"container",classes:"top-part",items:[!1===i.hasMenubar(e)?null:{type:"menubar",border:"0 0 1 0",items:s.createMenuButtons(e)},d.createToolbars(e,i.getToolbarSize(e))]},l.hasSidebar(e)?function(e){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[m("0"),l.createSidebar(e)]}}(e):m("1 0 0 0")]}),"none"!==i.getResize(e)&&(v={type:"resizehandle",direction:i.getResize(e),onResizeStart:function(){var t=e.getContentAreaContainer().firstChild;y={width:t.clientWidth,height:t.clientHeight}},onResize:function(t){"both"===i.getResize(e)?u.resizeTo(e,y.width+t.deltaX,y.height+t.deltaY):u.resizeTo(e,null,y.height+t.deltaY)}}),i.hasStatusbar(e)){var b=n.translate(["Powered by {0}",'<a href="https://www.tinymce.com/?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce" rel="noopener" target="_blank">tinymce</a>']),x=i.isBrandingEnabled(e)?{type:"label",classes:"branding",html:" "+b}:null;g.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:e},v,x]})}return o.fireBeforeRenderUI(e),e.on("SwitchMode",function(e){return function(t){e.find("*").disabled("readonly"===t.mode)}}(g)),g.renderBefore(h.targetNode).reflow(),i.isReadOnly(e)&&e.setMode("readonly"),h.width&&p.setStyle(g.getEl(),"width",h.width),e.on("remove",function(){g.remove(),g=null}),a.addKeys(e,g),c.addContextualToolbars(e),{iframeContainer:g.find("#iframe")[0].getEl(),editorContainer:g.getEl()}}}}),i("global!document",document),o("tinymce.core.dom.DomQuery",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DomQuery")}),o("tinymce.ui.DomUtils",["global!document","tinymce.core.dom.DOMUtils","tinymce.core.Env","tinymce.core.util.Tools"],function(e,t,n,r){"use strict";var o=0,i={id:function(){return"mceu_"+o++},create:function(n,o,i){var a=e.createElement(n);return t.DOM.setAttribs(a,o),"string"==typeof i?a.innerHTML=i:r.each(i,function(e){e.nodeType&&a.appendChild(e)}),a},createFragment:function(e){return t.DOM.createFragment(e)},getWindowSize:function(){return t.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var r=e.getBoundingClientRect();t=Math.max(r.width||r.right-r.left,e.offsetWidth),n=Math.max(r.height||r.bottom-r.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,n){return t.DOM.getPos(e,n||i.getContainer())},getContainer:function(){return n.container?n.container:e.body},getViewPort:function(e){return t.DOM.getViewPort(e)},get:function(t){return e.getElementById(t)},addClass:function(e,n){return t.DOM.addClass(e,n)},removeClass:function(e,n){return t.DOM.removeClass(e,n)},hasClass:function(e,n){return t.DOM.hasClass(e,n)},toggleClass:function(e,n,r){return t.DOM.toggleClass(e,n,r)},css:function(e,n,r){return t.DOM.setStyle(e,n,r)},getRuntimeStyle:function(e,n){return t.DOM.getStyle(e,n,!0)},on:function(e,n,r,o){return t.DOM.bind(e,n,r,o)},off:function(e,n,r){return t.DOM.unbind(e,n,r)},fire:function(e,n,r){return t.DOM.fire(e,n,r)},innerHtml:function(e,n){t.DOM.setHTML(e,n)}};return i}),o("tinymce.ui.Movable",["global!document","global!window","tinymce.ui.DomUtils"],function(e,t,n){"use strict";function r(t,r,o){var i,a,c,s,u,l,f,d,p,m;return p=n.getViewPort(),a=n.getPos(r),c=a.x,s=a.y,t.state.get("fixed")&&"static"==n.getRuntimeStyle(e.body,"position")&&(c-=p.x,s-=p.y),i=t.getEl(),m=n.getSize(i),u=m.width,l=m.height,m=n.getSize(r),f=m.width,d=m.height,"b"===(o=(o||"").split(""))[0]&&(s+=d),"r"===o[1]&&(c+=f),"c"===o[0]&&(s+=Math.round(d/2)),"c"===o[1]&&(c+=Math.round(f/2)),"b"===o[3]&&(s-=l),"r"===o[4]&&(c-=u),"c"===o[3]&&(s-=Math.round(l/2)),"c"===o[4]&&(c-=Math.round(u/2)),{x:c,y:s,w:u,h:l}}return{testMoveRel:function(e,t){for(var o=n.getViewPort(),i=0;i<t.length;i++){var a=r(this,e,t[i]);if(this.state.get("fixed")){if(a.x>0&&a.x+a.w<o.w&&a.y>0&&a.y+a.h<o.h)return t[i]}else if(a.x>o.x&&a.x+a.w<o.w+o.x&&a.y>o.y&&a.y+a.h<o.h+o.y)return t[i]}return t[0]},moveRel:function(e,t){"string"!=typeof t&&(t=this.testMoveRel(e,t));var n=r(this,e,t);return this.moveTo(n.x,n.y)},moveBy:function(e,t){var n=this.layoutRect();return this.moveTo(n.x+e,n.y+t),this},moveTo:function(e,r){function o(e,t,n){return e<0?0:e+n>t&&(e=t-n)<0?0:e}if(this.settings.constrainToViewport){var i=n.getViewPort(t),a=this.layoutRect();e=o(e,i.w+i.x,a.w),r=o(r,i.h+i.y,a.h)}return this.state.get("rendered")?this.layoutRect({x:e,y:r}).repaint():(this.settings.x=e,this.settings.y=r),this.fire("move",{x:e,y:r}),this}}}),o("tinymce.core.util.Class",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Class")}),o("tinymce.core.util.EventDispatcher",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.EventDispatcher")}),o("tinymce.ui.BoxUtils",[],function(){"use strict";return{parseBox:function(e){var t;if(e)return"number"==typeof e?(e=e||0,{top:e,left:e,bottom:e,right:e}):(e=e.split(" "),1===(t=e.length)?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0})},measureBox:function(e,t){function n(t){var n=parseFloat(function(t){var n=e.ownerDocument.defaultView;if(n){var r=n.getComputedStyle(e,null);return r?(t=t.replace(/[A-Z]/g,function(e){return"-"+e}),r.getPropertyValue(t)):null}return e.currentStyle[t]}(t),10);return isNaN(n)?0:n}return{top:n(t+"TopWidth"),right:n(t+"RightWidth"),bottom:n(t+"BottomWidth"),left:n(t+"LeftWidth")}}}}),o("tinymce.ui.ClassList",["tinymce.core.util.Tools"],function(e){"use strict";function t(e){this.cls=[],this.cls._map={},this.onchange=e||function(){},this.prefix=""}return e.extend(t.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),t.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)t>0&&(e+=" "),e+=this.prefix+this.cls[t];return e},t}),o("tinymce.ui.Selector",["tinymce.core.util.Class"],function(e){"use strict";var t,n=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,o=/^\s*|\s*$/g,i=e.extend({init:function(e){function t(e,t,r){function c(e){e&&t.push(e)}var s;return s=n.exec(e.replace(o,"")),c(function(e){if(e)return e=e.toLowerCase(),function(t){return"*"===e||t.type===e}}(s[1])),c(function(e){if(e)return function(t){return t._name===e}}(s[2])),c(function(e){if(e)return e=e.split("."),function(t){for(var n=e.length;n--;)if(!t.classes.contains(e[n]))return!1;return!0}}(s[3])),c(function(e,t,n){if(e)return function(r){var o=r[e]?r[e]():"";return t?"="===t?o===n:"*="===t?o.indexOf(n)>=0:"~="===t?(" "+o+" ").indexOf(" "+n+" ")>=0:"!="===t?o!=n:"^="===t?0===o.indexOf(n):"$="===t&&o.substr(o.length-n.length)===n:!!n}}(s[4],s[5],s[6])),c(function(e){var t;if(e)return(e=/(?:not\((.+)\))|(.+)/i.exec(e))[1]?(t=i(e[1],[]),function(e){return!a(e,t)}):(e=e[2],function(t,n,r){return"first"===e?0===n:"last"===e?n===r-1:"even"===e?n%2==0:"odd"===e?n%2==1:!!t[e]&&t[e]()})}(s[7])),t.pseudo=!!s[7],t.direct=r,t}function i(e,n){var o,a,c,s=[];do{if(r.exec(""),(a=r.exec(e))&&(e=a[3],s.push(a[1]),a[2])){o=a[3];break}}while(a);for(o&&i(o,n),e=[],c=0;c<s.length;c++)">"!=s[c]&&e.push(t(s[c],[],">"===s[c-1]));return n.push(e),n}var a=this.match;this._selectors=i(e,[])},match:function(e,t){var n,r,o,i,a,c,s,u,l,f,d,p,m;for(n=0,r=(t=t||this._selectors).length;n<r;n++){for(m=e,p=0,o=(i=(a=t[n]).length)-1;o>=0;o--)for(u=a[o];m;){if(u.pseudo)for(l=f=(d=m.parent().items()).length;l--&&d[l]!==m;);for(c=0,s=u.length;c<s;c++)if(!u[c](m,l,f)){c=s+1;break}if(c===s){p++;break}if(o===i-1)break;m=m.parent()}if(p===i)return!0}return!1},find:function(e){function n(e,t,r){var o,i,c,s,u,l=t[r];for(o=0,i=e.length;o<i;o++){for(u=e[o],c=0,s=l.length;c<s;c++)if(!l[c](u,o,i)){c=s+1;break}if(c===s)r==t.length-1?a.push(u):u.items&&n(u.items(),t,r+1);else if(l.direct)return;u.items&&n(u.items(),t,r)}}var r,o,a=[],c=this._selectors;if(e.items){for(r=0,o=c.length;r<o;r++)n(e.items(),c[r],0);o>1&&(a=function(e){for(var t,n=[],r=e.length;r--;)(t=e[r]).__checked||(n.push(t),t.__checked=1);for(r=n.length;r--;)delete n[r].__checked;return n}(a))}return t||(t=i.Collection),new t(a)}});return i}),o("tinymce.ui.Collection",["tinymce.core.util.Tools","tinymce.ui.Selector","tinymce.core.util.Class"],function(e,t,n){"use strict";var r,o,i=Array.prototype.push,a=Array.prototype.slice;return o={length:0,init:function(e){e&&this.add(e)},add:function(t){return e.isArray(t)?i.apply(this,t):t instanceof r?this.add(t.toArray()):i.call(this,t),this},set:function(e){var t,n=this.length;for(this.length=0,this.add(e),t=this.length;t<n;t++)delete this[t];return this},filter:function(e){var n,o,i,a,c=[];for("string"==typeof e?(e=new t(e),a=function(t){return e.match(t)}):a=e,n=0,o=this.length;n<o;n++)a(i=this[n])&&c.push(i);return new r(c)},slice:function(){return new r(a.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(t){return e.each(this,t),this},toArray:function(){return e.toArray(this)},indexOf:function(e){for(var t=this.length;t--&&this[t]!==e;);return t},reverse:function(){return new r(e.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(e,t){var n;return void 0!==t?(this.each(function(n){n[e]&&n[e](t)}),this):(n=this[0])&&n[e]?n[e]():void 0},exec:function(t){var n=e.toArray(arguments).slice(1);return this.each(function(e){e[t]&&e[t].apply(e,n)}),this},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(e){return this.each(function(t){t.classes.add(e)})},removeClass:function(e){return this.each(function(t){t.classes.remove(e)})}},e.each("fire on off show hide append prepend before after reflow".split(" "),function(t){o[t]=function(){var n=e.toArray(arguments);return this.each(function(e){t in e&&e[t].apply(e,n)}),this}}),e.each("text name disabled active selected checked visible parent value data".split(" "),function(e){o[e]=function(t){return this.prop(e,t)}}),r=n.extend(o),t.Collection=r,r}),o("tinymce.ui.data.Binding",[],function(){function e(e){this.create=e.create}return e.create=function(t,n){return new e({create:function(e,r){function o(t){e.set(r,t.value)}var i;return e.on("change:"+r,function(e){t.set(n,e.value)}),t.on("change:"+n,o),(i=e._bindings)||(i=e._bindings=[],e.on("destroy",function(){for(var e=i.length;e--;)i[e]()})),i.push(function(){t.off("change:"+n,o)}),t.get(n)}})},e}),o("tinymce.core.util.Observable",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Observable")}),o("tinymce.ui.data.ObservableObject",["tinymce.ui.data.Binding","tinymce.core.util.Class","tinymce.core.util.Observable","tinymce.core.util.Tools"],function(e,t,n,r){function o(e){return e.nodeType>0}function i(e,t){var n,a;if(e===t)return!0;if(null===e||null===t)return e===t;if("object"!=typeof e||"object"!=typeof t)return e===t;if(r.isArray(t)){if(e.length!==t.length)return!1;for(n=e.length;n--;)if(!i(e[n],t[n]))return!1}if(o(e)||o(t))return e===t;a={};for(n in t){if(!i(e[n],t[n]))return!1;a[n]=!0}for(n in e)if(!a[n]&&!i(e[n],t[n]))return!1;return!0}return t.extend({Mixins:[n],init:function(t){var n,r;t=t||{};for(n in t)(r=t[n])instanceof e&&(t[n]=r.create(this,n));this.data=t},set:function(t,n){var r,o,a=this.data[t];if(n instanceof e&&(n=n.create(this,t)),"object"==typeof t){for(r in t)this.set(r,t[r]);return this}return i(a,n)||(this.data[t]=n,o={target:this,name:t,value:n,oldValue:a},this.fire("change:"+t,o),this.fire("change",o)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(t){return e.create(this,t)},destroy:function(){this.fire("destroy")}})}),o("tinymce.ui.ReflowQueue",["global!document","tinymce.core.util.Delay"],function(e,t){var n,r={};return{add:function(o){var i=o.parent();if(i){if(!i._layout||i._layout.isNative())return;r[i._id]||(r[i._id]=i),n||(n=!0,t.requestAnimationFrame(function(){var e,t;n=!1;for(e in r)(t=r[e]).state.get("rendered")&&t.reflow();r={}},e.body))}},remove:function(e){r[e._id]&&delete r[e._id]}}}),o("tinymce.ui.Control",["global!document","tinymce.core.dom.DomQuery","tinymce.core.util.Class","tinymce.core.util.EventDispatcher","tinymce.core.util.Tools","tinymce.ui.BoxUtils","tinymce.ui.ClassList","tinymce.ui.Collection","tinymce.ui.data.ObservableObject","tinymce.ui.DomUtils","tinymce.ui.ReflowQueue"],function(e,t,n,r,o,i,a,c,s,u,l){"use strict";function f(e){return e._eventDispatcher||(e._eventDispatcher=new r({scope:e,toggleEvent:function(t,n){n&&r.isNative(t)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e.state.get("rendered")&&d(e))}})),e._eventDispatcher}function d(e){function n(t){var n=e.getParentCtrl(t.target);n&&n.fire(t.type,t)}function r(){var e=u._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),u._lastHoverCtrl=null)}function o(t){var n,r,o,i=e.getParentCtrl(t.target),a=u._lastHoverCtrl,c=0;if(i!==a){if(u._lastHoverCtrl=i,(r=i.parents().toArray().reverse()).push(i),a){for((o=a.parents().toArray().reverse()).push(a),c=0;c<o.length&&r[c]===o[c];c++);for(n=o.length-1;n>=c;n--)(a=o[n]).fire("mouseleave",{target:a.getEl()})}for(n=c;n<r.length;n++)(i=r[n]).fire("mouseenter",{target:i.getEl()})}}function i(t){t.preventDefault(),"mousewheel"==t.type?(t.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-.025*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=e.fire("wheel",t)}var a,c,s,u,l,f;if(l=e._nativeEvents){for((s=e.parents().toArray()).unshift(e),a=0,c=s.length;!u&&a<c;a++)u=s[a]._eventsRoot;for(u||(u=s[s.length-1]||e),e._eventsRoot=u,c=a,a=0;a<c;a++)s[a]._eventsRoot=u;var d=u._delegates;d||(d=u._delegates={});for(f in l){if(!l)return!1;"wheel"!==f||h?("mouseenter"===f||"mouseleave"===f?u._hasMouseEnter||(t(u.getEl()).on("mouseleave",r).on("mouseover",o),u._hasMouseEnter=1):d[f]||(t(u.getEl()).on(f,n),d[f]=!0),l[f]=!1):m?t(e.getEl()).on("mousewheel",i):t(e.getEl()).on("DOMMouseScroll",i)}}}var p,m="onmousewheel"in e,h=!1,g=0,v={Statics:{classPrefix:"mce-"},isRtl:function(){return p.rtl},classPrefix:"mce-",init:function(e){function n(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)u.classes.add(e[t])}var r,c,u=this;u.settings=e=o.extend({},u.Defaults,e),u._id=e.id||"mceu_"+g++,u._aria={role:e.role},u._elmCache={},u.$=t,u.state=new s({visible:!0,active:!1,disabled:!1,value:""}),u.data=new s(e.data),u.classes=new a(function(){u.state.get("rendered")&&(u.getEl().className=this.toString())}),u.classes.prefix=u.classPrefix,(r=e.classes)&&(u.Defaults&&(c=u.Defaults.classes)&&r!=c&&n(c),n(r)),o.each("title text name visible disabled active value".split(" "),function(t){t in e&&u[t](e[t])}),u.on("click",function(){if(u.disabled())return!1}),u.settings=e,u.borderBox=i.parseBox(e.border),u.paddingBox=i.parseBox(e.padding),u.marginBox=i.parseBox(e.margin),e.hidden&&u.hide()},Properties:"parent,name",getContainerElm:function(){return u.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,r,o,a,c,s,l,f,d=this.settings,p=this.getEl();e=this.borderBox=this.borderBox||i.measureBox(p,"border"),this.paddingBox=this.paddingBox||i.measureBox(p,"padding"),this.marginBox=this.marginBox||i.measureBox(p,"margin"),f=u.getSize(p),s=d.minWidth,l=d.minHeight,o=s||f.width,a=l||f.height,n=d.width,r=d.height,c=void 0!==(c=d.autoResize)?c:!n&&!r,n=n||o,r=r||a;var m=e.left+e.right,h=e.top+e.bottom,g=d.maxWidth||65535,v=d.maxHeight||65535;return this._layoutRect=t={x:d.x||0,y:d.y||0,w:n,h:r,deltaW:m,deltaH:h,contentW:n-m,contentH:r-h,innerW:n-m,innerH:r-h,startMinWidth:s||0,startMinHeight:l||0,minW:Math.min(o,g),minH:Math.min(a,v),maxW:g,maxH:v,autoResize:c,scrollW:0},this._lastLayoutRect={},t},layoutRect:function(e){var t,n,r,o,i,a=this._layoutRect;return a||(a=this.initLayoutRect()),e?(r=a.deltaW,o=a.deltaH,void 0!==e.x&&(a.x=e.x),void 0!==e.y&&(a.y=e.y),void 0!==e.minW&&(a.minW=e.minW),void 0!==e.minH&&(a.minH=e.minH),void 0!==(n=e.w)&&(n=(n=n<a.minW?a.minW:n)>a.maxW?a.maxW:n,a.w=n,a.innerW=n-r),void 0!==(n=e.h)&&(n=(n=n<a.minH?a.minH:n)>a.maxH?a.maxH:n,a.h=n,a.innerH=n-o),void 0!==(n=e.innerW)&&(n=(n=n<a.minW-r?a.minW-r:n)>a.maxW-r?a.maxW-r:n,a.innerW=n,a.w=n+r),void 0!==(n=e.innerH)&&(n=(n=n<a.minH-o?a.minH-o:n)>a.maxH-o?a.maxH-o:n,a.innerH=n,a.h=n+o),void 0!==e.contentW&&(a.contentW=e.contentW),void 0!==e.contentH&&(a.contentH=e.contentH),(t=this._lastLayoutRect).x===a.x&&t.y===a.y&&t.w===a.w&&t.h===a.h||((i=p.repaintControls)&&i.map&&!i.map[this._id]&&(i.push(this),i.map[this._id]=!0),t.x=a.x,t.y=a.y,t.w=a.w,t.h=a.h),this):a},repaint:function(){var t,n,r,o,i,a,c,s,u,l;u=e.createRange?function(e){return e}:Math.round,t=this.getEl().style,o=this._layoutRect,s=this._lastRepaintRect||{},a=(i=this.borderBox).left+i.right,c=i.top+i.bottom,o.x!==s.x&&(t.left=u(o.x)+"px",s.x=o.x),o.y!==s.y&&(t.top=u(o.y)+"px",s.y=o.y),o.w!==s.w&&(l=u(o.w-a),t.width=(l>=0?l:0)+"px",s.w=o.w),o.h!==s.h&&(l=u(o.h-c),t.height=(l>=0?l:0)+"px",s.h=o.h),this._hasBody&&o.innerW!==s.innerW&&(l=u(o.innerW),(r=this.getEl("body"))&&((n=r.style).width=(l>=0?l:0)+"px"),s.innerW=o.innerW),this._hasBody&&o.innerH!==s.innerH&&(l=u(o.innerH),(r=r||this.getEl("body"))&&((n=n||r.style).height=(l>=0?l:0)+"px"),s.innerH=o.innerH),this._lastRepaintRect=s,this.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=null,u.css(this.getEl(),{width:"",height:""}),this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null,this.initLayoutRect()},on:function(e,t){var n=this;return f(n).on(e,function(e){var t,r;return"string"!=typeof e?e:function(o){return t||n.parentsAndSelf().each(function(n){var o=n.settings.callbacks;if(o&&(t=o[e]))return r=n,!1}),t?t.call(r,o):(o.action=e,void this.fire("execute",o))}}(t)),n},off:function(e,t){return f(this).off(e,t),this},fire:function(e,t,n){if((t=t||{}).control||(t.control=this),t=f(this).fire(e,t),!1!==n&&this.parent)for(var r=this.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},hasEventListeners:function(e){return f(this).has(e)},parents:function(e){var t,n=new c;for(t=this.parent();t;t=t.parent())n.add(t);return e&&(n=n.filter(e)),n},parentsAndSelf:function(e){return new c(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var n=e?this._id+"-"+e:this._id;return this._elmCache[n]||(this._elmCache[n]=t("#"+n)[0]),this._elmCache[n]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this.getEl(this.ariaTarget);return void 0===t?this._aria[e]:(this._aria[e]=t,this.state.get("rendered")&&n.setAttribute("role"==e?e:"aria-"+e,t),this)},encode:function(e,t){return!1!==t&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return p.translate?p.translate(e):e},before:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this),!0),this},after:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this)),this},remove:function(){var e,n,r=this,o=r.getEl(),i=r.parent();if(r.items){var a=r.items().toArray();for(n=a.length;n--;)a[n].remove()}i&&i.items&&(e=[],i.items().each(function(t){t!==r&&e.push(t)}),i.items().set(e),i._lastRect=null),r._eventsRoot&&r._eventsRoot==r&&t(o).off();var c=r.getRoot().controlIdLookup;return c&&delete c[r._id],o&&o.parentNode&&o.parentNode.removeChild(o),r.state.set("rendered",!1),r.state.destroy(),r.fire("remove"),r},renderBefore:function(e){return t(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return t(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,n,r,o,i,a=this,c=a.settings;a.$el=t(a.getEl()),a.state.set("rendered",!0);for(o in c)0===o.indexOf("on")&&a.on(o.substr(2),c[o]);if(a._eventsRoot){for(r=a.parent();!i&&r;r=r.parent())i=r._eventsRoot;if(i)for(o in i._nativeEvents)a._nativeEvents[o]=!0}d(a),c.style&&(e=a.getEl())&&(e.setAttribute("style",c.style),e.style.cssText=c.style),a.settings.border&&(n=a.borderBox,a.$el.css({"border-top-width":n.top,"border-right-width":n.right,"border-bottom-width":n.bottom,"border-left-width":n.left}));var s=a.getRoot();s.controlIdLookup||(s.controlIdLookup={}),s.controlIdLookup[a._id]=a;for(var u in a._aria)a.aria(u,a._aria[u]);!1===a.state.get("visible")&&(a.getEl().style.display="none"),a.bindStates(),a.state.on("change:visible",function(e){var t,n=e.value;a.state.get("rendered")&&(a.getEl().style.display=!1===n?"none":"",a.getEl().getBoundingClientRect()),(t=a.parent())&&(t._lastRect=null),a.fire(n?"show":"hide"),l.add(a)}),a.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){var t,n,r,o,i,a,c=this.getEl(),s=c.parentNode,u=function(e,t){var n,r,o=e;for(n=r=0;o&&o!=t&&o.nodeType;)n+=o.offsetLeft||0,r+=o.offsetTop||0,o=o.offsetParent;return{x:n,y:r}}(c,s);return t=u.x,n=u.y,r=c.offsetWidth,o=c.offsetHeight,i=s.clientWidth,a=s.clientHeight,"end"==e?(t-=i-r,n-=a-o):"center"==e&&(t-=i/2-r/2,n-=a/2-o/2),s.scrollLeft=t,s.scrollTop=n,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),e=t,t=t.parent()}e||(e=this);for(var r=n.length;r--;)n[r].rootControl=e;return e},reflow:function(){l.remove(this);var e=this.parent();return e&&e._layout&&!e._layout.isNative()&&e.reflow(),this}};return o.each("text title visible disabled active value".split(" "),function(e){v[e]=function(t){return 0===arguments.length?this.state.get(e):(void 0!==t&&this.state.set(e,t),this)}}),p=n.extend(v)}),o("tinymce.ui.KeyboardNavigation",["global!document"],function(e){"use strict";var t=function(e){return!!e.getAttribute("data-mce-tabstop")};return function(n){function r(e){return e&&1===e.nodeType}function o(e){return e=e||y,r(e)?e.getAttribute("role"):null}function i(e){for(var t,n=e||y;n=n.parentNode;)if(t=o(n))return t}function a(e){var t=y;if(r(t))return t.getAttribute("aria-"+e)}function c(e){var t=e.tagName.toUpperCase();return"INPUT"==t||"TEXTAREA"==t||"SELECT"==t}function s(e){function n(e){if(1==e.nodeType&&"none"!=e.style.display&&!e.disabled){(function(e){return!(!c(e)||e.hidden)||!!t(e)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(o(e))})(e)&&r.push(e);for(var i=0;i<e.childNodes.length;i++)n(e.childNodes[i])}}var r=[];return n(e||x.getEl()),r}function u(e){var t,n;(n=(e=e||b).parents().toArray()).unshift(e);for(var r=0;r<n.length&&!(t=n[r]).settings.ariaRoot;r++);return t}function l(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function f(e,t){var n=-1,r=u();t=t||s(r.getEl());for(var o=0;o<t.length;o++)t[o]===y&&(n=o);n+=e,r.lastAriaIndex=l(n,t)}function d(){"tablist"==i()?f(-1,s(y.parentNode)):b.parent().submenu?g():f(-1)}function p(){var e=o(),t=i();"tablist"==t?f(1,s(y.parentNode)):"menuitem"==e&&"menu"==t&&a("haspopup")?v():f(1)}function m(){f(-1)}function h(){var e=o(),t=i();"menuitem"==e&&"menubar"==t?v():"button"==e&&a("haspopup")?v({key:"down"}):f(1)}function g(){b.fire("cancel")}function v(e){e=e||{},b.fire("click",{target:y,aria:e})}var y,b,x=n.root;try{y=e.activeElement}catch(t){y=e.body}return b=x.getParentCtrl(y),x.on("keydown",function(e){function n(e,n){c(y)||t(y)||"slider"!==o(y)&&!1!==n(e)&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:n(e,d);break;case 39:n(e,p);break;case 38:n(e,m);break;case 40:n(e,h);break;case 27:g();break;case 14:case 13:case 32:n(e,v);break;case 9:!1!==function(e){if("tablist"==i()){var t=s(b.getEl("body"))[0];t&&t.focus()}else f(e.shiftKey?-1:1)}(e)&&e.preventDefault()}}),x.on("focusin",function(e){y=e.target,b=e.control}),{focusFirst:function(e){var t=u(e),n=s(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?l(t.lastAriaIndex,n):l(0,n)}}}}),o("tinymce.ui.Container",["tinymce.ui.Control","tinymce.ui.Collection","tinymce.ui.Selector","tinymce.core.ui.Factory","tinymce.ui.KeyboardNavigation","tinymce.core.util.Tools","tinymce.core.dom.DomQuery","tinymce.ui.ClassList","tinymce.ui.ReflowQueue"],function(e,t,n,r,o,i,a,c,s){"use strict";var u={};return e.extend({init:function(e){var n=this;n._super(e),(e=n.settings).fixed&&n.state.set("fixed",!0),n._items=new t,n.isRtl()&&n.classes.add("rtl"),n.bodyClasses=new c(function(){n.state.get("rendered")&&(n.getEl("body").className=this.toString())}),n.bodyClasses.prefix=n.classPrefix,n.classes.add("container"),n.bodyClasses.add("container-body"),e.containerCls&&n.classes.add(e.containerCls),n._layout=r.create((e.layout||"")+"layout"),n.settings.items?n.add(n.settings.items):n.add(n.render()),n._hasBody=!0},items:function(){return this._items},find:function(e){return(e=u[e]=u[e]||new n(e)).find(this)},add:function(e){return this.items().add(this.create(e)).parent(this),this},focus:function(e){var t,n,r;if(!e||!(n=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav))return r=this.find("*"),this.statusbar&&r.add(this.statusbar.items()),r.each(function(e){if(e.settings.autofocus)return t=null,!1;e.canFocus&&(t=t||e)}),t&&t.focus(),this;n.focusFirst(this)},replace:function(e,t){for(var n,r=this.items(),o=r.length;o--;)if(r[o]===e){r[o]=t;break}o>=0&&((n=t.getEl())&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(t){var n,o=this,a=[];return i.isArray(t)||(t=[t]),i.each(t,function(t){t&&(t instanceof e||("string"==typeof t&&(t={type:t}),n=i.extend({},o.settings.defaults,t),t.type=n.type=n.type||t.type||o.settings.defaultType||(n.defaults?n.defaults.type:null),t=r.create(n)),a.push(t))}),a},renderNew:function(){var e=this;return e.items().each(function(t,n){var r;t.parent(e),t.state.get("rendered")||((r=e.getEl("body")).hasChildNodes()&&n<=r.childNodes.length-1?a(r.childNodes[n]).before(t.renderHtml()):a(r).append(t.renderHtml()),t.postRender(),s.add(t))}),e._layout.applyClasses(e.items().filter(":visible")),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){return this.items().set(this.create(e).concat(this.items().toArray())),this.renderNew()},insert:function(e,t,n){var r,o,i;return e=this.create(e),r=this.items(),!n&&t<r.length-1&&(t+=1),t>=0&&t<r.length&&(o=r.slice(0,t).toArray(),i=r.slice(t).toArray(),r.set(o.concat(e,i))),this.renderNew()},fromJSON:function(e){for(var t in e)this.find("#"+t).value(e[t]);return this},toJSON:function(){var e={};return this.find("*").each(function(t){var n=t.name(),r=t.value();n&&void 0!==r&&(e[n]=r)}),e},renderHtml:function(){var e=this._layout,t=this.settings.role;return this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"'+(t?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"},postRender:function(){var e;return this.items().exec("postRender"),this._super(),this._layout.postRender(this),this.state.set("rendered",!0),this.settings.style&&this.$el.css(this.settings.style),this.settings.border&&(e=this.borderBox,this.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),this.parent()||(this.keyboardNav=new o({root:this})),this},initLayoutRect:function(){var e=this._super();return this._layout.recalc(this),e},recalc:function(){var e=this._layoutRect,t=this._lastRect;if(!t||t.w!=e.w||t.h!=e.h)return this._layout.recalc(this),e=this.layoutRect(),this._lastRect={x:e.x,y:e.y,w:e.w,h:e.h},!0},reflow:function(){var t;if(s.remove(this),this.visible()){for(e.repaintControls=[],e.repaintControls.map={},this.recalc(),t=e.repaintControls.length;t--;)e.repaintControls[t].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),e.repaintControls=[]}return this}})}),o("tinymce.ui.DragHelper",["global!document","global!window","tinymce.core.dom.DomQuery"],function(e,t,n){"use strict";function r(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}return function(o,i){function a(){return m.getElementById(i.handle||o)}var c,s,u,l,f,d,p,m=i.document||e;i=i||{},u=function(e){var o,u,h=function(e){var t,n,r,o,i,a,c,s,u=Math.max;return t=e.documentElement,n=e.body,r=u(t.scrollWidth,n.scrollWidth),o=u(t.clientWidth,n.clientWidth),i=u(t.offsetWidth,n.offsetWidth),a=u(t.scrollHeight,n.scrollHeight),c=u(t.clientHeight,n.clientHeight),s=u(t.offsetHeight,n.offsetHeight),{width:r<i?o:r,height:a<s?c:a}}(m);r(e),e.preventDefault(),s=e.button,o=a(),d=e.screenX,p=e.screenY,u=t.getComputedStyle?t.getComputedStyle(o,null).getPropertyValue("cursor"):o.runtimeStyle.cursor,c=n("<div></div>").css({position:"absolute",top:0,left:0,width:h.width,height:h.height,zIndex:2147483647,opacity:1e-4,cursor:u}).appendTo(m.body),n(m).on("mousemove touchmove",f).on("mouseup touchend",l),i.start(e)},f=function(e){if(r(e),e.button!==s)return l(e);e.deltaX=e.screenX-d,e.deltaY=e.screenY-p,e.preventDefault(),i.drag(e)},l=function(e){r(e),n(m).off("mousemove touchmove",f).off("mouseup touchend",l),c.remove(),i.stop&&i.stop(e)},this.destroy=function(){n(a()).off()},n(a()).on("mousedown touchstart",u)}}),o("tinymce.ui.Scrollable",["tinymce.core.dom.DomQuery","tinymce.ui.DragHelper"],function(e,t){"use strict";return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function n(){function t(t,a,c,s,u,l){var f,d,p,m,h,g,v,y;if(d=r.getEl("scroll"+t)){if(v=a.toLowerCase(),y=c.toLowerCase(),e(r.getEl("absend")).css(v,r.layoutRect()[s]-1),!u)return void e(d).css("display","none");e(d).css("display","block"),f=r.getEl("body"),p=r.getEl("scroll"+t+"t"),m=f["client"+c]-2*o,h=(m-=n&&i?d["client"+l]:0)/f["scroll"+c],(g={})[v]=f["offset"+a]+o,g[y]=m,e(d).css(g),(g={})[v]=f["scroll"+a]*h,g[y]=m*h,e(p).css(g)}}var n,i,a;a=r.getEl("body"),n=a.scrollWidth>a.clientWidth,i=a.scrollHeight>a.clientHeight,t("h","Left","Width","contentW",n,"Height"),t("v","Top","Height","contentH",i,"Width")}var r=this,o=2;r.settings.autoScroll&&(r._hasScroll||(r._hasScroll=!0,function(){function n(n,i,a,c,s){var u,l=r._id+"-scroll"+n,f=r.classPrefix;e(r.getEl()).append('<div id="'+l+'" class="'+f+"scrollbar "+f+"scrollbar-"+n+'"><div id="'+l+'t" class="'+f+'scrollbar-thumb"></div></div>'),r.draghelper=new t(l+"t",{start:function(){u=r.getEl("body")["scroll"+i],e("#"+l).addClass(f+"active")},drag:function(e){var t,l,f,d,p=r.layoutRect();l=p.contentW>p.innerW,f=p.contentH>p.innerH,d=r.getEl("body")["client"+a]-2*o,t=(d-=l&&f?r.getEl("scroll"+n)["client"+s]:0)/r.getEl("body")["scroll"+a],r.getEl("body")["scroll"+i]=u+e["delta"+c]/t},stop:function(){e("#"+l).removeClass(f+"active")}})}r.classes.add("scroll"),n("v","Top","Height","Y","Width"),n("h","Left","Width","X","Height")}(),r.on("wheel",function(e){var t=r.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),e(r.getEl("body")).on("scroll",n)),n())}}}),o("tinymce.ui.Panel",["tinymce.ui.Container","tinymce.ui.Scrollable"],function(e,t){"use strict";return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this._layout,t=this.settings.html;return this.preRender(),e.preRender(this),void 0===t?t='<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+e.renderHtml(this)+"</div>":("function"==typeof t&&(t=t.call(this)),this._hasBody=!1),'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1" role="group">'+(this._preBodyHtml||"")+t+"</div>"}})}),o("tinymce.ui.Resizable",["tinymce.ui.DomUtils"],function(e){"use strict";return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(t,n){if(t<=1||n<=1){var r=e.getWindowSize();t=t<=1?t*r.w:t,n=n<=1?n*r.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this.layoutRect();return this.resizeTo(n.w+e,n.h+t)}}}),o("tinymce.ui.FloatPanel",["global!document","global!window","tinymce.core.dom.DomQuery","tinymce.core.util.Delay","tinymce.ui.DomUtils","tinymce.ui.Movable","tinymce.ui.Panel","tinymce.ui.Resizable"],function(e,t,n,r,o,i,a,c){"use strict";function s(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function u(){p||(p=function(e){2!=e.button&&function(e){for(var t=v.length;t--;){var n=v[t],r=n.getParentCtrl(e.target);if(n.settings.autohide){if(r&&(s(r,n)||n.parent()===r))continue;(e=n.fire("autohide",{target:e.target})).isDefaultPrevented()||n.hide()}}}(e)},n(e).on("click touchstart",p))}function l(e){function t(t,n){for(var r,o=0;o<v.length;o++)if(v[o]!=e)for(r=v[o].parent();r&&(r=r.parent());)r==e&&v[o].fixed(t).moveBy(0,n).repaint()}var n=o.getViewPort().y;e.settings.autofix&&(e.state.get("fixed")?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY<n&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}function f(e,t){var r,o,i=b.zIndex||65535;if(e)y.push(t);else for(r=y.length;r--;)y[r]===t&&y.splice(r,1);if(y.length)for(r=0;r<y.length;r++)y[r].modal&&(i++,o=y[r]),y[r].getEl().style.zIndex=i,y[r].zIndex=i,i++;var a=n("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];o?n(a).css("z-index",o.zIndex-1):a&&(a.parentNode.removeChild(a),g=!1),b.currentZIndex=i}function d(e){var t;for(t=v.length;t--;)v[t]===e&&v.splice(t,1);for(t=y.length;t--;)y[t]===e&&y.splice(t,1)}var p,m,h,g,v=[],y=[],b=a.extend({Mixins:[i,c],init:function(o){var i=this;i._super(o),i._eventsRoot=i,i.classes.add("floatpanel"),o.autohide&&(u(),function(){if(!h){var r=e.documentElement,o=r.clientWidth,i=r.clientHeight;h=function(){e.all&&o==r.clientWidth&&i==r.clientHeight||(o=r.clientWidth,i=r.clientHeight,b.hideAll())},n(t).on("resize",h)}}(),v.push(i)),o.autofix&&(m||(m=function(){var e;for(e=v.length;e--;)l(v[e])},n(t).on("scroll",m)),i.on("move",function(){l(this)})),i.on("postrender show",function(e){if(e.control==i){var t,o=i.classPrefix;i.modal&&!g&&((t=n("#"+o+"modal-block",i.getContainerElm()))[0]||(t=n('<div id="'+o+'modal-block" class="'+o+"reset "+o+'fade"></div>').appendTo(i.getContainerElm())),r.setTimeout(function(){t.addClass(o+"in"),n(i.getEl()).addClass(o+"in")}),g=!0),f(!0,i)}}),i.on("show",function(){i.parents().each(function(e){if(e.state.get("fixed"))return i.fixed(!0),!1})}),o.popover&&(i._preBodyHtml='<div class="'+i.classPrefix+'arrow"></div>',i.classes.add("popover").add("bottom").add(i.isRtl()?"end":"start")),i.aria("label",o.ariaLabel),i.aria("labelledby",i._id),i.aria("describedby",i.describedBy||i._id+"-none")},fixed:function(e){if(this.state.get("fixed")!=e){if(this.state.get("rendered")){var t=o.getViewPort();e?this.layoutRect().y-=t.y:this.layoutRect().y+=t.y}this.classes.toggle("fixed",e),this.state.set("fixed",e)}return this},show:function(){var e,t=this._super();for(e=v.length;e--&&v[e]!==this;);return-1===e&&v.push(this),t},hide:function(){return d(this),f(!1,this),this._super()},hideAll:function(){b.hideAll()},close:function(){return this.fire("close").isDefaultPrevented()||(this.remove(),f(!1,this)),this},remove:function(){d(this),this._super()},postRender:function(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole),this._super()}});return b.hideAll=function(){for(var e=v.length;e--;){var t=v[e];t&&t.settings.autohide&&(t.hide(),v.splice(e,1))}},b}),o("tinymce.themes.modern.modes.Inline",["global!document","tinymce.core.Env","tinymce.core.dom.DOMUtils","tinymce.core.ui.Factory","tinymce.themes.modern.api.Events","tinymce.themes.modern.api.Settings","tinymce.themes.modern.ui.A11y","tinymce.themes.modern.ui.ContextToolbars","tinymce.themes.modern.ui.Menubar","tinymce.themes.modern.ui.SkinLoaded","tinymce.themes.modern.ui.Toolbar","tinymce.ui.FloatPanel"],function(e,t,n,r,o,i,a,c,s,u,l,f){var d=function(e){return!(!e||t.container)};return{render:function(e,t,p){var m,h,g=n.DOM,v=i.getFixedToolbarContainer(e);v&&(h=g.select(v)[0]);var y=function(){if(m&&m.moveRel&&m.visible()&&!m._fixed){var t=e.selection.getScrollContainer(),n=e.getBody(),r=0,o=0;if(t){var i=g.getPos(n),a=g.getPos(t);r=Math.max(0,a.x-i.x),o=Math.max(0,a.y-i.y)}m.fixed(!1).moveRel(n,e.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(r,o)}},b=function(){m&&(m.show(),y(),g.addClass(e.getBody(),"mce-edit-focus"))},x=function(){m&&(m.hide(),f.hideAll(),g.removeClass(e.getBody(),"mce-edit-focus"))},w=function(){m?m.visible()||b():(m=t.panel=r.create({type:h?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:d(h),fixed:d(h),border:1,items:[!1===i.hasMenubar(e)?null:{type:"menubar",border:"0 0 1 0",items:s.createMenuButtons(e)},l.createToolbars(e,i.getToolbarSize(e))]}),o.fireBeforeRenderUI(e),h?m.renderTo(h).reflow():m.renderTo().reflow(),a.addKeys(e,m),b(),c.addContextualToolbars(e),e.on("nodeChange",y),e.on("activate",b),e.on("deactivate",x),e.nodeChanged())};return e.settings.content_editable=!0,e.on("focus",function(){!1===i.isSkinDisabled(e)&&p.skinUiCss?g.styleSheetLoader.load(p.skinUiCss,w,w):w()}),e.on("blur hide",x),e.on("remove",function(){m&&(m.remove(),m=null)}),!1===i.isSkinDisabled(e)&&p.skinUiCss?g.styleSheetLoader.load(p.skinUiCss,u.fireSkinLoaded(e)):u.fireSkinLoaded(e)(),{}}}}),o("tinymce.ui.Throbber",["tinymce.core.dom.DomQuery","tinymce.ui.Control","tinymce.core.util.Delay"],function(e,t,n){"use strict";return function(r,o){var i,a,c=this,s=t.classPrefix;c.show=function(t,u){function l(){i&&(e(r).append('<div class="'+s+"throbber"+(o?" "+s+"throbber-inline":"")+'"></div>'),u&&u())}return c.hide(),i=!0,t?a=n.setTimeout(l,t):l(),c},c.hide=function(){var e=r.lastChild;return n.clearTimeout(a),e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e),i=!1,c}}}),o("tinymce.themes.modern.ui.ProgressState",["tinymce.ui.Throbber"],function(e){return{setup:function(t,n){var r;t.on("ProgressState",function(t){r=r||new e(n.panel.getEl("body")),t.state?r.show(t.time):r.hide()})}}}),o("tinymce.themes.modern.ui.Render",["tinymce.themes.modern.api.Settings","tinymce.themes.modern.modes.Iframe","tinymce.themes.modern.modes.Inline","tinymce.themes.modern.ui.ProgressState"],function(e,t,n,r){return{renderUI:function(o,i,a){var c=e.getSkinUrl(o);return c&&(a.skinUiCss=c+"/skin.min.css",o.contentCSS.push(c+"/content"+(o.inline?".inline":"")+".min.css")),r.setup(o,i),e.isInline(o)?n.render(o,i,a):t.render(o,i,a)}}}),i("global!setTimeout",setTimeout),o("tinymce.ui.Tooltip",["tinymce.ui.Control","tinymce.ui.Movable"],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().lastChild.innerHTML=e.encode(t.value)}),e._super()},repaint:function(){var e,t;e=this.getEl().style,t=this._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}})}),o("tinymce.ui.Widget",["tinymce.ui.Control","tinymce.ui.Tooltip"],function(e,t){"use strict";var n,r=e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&&!1!==r.tooltips&&(t.on("mouseenter",function(n){var r=t.tooltip().moveTo(-65535);if(n.control==t){var o=r.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);r.classes.toggle("tooltip-n","bc-tc"==o),r.classes.toggle("tooltip-nw","bc-tl"==o),r.classes.toggle("tooltip-ne","bc-tr"==o),r.moveRel(t.getEl(),o)}else r.hide()}),t.on("mouseleave mousedown click",function(){t.tooltip().hide()})),t.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){return n||(n=new t({type:"tooltip"})).renderTo(),n},postRender:function(){var e=this.settings;this._super(),this.parent()||!e.width&&!e.height||(this.initLayoutRect(),this.repaint()),e.autofocus&&this.focus()},bindStates:function(){function e(e){n.aria("disabled",e),n.classes.toggle("disabled",e)}function t(e){n.aria("pressed",e),n.classes.toggle("active",e)}var n=this;return n.state.on("change:disabled",function(t){e(t.value)}),n.state.on("change:active",function(e){t(e.value)}),n.state.get("disabled")&&e(!0),n.state.get("active")&&t(!0),n._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return r}),o("tinymce.ui.Progress",["tinymce.ui.Widget"],function(e){"use strict";return e.extend({Defaults:{value:0},init:function(e){this._super(e),this.classes.add("progress"),this.settings.filter||(this.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div class="'+t+'bar-container"><div class="'+t+'bar"></div></div><div class="'+t+'text">0%</div></div>'},postRender:function(){return this._super(),this.value(this.settings.value),this},bindStates:function(){function e(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+"%",t.getEl().firstChild.firstChild.style.width=e+"%"}var t=this;return t.state.on("change:value",function(t){e(t.value)}),e(t.state.get("value")),t._super()}})}),o("tinymce.ui.Notification",["tinymce.ui.Control","tinymce.ui.Movable","tinymce.ui.Progress","tinymce.core.util.Delay"],function(e,t,n,r){var o=function(e,t){e.getEl().lastChild.textContent=t+(e.progressBar?" "+e.progressBar.value()+"%":"")};return e.extend({Mixins:[t],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),t.maxWidth=e.maxWidth,e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||e.timeout>0)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new n),t.on("click",function(e){-1!=e.target.className.indexOf(t.classPrefix+"close")&&t.close()})},renderHtml:function(){var e=this.classPrefix,t="",n="",r="",o="";return this.icon&&(t='<i class="'+e+"ico "+e+"i-"+this.icon+'"></i>'),o=' style="max-width: '+this.maxWidth+"px;"+(this.color?"background-color: "+this.color+';"':'"'),this.closeButton&&(n='<button type="button" class="'+e+'close" aria-hidden="true"></button>'),this.progressBar&&(r=this.progressBar.renderHtml()),'<div id="'+this._id+'" class="'+this.classes+'"'+o+' role="presentation">'+t+'<div class="'+e+'notification-inner">'+this.state.get("text")+"</div>"+r+n+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var e=this;return r.setTimeout(function(){e.$el.addClass(e.classPrefix+"in"),o(e,e.state.get("text"))},100),e._super()},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().firstChild.innerHTML=t.value,o(e,t.value)}),e.progressBar&&(e.progressBar.bindStates(),e.progressBar.state.on("change:value",function(t){o(e,e.state.get("text"))})),e._super()},close:function(){return this.fire("close").isDefaultPrevented()||this.remove(),this},repaint:function(){var e,t;e=this.getEl().style,t=this._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=65534}})}),o("tinymce.ui.NotificationManagerImpl",["ephox.katamari.api.Arr","global!setTimeout","tinymce.core.util.Tools","tinymce.ui.DomUtils","tinymce.ui.Notification"],function(e,t,n,r,o){return function(i){var a=function(e){return e.inline?e.getElement():e.getContentAreaContainer()};return{open:function(e,c){var s=n.extend(e,{maxWidth:function(){var e=a(i);return r.getSize(e).width}()}),u=new o(s);return u.args=s,s.timeout>0&&(u.timer=t(function(){u.close(),c()},s.timeout)),u.on("close",function(){c()}),u.renderTo(),u},close:function(e){e.close()},reposition:function(t){!function(t){e.each(t,function(e){e.moveTo(0,0)})}(t),function(t){if(t.length>0){var n=t.slice(0,1)[0],r=a(i);n.moveRel(r,"tc-tc"),e.each(t,function(e,n){n>0&&e.moveRel(t[n-1].getEl(),"bc-tc")})}}(t)},getArgs:function(e){return e.args}}}}),o("tinymce.ui.Window",["global!document","global!setTimeout","global!window","tinymce.core.dom.DomQuery","tinymce.core.Env","tinymce.core.util.Delay","tinymce.ui.BoxUtils","tinymce.ui.DomUtils","tinymce.ui.DragHelper","tinymce.ui.FloatPanel","tinymce.ui.Panel"],function(e,t,n,r,o,i,a,c,s,u,l){"use strict";function f(t){var n,i=r("meta[name=viewport]")[0];!1!==o.overrideViewPort&&(i||((i=e.createElement("meta")).setAttribute("name","viewport"),e.getElementsByTagName("head")[0].appendChild(i)),(n=i.getAttribute("content"))&&void 0!==m&&(m=n),i.setAttribute("content",t?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":m))}function d(t,n){(function(){for(var e=0;e<p.length;e++)if(p[e]._fullscreen)return!0;return!1})()&&!1===n&&r([e.documentElement,e.body]).removeClass(t+"fullscreen")}var p=[],m="",h=u.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var t=this;t._super(e),t.isRtl()&&t.classes.add("rtl"),t.classes.add("window"),t.bodyClasses.add("window-body"),t.state.set("fixed",!0),e.buttons&&(t.statusbar=new l({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:t.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),t.statusbar.classes.add("foot"),t.statusbar.parent(t)),t.on("click",function(e){var n=t.classPrefix+"close";(c.hasClass(e.target,n)||c.hasClass(e.target.parentNode,n))&&t.close()}),t.on("cancel",function(){t.close()}),t.aria("describedby",t.describedBy||t._id+"-none"),t.aria("label",e.title),t._fullscreen=!1},recalc:function(){var e,t,n,r,o=this.statusbar;this._fullscreen&&(this.layoutRect(c.getWindowSize()),this.layoutRect().contentH=this.layoutRect().innerH),this._super(),e=this.layoutRect(),this.settings.title&&!this._fullscreen&&(t=e.headerW)>e.w&&(n=e.x-Math.max(0,t/2),this.layoutRect({w:t,x:n}),r=!0),o&&(o.layoutRect({w:this.layoutRect().innerW}).recalc(),(t=o.layoutRect().minW+e.deltaW)>e.w&&(n=e.x-Math.max(0,t-e.w),this.layoutRect({w:t,x:n}),r=!0)),r&&this.recalc()},initLayoutRect:function(){var e,t=this._super(),n=0;if(this.settings.title&&!this._fullscreen){e=this.getEl("head");var r=c.getSize(e);t.headerW=r.width,t.headerH=r.height,n+=t.headerH}this.statusbar&&(n+=this.statusbar.layoutRect().h),t.deltaH+=n,t.minH+=n,t.h+=n;var o=c.getWindowSize();return t.x=this.settings.x||Math.max(0,o.w/2-t.w/2),t.y=this.settings.y||Math.max(0,o.h/2-t.h/2),t},renderHtml:function(){var e=this._layout,t=this._id,n=this.classPrefix,r=this.settings,o="",i="",a=r.html;return this.preRender(),e.preRender(this),r.title&&(o='<div id="'+t+'-head" class="'+n+'window-head"><div id="'+t+'-title" class="'+n+'title">'+this.encode(r.title)+'</div><div id="'+t+'-dragh" class="'+n+'dragh"></div><button type="button" class="'+n+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),r.url&&(a='<iframe src="'+r.url+'" tabindex="-1"></iframe>'),void 0===a&&(a=e.renderHtml(this)),this.statusbar&&(i=this.statusbar.renderHtml()),'<div id="'+t+'" class="'+this.classes+'" hidefocus="1"><div class="'+this.classPrefix+'reset" role="application">'+o+'<div id="'+t+'-body" class="'+this.bodyClasses+'">'+a+"</div>"+i+"</div></div>"},fullscreen:function(t){var o,s,u=this,l=e.documentElement,f=u.classPrefix;if(t!=u._fullscreen)if(r(n).on("resize",function(){var e;if(u._fullscreen)if(o)u._timer||(u._timer=i.setTimeout(function(){var e=c.getWindowSize();u.moveTo(0,0).resizeTo(e.w,e.h),u._timer=0},50));else{e=(new Date).getTime();var t=c.getWindowSize();u.moveTo(0,0).resizeTo(t.w,t.h),(new Date).getTime()-e>50&&(o=!0)}}),s=u.layoutRect(),u._fullscreen=t,t){u._initial={x:s.x,y:s.y,w:s.w,h:s.h},u.borderBox=a.parseBox("0"),u.getEl("head").style.display="none",s.deltaH-=s.headerH+2,r([l,e.body]).addClass(f+"fullscreen"),u.classes.add("fullscreen");var d=c.getWindowSize();u.moveTo(0,0).resizeTo(d.w,d.h)}else u.borderBox=a.parseBox(u.settings.border),u.getEl("head").style.display="",s.deltaH+=s.headerH,r([l,e.body]).removeClass(f+"fullscreen"),u.classes.remove("fullscreen"),u.moveTo(u._initial.x,u._initial.y).resizeTo(u._initial.w,u._initial.h);return u.reflow()},postRender:function(){var e,n=this;t(function(){n.classes.add("in"),n.fire("open")},0),n._super(),n.statusbar&&n.statusbar.postRender(),n.focus(),this.dragHelper=new s(n._id+"-dragh",{start:function(){e={x:n.layoutRect().x,y:n.layoutRect().y}},drag:function(t){n.moveTo(e.x+t.deltaX,e.y+t.deltaY)}}),n.on("submit",function(e){e.isDefaultPrevented()||n.close()}),p.push(n),f(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e;for(this.dragHelper.destroy(),this._super(),this.statusbar&&this.statusbar.remove(),d(this.classPrefix,!1),e=p.length;e--;)p[e]===this&&p.splice(e,1);f(p.length>0)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});return function(){if(!o.desktop){var e={w:n.innerWidth,h:n.innerHeight};i.setInterval(function(){var t=n.innerWidth,o=n.innerHeight;e.w==t&&e.h==o||(e={w:t,h:o},r(n).trigger("resize"))},100)}r(n).on("resize",function(){var e,t,n=c.getWindowSize();for(e=0;e<p.length;e++)t=p[e].layoutRect(),p[e].moveTo(p[e].settings.x||Math.max(0,n.w/2-t.w/2),p[e].settings.y||Math.max(0,n.h/2-t.h/2))})}(),h}),o("tinymce.ui.MessageBox",["global!document","tinymce.ui.Window"],function(e,t){"use strict";var n=t.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(r){function o(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),a(t)}}}var i,a=r.callback||function(){};switch(r.buttons){case n.OK_CANCEL:i=[o("Ok",!0,!0),o("Cancel",!1)];break;case n.YES_NO:case n.YES_NO_CANCEL:i=[o("Yes",1,!0),o("No",0)],r.buttons==n.YES_NO_CANCEL&&i.push(o("Cancel",-1));break;default:i=[o("Ok",!0,!0)]}return new t({padding:20,x:r.x,y:r.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:i,title:r.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:r.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:r.onClose,onCancel:function(){a(!1)}}).renderTo(e.body).reflow()},alert:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,n.msgBox(e)},confirm:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,e.buttons=n.OK_CANCEL,n.msgBox(e)}}});return n}),o("tinymce.ui.WindowManagerImpl",["tinymce.ui.Window","tinymce.ui.MessageBox"],function(e,t){return function(n){return{open:function(t,n,r){var o;return t.title=t.title||" ",t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body,data:t.data,callbacks:t.commands}),t.url||t.buttons||(t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){o.find("form")[0].submit()}},{text:"Cancel",onclick:function(){o.close()}}]),(o=new e(t)).on("close",function(){r(o)}),t.data&&o.on("postRender",function(){this.find("*").each(function(e){var n=e.name();n in t.data&&e.value(t.data[n])})}),o.features=t||{},o.params=n||{},o=o.renderTo().reflow()},alert:function(e,n,r){var o;return(o=t.alert(e,function(){n()})).on("close",function(){r(o)}),o},confirm:function(e,n,r){var o;return(o=t.confirm(e,function(e){n(e)})).on("close",function(){r(o)}),o},close:function(e){e.close()},getParams:function(e){return e.params},setParams:function(e,t){e.params=t}}}}),o("tinymce.themes.modern.api.ThemeApi",["tinymce.themes.modern.ui.Render","tinymce.themes.modern.ui.Resize","tinymce.ui.NotificationManagerImpl","tinymce.ui.WindowManagerImpl"],function(e,t,n,r){return{get:function(o){return{renderUI:function(t){return e.renderUI(o,this,t)},resizeTo:function(e,n){return t.resizeTo(o,e,n)},resizeBy:function(e,n){return t.resizeBy(o,e,n)},getNotificationManagerImpl:function(){return n(o)},getWindowManagerImpl:function(){return r(o)}}}}}),o("tinymce.ui.Layout",["tinymce.core.util.Class","tinymce.core.util.Tools"],function(e,t){"use strict";return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,r,o,i=this.settings;t=i.firstControlClass,n=i.lastControlClass,e.each(function(e){e.classes.remove(t).remove(n).add(i.controlClass),e.visible()&&(r||(r=e),o=e)}),r&&r.classes.add(t),o&&o.classes.add(n)},renderHtml:function(e){var t="";return this.applyClasses(e.items()),e.items().each(function(e){t+=e.renderHtml()}),t},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),o("tinymce.ui.AbsoluteLayout",["tinymce.ui.Layout"],function(e){"use strict";return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})}),o("tinymce.ui.Button",["global!document","global!window","tinymce.ui.Widget"],function(e,t,n){"use strict";return n.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",function(e){e.preventDefault()}),n.on("touchstart",function(e){n.fire("click",e),e.preventDefault()}),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e,t=this.getEl().firstChild;t&&((e=t.style).width=e.height="100%"),this._super()},renderHtml:function(){var e,n,r=this._id,o=this.classPrefix,i=this.state.get("icon"),a=this.state.get("text"),c="",s=this.settings;return(e=s.image)?(i="none","string"!=typeof e&&(e=t.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",a&&(this.classes.add("btn-has-text"),c='<span class="'+o+'txt">'+this.encode(a)+"</span>"),i=i?o+"ico "+o+"i-"+i:"",n="boolean"==typeof s.active?' aria-pressed="'+s.active+'"':"",'<div id="'+r+'" class="'+this.classes+'" tabindex="-1"'+n+'><button id="'+r+'-button" role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+e+"></i>":"")+c+"</button></div>"},bindStates:function(){function t(e){var t=r("span."+o,n.getEl());e?(t[0]||(r("button:first",n.getEl()).append('<span class="'+o+'"></span>'),t=r("span."+o,n.getEl())),t.html(n.encode(e))):t.remove(),n.classes.toggle("btn-has-text",!!e)}var n=this,r=n.$,o=n.classPrefix+"txt";return n.state.on("change:text",function(e){t(e.value)}),n.state.on("change:icon",function(r){var o=r.value,i=n.classPrefix;n.settings.icon=o,o=o?i+"ico "+i+"i-"+n.settings.icon:"";var a=n.getEl().firstChild,c=a.getElementsByTagName("i")[0];o?(c&&c==a.firstChild||(c=e.createElement("i"),a.insertBefore(c,a.firstChild)),c.className=o):c&&a.removeChild(c),t(n.state.get("text"))}),n._super()}})}),i("global!RegExp",RegExp),o("tinymce.ui.BrowseButton",["tinymce.ui.Button","tinymce.core.util.Tools","tinymce.ui.DomUtils","tinymce.core.dom.DomQuery","global!RegExp"],function(e,t,n,r,o){return e.extend({init:function(e){e=t.extend({text:"Browse...",multiple:!1,accept:null},e),this._super(e),this.classes.add("browsebutton"),e.multiple&&this.classes.add("multiple")},postRender:function(){var e=this,t=n.create("input",{type:"file",id:e._id+"-browse",accept:e.settings.accept});e._super(),r(t).on("change",function(t){var n=t.target.files;e.value=function(){return n.length?e.settings.multiple?n:n[0]:null},t.preventDefault(),n.length&&e.fire("change",t)}),r(t).on("click",function(e){e.stopPropagation()}),r(e.getEl("button")).on("click",function(e){e.stopPropagation(),t.click()}),e.getEl().appendChild(t)},remove:function(){r(this.getEl("button")).off(),r(this.getEl("input")).off(),this._super()}})}),o("tinymce.ui.ButtonGroup",["tinymce.ui.Container"],function(e){"use strict";return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this._layout;return this.classes.add("btn-group"),this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"}})}),o("tinymce.ui.Checkbox",["global!document","tinymce.ui.Widget"],function(e,t){"use strict";return t.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+e+'-al" tabindex="-1"><i class="'+t+"ico "+t+'i-checkbox"></i><span id="'+e+'-al" class="'+t+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){function t(e){n.classes.toggle("checked",e),n.aria("checked",e)}var n=this;return n.state.on("change:text",function(e){n.getEl("al").firstChild.data=n.translate(e.value)}),n.state.on("change:checked change:value",function(e){n.fire("change"),t(e.value)}),n.state.on("change:icon",function(t){var r=t.value,o=n.classPrefix;if(void 0===r)return n.settings.icon;n.settings.icon=r,r=r?o+"ico "+o+"i-"+n.settings.icon:"";var i=n.getEl().firstChild,a=i.getElementsByTagName("i")[0];r?(a&&a==i.firstChild||(a=e.createElement("i"),i.insertBefore(a,i.firstChild)),a.className=r):a&&i.removeChild(a)}),n.state.get("checked")&&t(!0),n._super()}})}),o("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.VK")}),o("tinymce.ui.ComboBox",["global!document","tinymce.core.dom.DomQuery","tinymce.core.ui.Factory","tinymce.core.util.Tools","tinymce.core.util.VK","tinymce.ui.DomUtils","tinymce.ui.Widget"],function(e,t,n,r,o,i,a){"use strict";return a.extend({init:function(e){var n=this;n._super(e),e=n.settings,n.classes.add("combobox"),n.subinput=!0,n.ariaTarget="inp",e.menu=e.menu||e.values,e.menu&&(e.icon="caret"),n.on("click",function(r){var o=r.target,i=n.getEl();if(t.contains(i,o)||o==i)for(;o&&o!=i;)o.id&&-1!=o.id.indexOf("-open")&&(n.fire("action"),e.menu&&(n.showMenu(),r.aria&&n.menu.items()[0].focus())),o=o.parentNode}),n.on("keydown",function(e){var t;13==e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))}),n.on("keyup",function(e){if("INPUT"==e.target.nodeName){var t=n.state.get("value"),r=e.target.value;r!==t&&(n.state.set("value",r),n.fire("autocomplete",e))}}),n.on("mouseover",function(e){var t=n.tooltip().moveTo(-65535);if(n.statusLevel()&&-1!==e.target.className.indexOf(n.classPrefix+"status")){var r=n.statusMessage()||"Ok",o=t.text(r).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]);t.classes.toggle("tooltip-n","bc-tc"==o),t.classes.toggle("tooltip-nw","bc-tl"==o),t.classes.toggle("tooltip-ne","bc-tr"==o),t.moveRel(e.target,o)}})},statusLevel:function(e){return arguments.length>0&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return arguments.length>0&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var e,t=this,r=t.settings;t.menu||((e=r.menu||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",t.menu=n.create(e).parent(t).renderTo(t.getContainerElm()),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control===t.menu&&t.focus()}),t.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()==t.value())})}).fire("show"),t.menu.on("select",function(e){t.value(e.control.value())}),t.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&t.menu.hide()}),t.aria("expanded",!0)),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var n,r,o=this.getEl(),a=this.getEl("open"),c=this.layoutRect(),s=0,u=o.firstChild;this.statusLevel()&&"none"!==this.statusLevel()&&(s=parseInt(i.getRuntimeStyle(u,"padding-right"),10)-parseInt(i.getRuntimeStyle(u,"padding-left"),10)),n=a?c.w-i.getSize(a).width-10:c.w-10;var l=e;return l.all&&(!l.documentMode||l.documentMode<=8)&&(r=this.layoutRect().h-2+"px"),t(u).css({width:n-s,lineHeight:r}),this._super(),this},postRender:function(){var e=this;return t(this.getEl("inp")).on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)}),e._super()},renderHtml:function(){var e,t,n=this._id,r=this.settings,o=this.classPrefix,i=this.state.get("value")||"",a="",c="",s="";return"spellcheck"in r&&(c+=' spellcheck="'+r.spellcheck+'"'),r.maxLength&&(c+=' maxlength="'+r.maxLength+'"'),r.size&&(c+=' size="'+r.size+'"'),r.subtype&&(c+=' type="'+r.subtype+'"'),s='<i id="'+n+'-status" class="mce-status mce-ico" style="display: none"></i>',this.disabled()&&(c+=' disabled="disabled"'),(e=r.icon)&&"caret"!=e&&(e=o+"ico "+o+"i-"+r.icon),t=this.state.get("text"),(e||t)&&(a='<div id="'+n+'-open" class="'+o+"btn "+o+'open" tabIndex="-1" role="button"><button id="'+n+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=e?'<i class="'+e+'"></i>':'<i class="'+o+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",this.classes.add("has-open")),'<div id="'+n+'" class="'+this.classes+'"><input id="'+n+'-inp" class="'+o+'textbox" value="'+this.encode(i,!1)+'" hidefocus="1"'+c+' placeholder="'+this.encode(r.placeholder)+'" />'+s+a+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,t){var o=this;if(0!==e.length){o.menu?o.menu.items().remove():o.menu=n.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(o).renderTo(),r.each(e,function(e){o.menu.add({text:e.title,url:e.previewUrl,match:t,classes:"menu-item-ellipsis",onclick:function(e,t){return function(){o.fire("selectitem",{title:t,value:e})}}(e.value,e.title)})}),o.menu.renderNew(),o.hideMenu(),o.menu.on("cancel",function(e){e.control.parent()===o.menu&&(e.stopPropagation(),o.focus(),o.hideMenu())}),o.menu.on("select",function(){o.focus()});var i=o.layoutRect().w;o.menu.layoutRect({w:i,minW:0,maxW:i}),o.menu.reflow(),o.menu.show(),o.menu.moveRel(o.getEl(),o.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else o.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var e=this;e.state.on("change:value",function(t){e.getEl("inp").value!=t.value&&(e.getEl("inp").value=t.value)}),e.state.on("change:disabled",function(t){e.getEl("inp").disabled=t.value}),e.state.on("change:statusLevel",function(t){var n=e.getEl("status"),r=e.classPrefix,o=t.value;i.css(n,"display","none"===o?"none":""),i.toggleClass(n,r+"i-checkmark","ok"===o),i.toggleClass(n,r+"i-warning","warn"===o),i.toggleClass(n,r+"i-error","error"===o),e.classes.toggle("has-status","none"!==o),e.repaint()}),i.on(e.getEl("status"),"mouseleave",function(){e.tooltip().hide()}),e.on("cancel",function(t){e.menu&&e.menu.visible()&&(t.stopPropagation(),e.hideMenu())});var t=function(e,t){t&&t.items().length>0&&t.items().eq(e)[0].focus()};return e.on("keydown",function(n){var r=n.keyCode;"INPUT"===n.target.nodeName&&(r===o.DOWN?(n.preventDefault(),e.fire("autocomplete"),t(0,e.menu)):r===o.UP&&(n.preventDefault(),t(-1,e.menu)))}),e._super()},remove:function(){t(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),o("tinymce.ui.ColorBox",["tinymce.ui.ComboBox"],function(e){"use strict";return e.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl("open"),n=t?t.getElementsByTagName("i")[0]:null;if(n)try{n.style.background=e}catch(e){}},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.state.get("rendered")&&e.repaintColor(t.value)}),e._super()}})}),o("tinymce.ui.PanelButton",["tinymce.ui.Button","tinymce.ui.FloatPanel"],function(e,t){"use strict";return e.extend({showPanel:function(){var e=this,n=e.settings;if(e.classes.add("opened"),e.panel)e.panel.show();else{var r=n.panel;r.type&&(r={layout:"grid",items:r}),r.role=r.role||"dialog",r.popover=!0,r.autohide=!0,r.ariaRoot=!0,e.panel=new t(r).on("hide",function(){e.classes.remove("opened")}).on("cancel",function(t){t.stopPropagation(),e.focus(),e.hidePanel()}).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}var o=e.panel.testMoveRel(e.getEl(),n.popoverAlign||(e.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl"]));e.panel.classes.toggle("start","bc-tl"===o),e.panel.classes.toggle("end","bc-tr"===o),e.panel.moveRel(e.getEl(),o)},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var e=this;return e.aria("haspopup",!0),e.on("click",function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))}),e._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),o("tinymce.ui.ColorButton",["tinymce.ui.PanelButton","tinymce.core.dom.DOMUtils"],function(e,t){"use strict";var n=t.DOM;return e.extend({init:function(e){this._super(e),this.classes.add("splitbtn"),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this._id,t=this.classPrefix,n=this.state.get("text"),r=this.settings.icon?t+"ico "+t+"i-"+this.settings.icon:"",o=this.settings.image?" style=\"background-image: url('"+this.settings.image+"')\"":"",i="";return n&&(this.classes.add("btn-has-text"),i='<span class="'+t+'txt">'+this.encode(n)+"</span>"),'<div id="'+e+'" class="'+this.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+o+"></i>":"")+'<span id="'+e+'-preview" class="'+t+'preview"></span>'+i+'</button><button type="button" class="'+t+'open" hidefocus="1" tabindex="-1"> <i class="'+t+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(r){r.aria&&"down"===r.aria.key||r.control!=e||n.getParent(r.target,"."+e.classPrefix+"open")||(r.stopImmediatePropagation(),t.call(e,r))}),delete e.settings.onclick,e._super()}})}),o("tinymce.core.util.Color",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Color")}),o("tinymce.ui.ColorPicker",["tinymce.ui.Widget","tinymce.ui.DragHelper","tinymce.ui.DomUtils","tinymce.core.util.Color"],function(e,t,n,r){"use strict";return e.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function e(e,t){var r,o,i=n.getPos(e);return r=t.pageX-i.x,o=t.pageY-i.y,r=Math.max(0,Math.min(r/e.clientWidth,1)),o=Math.max(0,Math.min(o/e.clientHeight,1)),{x:r,y:o}}function o(e,t){var o=(360-e.h)/360;n.css(u,{top:100*o+"%"}),t||n.css(f,{left:e.s+"%",top:100-e.v+"%"}),l.style.background=new r({s:100,v:100,h:e.h}).toHex(),d.color().parse({s:e.s,v:e.v,h:e.h})}function i(t){var n;n=e(l,t),c.s=100*n.x,c.v=100*(1-n.y),o(c),d.fire("change")}function a(t){var n;n=e(s,t),(c=p.toHsv()).h=360*(1-n.y),o(c,!0),d.fire("change")}var c,s,u,l,f,d=this,p=d.color();s=d.getEl("h"),u=d.getEl("hp"),l=d.getEl("sv"),f=d.getEl("svp"),d._repaint=function(){o(c=p.toHsv())},d._super(),d._svdraghelper=new t(d._id+"-sv",{start:i,drag:i}),d._hdraghelper=new t(d._id+"-h",{start:a,drag:a}),d._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){if(!arguments.length)return this.color().toHex();this.color().parse(e),this._rendered&&this._repaint()},color:function(){return this._color||(this._color=new r),this._color},renderHtml:function(){var e,t=this._id,n=this.classPrefix,r="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return e='<div id="'+t+'-h" class="'+n+'colorpicker-h" style="'+("background: -ms-linear-gradient(top,"+r+");background: linear-gradient(to bottom,"+r+");")+'">'+function(){var e,t,o,i,a="";for(o="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",e=0,t=(i=r.split(",")).length-1;e<t;e++)a+='<div class="'+n+'colorpicker-h-chunk" style="height:'+100/t+"%;"+o+i[e]+",endColorstr="+i[e+1]+");-ms-"+o+i[e]+",endColorstr="+i[e+1]+')"></div>';return a}()+'<div id="'+t+'-hp" class="'+n+'colorpicker-h-marker"></div></div>','<div id="'+t+'" class="'+this.classes+'"><div id="'+t+'-sv" class="'+n+'colorpicker-sv"><div class="'+n+'colorpicker-overlay1"><div class="'+n+'colorpicker-overlay2"><div id="'+t+'-svp" class="'+n+'colorpicker-selector1"><div class="'+n+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>"}})}),o("tinymce.ui.DropZone",["tinymce.ui.Widget","tinymce.core.util.Tools","tinymce.ui.DomUtils","global!RegExp"],function(e,t,n,r){return e.extend({init:function(e){e=t.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},e),this._super(e),this.classes.add("dropzone"),e.multiple&&this.classes.add("multiple")},renderHtml:function(){var e,t,r=this.settings;return e={id:this._id,hidefocus:"1"},t=n.create("div",e,"<span>"+this.translate(r.text)+"</span>"),r.height&&n.css(t,"height",r.height+"px"),r.width&&n.css(t,"width",r.width+"px"),t.className=this.classes,t.outerHTML},postRender:function(){var e=this,n=function(t){t.preventDefault(),e.classes.toggle("dragenter"),e.getEl().className=e.classes};e._super(),e.$el.on("dragover",function(e){e.preventDefault()}),e.$el.on("dragenter",n),e.$el.on("dragleave",n),e.$el.on("drop",function(n){if(n.preventDefault(),!e.state.get("disabled")){var o=function(n){var o=e.settings.accept;if("string"!=typeof o)return n;var i=new r("("+o.split(/\s*,\s*/).join("|")+")$","i");return t.grep(n,function(e){return i.test(e.name)})}(n.dataTransfer.files);e.value=function(){return o.length?e.settings.multiple?o:o[0]:null},o.length&&e.fire("change",n)}})},remove:function(){this.$el.off(),this._super()}})}),o("tinymce.ui.Path",["tinymce.ui.Widget"],function(e){"use strict";return e.extend({init:function(e){var t=this;e.delimiter||(e.delimiter=""),t._super(e),t.classes.add("path"),t.canFocus=!0,t.on("click",function(e){var n;(n=e.target.getAttribute("data-index"))&&t.fire("select",{value:t.row()[n],index:n})}),t.row(t.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var e=this;return e.state.on("change:row",function(t){e.innerHtml(e._getDataPathHtml(t.value))}),e._super()},_getDataPathHtml:function(e){var t,n,r=e||[],o="",i=this.classPrefix;for(t=0,n=r.length;t<n;t++)o+=(t>0?'<div class="'+i+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+i+"path-item"+(t==n-1?" "+i+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+this._id+"-"+t+'" aria-level="'+(t+1)+'">'+r[t].name+"</div>";return o||(o='<div class="'+i+'path-item"></div>'),o}})}),o("tinymce.ui.ElementPath",["tinymce.ui.Path"],function(e){return e.extend({postRender:function(){function e(e){if(1===e.nodeType){if("BR"==e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var t=this,n=t.settings.editor;return!1!==n.settings.elementpath&&(t.on("select",function(e){n.focus(),n.selection.select(this.row()[e.index].element),n.nodeChanged()}),n.on("nodeChange",function(r){for(var o=[],i=r.parents,a=i.length;a--;)if(1==i[a].nodeType&&!e(i[a])){var c=n.fire("ResolveName",{name:i[a].nodeName.toLowerCase(),target:i[a]});if(c.isDefaultPrevented()||o.push({name:c.name,element:i[a]}),c.isPropagationStopped())break}t.row(o)})),t._super()}})}),o("tinymce.ui.FormItem",["tinymce.ui.Container"],function(e){"use strict";return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this._layout,t=this.classPrefix;return this.classes.add("formitem"),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<div id="'+this._id+'-title" class="'+t+'title">'+this.settings.title+"</div>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"}})}),o("tinymce.ui.Form",["tinymce.ui.Container","tinymce.ui.FormItem","tinymce.core.util.Tools"],function(e,t,n){"use strict";return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,r=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),r.each(function(r){var o,i=r.settings.label;i&&((o=new t(n.extend({items:{type:"label",id:r._id+"-l",text:i,flex:0,forId:r._id,disabled:r.disabled()}},e.settings.formItemDefaults))).type="formitem",r.aria("labelledby",r._id+"-l"),void 0===r.settings.flex&&(r.settings.flex=1),e.replace(r,o),o.add(r))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super(),this.fromJSON(this.settings.data)},bindStates:function(){function e(){var e,n,r=0,o=[];if(!1!==t.settings.labelGapCalc)for(("children"==t.settings.labelGapCalc?t.find("formitem"):t.items()).filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;r=n>r?n:r,o.push(t)}),n=t.settings.labelGap||0,e=o.length;e--;)o[e].settings.minWidth=r+n}var t=this;t._super(),t.on("show",e),e()}})}),o("tinymce.ui.FieldSet",["tinymce.ui.Form"],function(e){"use strict";return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this._layout,t=this.classPrefix;return this.preRender(),e.preRender(this),'<fieldset id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<legend id="'+this._id+'-title" class="'+t+'fieldset-title">'+this.settings.title+"</legend>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+e.renderHtml(this)+"</div></fieldset>"}})}),i("global!Date",Date),i("global!Math",Math),o("ephox.katamari.api.Id",["global!Date","global!Math","global!String"],function(e,t,n){var r=0;return{generate:function(o){var i=(new e).getTime(),a=t.floor(1e9*t.random());return r++,o+"_"+a+r+n(i)}}}),o("global!console",[],function(){return"undefined"==typeof console&&(console={log:function(){}}),console}),o("ephox.sugar.api.node.Element",["ephox.katamari.api.Fun","ephox.katamari.api.Option","global!Error","global!console","global!document"],function(e,t,n,r,o){var i=function(t){if(null===t||void 0===t)throw new n("Node cannot be null or undefined");return{dom:e.constant(t)}};return{fromHtml:function(e,t){var n=(t||o).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw r.error("HTML does not have a single root node",e),"HTML must have a single root node";return i(n.childNodes[0])},fromTag:function(e,t){var n=(t||o).createElement(e);return i(n)},fromText:function(e,t){var n=(t||o).createTextNode(e);return i(n)},fromDom:i,fromPoint:function(e,n,r){return t.from(e.dom().elementFromPoint(n,r)).map(i)}}}),o("ephox.katamari.api.Thunk",[],function(){return{cached:function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}}}}),o("ephox.sugar.api.node.NodeTypes",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}}),o("ephox.sugar.api.node.Node",["ephox.sugar.api.node.NodeTypes"],function(e){var t=function(e){return e.dom().nodeName.toLowerCase()},n=function(e){return e.dom().nodeType},r=function(e){return function(t){return n(t)===e}},o=r(e.ELEMENT),i=r(e.TEXT),a=r(e.DOCUMENT);return{name:t,type:n,value:function(e){return e.dom().nodeValue},isElement:o,isText:i,isDocument:a,isComment:function(r){return n(r)===e.COMMENT||"#comment"===t(r)}}}),o("ephox.sugar.api.node.Body",["ephox.katamari.api.Thunk","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","global!document"],function(e,t,n,r){var o=e.cached(function(){return i(t.fromDom(r))}),i=function(e){var n=e.dom().body;if(null===n||void 0===n)throw"Body is not available yet";return t.fromDom(n)};return{body:o,getBody:i,inBody:function(e){var t=n.isText(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)}}}),o("ephox.katamari.api.Type",["global!Array","global!String"],function(e,t){var n=function(n){return function(r){return function(n){if(null===n)return"null";var r=typeof n;return"object"===r&&e.prototype.isPrototypeOf(n)?"array":"object"===r&&t.prototype.isPrototypeOf(n)?"string":r}(r)===n}};return{isString:n("string"),isObject:n("object"),isArray:n("array"),isNull:n("null"),isBoolean:n("boolean"),isUndefined:n("undefined"),isFunction:n("function"),isNumber:n("number")}}),o("ephox.katamari.data.Immutable",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","global!Array","global!Error"],function(e,t,n,r){return function(){var o=arguments;return function(){for(var i=new n(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];if(o.length!==i.length)throw new r('Wrong number of arguments to struct. Expected "['+o.length+']", got '+i.length+" arguments");var c={};return e.each(o,function(e,n){c[e]=t.constant(i[n])}),c}}}),o("ephox.katamari.api.Obj",["ephox.katamari.api.Option","global!Object"],function(e,t){var n=function(){var e=t.keys;return void 0===e?function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}:e}(),r=function(e,t){for(var r=n(e),o=0,i=r.length;o<i;o++){var a=r[o];t(e[a],a,e)}},o=function(e,t){var n={};return r(e,function(r,o){var i=t(r,o,e);n[i.k]=i.v}),n},i=function(e,t){var n=[];return r(e,function(e,r){n.push(t(e,r))}),n},a=function(e){return i(e,function(e){return e})};return{bifilter:function(e,t){var n={},o={};return r(e,function(e,r){(t(e,r)?n:o)[r]=e}),{t:n,f:o}},each:r,map:function(e,t){return o(e,function(e,n,r){return{k:n,v:t(e,n,r)}})},mapToArray:i,tupleMap:o,find:function(t,r){for(var o=n(t),i=0,a=o.length;i<a;i++){var c=o[i],s=t[c];if(r(s,c,t))return e.some(s)}return e.none()},keys:n,values:a,size:function(e){return a(e).length}}}),o("ephox.katamari.util.BagUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Type","global!Error"],function(e,t,n){var r=function(e){return e.slice(0).sort()};return{sort:r,reqMessage:function(e,t){throw new n("All required keys ("+r(e).join(", ")+") were not specified. Specified keys were: "+r(t).join(", ")+".")},unsuppMessage:function(e){throw new n("Unsupported keys for object: "+r(e).join(", "))},validateStrArr:function(r,o){if(!t.isArray(o))throw new n("The "+r+" fields must be an array. Was: "+o+".");e.each(o,function(e){if(!t.isString(e))throw new n("The value "+e+" in the "+r+" fields was not a string.")})},invalidTypeMessage:function(e,t){throw new n("All values need to be of type: "+t+". Keys ("+r(e).join(", ")+") were not.")},checkDupes:function(t){var o=r(t);e.find(o,function(e,t){return t<o.length-1&&e===o[t+1]}).each(function(e){throw new n("The field: "+e+" occurs more than once in the combined fields: ["+o.join(", ")+"].")})}}}),o("ephox.katamari.data.MixedBag",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Obj","ephox.katamari.api.Option","ephox.katamari.util.BagUtils","global!Error","global!Object"],function(e,t,n,r,o,i,a){return function(c,s){var u=c.concat(s);if(0===u.length)throw new i("You must specify at least one required or optional field.");return o.validateStrArr("required",c),o.validateStrArr("optional",s),o.checkDupes(u),function(i){var l=n.keys(i);e.forall(c,function(t){return e.contains(l,t)})||o.reqMessage(c,l);var f=e.filter(l,function(t){return!e.contains(u,t)});f.length>0&&o.unsuppMessage(f);var d={};return e.each(c,function(e){d[e]=t.constant(i[e])}),e.each(s,function(e){d[e]=t.constant(a.prototype.hasOwnProperty.call(i,e)?r.some(i[e]):r.none())}),d}}}),o("ephox.katamari.api.Struct",["ephox.katamari.data.Immutable","ephox.katamari.data.MixedBag"],function(e,t){return{immutable:e,immutableBag:t}}),o("ephox.sugar.alien.Recurse",[],function(){return{toArray:function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do{o=o.bind(r)}while(o.isSome());return n}}}),o("ephox.katamari.api.Global",[],function(){return"undefined"!=typeof window?window:Function("return this;")()}),o("ephox.katamari.api.Resolve",["ephox.katamari.api.Global"],function(e){var t=function(t,n){for(var r=void 0!==n?n:e,o=0;o<t.length&&void 0!==r&&null!==r;++o)r=r[t[o]];return r},n=function(e,t){return void 0!==e[t]&&null!==e[t]||(e[t]={}),e[t]},r=function(t,r){for(var o=void 0!==r?r:e,i=0;i<t.length;++i)o=n(o,t[i]);return o};return{path:t,resolve:function(e,n){var r=e.split(".");return t(r,n)},forge:r,namespace:function(e,t){var n=e.split(".");return r(n,t)}}}),o("ephox.sand.util.Global",["ephox.katamari.api.Resolve"],function(e){return{getOrDie:function(t,n){var r=function(t,n){return e.resolve(t,n)}(t,n);if(void 0===r)throw t+" not available on this browser";return r}}}),o("ephox.sand.api.Node",["ephox.sand.util.Global"],function(e){var t=function(){return e.getOrDie("Node")},n=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)};return{documentPositionPreceding:function(e,r){return n(e,r,t().DOCUMENT_POSITION_PRECEDING)},documentPositionContainedBy:function(e,r){return n(e,r,t().DOCUMENT_POSITION_CONTAINED_BY)}}}),i("global!Number",Number),o("ephox.sand.detect.Version",["ephox.katamari.api.Arr","global!Number","global!String"],function(e,t,n){var r=function(){return o(0,0)},o=function(e,t){return{major:e,minor:t}};return{nu:o,detect:function(e,i){var a=n(i).toLowerCase();return 0===e.length?r():function(e,n){var r=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,n);if(!r)return{major:0,minor:0};var i=function(e){return t(n.replace(r,"$"+e))};return o(i(1),i(2))}(e,a)},unknown:r}}),o("ephox.sand.core.Browser",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(e,t){var n=function(e,t){return function(){return t===e}},r=function(e){var t=e.current;return{current:t,version:e.version,isEdge:n("Edge",t),isChrome:n("Chrome",t),isIE:n("IE",t),isOpera:n("Opera",t),isFirefox:n("Firefox",t),isSafari:n("Safari",t)}};return{unknown:function(){return r({current:void 0,version:t.unknown()})},nu:r,edge:e.constant("Edge"),chrome:e.constant("Chrome"),ie:e.constant("IE"),opera:e.constant("Opera"),firefox:e.constant("Firefox"),safari:e.constant("Safari")}}),o("ephox.sand.core.OperatingSystem",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(e,t){var n=function(e,t){return function(){return t===e}},r=function(e){var t=e.current;return{current:t,version:e.version,isWindows:n("Windows",t),isiOS:n("iOS",t),isAndroid:n("Android",t),isOSX:n("OSX",t),isLinux:n("Linux",t),isSolaris:n("Solaris",t),isFreeBSD:n("FreeBSD",t)}};return{unknown:function(){return r({current:void 0,version:t.unknown()})},nu:r,windows:e.constant("Windows"),ios:e.constant("iOS"),android:e.constant("Android"),linux:e.constant("Linux"),osx:e.constant("OSX"),solaris:e.constant("Solaris"),freebsd:e.constant("FreeBSD")}}),o("ephox.sand.detect.DeviceType",["ephox.katamari.api.Fun"],function(e){return function(t,n,r){var o=t.isiOS()&&!0===/ipad/i.test(r),i=t.isiOS()&&!o,a=t.isAndroid()&&3===t.version.major,c=t.isAndroid()&&4===t.version.major,s=o||a||c&&!0===/mobile/i.test(r),u=t.isiOS()||t.isAndroid(),l=u&&!s,f=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(r);return{isiPad:e.constant(o),isiPhone:e.constant(i),isTablet:e.constant(s),isPhone:e.constant(l),isTouch:e.constant(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:e.constant(f)}}}),o("ephox.sand.detect.UaString",["ephox.katamari.api.Arr","ephox.sand.detect.Version","global!String"],function(e,t,n){var r=function(t,r){var o=n(r).toLowerCase();return e.find(t,function(e){return e.search(o)})};return{detectBrowser:function(e,n){return r(e,n).map(function(e){var r=t.detect(e.versionRegexes,n);return{current:e.name,version:r}})},detectOs:function(e,n){return r(e,n).map(function(e){var r=t.detect(e.versionRegexes,n);return{current:e.name,version:r}})}}}),o("ephox.katamari.str.StrAppend",[],function(){return{addToStart:function(e,t){return t+e},addToEnd:function(e,t){return e+t},removeFromStart:function(e,t){return e.substring(t)},removeFromEnd:function(e,t){return e.substring(0,e.length-t)}}}),o("ephox.katamari.str.StringParts",["ephox.katamari.api.Option","global!Error"],function(e,t){return{first:function(e,t){return e.substr(0,t)},last:function(e,t){return e.substr(e.length-t,e.length)},head:function(t){return""===t?e.none():e.some(t.substr(0,1))},tail:function(t){return""===t?e.none():e.some(t.substring(1))}}}),o("ephox.katamari.api.Strings",["ephox.katamari.str.StrAppend","ephox.katamari.str.StringParts","global!Error"],function(e,t,n){var r=function(e,t,n){if(""===t)return!0;if(e.length<t.length)return!1;return e.substr(n,n+t.length)===t},o=function(e,t){return r(e,t,0)},i=function(e,t){return r(e,t,e.length-t.length)};return{supplant:function(e,t){return e.replace(/\${([^{}]*)}/g,function(e,n){var r=t[n];return function(e){var t=typeof e;return"string"===t||"number"===t}(r)?r:e})},startsWith:o,removeLeading:function(t,n){return o(t,n)?e.removeFromStart(t,n.length):t},removeTrailing:function(t,n){return i(t,n)?e.removeFromEnd(t,n.length):t},ensureLeading:function(t,n){return o(t,n)?t:e.addToStart(t,n)},ensureTrailing:function(t,n){return i(t,n)?t:e.addToEnd(t,n)},endsWith:i,contains:function(e,t){return-1!==e.indexOf(t)},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},lTrim:function(e){return e.replace(/^\s+/g,"")},rTrim:function(e){return e.replace(/\s+$/g,"")},capitalize:function(e){return t.head(e).bind(function(n){return t.tail(e).map(function(e){return n.toUpperCase()+e})}).getOr(e)}}}),o("ephox.sand.info.PlatformInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Strings"],function(e,t){var n=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,r=function(e){return function(n){return t.contains(n,e)}},o=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return t.contains(e,"edge/")&&t.contains(e,"chrome")&&t.contains(e,"safari")&&t.contains(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,n],search:function(e){return t.contains(e,"chrome")&&!t.contains(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return t.contains(e,"msie")||t.contains(e,"trident")}},{name:"Opera",versionRegexes:[n,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:r("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:r("firefox")},{name:"Safari",versionRegexes:[n,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(t.contains(e,"safari")||t.contains(e,"mobile/"))&&t.contains(e,"applewebkit")}}],i=[{name:"Windows",search:r("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return t.contains(e,"iphone")||t.contains(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:r("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:r("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:r("linux"),versionRegexes:[]},{name:"Solaris",search:r("sunos"),versionRegexes:[]},{name:"FreeBSD",search:r("freebsd"),versionRegexes:[]}];return{browsers:e.constant(o),oses:e.constant(i)}}),o("ephox.sand.core.PlatformDetection",["ephox.sand.core.Browser","ephox.sand.core.OperatingSystem","ephox.sand.detect.DeviceType","ephox.sand.detect.UaString","ephox.sand.info.PlatformInfo"],function(e,t,n,r,o){return{detect:function(i){var a=o.browsers(),c=o.oses(),s=r.detectBrowser(a,i).fold(e.unknown,e.nu),u=r.detectOs(c,i).fold(t.unknown,t.nu);return{browser:s,os:u,deviceType:n(u,s,i)}}}}),i("global!navigator",navigator),o("ephox.sand.api.PlatformDetection",["ephox.katamari.api.Thunk","ephox.sand.core.PlatformDetection","global!navigator"],function(e,t,n){return{detect:e.cached(function(){var e=n.userAgent;return t.detect(e)})}}),o("ephox.sugar.api.search.Selectors",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.node.NodeTypes","global!Error","global!document"],function(e,t,n,r,o,i){var a=r.ELEMENT,c=r.DOCUMENT,s=function(e){return e.nodeType!==a&&e.nodeType!==c||0===e.childElementCount};return{all:function(t,r){var o=void 0===r?i:r.dom();return s(o)?[]:e.map(o.querySelectorAll(t),n.fromDom)},is:function(e,t){var n=e.dom();if(n.nodeType!==a)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new o("Browser lacks native selectors")},one:function(e,r){var o=void 0===r?i:r.dom();return s(o)?t.none():t.from(o.querySelector(e)).map(n.fromDom)}}}),o("ephox.sugar.api.dom.Compare",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sand.api.Node","ephox.sand.api.PlatformDetection","ephox.sugar.api.search.Selectors"],function(e,t,n,r,o){var i=function(e,t){return e.dom()===t.dom()},a=r.detect().browser.isIE()?function(e,t){return n.documentPositionContainedBy(e.dom(),t.dom())}:function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)};return{eq:i,isEqualNode:function(e,t){return e.dom().isEqualNode(t.dom())},member:function(n,r){return e.exists(r,t.curry(i,n))},contains:a,is:o.is}}),o("ephox.sugar.api.search.Traverse",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Struct","ephox.sugar.alien.Recurse","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element"],function(e,t,n,r,o,i,a,c){var s=function(e){return c.fromDom(e.dom().ownerDocument)},u=function(e){var t=e.dom();return r.from(t.parentNode).map(c.fromDom)},l=function(e){var t=e.dom();return r.from(t.previousSibling).map(c.fromDom)},f=function(e){var t=e.dom();return r.from(t.nextSibling).map(c.fromDom)},d=function(e){var n=e.dom();return t.map(n.childNodes,c.fromDom)},p=function(e,t){var n=e.dom().childNodes;return r.from(n[t]).map(c.fromDom)},m=o.immutable("element","offset");return{owner:s,defaultView:function(e){var t=e.dom().ownerDocument.defaultView;return c.fromDom(t)},documentElement:function(e){var t=s(e);return c.fromDom(t.dom().documentElement)},parent:u,findIndex:function(e){return u(e).bind(function(n){var r=d(n);return t.findIndex(r,function(t){return a.eq(e,t)})})},parents:function(t,r){for(var o=e.isFunction(r)?r:n.constant(!1),i=t.dom(),a=[];null!==i.parentNode&&void 0!==i.parentNode;){var s=i.parentNode,u=c.fromDom(s);if(a.push(u),!0===o(u))break;i=s}return a},siblings:function(e){return u(e).map(d).map(function(n){return t.filter(n,function(t){return!a.eq(e,t)})}).getOr([])},prevSibling:l,offsetParent:function(e){var t=e.dom();return r.from(t.offsetParent).map(c.fromDom)},prevSiblings:function(e){return t.reverse(i.toArray(e,l))},nextSibling:f,nextSiblings:function(e){return i.toArray(e,f)},children:d,child:p,firstChild:function(e){return p(e,0)},lastChild:function(e){return p(e,e.dom().childNodes.length-1)},childNodesCount:function(e){return e.dom().childNodes.length},hasChildNodes:function(e){return e.dom().hasChildNodes()},leaf:function(e,t){var n=d(e);return n.length>0&&t<n.length?m(n[t],0):m(e,t)}}}),o("ephox.sugar.api.search.PredicateFilter",["ephox.katamari.api.Arr","ephox.sugar.api.node.Body","ephox.sugar.api.search.Traverse"],function(e,t,n){var r=function(t,o){var i=[];return e.each(n.children(t),function(e){o(e)&&(i=i.concat([e])),i=i.concat(r(e,o))}),i};return{all:function(e){return r(t.body(),e)},ancestors:function(t,r,o){return e.filter(n.parents(t,o),r)},siblings:function(t,r){return e.filter(n.siblings(t),r)},children:function(t,r){return e.filter(n.children(t),r)},descendants:r}}),o("ephox.sugar.api.search.SelectorFilter",["ephox.sugar.api.search.PredicateFilter","ephox.sugar.api.search.Selectors"],function(e,t){return{all:function(e){return t.all(e)},ancestors:function(n,r,o){return e.ancestors(n,function(e){return t.is(e,r)},o)},siblings:function(n,r){return e.siblings(n,function(e){return t.is(e,r)})},children:function(n,r){return e.children(n,function(e){return t.is(e,r)})},descendants:function(e,n){return t.all(n,e)}}}),o("tinymce.ui.content.LinkTargets",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Id","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFilter","tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],function(e,t,n,r,o,i,a){var c=a.trim,s=function(e){return function(t){if(t&&1===t.nodeType){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},u=s("true"),l=s("false"),f=function(e,t,n,r,o){return{type:e,title:t,url:n,level:r,attach:o}},d=function(e){return e.innerText||e.textContent},p=function(e){return function(e){return e&&"A"===e.nodeName&&(e.id||e.name)}(e)&&h(e)},m=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},h=function(e){return function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return u(e)}return!1}(e)&&!l(e)},g=function(e){return m(e)&&h(e)},v=function(e){var t=function(e){return e.id?e.id:n.generate("h")}(e);return f("header",d(e),"#"+t,function(e){return m(e)?parseInt(e.nodeName.substr(1),10):0}(e),function(){e.id=t})},y=function(e){var n=e.id||e.name,r=d(e);return f("anchor",r||"#"+n,"#"+n,0,t.noop)},b=function(t){return function(t,n){return e.map(o.descendants(r.fromDom(n),t),function(e){return e.dom()})}("h1,h2,h3,h4,h5,h6,a:not([href])",t)},x=function(e){return c(e.title).length>0};return{find:function(t){var n=b(t);return e.filter(function(t){return e.map(e.filter(t,g),v)}(n).concat(function(t){return e.map(e.filter(t,p),y)}(n)),x)}}}),o("tinymce.ui.FilePicker",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","global!window","tinymce.ui.content.LinkTargets","tinymce.core.EditorManager","tinymce.ui.ComboBox","tinymce.core.util.Tools"],function(e,t,n,r,o,i,a){"use strict";var c={},s=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},u=function(e,n){return{title:e,value:{title:e,url:n,attach:t.noop}}},l=function(e,t,n){var r=t in e?e[t]:n;return!1===r?null:r},f=function(n,r,o,i){var f={title:"-"},p=function(n){var i=n.hasOwnProperty(o)?n[o]:[],c=e.filter(i,function(t){return function(t,n){return!e.exists(n,function(e){return e.url===t})}(t,r)});return a.map(c,function(e){return{title:e,value:{title:e,url:e,attach:t.noop}}})},m=function(t){return function(e){return a.map(e,s)}(e.filter(r,function(e){return e.type===t}))};return!1===i.typeahead_urls?[]:"file"===o?function(t){return e.foldl(t,function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(f,t)},[])}([d(n,p(c)),d(n,m("header")),d(n,function(){var e=m("anchor"),t=l(i,"anchor_top","#top"),n=l(i,"anchor_bottom","#bottom");return null!==t&&e.unshift(u("<top>",t)),null!==n&&e.push(u("<bottom>",n)),e}())]):d(n,p(c))},d=function(e,t){var n=e.toLowerCase(),r=a.grep(t,function(e){return-1!==e.title.toLowerCase().indexOf(n)});return 1===r.length&&r[0].title===e?[]:r},p=function(t,n,o,i){var a=function(e){var a=r.find(o),c=f(e,a,i,n);t.showAutoComplete(c,e)};t.on("autocomplete",function(){a(t.value())}),t.on("selectitem",function(e){var n=e.value;t.value(n.url);var r=function(e){var t=e.title;return t.raw?t.raw:t}(n);"image"===i?t.fire("change",{meta:{alt:r,attach:n.attach}}):t.fire("change",{meta:{text:r,attach:n.attach}}),t.focus()}),t.on("click",function(e){0===t.value().length&&"INPUT"===e.target.nodeName&&a("")}),t.on("PostRender",function(){t.getRoot().on("submit",function(n){n.isDefaultPrevented()||function(t,n){var r=c[n];/^https?/.test(t)&&(r?-1===e.indexOf(r,t)&&(c[n]=r.slice(0,5).concat(t)):c[n]=[t])}(t.value(),i)})})},m=function(e,t,n){var r=t.filepicker_validator_handler;if(r){e.state.on("change:value",function(t){!function(t){0!==t.length?r({url:t,type:n},function(t){var n=function(e){var t=e.status,n=e.message;return"valid"===t?{status:"ok",message:n}:"unknown"===t?{status:"warn",message:n}:"invalid"===t?{status:"warn",message:n}:{status:"none",message:""}}(t);e.statusMessage(n.message),e.statusLevel(n.status)}):e.statusLevel("none")}(t.value)})}};return i.extend({Statics:{clearHistory:function(){c={}}},init:function(e){var t,r,i,c=this,s=n.tinymce?n.tinymce.activeEditor:o.activeEditor,u=s.settings,l=e.filetype;e.spellcheck=!1,(i=u.file_picker_types||u.file_browser_callback_types)&&(i=a.makeMap(i,/[, ]/)),i&&!i[l]||(!(r=u.file_picker_callback)||i&&!i[l]?!(r=u.file_browser_callback)||i&&!i[l]||(t=function(){r(c.getEl("inp").id,c.value(),l,n)}):t=function(){var e=c.fire("beforecall").meta;e=a.extend({filetype:l},e),r.call(s,function(e,t){c.value(e).fire("change",{meta:t})},c.value(),e)}),t&&(e.icon="browse",e.onaction=t),c._super(e),p(c,u,s.getBody(),l),m(c,u,l)}})}),o("tinymce.ui.FitLayout",["tinymce.ui.AbsoluteLayout"],function(e){"use strict";return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),o("tinymce.ui.FlexLayout",["tinymce.ui.AbsoluteLayout"],function(e){"use strict";return e.extend({recalc:function(e){var t,n,r,o,i,a,c,s,u,l,f,d,p,m,h,g,v,y,b,x,w,C,k,T,_,S,E,A,N,D,R,P,O,B,I,M,L,F=[],U=Math.max,H=Math.min;for(r=e.items().filter(":visible"),o=e.layoutRect(),i=e.paddingBox,a=e.settings,d=e.isRtl()?a.direction||"row-reversed":a.direction,c=a.align,s=e.isRtl()?a.pack||"end":a.pack,u=a.spacing||0,"row-reversed"!=d&&"column-reverse"!=d||(r=r.set(r.toArray().reverse()),d=d.split("-")[0]),"column"==d?(T="y",C="h",k="minH",_="maxH",E="innerH",S="top",A="deltaH",N="contentH",B="left",P="w",D="x",R="innerW",O="minW",I="right",M="deltaW",L="contentW"):(T="x",C="w",k="minW",_="maxW",E="innerW",S="left",A="deltaW",N="contentW",B="top",P="h",D="y",R="innerH",O="minH",I="bottom",M="deltaH",L="contentH"),f=o[E]-i[S]-i[S],w=l=0,t=0,n=r.length;t<n;t++)m=(p=r[t]).layoutRect(),h=p.settings.flex,f-=t<n-1?u:0,h>0&&(l+=h,m[_]&&F.push(p),m.flex=h),f-=m[k],(g=i[B]+m[O]+i[I])>w&&(w=g);if(b={},b[k]=f<0?o[k]-f+o[A]:o[E]-f+o[A],b[O]=w+o[M],b[N]=o[E]-f,b[L]=w,b.minW=H(b.minW,o.maxW),b.minH=H(b.minH,o.maxH),b.minW=U(b.minW,o.startMinWidth),b.minH=U(b.minH,o.startMinHeight),!o.autoResize||b.minW==o.minW&&b.minH==o.minH){for(y=f/l,t=0,n=F.length;t<n;t++)v=(m=(p=F[t]).layoutRect())[_],(g=m[k]+m.flex*y)>v?(f-=m[_]-m[k],l-=m.flex,m.flex=0,m.maxFlexSize=v):m.maxFlexSize=0;for(y=f/l,x=i[S],b={},0===l&&("end"==s?x=f+i[S]:"center"==s?(x=Math.round(o[E]/2-(o[E]-f)/2)+i[S])<0&&(x=i[S]):"justify"==s&&(x=i[S],u=Math.floor(f/(r.length-1)))),b[D]=i[B],t=0,n=r.length;t<n;t++)g=(m=(p=r[t]).layoutRect()).maxFlexSize||m[k],"center"===c?b[D]=Math.round(o[R]/2-m[P]/2):"stretch"===c?(b[P]=U(m[O]||0,o[R]-i[B]-i[I]),b[D]=i[B]):"end"===c&&(b[D]=o[R]-m[P]-i.top),m.flex>0&&(g+=m.flex*y),b[C]=g,b[T]=x,p.layoutRect(b),p.recalc&&p.recalc(),x+=g+u}else if(b.w=b.minW,b.h=b.minH,e.layoutRect(b),this.recalc(e),null===e._lastRect){var z=e.parent();z&&(z._lastRect=null,z.recalc())}}})}),o("tinymce.ui.FlowLayout",["tinymce.ui.Layout"],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})}),o("ephox.sugar.impl.ClosestOrAncestor",["ephox.katamari.api.Type","ephox.katamari.api.Option"],function(e,t){return function(n,r,o,i,a){return n(o,i)?t.some(o):e.isFunction(a)&&a(o)?t.none():r(o,i,a)}}),o("ephox.sugar.api.search.PredicateFind",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Body","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.impl.ClosestOrAncestor"],function(e,t,n,r,o,i,a,c){var s=function(t,o,i){for(var c=t.dom(),s=e.isFunction(i)?i:n.constant(!1);c.parentNode;){c=c.parentNode;var u=a.fromDom(c);if(o(u))return r.some(u);if(s(u))break}return r.none()},u=function(e,r){return t.find(e.dom().childNodes,n.compose(r,a.fromDom)).map(a.fromDom)},l=function(e,t){var n=function(e){for(var o=0;o<e.childNodes.length;o++){if(t(a.fromDom(e.childNodes[o])))return r.some(a.fromDom(e.childNodes[o]));var i=n(e.childNodes[o]);if(i.isSome())return i}return r.none()};return n(e.dom())};return{first:function(e){return l(o.body(),e)},ancestor:s,closest:function(e,t,n){return c(function(e){return t(e)},s,e,t,n)},sibling:function(e,t){var n=e.dom();return n.parentNode?u(a.fromDom(n.parentNode),function(n){return!i.eq(e,n)&&t(n)}):r.none()},child:u,descendant:l}}),o("ephox.sugar.api.search.SelectorFind",["ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Selectors","ephox.sugar.impl.ClosestOrAncestor"],function(e,t,n){var r=function(n,r,o){return e.ancestor(n,function(e){return t.is(e,r)},o)};return{first:function(e){return t.one(e)},ancestor:r,sibling:function(n,r){return e.sibling(n,function(e){return t.is(e,r)})},child:function(n,r){return e.child(n,function(e){return t.is(e,r)})},descendant:function(e,n){return t.one(n,e)},closest:function(e,o,i){return n(t.is,r,e,o,i)}}}),o("tinymce.ui.editorui.FormatUtils",[],function(){return{toggleFormat:function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},postRenderFormat:function(e,t){return function(){var n=this;e.formatter?e.formatter.formatChanged(t,function(e){n.active(e)}):e.on("init",function(){e.formatter.formatChanged(t,function(e){n.active(e)})})}}}}),o("tinymce.ui.editorui.Align",["tinymce.core.util.Tools","tinymce.ui.editorui.FormatUtils"],function(e,t){return{register:function(n){n.addMenuItem("align",{text:"Align",menu:[{text:"Left",icon:"alignleft",onclick:t.toggleFormat(n,"alignleft")},{text:"Center",icon:"aligncenter",onclick:t.toggleFormat(n,"aligncenter")},{text:"Right",icon:"alignright",onclick:t.toggleFormat(n,"alignright")},{text:"Justify",icon:"alignjustify",onclick:t.toggleFormat(n,"alignjustify")}]}),e.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(e,r){n.addButton(r,{active:!1,tooltip:e[0],cmd:e[1],onPostRender:t.postRenderFormat(n,r)})})}}}),o("tinymce.ui.fmt.FontInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","tinymce.core.dom.DOMUtils"],function(e,t,n,r,o){var i=function(e){return function(i,a){return t.from(a).map(n.fromDom).filter(r.isElement).bind(function(n){return function(e,n,r){for(;r!==n;){if(r.style[e]){var o=r.style[e];return""!==o?t.some(o):t.none()}r=r.parentNode}return t.none()}(e,i,n.dom()).or(function(e,n){return t.from(o.DOM.getStyle(n,e,!0))}(e,n.dom()))}).getOr("")}};return{getFontSize:i("fontSize"),getFontFamily:e.compose(function(e){return e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")},i("fontFamily")),toPt:function(e,t){return/[0-9.]+px$/.test(e)?function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}(72*parseInt(e,10)/96,t||0)+"pt":e}}}),o("tinymce.ui.editorui.FontSelect",["tinymce.core.util.Tools","tinymce.ui.fmt.FontInfo"],function(e,t){var n=function(e){return e?e.split(",")[0]:""},r=function(r,o){return function(){var i=this;r.on("init nodeChange",function(a){var c=t.getFontFamily(r.getBody(),a.element),s=function(t,r){var o;return e.each(t,function(e){e.value.toLowerCase()===r.toLowerCase()&&(o=e.value)}),e.each(t,function(e){o||n(e.value).toLowerCase()!==n(r).toLowerCase()||(o=e.value)}),o}(o,c);i.value(s||null),!s&&c&&i.text(n(c))})}},o=function(t){t.addButton("fontselect",function(){var n=function(t){var n=function(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}(t.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return e.map(n,function(e){return{text:{raw:e[0]},value:e[1],textStyle:-1===e[1].indexOf("dings")?"font-family:"+e[1]:""}})}(t);return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:n,fixedWidth:!0,onPostRender:r(t,n),onselect:function(e){e.control.settings.value&&t.execCommand("FontName",!1,e.control.settings.value)}}})};return{register:function(e){o(e)}}}),o("tinymce.ui.editorui.FontSizeSelect",["tinymce.core.util.Tools","tinymce.ui.fmt.FontInfo"],function(e,t){var n=function(t,n,r){var o;return e.each(t,function(e){e.value===r?o=r:e.value===n&&(o=n)}),o},r=function(r){r.addButton("fontsizeselect",function(){var o=function(t){var n=t.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt";return e.map(n.split(" "),function(e){var t=e,n=e,r=e.split("=");return r.length>1&&(t=r[0],n=r[1]),{text:t,value:n}})}(r);return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:o,fixedWidth:!0,onPostRender:function(e,r){return function(){var o=this;e.on("init nodeChange",function(i){var a,c,s,u;if(a=t.getFontSize(e.getBody(),i.element))for(s=3;!u&&s>=0;s--)c=t.toPt(a,s),u=n(r,c,a);o.value(u||null),u||o.text(c)})}}(r,o),onclick:function(e){e.control.settings.value&&r.execCommand("FontSize",!1,e.control.settings.value)}}})};return{register:function(e){r(e)}}}),o("tinymce.ui.editorui.FormatSelect",["tinymce.core.util.Tools","tinymce.ui.editorui.FormatUtils"],function(e,t){var n=function(n,r){return function(){var o=[];return e.each(r,function(e){o.push({text:e[0],value:e[1],textStyle:function(){return n.formatter.getCssText(e[1])}})}),{type:"listbox",text:r[0][0],values:o,fixedWidth:!0,onselect:function(e){if(e.control){var r=e.control.value();t.toggleFormat(n,r)()}},onPostRender:function(t,n,r){return function(){var o=this;t.on("nodeChange",function(i){var a=t.formatter,c=null;e.each(i.parents,function(t){if(e.each(n,function(e){if(r?a.matchNode(t,r,{value:e.value})&&(c=e.value):a.matchNode(t,e.value)&&(c=e.value),c)return!1}),c)return!1}),o.value(c)})}}(n,o)}}};return{register:function(r){var o=function(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}(r.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");r.addMenuItem("blockformats",{text:"Blocks",menu:function(n,r){return e.map(r,function(e){return{text:e[0],onclick:t.toggleFormat(n,e[1]),textStyle:function(){return n.formatter.getCssText(e[1])}}})}(r,o)}),r.addButton("formatselect",n(r,o))}}}),o("tinymce.ui.editorui.Formats",["tinymce.core.util.Tools","tinymce.ui.editorui.FormatUtils"],function(e,t){var n=function(t,r){var o=r.length;return e.each(r,function(e){e.menu&&(e.hidden=0===n(t,e.menu));var r=e.format;r&&(e.hidden=!t.formatter.canApply(r)),e.hidden&&o--}),o},r=function(e,t){var o=t.items().length;return t.items().each(function(t){t.menu&&t.visible(r(e,t.menu)>0),!t.menu&&t.settings.menu&&t.visible(n(e,t.settings.menu)>0);var i=t.settings.format;i&&t.visible(e.formatter.canApply(i)),t.visible()||o--}),o};return{register:function(n){var o=function(n){var r=0,o=[],i=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],a=function(t){var n=[];if(t)return e.each(t,function(e){var t={text:e.title,icon:e.icon};if(e.items)t.menu=a(e.items);else{var i=e.format||"custom"+r++;e.format||(e.name=i,o.push(e)),t.format=i,t.cmd=e.cmd}n.push(t)}),n};return n.on("init",function(){e.each(o,function(e){n.formatter.register(e.name,e)})}),{type:"menu",items:n.settings.style_formats_merge?n.settings.style_formats?a(i.concat(n.settings.style_formats)):a(i):a(n.settings.style_formats||i),onPostRender:function(e){n.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return n.formatter.getCssText(this.settings.format)},onPostRender:function(){var e=this;e.parent().on("show",function(){var t,r;(t=e.settings.format)&&(e.disabled(!n.formatter.canApply(t)),e.active(n.formatter.match(t))),(r=e.settings.cmd)&&e.active(n.queryCommandState(r))})},onclick:function(){this.settings.format&&t.toggleFormat(n,this.settings.format)(),this.settings.cmd&&n.execCommand(this.settings.cmd)}}}}(n);!function(e,t){e.addMenuItem("formats",{text:"Formats",menu:t})}(n,o),function(e,t){e.addButton("styleselect",{type:"menubutton",text:"Formats",menu:t,onShowMenu:function(){e.settings.style_formats_autohide&&r(e,this.menu)}})}(n,o)}}}),o("tinymce.ui.editorui.InsertButton",["ephox.katamari.api.Arr","tinymce.core.util.Tools"],function(e,t){var n=function(r,o){var i,a;if("string"==typeof o)a=o.split(" ");else if(t.isArray(o))return e.flatten(t.map(o,function(e){return n(r,e)}));return i=t.grep(a,function(e){return"|"===e||e in r.menuItems}),t.map(i,function(e){return"|"===e?{text:"-"}:r.menuItems[e]})},r=function(e){return e&&"-"===e.text},o=function(t){var n=e.filter(t,function(e,t,n){return!r(e)||!r(n[t-1])});return e.filter(n,function(e,t,n){return!r(e)||t>0&&t<n.length-1})},i=function(e){var r=e.settings.insert_button_items;return o(r?n(e,r):function(e,n){var r=[{text:"-"}],o=t.grep(e.menuItems,function(e){return e.context===n});return t.each(o,function(e){"before"===e.separator&&r.push({text:"|"}),e.prependToContext?r.unshift(e):r.push(e),"after"===e.separator&&r.push({text:"|"})}),r}(e,"insert"))};return{register:function(e){!function(e){e.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(i(e)),this.menu.renderNew()}})}(e)}}}),o("tinymce.ui.editorui.SimpleControls",["tinymce.core.util.Tools","tinymce.ui.editorui.FormatUtils"],function(e,t){var n=function(n){!function(n){e.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(e,r){n.addButton(r,{active:!1,tooltip:e,onPostRender:t.postRenderFormat(n,r),onclick:t.toggleFormat(n,r)})})}(n),function(t){e.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(e,n){t.addButton(n,{tooltip:e[0],cmd:e[1]})})}(n),function(n){e.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(e,r){n.addButton(r,{active:!1,tooltip:e[0],cmd:e[1],onPostRender:t.postRenderFormat(n,r)})})}(n)};return{register:function(r){n(r),function(n){e.each({bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(e,t){n.addMenuItem(t,{text:e[0],icon:t,shortcut:e[2],cmd:e[1]})}),n.addMenuItem("codeformat",{text:"Code",icon:"code",onclick:t.toggleFormat(n,"code")})}(r)}}}),o("tinymce.ui.editorui.UndoRedo",[],function(){var e=function(e,t){return function(){var n=this,r=function(){var n="redo"===t?"hasRedo":"hasUndo";return!!e.undoManager&&e.undoManager[n]()};n.disabled(!r()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){n.disabled(e.readonly||!r())})}};return{register:function(t){!function(t){t.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:e(t,"undo"),cmd:"undo"}),t.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:e(t,"redo"),cmd:"redo"})}(t),function(t){t.addButton("undo",{tooltip:"Undo",onPostRender:e(t,"undo"),cmd:"undo"}),t.addButton("redo",{tooltip:"Redo",onPostRender:e(t,"redo"),cmd:"redo"})}(t)}}}),o("tinymce.ui.editorui.VisualAid",[],function(){return{register:function(e){!function(e){e.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(e){return function(){var t=this;e.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(e.hasVisual)}}(e),cmd:"mceToggleVisualAid"})}(e)}}}),o("tinymce.ui.FormatControls",["ephox.katamari.api.Fun","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFind","global!document","tinymce.core.EditorManager","tinymce.core.Env","tinymce.ui.Control","tinymce.ui.FloatPanel","tinymce.ui.Widget","tinymce.ui.editorui.Align","tinymce.ui.editorui.FontSelect","tinymce.ui.editorui.FontSizeSelect","tinymce.ui.editorui.FormatSelect","tinymce.ui.editorui.Formats","tinymce.ui.editorui.InsertButton","tinymce.ui.editorui.SimpleControls","tinymce.ui.editorui.UndoRedo","tinymce.ui.editorui.VisualAid"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m,h,g,v){return{setup:function(y){!function(e){e.rtl&&(a.rtl=!0)}(y),function(e){e.on("mousedown",function(){c.hideAll()})}(y),function(o){o.settings.ui_container&&(i.container=n.descendant(t.fromDom(r.body),o.settings.ui_container).fold(e.constant(null),function(e){return e.dom()}))}(y),s.tooltips=!i.iOS,a.translate=function(e){return o.translate(e)},d.register(y),u.register(y),h.register(y),g.register(y),f.register(y),l.register(y),p.register(y),v.register(y),m.register(y)}}}),o("tinymce.ui.GridLayout",["tinymce.ui.AbsoluteLayout"],function(e){"use strict";return e.extend({recalc:function(e){var t,n,r,o,i,a,c,s,u,l,f,d,p,m,h,g,v,y,b,x,w,C,k,T,_,S,E,A,N,D=[],R=[];t=e.settings,o=e.items().filter(":visible"),i=e.layoutRect(),r=t.columns||Math.ceil(Math.sqrt(o.length)),n=Math.ceil(o.length/r),y=t.spacingH||t.spacing||0,b=t.spacingV||t.spacing||0,x=t.alignH||t.align,w=t.alignV||t.align,g=e.paddingBox,A="reverseRows"in t?t.reverseRows:e.isRtl(),x&&"string"==typeof x&&(x=[x]),w&&"string"==typeof w&&(w=[w]);for(f=0;f<r;f++)D.push(0);for(d=0;d<n;d++)R.push(0);for(d=0;d<n;d++)for(f=0;f<r&&(l=o[d*r+f]);f++)T=(u=l.layoutRect()).minW,_=u.minH,D[f]=T>D[f]?T:D[f],R[d]=_>R[d]?_:R[d];for(S=i.innerW-g.left-g.right,C=0,f=0;f<r;f++)C+=D[f]+(f>0?y:0),S-=(f>0?y:0)+D[f];for(E=i.innerH-g.top-g.bottom,k=0,d=0;d<n;d++)k+=R[d]+(d>0?b:0),E-=(d>0?b:0)+R[d];if(C+=g.left+g.right,k+=g.top+g.bottom,s={},s.minW=C+(i.w-i.innerW),s.minH=k+(i.h-i.innerH),s.contentW=s.minW-i.deltaW,s.contentH=s.minH-i.deltaH,s.minW=Math.min(s.minW,i.maxW),s.minH=Math.min(s.minH,i.maxH),s.minW=Math.max(s.minW,i.startMinWidth),s.minH=Math.max(s.minH,i.startMinHeight),!i.autoResize||s.minW==i.minW&&s.minH==i.minH){i.autoResize&&((s=e.layoutRect(s)).contentW=s.minW-i.deltaW,s.contentH=s.minH-i.deltaH);var P;P="start"==t.packV?0:E>0?Math.floor(E/n):0;var O=0,B=t.flexWidths;if(B)for(f=0;f<B.length;f++)O+=B[f];else O=r;var I=S/O;for(f=0;f<r;f++)D[f]+=B?B[f]*I:I;for(m=g.top,d=0;d<n;d++){for(p=g.left,c=R[d]+P,f=0;f<r&&(N=A?d*r+r-1-f:d*r+f,l=o[N]);f++)h=l.settings,u=l.layoutRect(),a=Math.max(D[f],u.startMinWidth),u.x=p,u.y=m,"center"==(v=h.alignH||(x?x[f]||x[0]:null))?u.x=p+a/2-u.w/2:"right"==v?u.x=p+a-u.w:"stretch"==v&&(u.w=a),"center"==(v=h.alignV||(w?w[f]||w[0]:null))?u.y=m+c/2-u.h/2:"bottom"==v?u.y=m+c-u.h:"stretch"==v&&(u.h=c),l.layoutRect(u),p+=a+y,l.recalc&&l.recalc();m+=c+b}}else if(s.w=s.minW,s.h=s.minH,e.layoutRect(s),this.recalc(e),null===e._lastRect){var M=e.parent();M&&(M._lastRect=null,M.recalc())}}})}),o("tinymce.ui.Iframe",["tinymce.ui.Widget","tinymce.core.util.Delay"],function(e,t){"use strict";return e.extend({renderHtml:function(){return this.classes.add("iframe"),this.canFocus=!1,'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,n){var r=this,o=this.getEl().contentWindow.document.body;return o?(o.innerHTML=e,n&&n()):t.setTimeout(function(){r.html(e)}),this}})}),o("tinymce.ui.InfoBox",["tinymce.ui.Widget"],function(e){"use strict";return e.extend({init:function(e){this._super(e),this.classes.add("widget").add("infobox"),this.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+e+"ico "+e+'i-help"></i></button></div></div>'},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl("body").firstChild.data=e.encode(t.value),e.state.get("rendered")&&e.updateLayoutRect()}),e.state.on("change:help",function(t){e.classes.toggle("has-help",t.value),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}})}),o("tinymce.ui.Label",["tinymce.ui.Widget","tinymce.ui.DomUtils"],function(e,t){"use strict";return e.extend({init:function(e){this._super(e),this.classes.add("widget").add("label"),this.canFocus=!1,e.multiline&&this.classes.add("autoscroll"),e.strong&&this.classes.add("strong")},initLayoutRect:function(){var e=this._super();if(this.settings.multiline){t.getSize(this.getEl()).width>e.maxW&&(e.minW=e.maxW,this.classes.add("multiline")),this.getEl().style.width=e.minW+"px",e.startMinH=e.h=e.minH=Math.min(e.maxH,t.getSize(this.getEl()).height)}return e},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e,t,n=this.settings.forId,r=this.settings.html?this.settings.html:this.encode(this.state.get("text"));return!n&&(t=this.settings.forName)&&(e=this.getRoot().find("#"+t)[0])&&(n=e._id),n?'<label id="'+this._id+'" class="'+this.classes+'"'+(n?' for="'+n+'"':"")+">"+r+"</label>":'<span id="'+this._id+'" class="'+this.classes+'">'+r+"</span>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.innerHtml(e.encode(t.value)),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}})}),o("tinymce.ui.Toolbar",["tinymce.ui.Container"],function(e){"use strict";return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){this._super(e),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(e){e.classes.add("toolbar-item")}),this._super()}})}),o("tinymce.ui.MenuBar",["tinymce.ui.Toolbar"],function(e){"use strict";return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),o("tinymce.ui.MenuButton",["global!window","tinymce.core.ui.Factory","tinymce.ui.Button","tinymce.ui.MenuBar"],function(e,t,n,r){"use strict";var o=n.extend({init:function(e){this._renderOpen=!0,this._super(e),e=this.settings,this.classes.add("menubtn"),e.fixedWidth&&this.classes.add("fixed-width"),this.aria("haspopup",!0),this.state.set("menu",e.menu||this.render())},showMenu:function(e){var n,r=this;if(r.menu&&r.menu.visible()&&!1!==e)return r.hideMenu();r.menu||(n=r.state.get("menu")||[],r.classes.add("opened"),n.length?n={type:"menu",animate:!0,items:n}:(n.type=n.type||"menu",n.animate=!0),n.renderTo?r.menu=n.parent(r).show().renderTo():r.menu=t.create(n).parent(r).renderTo(),r.fire("createmenu"),r.menu.reflow(),r.menu.on("cancel",function(e){e.control.parent()===r.menu&&(e.stopPropagation(),r.focus(),r.hideMenu())}),r.menu.on("select",function(){r.focus()}),r.menu.on("show hide",function(e){e.control===r.menu&&(r.activeMenu("show"==e.type),r.classes.toggle("opened","show"==e.type)),r.aria("expanded","show"==e.type)}).fire("show")),r.menu.show(),r.menu.layoutRect({w:r.layoutRect().w}),r.menu.moveRel(r.getEl(),r.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),r.fire("showmenu")},hideMenu:function(){this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var t,n=this._id,o=this.classPrefix,i=this.settings.icon,a=this.state.get("text"),c="";return(t=this.settings.image)?(i="none","string"!=typeof t&&(t=e.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",a&&(this.classes.add("btn-has-text"),c='<span class="'+o+'txt">'+this.encode(a)+"</span>"),i=this.settings.icon?o+"ico "+o+"i-"+i:"",this.aria("role",this.parent()instanceof r?"menuitem":"button"),'<div id="'+n+'" class="'+this.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button id="'+n+'-open" role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+t+"></i>":"")+c+' <i class="'+o+'caret"></i></button></div>'},postRender:function(){var e=this;return e.on("click",function(t){t.control===e&&function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}(t.target,e.getEl())&&(e.focus(),e.showMenu(!t.aria),t.aria&&e.menu.items().filter(":visible")[0].focus())}),e.on("mouseenter",function(t){var n,r=t.control,i=e.parent();r&&i&&r instanceof o&&r.parent()==i&&(i.items().filter("MenuButton").each(function(e){e.hideMenu&&e!=r&&(e.menu&&e.menu.visible()&&(n=!0),e.hideMenu())}),n&&(r.focus(),r.showMenu()))}),e._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return o}),o("tinymce.ui.MenuItem",["tinymce.ui.Widget","tinymce.core.ui.Factory","tinymce.core.Env","tinymce.core.util.Delay"],function(e,t,n,r){"use strict";return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t;this._super(e),e=this.settings,this.classes.add("menu-item"),e.menu&&this.classes.add("menu-item-expand"),e.preview&&this.classes.add("menu-item-preview"),"-"!==(t=this.state.get("text"))&&"|"!==t||(this.classes.add("menu-item-sep"),this.aria("role","separator"),this.state.set("text","-")),e.selectable&&(this.aria("role","menuitemcheckbox"),this.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||this.classes.add("menu-item-normal"),this.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&this.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e,n=this,r=n.settings,o=n.parent();if(o.items().each(function(e){e!==n&&e.hideMenu()}),r.menu){(e=n.menu)?e.show():((e=r.menu).length?e={type:"menu",animate:!0,items:e}:(e.type=e.type||"menu",e.animate=!0),o.settings.itemDefaults&&(e.itemDefaults=o.settings.itemDefaults),(e=n.menu=t.create(e).parent(n).renderTo()).reflow(),e.on("cancel",function(t){t.stopPropagation(),n.focus(),e.hide()}),e.on("show hide",function(e){e.control.items&&e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),e.on("hide",function(t){t.control===e&&n.classes.remove("selected")}),e.submenu=!0),e._parentMenu=o,e.classes.add("menu-sub");var i=e.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);e.moveRel(n.getEl(),i),e.rel=i,i="menu-sub-"+i,e.classes.remove(e._lastRel).add(i),e._lastRel=i,n.classes.add("selected"),n.aria("expanded",!0)}},hideMenu:function(){return this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide(),this.aria("expanded",!1)),this},renderHtml:function(){function e(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function t(t){var n=i.match||"";return n?t.replace(new RegExp(e(n),"gi"),function(e){return"!mce~match["+e+"]mce~match!"}):t}function r(t){return t.replace(new RegExp(e("!mce~match["),"g"),"<b>").replace(new RegExp(e("]mce~match!"),"g"),"</b>")}var o=this._id,i=this.settings,a=this.classPrefix,c=this.state.get("text"),s=this.settings.icon,u="",l=i.shortcut,f=this.encode(i.url),d="";return s&&this.parent().classes.add("menu-has-icons"),i.image&&(u=" style=\"background-image: url('"+i.image+"')\""),l&&(l=function(e){var t,r,o={};for(o=n.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)(r=o[e[t].toLowerCase()])&&(e[t]=r);return e.join("+")}(l)),s=a+"ico "+a+"i-"+(this.settings.icon||"none"),d="-"!==c?'<i class="'+s+'"'+u+"></i>":"",c=r(this.encode(t(c))),f=r(this.encode(t(f))),'<div id="'+o+'" class="'+this.classes+'" tabindex="-1">'+d+("-"!==c?'<span id="'+o+'-text" class="'+a+'text">'+c+"</span>":"")+(l?'<div id="'+o+'-shortcut" class="'+a+'menu-shortcut">'+l+"</div>":"")+(i.menu?'<div class="'+a+'caret"></div>':"")+(f?'<div class="'+a+'menu-item-link">'+f+"</div>":"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var o=e.getEl("text");o&&(o.setAttribute("style",n),e._textStyle=n)}return e.on("mouseenter click",function(n){n.control===e&&(t.menu||"click"!==n.type?(e.showMenu(),n.aria&&e.menu.focus(!0)):(e.fire("select"),r.requestAnimationFrame(function(){e.parent().hideAll()})))}),e._super(),e},hover:function(){return this.parent().items().each(function(e){e.classes.remove("selected")}),this.classes.toggle("selected",!0),this},active:function(e){return function(e,t){var n=e._textStyle;if(n){var r=e.getEl("text");r.setAttribute("style",n),t&&(r.style.color="",r.style.backgroundColor="")}}(this,e),void 0!==e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),o("tinymce.ui.Menu",["tinymce.core.Env","tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.ui.FloatPanel","tinymce.ui.MenuItem","tinymce.ui.Throbber"],function(e,t,n,r,o,i){"use strict";return r.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(t){if(t.autohide=!0,t.constrainToViewport=!0,"function"==typeof t.items&&(t.itemsFactory=t.items,t.items=[]),t.itemDefaults)for(var r=t.items,o=r.length;o--;)r[o]=n.extend({},t.itemDefaults,r[o]);this._super(t),this.classes.add("menu"),t.animate&&11!==e.ie&&this.classes.add("animate")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){function e(){n.throbber&&(n.throbber.hide(),n.throbber=null)}var t,n=this;n.settings.itemsFactory&&(n.throbber||(n.throbber=new i(n.getEl("body"),!0),0===n.items().length?(n.throbber.show(),n.fire("loading")):n.throbber.show(100,function(){n.items().remove(),n.fire("loading")}),n.on("hide close",e)),n.requestTime=t=(new Date).getTime(),n.settings.itemsFactory(function(r){0!==r.length?n.requestTime===t&&(n.getEl().style.width="",n.getEl("body").style.width="",e(),n.items().remove(),n.getEl("body").innerHTML="",n.add(r),n.renderNew(),n.fire("loaded")):n.hide()}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var e=this;return e.items().each(function(t){var n=t.settings;if(n.icon||n.image||n.selectable)return e._hasIcons=!0,!1}),e.settings.itemsFactory&&e.on("postrender",function(){e.settings.itemsFactory&&e.load()}),e.on("show hide",function(n){n.control===e&&("show"===n.type?t.setTimeout(function(){e.classes.add("in")},0):e.classes.remove("in"))}),e._super()}})}),o("tinymce.ui.ListBox",["tinymce.ui.MenuButton","tinymce.ui.Menu"],function(e,t){"use strict";return e.extend({init:function(e){function t(n){for(var i=0;i<n.length;i++){if(r=n[i].selected||e.value===n[i].value)return o=o||n[i].text,a.state.set("value",n[i].value),!0;if(n[i].menu&&t(n[i].menu))return!0}}var n,r,o,i,a=this;a._super(e),e=a.settings,a._values=n=e.values,n&&(void 0!==e.value&&t(n),!r&&n.length>0&&(o=n[0].text,a.state.set("value",n[0].value)),a.state.set("menu",n)),a.state.set("text",e.text||o),a.classes.add("listbox"),a.on("select",function(t){var n=t.control;i&&(t.lastControl=i),e.multiple?n.active(!n.active()):a.value(t.control.value()),i=n})},bindStates:function(){function e(t,n){var r;if(t)for(var o=0;o<t.length;o++){if(t[o].value===n)return t[o];if(t[o].menu&&(r=e(t[o].menu,n)))return r}}var n=this;return n.on("show",function(e){!function(e,n){e instanceof t&&e.items().each(function(e){e.hasMenus()||e.active(e.value()===n)})}(e.control,n.value())}),n.state.on("change:value",function(t){var r=e(n.state.get("menu"),t.value);r?n.text(r.text):n.text(n.settings.text)}),n._super()}})}),o("tinymce.ui.Radio",["tinymce.ui.Checkbox"],function(e){"use strict";return e.extend({Defaults:{classes:"radio",role:"radio"}})}),o("tinymce.ui.ResizeHandle",["tinymce.ui.Widget","tinymce.ui.DragHelper"],function(e,t){"use strict";return e.extend({renderHtml:function(){var e=this.classPrefix;return this.classes.add("resizehandle"),"both"==this.settings.direction&&this.classes.add("resizehandle-both"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new t(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){"both"!=e.settings.direction&&(t.deltaX=0),e.fire("Resize",t)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),o("tinymce.ui.SelectBox",["tinymce.ui.Widget"],function(e){"use strict";function t(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}return e.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var t=this;t._super(e),t.settings.size&&(t.size=t.settings.size),t.settings.options&&(t._options=t.settings.options),t.on("keydown",function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))})},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e,n="";return e=t(this._options),this.size&&(n=' size = "'+this.size+'"'),'<select id="'+this._id+'" class="'+this.classes+'"'+n+">"+e+"</select>"},bindStates:function(){var e=this;return e.state.on("change:options",function(n){e.getEl().innerHTML=t(n.value)}),e._super()}})}),o("tinymce.ui.Slider",["tinymce.ui.Widget","tinymce.ui.DragHelper","tinymce.ui.DomUtils"],function(e,t,n){"use strict";function r(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function o(e,t,n){e.setAttribute("aria-"+t,n)}function i(e,t){var r,i,a,c,s;"v"==e.settings.orientation?(a="top",i="height",r="h"):(a="left",i="width",r="w"),s=e.getEl("handle"),c=((e.layoutRect()[r]||100)-n.getSize(s)[i])*((t-e._minValue)/(e._maxValue-e._minValue))+"px",s.style[a]=c,s.style.height=e.layoutRect().h+"px",o(s,"valuenow",t),o(s,"valuetext",""+e.settings.previewFilter(t)),o(s,"valuemin",e._minValue),o(s,"valuemax",e._maxValue)}return e.extend({init:function(e){e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),this._super(e),this.classes.add("slider"),"v"==e.orientation&&this.classes.add("vertical"),this._minValue=e.minValue||0,this._maxValue=e.maxValue||100,this._initValue=this.state.get("value")},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div id="'+e+'-handle" class="'+t+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var e,o,i,a,c,s,u=this;e=u._minValue,o=u._maxValue,"v"==u.settings.orientation?(i="screenY",a="top",c="height",s="h"):(i="screenX",a="left",c="width",s="w"),u._super(),function(e,t){function n(n){var o;o=u.value(),o=r(o=function(e,t,n){return n*(t-e)-e}(e,t,function(e,t,n){return(n+e)/(t-e)}(e,t,o)+.05*n),e,t),u.value(o),u.fire("dragstart",{value:o}),u.fire("drag",{value:o}),u.fire("dragend",{value:o})}u.on("keydown",function(e){switch(e.keyCode){case 37:case 38:n(-1);break;case 39:case 40:n(1)}})}(e,o,u.getEl("handle")),function(e,o,l){var f,d,p,m,h;u._dragHelper=new t(u._id,{handle:u._id+"-handle",start:function(e){f=e[i],d=parseInt(u.getEl("handle").style[a],10),p=(u.layoutRect()[s]||100)-n.getSize(l)[c],u.fire("dragstart",{value:h})},drag:function(t){var n=t[i]-f;m=r(d+n,0,p),l.style[a]=m+"px",h=e+m/p*(o-e),u.value(h),u.tooltip().text(""+u.settings.previewFilter(h)).show().moveRel(l,"bc tc"),u.fire("drag",{value:h})},stop:function(){u.tooltip().hide(),u.fire("dragend",{value:h})}})}(e,o,u.getEl("handle"))},repaint:function(){this._super(),i(this,this.value())},bindStates:function(){var e=this;return e.state.on("change:value",function(t){i(e,t.value)}),e._super()}})}),o("tinymce.ui.Spacer",["tinymce.ui.Widget"],function(e){"use strict";return e.extend({renderHtml:function(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}})}),o("tinymce.ui.SplitButton",["global!window","tinymce.core.dom.DomQuery","tinymce.ui.DomUtils","tinymce.ui.MenuButton"],function(e,t,n,r){return r.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,r,o=this.getEl(),i=this.layoutRect();return this._super(),e=o.firstChild,r=o.lastChild,t(e).css({width:i.w-n.getSize(r).width,height:i.h-2}),t(r).css({height:i.h-2}),this},activeMenu:function(e){t(this.getEl().lastChild).toggleClass(this.classPrefix+"active",e)},renderHtml:function(){var t,n,r=this._id,o=this.classPrefix,i=this.state.get("icon"),a=this.state.get("text"),c=this.settings,s="";return(t=c.image)?(i="none","string"!=typeof t&&(t=e.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",i=c.icon?o+"ico "+o+"i-"+i:"",a&&(this.classes.add("btn-has-text"),s='<span class="'+o+'txt">'+this.encode(a)+"</span>"),n="boolean"==typeof c.active?' aria-pressed="'+c.active+'"':"",'<div id="'+r+'" class="'+this.classes+'" role="button"'+n+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(i?'<i class="'+i+'"'+t+"></i>":"")+s+'</button><button type="button" class="'+o+'open" hidefocus="1" tabindex="-1">'+(this._menuBtnText?(i?"":"")+this._menuBtnText:"")+' <i class="'+o+'caret"></i></button></div>'},postRender:function(){var e=this.settings.onclick;return this.on("click",function(t){var n=t.target;if(t.control==this)for(;n;){if(t.aria&&"down"!=t.aria.key||"BUTTON"==n.nodeName&&-1==n.className.indexOf("open"))return t.stopImmediatePropagation(),void(e&&e.call(this,t));n=n.parentNode}}),delete this.settings.onclick,this._super()}})}),o("tinymce.ui.StackLayout",["tinymce.ui.FlowLayout"],function(e){"use strict";return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),o("tinymce.ui.TabPanel",["tinymce.ui.Panel","tinymce.core.dom.DomQuery","tinymce.ui.DomUtils"],function(e,t,n){"use strict";return e.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var n;this.activeTabId&&(n=this.getEl(this.activeTabId),t(n).removeClass(this.classPrefix+"active"),n.setAttribute("aria-selected","false")),this.activeTabId="t"+e,(n=this.getEl("t"+e)).setAttribute("aria-selected","true"),t(n).addClass(this.classPrefix+"active"),this.items()[e].show().fire("showtab"),this.reflow(),this.items().each(function(t,n){e!=n&&t.hide()})},renderHtml:function(){var e=this,t=e._layout,n="",r=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each(function(t,o){var i=e._id+"-t"+o;t.aria("role","tabpanel"),t.aria("labelledby",i),n+='<div id="'+i+'" class="'+r+'tab" unselectable="on" role="tab" aria-controls="'+t._id+'" aria-selected="false" tabIndex="-1">'+e.encode(t.settings.title)+"</div>"}),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+r+'tabs" role="tablist">'+n+'</div><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",function(t){var n=t.target.parentNode;if(n&&n.id==e._id+"-head")for(var r=n.childNodes.length;r--;)n.childNodes[r]==t.target&&e.activateTab(r)})},initLayoutRect:function(){var e,t,r;t=(t=n.getSize(this.getEl("head")).width)<0?0:t,r=0,this.items().each(function(e){t=Math.max(t,e.layoutRect().minW),r=Math.max(r,e.layoutRect().minH)}),this.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=r,e.layoutRect({x:0,y:0,w:t,h:r})});var o=n.getSize(this.getEl("head")).height;return this.settings.minWidth=t,this.settings.minHeight=r+o,e=this._super(),e.deltaH+=o,e.innerH=e.h-e.deltaH,e}})}),o("tinymce.ui.TextBox",["global!document","tinymce.core.util.Tools","tinymce.ui.DomUtils","tinymce.ui.Widget"],function(e,t,n,r){return r.extend({init:function(e){var t=this;t._super(e),t.classes.add("textbox"),e.multiline?t.classes.add("multiline"):(t.on("keydown",function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))}),t.on("keyup",function(e){t.state.set("value",e.target.value)}))},repaint:function(){var t,n,r,o,i,a=0;t=this.getEl().style,n=this._layoutRect,i=this._lastRepaintRect||{};var c=e;return!this.settings.multiline&&c.all&&(!c.documentMode||c.documentMode<=8)&&(t.lineHeight=n.h-a+"px"),r=this.borderBox,o=r.left+r.right+8,a=r.top+r.bottom+(this.settings.multiline?8:0),n.x!==i.x&&(t.left=n.x+"px",i.x=n.x),n.y!==i.y&&(t.top=n.y+"px",i.y=n.y),n.w!==i.w&&(t.width=n.w-o+"px",i.w=n.w),n.h!==i.h&&(t.height=n.h-a+"px",i.h=n.h),this._lastRepaintRect=i,this.fire("repaint",{},!1),this},renderHtml:function(){var e,r,o=this.settings;return e={id:this._id,hidefocus:"1"},t.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(t){e[t]=o[t]}),this.disabled()&&(e.disabled="disabled"),o.subtype&&(e.type=o.subtype),r=n.create(o.multiline?"textarea":"input",e),r.value=this.state.get("value"),r.className=this.classes,r.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var e=this;e.getEl().value=e.state.get("value"),e._super(),e.$el.on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)})},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.getEl().value!=t.value&&(e.getEl().value=t.value)}),e.state.on("change:disabled",function(t){e.getEl().disabled=t.value}),e._super()},remove:function(){this.$el.off(),this._super()}})}),o("tinymce.ui.Api",["tinymce.core.ui.Factory","tinymce.core.util.Tools","tinymce.ui.AbsoluteLayout","tinymce.ui.BrowseButton","tinymce.ui.Button","tinymce.ui.ButtonGroup","tinymce.ui.Checkbox","tinymce.ui.Collection","tinymce.ui.ColorBox","tinymce.ui.ColorButton","tinymce.ui.ColorPicker","tinymce.ui.ComboBox","tinymce.ui.Container","tinymce.ui.Control","tinymce.ui.DragHelper","tinymce.ui.DropZone","tinymce.ui.ElementPath","tinymce.ui.FieldSet","tinymce.ui.FilePicker","tinymce.ui.FitLayout","tinymce.ui.FlexLayout","tinymce.ui.FloatPanel","tinymce.ui.FlowLayout","tinymce.ui.Form","tinymce.ui.FormatControls","tinymce.ui.FormItem","tinymce.ui.GridLayout","tinymce.ui.Iframe","tinymce.ui.InfoBox","tinymce.ui.KeyboardNavigation","tinymce.ui.Label","tinymce.ui.Layout","tinymce.ui.ListBox","tinymce.ui.Menu","tinymce.ui.MenuBar","tinymce.ui.MenuButton","tinymce.ui.MenuItem","tinymce.ui.MessageBox","tinymce.ui.Movable","tinymce.ui.Notification","tinymce.ui.Panel","tinymce.ui.PanelButton","tinymce.ui.Path","tinymce.ui.Progress","tinymce.ui.Radio","tinymce.ui.ReflowQueue","tinymce.ui.Resizable","tinymce.ui.ResizeHandle","tinymce.ui.Scrollable","tinymce.ui.SelectBox","tinymce.ui.Selector","tinymce.ui.Slider","tinymce.ui.Spacer","tinymce.ui.SplitButton","tinymce.ui.StackLayout","tinymce.ui.TabPanel","tinymce.ui.TextBox","tinymce.ui.Throbber","tinymce.ui.Toolbar","tinymce.ui.Tooltip","tinymce.ui.Widget","tinymce.ui.Window"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m,h,g,v,y,b,x,w,C,k,T,_,S,E,A,N,D,R,P,O,B,I,M,L,F,U,H,z,j,W,$,q,V,K,G,X,Y,J,Q,Z,ee,te,ne,re,oe,ie,ae,ce){var se=function(){return{Selector:Y,Collection:c,ReflowQueue:q,Control:p,Factory:e,KeyboardNavigation:N,Container:d,DragHelper:m,Scrollable:G,Panel:H,Movable:F,Resizable:V,FloatPanel:w,Window:ce,MessageBox:L,Tooltip:ie,Widget:ae,Progress:W,Notification:U,Layout:R,AbsoluteLayout:n,Button:o,ButtonGroup:i,Checkbox:a,ComboBox:f,ColorBox:s,PanelButton:z,ColorButton:u,ColorPicker:l,Path:j,ElementPath:g,FormItem:_,Form:k,FieldSet:v,FilePicker:y,FitLayout:b,FlexLayout:x,FlowLayout:C,FormatControls:T,GridLayout:S,Iframe:E,InfoBox:A,Label:D,Toolbar:oe,MenuBar:B,MenuButton:I,MenuItem:M,Throbber:re,Menu:O,ListBox:P,Radio:$,ResizeHandle:K,SelectBox:X,Slider:J,Spacer:Q,SplitButton:Z,StackLayout:ee,TabPanel:te,TextBox:ne,DropZone:h,BrowseButton:r}};return{appendTo:function(e){e.ui?t.each(se(),function(t,n){e.ui[n]=t}):e.ui=se()},registerToFactory:function(){t.each(se(),function(t,n){e.add(n,t)})}}}),o("tinymce.themes.modern.Theme",["global!window","tinymce.core.ThemeManager","tinymce.themes.modern.api.ThemeApi","tinymce.ui.Api","tinymce.ui.FormatControls"],function(e,t,n,r,o){return r.registerToFactory(),r.appendTo(e.tinymce?e.tinymce:{}),t.add("modern",function(e){return o.setup(e),n.get(e)}),function(){}}),n("tinymce.themes.modern.Theme")()}()},function(e,t,n){n(90)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.advlist.core.Actions",[],function(){return{applyListFormat:function(e,t,n){var r="UL"===t?"InsertUnorderedList":"InsertOrderedList";e.execCommand(r,!1,!1===n?null:{"list-style-type":n})}}}),o("tinymce.plugins.advlist.api.Commands",["tinymce.plugins.advlist.core.Actions"],function(e){return{register:function(t){t.addCommand("ApplyUnorderedListStyle",function(n,r){e.applyListFormat(t,"UL",r["list-style-type"])}),t.addCommand("ApplyOrderedListStyle",function(n,r){e.applyListFormat(t,"OL",r["list-style-type"])})}}}),o("tinymce.plugins.advlist.api.Settings",[],function(){return{getNumberStyles:function(e){var t=e.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return t?t.split(/[ ,]/):[]},getBulletStyles:function(e){var t=e.getParam("advlist_bullet_styles","default,circle,disc,square");return t?t.split(/[ ,]/):[]}}}),o("tinymce.plugins.advlist.core.ListUtils",[],function(){return{isTableCellNode:function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},isListNode:function(e){return function(t){return t&&/^(OL|UL|DL)$/.test(t.nodeName)&&function(e,t){return e.$.contains(e.getBody(),t)}(e,t)}},getSelectedStyleType:function(e){var t=e.dom.getParent(e.selection.getNode(),"ol,ul");return e.dom.getStyle(t,"listStyleType")||""}}}),o("tinymce.plugins.advlist.ui.ListStyles",["tinymce.core.util.Tools"],function(e){return{toMenuItems:function(t){return e.map(t,function(e){return{text:function(e){return e.replace(/\-/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()})}(e),data:"default"===e?"":e}})}}}),o("tinymce.plugins.advlist.ui.Buttons",["tinymce.core.util.Tools","tinymce.plugins.advlist.api.Settings","tinymce.plugins.advlist.core.Actions","tinymce.plugins.advlist.core.ListUtils","tinymce.plugins.advlist.ui.ListStyles"],function(e,t,n,r,o){var i=function(t,n){return function(o){var i=o.control;t.on("NodeChange",function(o){var a=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(o.parents,r.isTableCellNode),c=-1!==a?o.parents.slice(0,a):o.parents,s=e.grep(c,r.isListNode(t));i.active(s.length>0&&s[0].nodeName===n)})}},a=function(e,t,a,c,s,u){e.addButton(t,{active:!1,type:"splitbutton",tooltip:a,menu:o.toMenuItems(u),onPostRender:i(e,s),onshow:function(e){return function(t){var n=r.getSelectedStyleType(e);t.control.items().each(function(e){e.active(e.settings.data===n)})}}(e),onselect:function(t){n.applyListFormat(e,s,t.control.settings.data)},onclick:function(){e.execCommand(c)}})},c=function(e,t,n,r,o,c){c.length>0?a(e,t,n,r,o,c):function(e,t,n,r,o,a){e.addButton(t,{active:!1,type:"button",tooltip:n,onPostRender:i(e,o),onclick:function(){e.execCommand(r)}})}(e,t,n,r,o)};return{register:function(e){c(e,"numlist","Numbered list","InsertOrderedList","OL",t.getNumberStyles(e)),c(e,"bullist","Bullet list","InsertUnorderedList","UL",t.getBulletStyles(e))}}}),o("tinymce.plugins.advlist.Plugin",["tinymce.core.PluginManager","tinymce.core.util.Tools","tinymce.plugins.advlist.api.Commands","tinymce.plugins.advlist.ui.Buttons"],function(e,t,n,r){return e.add("advlist",function(e){(function(e,n){var r=e.settings.plugins?e.settings.plugins:"";return-1!==t.inArray(r.split(/[ ,]/),n)})(e,"lists")&&(r.register(e),n.register(e))}),function(){}}),n("tinymce.plugins.advlist.Plugin")()}()},function(e,t,n){n(92)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.plugins.wordcount.text.UnicodeData",[],function(){var e="[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",t="[-'\\.]",n="[:]",r="[+*/,;;]",o="[0-9---------------------------------]",i="\\r",a="\\n",c="[\v\f\u2028\u2029]",s="[------------------------------------------------------------------------------------------------------]",u="[----\ufeff-]",l="[-------]",f="[=_--<>]",d="[!-#%-*,-\\/:;?@\\[-\\]_{};----------------------------------------------]";return{characterIndices:{ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},SETS:[new RegExp(e),new RegExp(t),new RegExp(n),new RegExp(r),new RegExp(o),new RegExp(i),new RegExp(a),new RegExp(c),new RegExp(s),new RegExp(u),new RegExp(l),new RegExp(f),new RegExp("@")],EMPTY_STRING:"",PUNCTUATION:new RegExp("^"+d+"$"),WHITESPACE:/^\s+$/}}),o("tinymce.plugins.wordcount.alien.Arr",[],function(){var e=function(e,t,n){var r,o;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1};return{each:e,map:function(t,n){var r=[];return e(t,function(e,o){r.push(n(e,o,t))}),r}}}),o("tinymce.plugins.wordcount.text.StringMapper",["tinymce.plugins.wordcount.text.UnicodeData","tinymce.plugins.wordcount.alien.Arr"],function(e,t){var n=e.SETS,r=e.characterIndices.OTHER,o=function(e){var t,o,i=r,a=n.length;for(t=0;t<a;++t)if((o=n[t])&&o.test(e)){i=t;break}return i};return{classify:function(e){var n=function(e){var t={};return function(n){if(t[n])return t[n];var r=e(n);return t[n]=r,r}}(o);return t.map(e.split(""),n)}}}),o("tinymce.plugins.wordcount.text.WordBoundary",["tinymce.plugins.wordcount.text.UnicodeData"],function(e){var t=e.characterIndices;return{isWordBoundary:function(e,n){var r,o,i=e[n],a=e[n+1];return!(n<0||n>e.length-1&&0!==n||i===t.ALETTER&&a===t.ALETTER||(o=e[n+2],i===t.ALETTER&&(a===t.MIDLETTER||a===t.MIDNUMLET||a===t.AT)&&o===t.ALETTER||(r=e[n-1],(i===t.MIDLETTER||i===t.MIDNUMLET||a===t.AT)&&a===t.ALETTER&&r===t.ALETTER||!(i!==t.NUMERIC&&i!==t.ALETTER||a!==t.NUMERIC&&a!==t.ALETTER)||(i===t.MIDNUM||i===t.MIDNUMLET)&&a===t.NUMERIC&&r===t.NUMERIC||i===t.NUMERIC&&(a===t.MIDNUM||a===t.MIDNUMLET)&&o===t.NUMERIC||i===t.EXTEND||i===t.FORMAT||r===t.EXTEND||r===t.FORMAT||a===t.EXTEND||a===t.FORMAT||i===t.CR&&a===t.LF||i!==t.NEWLINE&&i!==t.CR&&i!==t.LF&&a!==t.NEWLINE&&a!==t.CR&&a!==t.LF&&(i===t.KATAKANA&&a===t.KATAKANA||a===t.EXTENDNUMLET&&(i===t.ALETTER||i===t.NUMERIC||i===t.KATAKANA||i===t.EXTENDNUMLET)||i===t.EXTENDNUMLET&&(a===t.ALETTER||a===t.NUMERIC||a===t.KATAKANA)||i===t.AT))))}}}),o("tinymce.plugins.wordcount.text.WordGetter",["tinymce.plugins.wordcount.text.UnicodeData","tinymce.plugins.wordcount.text.StringMapper","tinymce.plugins.wordcount.text.WordBoundary"],function(e,t,n){var r=e.EMPTY_STRING,o=e.WHITESPACE,i=e.PUNCTUATION,a=function(e){return"http"===e||"https"===e},c=function(e,t,n){var r=function(e,t){var n;for(n=t;n<e.length;++n){var r=e.charAt(n);if(o.test(r))break}return n}(t,n+1),i=t.substring(n+1,r);return"://"===i.substr(0,3)?{word:e+i,index:r}:{word:e,index:n}};return{getWords:function(e,s){return function(e,s){var u,l,f,d=0,p=t.classify(e),m=p.length,h=[],g=[];for(s||(s={}),s.ignoreCase&&(e=e.toLowerCase()),l=s.includePunctuation,f=s.includeWhitespace;d<m;++d)if(u=e.charAt(d),h.push(u),n.isWordBoundary(p,d)){if((h=h.join(r))&&(f||!o.test(h))&&(l||!i.test(h)))if(a(h)){var v=c(h,e,d);g.push(v.word),d=v.index}else g.push(h);h=[]}return g}(e.replace(/\ufeff/g,""),s)}}}),o("tinymce.plugins.wordcount.text.WordCount",["tinymce.plugins.wordcount.text.WordGetter"],function(e){return{getCount:function(t){return e.getWords(function(e){return e.removed?"":e.getBody().innerText}(t)).length}}}),o("tinymce.plugins.wordcount.api.Api",["tinymce.plugins.wordcount.text.WordCount"],function(e){return{get:function(t){return{getCount:function(){return e.getCount(t)}}}}}),o("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Delay")}),o("tinymce.core.util.I18n",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.I18n")}),o("tinymce.plugins.wordcount.ui.Statusbar",["tinymce.core.util.Delay","tinymce.core.util.I18n","tinymce.plugins.wordcount.text.WordCount"],function(e,t,n){return{setup:function(r){var o=function(e){return t.translate(["{0} words",n.getCount(e)])},i=function(){r.theme.panel.find("#wordcount").text(o(r))};r.on("init",function(){var t=r.theme.panel&&r.theme.panel.find("#statusbar")[0],n=e.debounce(i,300);t&&e.setEditorTimeout(r,function(){t.insert({type:"label",name:"wordcount",text:o(r),classes:"wordcount",disabled:r.settings.readonly},0),r.on("setcontent beforeaddundo undo redo keyup",n)},0)})}}}),o("tinymce.plugins.wordcount.Plugin",["tinymce.core.PluginManager","tinymce.plugins.wordcount.api.Api","tinymce.plugins.wordcount.ui.Statusbar"],function(e,t,n){return e.add("wordcount",function(e){return n.setup(e),t.get(e)}),function(){}}),n("tinymce.plugins.wordcount.Plugin")()}()},function(e,t,n){n(94)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.plugins.autolink.api.Settings",[],function(){return{getAutoLinkPattern:function(e){return e.getParam("autolink_pattern",/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@)(.+)$/i)},getDefaultLinkTarget:function(e){return e.getParam("default_link_target","")}}}),o("tinymce.plugins.autolink.core.Keys",["tinymce.core.Env","tinymce.core.PluginManager","tinymce.plugins.autolink.api.Settings"],function(e,t,n){var r=function(e,t){if(t<0&&(t=0),3===e.nodeType){var n=e.data.length;t>n&&(t=n)}return t},o=function(e,t,n){1!==t.nodeType||t.hasChildNodes()?e.setStart(t,r(t,n)):e.setStartBefore(t)},i=function(e,t,n){1!==t.nodeType||t.hasChildNodes()?e.setEnd(t,r(t,n)):e.setEndAfter(t)},a=function(e,t,r){var a,c,s,u,l,f,d,p,m,h,g=n.getAutoLinkPattern(e),v=n.getDefaultLinkTarget(e);if("A"!==e.selection.getNode().tagName){if((a=e.selection.getRng(!0).cloneRange()).startOffset<5){if(!(p=a.endContainer.previousSibling)){if(!a.endContainer.firstChild||!a.endContainer.firstChild.nextSibling)return;p=a.endContainer.firstChild.nextSibling}if(m=p.length,o(a,p,m),i(a,p,m),a.endOffset<5)return;c=a.endOffset,u=p}else{if(3!==(u=a.endContainer).nodeType&&u.firstChild){for(;3!==u.nodeType&&u.firstChild;)u=u.firstChild;3===u.nodeType&&(o(a,u,0),i(a,u,u.nodeValue.length))}c=1===a.endOffset?2:a.endOffset-1-t}s=c;do{o(a,u,c>=2?c-2:0),i(a,u,c>=1?c-1:0),c-=1,h=a.toString()}while(" "!==h&&""!==h&&160!==h.charCodeAt(0)&&c-2>=0&&h!==r);!function(e,t){return e===t||" "===e||160===e.charCodeAt(0)}(a.toString(),r)?0===a.startOffset?(o(a,u,0),i(a,u,s)):(o(a,u,c),i(a,u,s)):(o(a,u,c),i(a,u,s),c+=1),"."===(f=a.toString()).charAt(f.length-1)&&i(a,u,s-1),(d=(f=a.toString().trim()).match(g))&&("www."===d[1]?d[1]="http://www.":/@$/.test(d[1])&&!/^mailto:/.test(d[1])&&(d[1]="mailto:"+d[1]),l=e.selection.getBookmark(),e.selection.setRng(a),e.execCommand("createlink",!1,d[1]+d[2]),v&&e.dom.setAttrib(e.selection.getNode(),"target",v),e.selection.moveToBookmark(l),e.nodeChanged())}};return{setup:function(t){var n;t.on("keydown",function(e){if(13===e.keyCode)return function(e){a(e,-1,"",!1)}(t)}),e.ie?t.on("focus",function(){if(!n){n=!0;try{t.execCommand("AutoUrlDetect",!1,!0)}catch(e){}}}):(t.on("keypress",function(e){if(41===e.keyCode)return function(e){a(e,-1,"(",!0)}(t)}),t.on("keyup",function(e){if(32===e.keyCode)return function(e){a(e,0,"",!0)}(t)}))}}}),o("tinymce.plugins.autolink.Plugin",["tinymce.core.Env","tinymce.core.PluginManager","tinymce.plugins.autolink.core.Keys"],function(e,t,n){return t.add("autolink",function(e){n.setup(e)}),function(){}}),n("tinymce.plugins.autolink.Plugin")()}()},function(e,t,n){n(96)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t,i=function(e,t){o(e,[],function(){return t})};o("ephox.katamari.api.Cell",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),i("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),i("global!setInterval",setInterval),o("tinymce.core.util.LocalStorage",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.LocalStorage")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.autosave.api.Events",[],function(){return{fireRestoreDraft:function(e){return e.fire("RestoreDraft")},fireStoreDraft:function(e){return e.fire("StoreDraft")},fireRemoveDraft:function(e){return e.fire("RemoveDraft")}}}),i("global!document",document),o("tinymce.plugins.autosave.core.Time",[],function(){return{parse:function(e,t){return((e=/^(\d+)([ms]?)$/.exec(""+(e||t)))[2]?{s:1e3,m:6e4}[e[2]]:1)*parseInt(e,10)}}}),o("tinymce.plugins.autosave.api.Settings",["global!document","tinymce.plugins.autosave.core.Time"],function(e,t){return{shouldAskBeforeUnload:function(e){return e.getParam("autosave_ask_before_unload",!0)},getAutoSavePrefix:function(t){var n=t.getParam("autosave_prefix","tinymce-autosave-{path}{query}{hash}-{id}-");return n=n.replace(/\{path\}/g,e.location.pathname),n=n.replace(/\{query\}/g,e.location.search),n=n.replace(/\{hash\}/g,e.location.hash),n=n.replace(/\{id\}/g,t.id)},shouldRestoreWhenEmpty:function(e){return e.getParam("autosave_restore_when_empty",!1)},getAutoSaveInterval:function(e){return t.parse(e.settings.autosave_interval,"30s")},getAutoSaveRetention:function(e){return t.parse(e.settings.autosave_retention,"20m")}}}),o("tinymce.plugins.autosave.core.Storage",["global!setInterval","tinymce.core.util.LocalStorage","tinymce.core.util.Tools","tinymce.plugins.autosave.api.Events","tinymce.plugins.autosave.api.Settings"],function(e,t,n,r,o){var i=function(e,t){var r=e.settings.forced_root_block;return""===(t=n.trim(void 0===t?e.getBody().innerHTML:t))||new RegExp("^<"+r+"[^>]*>((|&nbsp;|[ \t]|<br[^>]*>)+?|)</"+r+">|<br>$","i").test(t)},a=function(e){var n=parseInt(t.getItem(o.getAutoSavePrefix(e)+"time"),10)||0;return!((new Date).getTime()-n>o.getAutoSaveRetention(e))||(c(e,!1),!1)},c=function(e,n){var i=o.getAutoSavePrefix(e);t.removeItem(i+"draft"),t.removeItem(i+"time"),!1!==n&&r.fireRemoveDraft(e)},s=function(e){var n=o.getAutoSavePrefix(e);!i(e)&&e.isDirty()&&(t.setItem(n+"draft",e.getContent({format:"raw",no_events:!0})),t.setItem(n+"time",(new Date).getTime()),r.fireStoreDraft(e))},u=function(e){var n=o.getAutoSavePrefix(e);a(e)&&(e.setContent(t.getItem(n+"draft"),{format:"raw"}),r.fireRestoreDraft(e))};return{isEmpty:i,hasDraft:a,removeDraft:c,storeDraft:s,restoreDraft:u,startStoreDraft:function(t,n){var r=o.getAutoSaveInterval(t);n.get()||(e(function(){t.removed||s(t)},r),n.set(!0))},restoreLastDraft:function(e){e.undoManager.transact(function(){u(e),c(e)}),e.focus()}}}),o("tinymce.plugins.autosave.api.Api",["tinymce.plugins.autosave.core.Storage"],function(e){var t=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[t].concat(n))}};return{get:function(n){return{hasDraft:t(e.hasDraft,n),storeDraft:t(e.storeDraft,n),restoreDraft:t(e.restoreDraft,n),removeDraft:t(e.removeDraft,n),isEmpty:t(e.isEmpty,n)}}}}),i("global!window",window),o("tinymce.core.EditorManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.EditorManager")}),o("tinymce.plugins.autosave.core.BeforeUnload",["global!window","tinymce.core.EditorManager","tinymce.core.util.Tools","tinymce.plugins.autosave.api.Settings"],function(e,t,n,r){t._beforeUnloadHandler=function(){var e;return n.each(t.get(),function(t){t.plugins.autosave&&t.plugins.autosave.storeDraft(),!e&&t.isDirty()&&r.shouldAskBeforeUnload(t)&&(e=t.translate("You have unsaved changes are you sure you want to navigate away?"))}),e};return{setup:function(n){e.onbeforeunload=t._beforeUnloadHandler}}}),o("tinymce.plugins.autosave.ui.Buttons",["tinymce.plugins.autosave.core.Storage"],function(e){var t=function(t,n){return function(r){var o=r.control;o.disabled(!e.hasDraft(t)),t.on("StoreDraft RestoreDraft RemoveDraft",function(){o.disabled(!e.hasDraft(t))}),e.startStoreDraft(t,n)}};return{register:function(n,r){n.addButton("restoredraft",{title:"Restore last draft",onclick:function(){e.restoreLastDraft(n)},onPostRender:t(n,r)}),n.addMenuItem("restoredraft",{text:"Restore last draft",onclick:function(){e.restoreLastDraft(n)},onPostRender:t(n,r),context:"file"})}}}),o("tinymce.plugins.autosave.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.autosave.api.Api","tinymce.plugins.autosave.core.BeforeUnload","tinymce.plugins.autosave.ui.Buttons"],function(e,t,n,r,o){return t.add("autosave",function(t){var i=e(!1);return r.setup(t),o.register(t,i),n.get(t)}),function(){}}),n("tinymce.plugins.autosave.Plugin")()}()},function(e,t,n){n(98)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.plugins.charmap.api.Events",[],function(){return{fireInsertCustomChar:function(e,t){return e.fire("insertCustomChar",{chr:t})}}}),o("tinymce.plugins.charmap.core.Actions",["tinymce.plugins.charmap.api.Events"],function(e){return{insertChar:function(t,n){var r=e.fireInsertCustomChar(t,n).chr;t.execCommand("mceInsertContent",!1,r)}}}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.charmap.api.Settings",[],function(){return{getCharMap:function(e){return e.settings.charmap},getCharMapAppend:function(e){return e.settings.charmap_append}}}),o("tinymce.plugins.charmap.core.CharMap",["tinymce.core.util.Tools","tinymce.plugins.charmap.api.Settings"],function(e,t){var n=e.isArray,r=function(t){return n(t)?[].concat(function(t){return e.grep(t,function(e){return n(e)&&2===e.length})}(t)):"function"==typeof t?t():[]};return{getCharMap:function(e){return function(e,n){var o=t.getCharMap(e);o&&(n=r(o));var i=t.getCharMapAppend(e);return i?[].concat(n).concat(r(i)):n}(e,[["160","no-break space"],["173","soft hyphen"],["34","quotation mark"],["162","cent sign"],["8364","euro sign"],["163","pound sign"],["165","yen sign"],["169","copyright sign"],["174","registered sign"],["8482","trade mark sign"],["8240","per mille sign"],["181","micro sign"],["183","middle dot"],["8226","bullet"],["8230","three dot leader"],["8242","minutes / feet"],["8243","seconds / inches"],["167","section sign"],["182","paragraph sign"],["223","sharp s / ess-zed"],["8249","single left-pointing angle quotation mark"],["8250","single right-pointing angle quotation mark"],["171","left pointing guillemet"],["187","right pointing guillemet"],["8216","left single quotation mark"],["8217","right single quotation mark"],["8220","left double quotation mark"],["8221","right double quotation mark"],["8218","single low-9 quotation mark"],["8222","double low-9 quotation mark"],["60","less-than sign"],["62","greater-than sign"],["8804","less-than or equal to"],["8805","greater-than or equal to"],["8211","en dash"],["8212","em dash"],["175","macron"],["8254","overline"],["164","currency sign"],["166","broken bar"],["168","diaeresis"],["161","inverted exclamation mark"],["191","turned question mark"],["710","circumflex accent"],["732","small tilde"],["176","degree sign"],["8722","minus sign"],["177","plus-minus sign"],["247","division sign"],["8260","fraction slash"],["215","multiplication sign"],["185","superscript one"],["178","superscript two"],["179","superscript three"],["188","fraction one quarter"],["189","fraction one half"],["190","fraction three quarters"],["402","function / florin"],["8747","integral"],["8721","n-ary sumation"],["8734","infinity"],["8730","square root"],["8764","similar to"],["8773","approximately equal to"],["8776","almost equal to"],["8800","not equal to"],["8801","identical to"],["8712","element of"],["8713","not an element of"],["8715","contains as member"],["8719","n-ary product"],["8743","logical and"],["8744","logical or"],["172","not sign"],["8745","intersection"],["8746","union"],["8706","partial differential"],["8704","for all"],["8707","there exists"],["8709","diameter"],["8711","backward difference"],["8727","asterisk operator"],["8733","proportional to"],["8736","angle"],["180","acute accent"],["184","cedilla"],["170","feminine ordinal indicator"],["186","masculine ordinal indicator"],["8224","dagger"],["8225","double dagger"],["192","A - grave"],["193","A - acute"],["194","A - circumflex"],["195","A - tilde"],["196","A - diaeresis"],["197","A - ring above"],["256","A - macron"],["198","ligature AE"],["199","C - cedilla"],["200","E - grave"],["201","E - acute"],["202","E - circumflex"],["203","E - diaeresis"],["274","E - macron"],["204","I - grave"],["205","I - acute"],["206","I - circumflex"],["207","I - diaeresis"],["298","I - macron"],["208","ETH"],["209","N - tilde"],["210","O - grave"],["211","O - acute"],["212","O - circumflex"],["213","O - tilde"],["214","O - diaeresis"],["216","O - slash"],["332","O - macron"],["338","ligature OE"],["352","S - caron"],["217","U - grave"],["218","U - acute"],["219","U - circumflex"],["220","U - diaeresis"],["362","U - macron"],["221","Y - acute"],["376","Y - diaeresis"],["562","Y - macron"],["222","THORN"],["224","a - grave"],["225","a - acute"],["226","a - circumflex"],["227","a - tilde"],["228","a - diaeresis"],["229","a - ring above"],["257","a - macron"],["230","ligature ae"],["231","c - cedilla"],["232","e - grave"],["233","e - acute"],["234","e - circumflex"],["235","e - diaeresis"],["275","e - macron"],["236","i - grave"],["237","i - acute"],["238","i - circumflex"],["239","i - diaeresis"],["299","i - macron"],["240","eth"],["241","n - tilde"],["242","o - grave"],["243","o - acute"],["244","o - circumflex"],["245","o - tilde"],["246","o - diaeresis"],["248","o slash"],["333","o macron"],["339","ligature oe"],["353","s - caron"],["249","u - grave"],["250","u - acute"],["251","u - circumflex"],["252","u - diaeresis"],["363","u - macron"],["253","y - acute"],["254","thorn"],["255","y - diaeresis"],["563","y - macron"],["913","Alpha"],["914","Beta"],["915","Gamma"],["916","Delta"],["917","Epsilon"],["918","Zeta"],["919","Eta"],["920","Theta"],["921","Iota"],["922","Kappa"],["923","Lambda"],["924","Mu"],["925","Nu"],["926","Xi"],["927","Omicron"],["928","Pi"],["929","Rho"],["931","Sigma"],["932","Tau"],["933","Upsilon"],["934","Phi"],["935","Chi"],["936","Psi"],["937","Omega"],["945","alpha"],["946","beta"],["947","gamma"],["948","delta"],["949","epsilon"],["950","zeta"],["951","eta"],["952","theta"],["953","iota"],["954","kappa"],["955","lambda"],["956","mu"],["957","nu"],["958","xi"],["959","omicron"],["960","pi"],["961","rho"],["962","final sigma"],["963","sigma"],["964","tau"],["965","upsilon"],["966","phi"],["967","chi"],["968","psi"],["969","omega"],["8501","alef symbol"],["982","pi symbol"],["8476","real part symbol"],["978","upsilon - hook symbol"],["8472","Weierstrass p"],["8465","imaginary part"],["8592","leftwards arrow"],["8593","upwards arrow"],["8594","rightwards arrow"],["8595","downwards arrow"],["8596","left right arrow"],["8629","carriage return"],["8656","leftwards double arrow"],["8657","upwards double arrow"],["8658","rightwards double arrow"],["8659","downwards double arrow"],["8660","left right double arrow"],["8756","therefore"],["8834","subset of"],["8835","superset of"],["8836","not a subset of"],["8838","subset of or equal to"],["8839","superset of or equal to"],["8853","circled plus"],["8855","circled times"],["8869","perpendicular"],["8901","dot operator"],["8968","left ceiling"],["8969","right ceiling"],["8970","left floor"],["8971","right floor"],["9001","left-pointing angle bracket"],["9002","right-pointing angle bracket"],["9674","lozenge"],["9824","black spade suit"],["9827","black club suit"],["9829","black heart suit"],["9830","black diamond suit"],["8194","en space"],["8195","em space"],["8201","thin space"],["8204","zero width non-joiner"],["8205","zero width joiner"],["8206","left-to-right mark"],["8207","right-to-left mark"]])}}}),o("tinymce.plugins.charmap.api.Api",["tinymce.plugins.charmap.core.Actions","tinymce.plugins.charmap.core.CharMap"],function(e,t){return{get:function(n){return{getCharMap:function(){return t.getCharMap(n)},insertChar:function(t){e.insertChar(n,t)}}}}}),o("tinymce.plugins.charmap.ui.GridHtml",[],function(){return{getHtml:function(e){var t,n,r,o=Math.min(e.length,25),i=Math.ceil(e.length/o);for(t='<table role="presentation" cellspacing="0" class="mce-charmap"><tbody>',r=0;r<i;r++){for(t+="<tr>",n=0;n<o;n++){var a=r*o+n;if(a<e.length){var c=e[a],s=parseInt(c[0],10),u=c?String.fromCharCode(s):"&nbsp;";t+='<td title="'+c[1]+'"><div tabindex="-1" title="'+c[1]+'" role="button" data-chr="'+s+'">'+u+"</div></td>"}else t+="<td />"}t+="</tr>"}return t+="</tbody></table>"}}}),o("tinymce.plugins.charmap.ui.Dialog",["tinymce.plugins.charmap.core.Actions","tinymce.plugins.charmap.core.CharMap","tinymce.plugins.charmap.ui.GridHtml"],function(e,t,n){var r=function(e){for(;e;){if("TD"===e.nodeName)return e;e=e.parentNode}};return{open:function(o){var i,a={type:"container",html:n.getHtml(t.getCharMap(o)),onclick:function(t){var n=t.target;if(/^(TD|DIV)$/.test(n.nodeName)){var a=r(n).firstChild;if(a&&a.hasAttribute("data-chr")){var c=a.getAttribute("data-chr"),s=parseInt(c,10);isNaN(s)||e.insertChar(o,String.fromCharCode(s)),t.ctrlKey||i.close()}}},onmouseover:function(e){var t=r(e.target);t&&t.firstChild?(i.find("#preview").text(t.firstChild.firstChild.data),i.find("#previewTitle").text(t.title)):(i.find("#preview").text(" "),i.find("#previewTitle").text(" "))}};i=o.windowManager.open({title:"Special character",spacing:10,padding:10,items:[a,{type:"container",layout:"flex",direction:"column",align:"center",spacing:5,minWidth:160,minHeight:160,items:[{type:"label",name:"preview",text:" ",style:"font-size: 40px; text-align: center",border:1,minWidth:140,minHeight:80},{type:"spacer",minHeight:20},{type:"label",name:"previewTitle",text:" ",style:"white-space: pre-wrap;",border:1,minWidth:140}]}],buttons:[{text:"Close",onclick:function(){i.close()}}]})}}}),o("tinymce.plugins.charmap.api.Commands",["tinymce.plugins.charmap.ui.Dialog"],function(e){return{register:function(t){t.addCommand("mceShowCharmap",function(){e.open(t)})}}}),o("tinymce.plugins.charmap.ui.Buttons",[],function(){return{register:function(e){e.addButton("charmap",{icon:"charmap",tooltip:"Special character",cmd:"mceShowCharmap"}),e.addMenuItem("charmap",{icon:"charmap",text:"Special character",cmd:"mceShowCharmap",context:"insert"})}}}),o("tinymce.plugins.charmap.Plugin",["tinymce.core.PluginManager","tinymce.plugins.charmap.api.Api","tinymce.plugins.charmap.api.Commands","tinymce.plugins.charmap.ui.Buttons"],function(e,t,n,r){return e.add("charmap",function(e){return n.register(e),r.register(e),t.get(e)}),function(){}}),n("tinymce.plugins.charmap.Plugin")()}()},function(e,t,n){(function(t){!function(){var n={},r=function(e,t,r){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===r)throw"no definition function for "+e;n[e]={deps:t,defn:r,instance:void 0}},o=function(e){var t=n[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=n[e],r=t.deps,i=t.defn,a=r.length,c=new Array(a),s=0;s<a;++s)c[s]=o(r[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+e+"] returned undefined";t.instance=u}(e),t.instance},i=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=o(e[i]);t.apply(null,r)};({}).bolt={module:{api:{define:r,require:i,demand:o}}};var a=r;a("ephox.katamari.api.Cell",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),function(e,t){a(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),a("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),a("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),a("tinymce.plugins.codesample.api.Settings",["tinymce.core.dom.DOMUtils"],function(e){return{getContentCss:function(e){return e.settings.codesample_content_css},getLanguages:function(e){return e.settings.codesample_languages},getDialogMinWidth:function(t){return Math.min(e.DOM.getViewPort().w,t.getParam("codesample_dialog_width",800))},getDialogMinHeight:function(t){return Math.min(e.DOM.getViewPort().w,t.getParam("codesample_dialog_height",650))}}}),a("tinymce.plugins.codesample.core.Prism",[],function(){var n={},r=void 0!==n?n:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},o=function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=r.Prism={util:{encode:function(e){return e instanceof n?new n(e.type,t.util.encode(e.content),e.alias):"Array"===t.util.type(e)?e.map(t.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){switch(t.util.type(e)){case"Object":var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t.util.clone(e[r]));return n;case"Array":return e.map&&e.map(function(e){return t.util.clone(e)})}return e}},languages:{extend:function(e,n){var r=t.util.clone(t.languages[e]);for(var o in n)r[o]=n[o];return r},insertBefore:function(e,n,r,o){var i=(o=o||t.languages)[e];if(2==arguments.length){r=arguments[1];for(var a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);return i}var c={};for(var s in i)if(i.hasOwnProperty(s)){if(s==n)for(var a in r)r.hasOwnProperty(a)&&(c[a]=r[a]);c[s]=i[s]}return t.languages.DFS(t.languages,function(t,n){n===o[e]&&t!=e&&(this[t]=c)}),o[e]=c},DFS:function(e,n,r){for(var o in e)e.hasOwnProperty(o)&&(n.call(e,o,e[o],r||o),"Object"===t.util.type(e[o])?t.languages.DFS(e[o],n):"Array"===t.util.type(e[o])&&t.languages.DFS(e[o],n,o))}},plugins:{},highlightAll:function(e,n){for(var r,o=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),i=0;r=o[i++];)t.highlightElement(r,!0===e,n)},highlightElement:function(n,o,i){for(var a,c,s=n;s&&!e.test(s.className);)s=s.parentNode;s&&(a=(s.className.match(e)||[,""])[1],c=t.languages[a]),n.className=n.className.replace(e,"").replace(/\s+/g," ")+" language-"+a,s=n.parentNode,/pre/i.test(s.nodeName)&&(s.className=s.className.replace(e,"").replace(/\s+/g," ")+" language-"+a);var u=n.textContent,l={element:n,language:a,grammar:c,code:u};if(u&&c)if(t.hooks.run("before-highlight",l),o&&r.Worker){var f=new Worker(t.filename);f.onmessage=function(e){l.highlightedCode=e.data,t.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,i&&i.call(l.element),t.hooks.run("after-highlight",l),t.hooks.run("complete",l)},f.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else l.highlightedCode=t.highlight(l.code,l.grammar,l.language),t.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,i&&i.call(n),t.hooks.run("after-highlight",l),t.hooks.run("complete",l);else t.hooks.run("complete",l)},highlight:function(e,r,o){var i=t.tokenize(e,r);return n.stringify(t.util.encode(i),o)},tokenize:function(e,n,r){var o=t.Token,i=[e],a=n.rest;if(a){for(var c in a)n[c]=a[c];delete n.rest}e:for(var c in n)if(n.hasOwnProperty(c)&&n[c]){var s=n[c];s="Array"===t.util.type(s)?s:[s];for(var u=0;u<s.length;++u){var l=s[u],f=l.inside,d=!!l.lookbehind,p=0,m=l.alias;l=l.pattern||l;for(var h=0;h<i.length;h++){var g=i[h];if(i.length>e.length)break e;if(!(g instanceof o)){l.lastIndex=0;if(v=l.exec(g)){d&&(p=v[1].length);var v,y=v.index-1+p,b=y+(v=v[0].slice(p)).length,x=g.slice(0,y+1),w=g.slice(b+1),C=[h,1];x&&C.push(x);var k=new o(c,f?t.tokenize(v,f):v,m);C.push(k),w&&C.push(w),Array.prototype.splice.apply(i,C)}}}}}return i},hooks:{all:{},add:function(e,n){var r=t.hooks.all;r[e]=r[e]||[],r[e].push(n)},run:function(e,n){var r=t.hooks.all[e];if(r&&r.length)for(var o,i=0;o=r[i++];)o(n)}}},n=t.Token=function(e,t,n){this.type=e,this.content=t,this.alias=n};if(n.stringify=function(e,r,o){if("string"==typeof e)return e;if("Array"===t.util.type(e))return e.map(function(t){return n.stringify(t,r,e)}).join("");var i={type:e.type,content:n.stringify(e.content,r,o),tag:"span",classes:["token",e.type],attributes:{},language:r,parent:o};if("comment"==i.type&&(i.attributes.spellcheck="true"),e.alias){var a="Array"===t.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(i.classes,a)}t.hooks.run("wrap",i);var c="";for(var s in i.attributes)c+=(c?" ":"")+s+'="'+(i.attributes[s]||"")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'" '+c+">"+i.content+"</"+i.tag+">"},!r.document)return r.addEventListener?(r.addEventListener("message",function(e){var n=JSON.parse(e.data),o=n.language,i=n.code,a=n.immediateClose;r.postMessage(t.highlight(i,t.languages[o],o)),a&&r.close()},!1),r.Prism):r.Prism}();return void 0!==e&&e.exports&&(e.exports=o),void 0!==t&&(t.Prism=o),o.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[^\s>\/=.]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},o.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),o.languages.xml=o.languages.markup,o.languages.html=o.languages.markup,o.languages.mathml=o.languages.markup,o.languages.svg=o.languages.markup,o.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},o.languages.css.atrule.inside.rest=o.util.clone(o.languages.css),o.languages.markup&&(o.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/i,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/i,inside:o.languages.markup.tag.inside},rest:o.languages.css},alias:"language-css"}}),o.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:o.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:o.languages.css}},alias:"language-css"}},o.languages.markup.tag)),o.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},o.languages.javascript=o.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,function:/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i}),o.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}}),o.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:o.languages.javascript}},string:/[\s\S]+/}}}),o.languages.markup&&o.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/i,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/i,inside:o.languages.markup.tag.inside},rest:o.languages.javascript},alias:"language-javascript"}}),o.languages.js=o.languages.javascript,o.languages.c=o.languages.extend("clike",{keyword:/\b(asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,operator:/\-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*\/]/,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)[ful]*\b/i}),o.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z]+([^\r\n\\]|\\.|\\(?:\r\n?|\n))*/im,lookbehind:!0,alias:"property",inside:{string:{pattern:/(#\s*include\s*)(<.+?>|("|')(\\?.)+?\3)/,lookbehind:!0}}}}),delete o.languages.c["class-name"],delete o.languages.c.boolean,o.languages.csharp=o.languages.extend("clike",{keyword:/\b(abstract|as|async|await|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|do|double|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|goto|if|implicit|in|int|interface|internal|is|lock|long|namespace|new|null|object|operator|out|override|params|private|protected|public|readonly|ref|return|sbyte|sealed|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|virtual|void|volatile|while|add|alias|ascending|async|await|descending|dynamic|from|get|global|group|into|join|let|orderby|partial|remove|select|set|value|var|where|yield)\b/,string:[/@("|')(\1\1|\\\1|\\?(?!\1)[\s\S])*\1/,/("|')(\\?.)*?\1/],number:/\b-?(0x[\da-f]+|\d*\.?\d+)\b/i}),o.languages.insertBefore("csharp","keyword",{preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0}}),o.languages.cpp=o.languages.extend("c",{keyword:/\b(alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,boolean:/\b(true|false)\b/,operator:/[-+]{1,2}|!=?|<{1,2}=?|>{1,2}=?|\->|:{1,2}|={1,2}|\^|~|%|&{1,2}|\|?\||\?|\*|\/|\b(and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/}),o.languages.insertBefore("cpp","keyword",{"class-name":{pattern:/(class\s+)[a-z0-9_]+/i,lookbehind:!0}}),o.languages.java=o.languages.extend("clike",{keyword:/\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\b/,number:/\b0b[01]+\b|\b0x[\da-f]*\.?[\da-fp\-]+\b|\b\d*\.?\d+(?:e[+-]?\d+)?[df]?\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|!=?|<<?=?|>>?>?=?|==?|&[&=]?|\|[|=]?|\*=?|\/=?|%=?|\^=?|[?:~])/m,lookbehind:!0}}),o.languages.php=o.languages.extend("clike",{keyword:/\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|private|protected|parent|throw|null|echo|print|trait|namespace|final|yield|goto|instanceof|finally|try|catch)\b/i,constant:/\b[A-Z0-9_]{2,}\b/,comment:{pattern:/(^|[^\\])(?:\/\*[\w\W]*?\*\/|\/\/.*)/,lookbehind:!0}}),o.languages.insertBefore("php","class-name",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),o.languages.insertBefore("php","keyword",{delimiter:/\?>|<\?(?:php)?/i,variable:/\$\w+\b/i,package:{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),o.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}}),o.languages.markup&&(o.hooks.add("before-highlight",function(e){"php"===e.language&&(e.tokenStack=[],e.backupCode=e.code,e.code=e.code.replace(/(?:<\?php|<\?)[\w\W]*?(?:\?>)/gi,function(t){return e.tokenStack.push(t),"{{{PHP"+e.tokenStack.length+"}}}"}))}),o.hooks.add("before-insert",function(e){"php"===e.language&&(e.code=e.backupCode,delete e.backupCode)}),o.hooks.add("after-highlight",function(e){if("php"===e.language){for(var t,n=0;t=e.tokenStack[n];n++)e.highlightedCode=e.highlightedCode.replace("{{{PHP"+(n+1)+"}}}",o.highlight(t,e.grammar,"php").replace(/\$/g,"$$$$"));e.element.innerHTML=e.highlightedCode}}),o.hooks.add("wrap",function(e){"php"===e.language&&"markup"===e.type&&(e.content=e.content.replace(/(\{\{\{PHP[0-9]+\}\}\})/g,'<span class="token php">$1</span>'))}),o.languages.insertBefore("php","comment",{markup:{pattern:/<[^?]\/?(.*?)>/,inside:o.languages.markup},php:/\{\{\{PHP[0-9]+\}\}\}/})),o.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:/"""[\s\S]+?"""|'''[\s\S]+?'''|("|')(?:\\?.)*?\1/,function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)[a-z0-9_]+/i,lookbehind:!0},keyword:/\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\b/,boolean:/\b(?:True|False)\b/,number:/\b-?(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:or|and|not)\b/,punctuation:/[{}[\];(),.:]/},function(e){e.languages.ruby=e.languages.extend("clike",{comment:/#(?!\{[^\r\n]*?\}).*/,keyword:/\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|require|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\b/});var t={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:e.util.clone(e.languages.ruby)}};e.languages.insertBefore("ruby","keyword",{regex:[{pattern:/%r([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/,inside:{interpolation:t}},{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}],variable:/[@$]+[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/,symbol:/:[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/}),e.languages.insertBefore("ruby","number",{builtin:/\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z][a-zA-Z_0-9]*(?:[?!]|\b)/}),e.languages.ruby.string=[{pattern:/%[qQiIwWxs]?([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\((?:[^()\\]|\\[\s\S])*\)/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\[(?:[^\[\]\\]|\\[\s\S])*\]/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?<(?:[^<>\\]|\\[\s\S])*>/,inside:{interpolation:t}},{pattern:/("|')(#\{[^}]+\}|\\(?:\r?\n|\r)|\\?.)*?\1/,inside:{interpolation:t}}]}(o),o}),a("tinymce.plugins.codesample.util.Utils",[],function(){return{isCodeSample:function(e){return e&&"PRE"===e.nodeName&&-1!==e.className.indexOf("language-")},trimArg:function(e){return function(t,n){return e(n)}}}}),a("tinymce.plugins.codesample.core.CodeSample",["tinymce.core.dom.DOMUtils","tinymce.plugins.codesample.core.Prism","tinymce.plugins.codesample.util.Utils"],function(e,t,n){var r=function(e){var t=e.selection.getNode();return n.isCodeSample(t)?t:null};return{getSelectedCodeSample:r,insertCodeSample:function(n,o,i){n.undoManager.transact(function(){var a=r(n);i=e.DOM.encode(i),a?(n.dom.setAttrib(a,"class","language-"+o),a.innerHTML=i,t.highlightElement(a),n.selection.select(a)):(n.insertContent('<pre id="__new" class="language-'+o+'">'+i+"</pre>"),n.selection.select(n.$("#__new").removeAttr("id")[0]))})},getCurrentCode:function(e){var t=r(e);return t?t.textContent:""}}}),a("tinymce.plugins.codesample.core.Languages",["tinymce.plugins.codesample.api.Settings","tinymce.plugins.codesample.core.CodeSample"],function(e,t){return{getLanguages:function(t){var n=e.getLanguages(t);return n||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}]},getCurrentLanguage:function(e){var n,r=t.getSelectedCodeSample(e);return r&&(n=r.className.match(/language-(\w+)/))?n[1]:""}}}),a("tinymce.plugins.codesample.ui.Dialog",["tinymce.plugins.codesample.api.Settings","tinymce.plugins.codesample.core.CodeSample","tinymce.plugins.codesample.core.Languages"],function(e,t,n){return{open:function(r){var o=e.getDialogMinWidth(r),i=e.getDialogMinHeight(r),a=n.getCurrentLanguage(r),c=n.getLanguages(r),s=t.getCurrentCode(r);r.windowManager.open({title:"Insert/Edit code sample",minWidth:o,minHeight:i,layout:"flex",direction:"column",align:"stretch",body:[{type:"listbox",name:"language",label:"Language",maxWidth:200,value:a,values:c},{type:"textbox",name:"code",multiline:!0,spellcheck:!1,ariaLabel:"Code view",flex:1,style:"direction: ltr; text-align: left",classes:"monospace",value:s,autofocus:!0}],onSubmit:function(e){t.insertCodeSample(r,e.data.language,e.data.code)}})}}}),a("tinymce.plugins.codesample.api.Commands",["tinymce.plugins.codesample.ui.Dialog","tinymce.plugins.codesample.util.Utils"],function(e,t){return{register:function(n){n.addCommand("codesample",function(){var r=n.selection.getNode();n.selection.isCollapsed()||t.isCodeSample(r)?e.open(n):n.formatter.toggle("code")})}}}),a("tinymce.plugins.codesample.core.FilterContent",["tinymce.plugins.codesample.core.Prism","tinymce.plugins.codesample.util.Utils"],function(e,t){return{setup:function(n){var r=n.$;n.on("PreProcess",function(e){r("pre[contenteditable=false]",e.node).filter(t.trimArg(t.isCodeSample)).each(function(e,t){var n=r(t),o=t.textContent;n.attr("class",r.trim(n.attr("class"))),n.removeAttr("contentEditable"),n.empty().append(r("<code></code>").each(function(){this.textContent=o}))})}),n.on("SetContent",function(){var o=r("pre").filter(t.trimArg(t.isCodeSample)).filter(function(e,t){return"false"!==t.contentEditable});o.length&&n.undoManager.transact(function(){o.each(function(t,o){r(o).find("br").each(function(e,t){t.parentNode.replaceChild(n.getDoc().createTextNode("\n"),t)}),o.contentEditable=!1,o.innerHTML=n.dom.encode(o.textContent),e.highlightElement(o),o.className=r.trim(o.className)})})})}}}),a("tinymce.plugins.codesample.core.LoadCss",["tinymce.plugins.codesample.api.Settings"],function(e){return{loadCss:function(t,n,r,o){var i,a=e.getContentCss(t);t.inline&&r.get()||!t.inline&&o.get()||(t.inline?r.set(!0):o.set(!0),!1!==a&&(i=t.dom.create("link",{rel:"stylesheet",href:a||n+"/css/prism.css"}),t.getDoc().getElementsByTagName("head")[0].appendChild(i)))}}}),a("tinymce.plugins.codesample.ui.Buttons",[],function(){return{register:function(e){e.addButton("codesample",{cmd:"codesample",title:"Insert/Edit code sample"}),e.addMenuItem("codesample",{cmd:"codesample",text:"Code sample",icon:"codesample"})}}}),a("tinymce.plugins.codesample.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.codesample.api.Commands","tinymce.plugins.codesample.core.FilterContent","tinymce.plugins.codesample.core.LoadCss","tinymce.plugins.codesample.ui.Buttons","tinymce.plugins.codesample.ui.Dialog","tinymce.plugins.codesample.util.Utils"],function(e,t,n,r,o,i,a,c){var s=e(!1);return t.add("codesample",function(t,u){var l=e(!1);r.setup(t),i.register(t),n.register(t),t.on("init",function(){o.loadCss(t,u,s,l)}),t.on("dblclick",function(e){c.isCodeSample(e.target)&&a.open(t)})}),function(){}}),o("tinymce.plugins.codesample.Plugin")()}()}).call(t,n(2))},function(e,t,n){n(101)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;o("ephox.katamari.api.Cell",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.plugins.contextmenu.api.Api",[],function(){return{get:function(e){return{isContextMenuVisible:function(){return e.get()}}}}}),o("tinymce.plugins.contextmenu.api.Settings",[],function(){return{shouldNeverUseNative:function(e){return e.settings.contextmenu_never_use_native},getContextMenu:function(e){return e.getParam("contextmenu","link openlink image inserttable | cell row column deletetable")}}}),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.plugins.contextmenu.core.Coords",["tinymce.core.Env","tinymce.core.dom.DOMUtils"],function(e,t){var n=function(e,t){return{x:e,y:t}},r=function(e,t,r){return n(e.x+t,e.y+r)},o=function(e,n){if(e&&"static"!==t.DOM.getStyle(e,"position",!0)){var o=t.DOM.getPos(e),i=o.x-e.scrollLeft,a=o.y-e.scrollTop;return r(n,-i,-a)}return r(n,0,0)},i=function(t){return e.container};return{getPos:function(e,a){if(e.inline)return o(i(),function(e){return n(e.pageX,e.pageY)}(a));var c=function(e,n){var o=t.DOM.getPos(e);return r(n,o.x,o.y)}(e.getContentAreaContainer(),function(e){return n(e.clientX,e.clientY)}(a));return o(i(),c)}}}),o("tinymce.core.ui.Factory",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.ui.Factory")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.contextmenu.ui.ContextMenu",["tinymce.core.ui.Factory","tinymce.core.util.Tools","tinymce.plugins.contextmenu.api.Settings"],function(e,t,n){return{show:function(r,o,i,a){null===a.get()?a.set(function(r,o){var i,a,c=[];a=n.getContextMenu(r),t.each(a.split(/[ ,]/),function(e){var t=r.menuItems[e];"|"===e&&(t={text:e}),t&&(t.shortcut="",c.push(t))});for(var s=0;s<c.length;s++)"|"===c[s].text&&(0!==s&&s!==c.length-1||c.splice(s,1));return(i=e.create("menu",{items:c,context:"contextmenu",classes:"contextmenu"}).renderTo()).on("hide",function(e){e.control===this&&o.set(!1)}),r.on("remove",function(){i.remove(),i=null}),i}(r,i)):a.get().show(),a.get().moveTo(o.x,o.y),i.set(!0)}}}),o("tinymce.plugins.contextmenu.core.Bind",["tinymce.plugins.contextmenu.api.Settings","tinymce.plugins.contextmenu.core.Coords","tinymce.plugins.contextmenu.ui.ContextMenu"],function(e,t,n){return{setup:function(r,o,i){r.on("contextmenu",function(a){(function(t,n){return n.ctrlKey&&!e.shouldNeverUseNative(t)})(r,a)||(a.preventDefault(),n.show(r,t.getPos(r,a),o,i))})}}}),o("tinymce.plugins.contextmenu.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.contextmenu.api.Api","tinymce.plugins.contextmenu.core.Bind"],function(e,t,n,r){return t.add("contextmenu",function(t){var o=e(null),i=e(!1);return r.setup(t,i,o),n.get(i)}),function(){}}),n("tinymce.plugins.contextmenu.Plugin")()}()},function(e,t,n){n(103)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.emoticons.ui.PanelHtml",["tinymce.core.util.Tools"],function(e){var t=[["cool","cry","embarassed","foot-in-mouth"],["frown","innocent","kiss","laughing"],["money-mouth","sealed","smile","surprised"],["tongue-out","undecided","wink","yell"]];return{getHtml:function(n){var r;return r='<table role="list" class="mce-grid">',e.each(t,function(t){r+="<tr>",e.each(t,function(e){var t=n+"/img/smiley-"+e+".gif";r+='<td><a href="#" data-mce-url="'+t+'" data-mce-alt="'+e+'" tabindex="-1" role="option" aria-label="'+e+'"><img src="'+t+'" style="width: 18px; height: 18px" role="presentation" /></a></td>'}),r+="</tr>"}),r+="</table>"}}}),o("tinymce.plugins.emoticons.ui.Buttons",["tinymce.plugins.emoticons.ui.PanelHtml"],function(e){return{register:function(t,n){var r=e.getHtml(n);t.addButton("emoticons",{type:"panelbutton",panel:{role:"application",autohide:!0,html:r,onclick:function(e){var n=t.dom.getParent(e.target,"a");n&&(function(e,t,n){e.insertContent(e.dom.createHTML("img",{src:t,alt:n}))}(t,n.getAttribute("data-mce-url"),n.getAttribute("data-mce-alt")),this.hide())}},tooltip:"Emoticons"})}}}),o("tinymce.plugins.emoticons.Plugin",["tinymce.core.PluginManager","tinymce.plugins.emoticons.ui.Buttons"],function(e,t){return e.add("emoticons",function(e,n){t.register(e,n)}),function(){}}),n("tinymce.plugins.emoticons.Plugin")()}()},function(e,t,n){n(105)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t,i=function(e,t){o(e,[],function(){return t})};o("ephox.katamari.api.Cell",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),i("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.plugins.fullscreen.api.Api",[],function(){return{get:function(e){return{isFullscreen:function(){return null!==e.get()}}}}}),i("global!document",document),i("global!window",window),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.plugins.fullscreen.api.Events",[],function(){return{fireFullscreenStateChanged:function(e,t){e.fire("FullscreenStateChanged",{state:t})}}}),o("tinymce.plugins.fullscreen.core.Actions",["global!document","global!window","tinymce.core.dom.DOMUtils","tinymce.plugins.fullscreen.api.Events"],function(e,t,n,r){var o=n.DOM;return{toggleFullscreen:function(n,i){var a,c,s,u,l=e.body,f=e.documentElement,d=i.get(),p=function(){o.setStyle(s,"height",function(){var n,r,o=t,i=e.body;return i.offsetWidth&&(n=i.offsetWidth,r=i.offsetHeight),o.innerWidth&&o.innerHeight&&(n=o.innerWidth,r=o.innerHeight),{w:n,h:r}}().h-(c.clientHeight-s.clientHeight))},m=function(){o.unbind(t,"resize",p)};if(c=n.getContainer(),a=c.style,s=n.getContentAreaContainer().firstChild,u=s.style,d)u.width=d.iframeWidth,u.height=d.iframeHeight,d.containerWidth&&(a.width=d.containerWidth),d.containerHeight&&(a.height=d.containerHeight),o.removeClass(l,"mce-fullscreen"),o.removeClass(f,"mce-fullscreen"),o.removeClass(c,"mce-fullscreen"),function(e){t.scrollTo(e.x,e.y)}(d.scrollPos),o.unbind(t,"resize",d.resizeHandler),n.off("remove",d.removeHandler),i.set(null),r.fireFullscreenStateChanged(n,!1);else{var h={scrollPos:function(){var e=o.getViewPort();return{x:e.x,y:e.y}}(),containerWidth:a.width,containerHeight:a.height,iframeWidth:u.width,iframeHeight:u.height,resizeHandler:p,removeHandler:m};u.width=u.height="100%",a.width=a.height="",o.addClass(l,"mce-fullscreen"),o.addClass(f,"mce-fullscreen"),o.addClass(c,"mce-fullscreen"),o.bind(t,"resize",p),n.on("remove",m),p(),i.set(h),r.fireFullscreenStateChanged(n,!0)}}}}),o("tinymce.plugins.fullscreen.api.Commands",["tinymce.plugins.fullscreen.core.Actions"],function(e){return{register:function(t,n){t.addCommand("mceFullScreen",function(){e.toggleFullscreen(t,n)})}}}),o("tinymce.plugins.fullscreen.ui.Buttons",[],function(){var e=function(e){return function(t){var n=t.control;e.on("FullscreenStateChanged",function(e){n.active(e.state)})}};return{register:function(t){t.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,cmd:"mceFullScreen",onPostRender:e(t),context:"view"}),t.addButton("fullscreen",{active:!1,tooltip:"Fullscreen",cmd:"mceFullScreen",onPostRender:e(t)})}}}),o("tinymce.plugins.fullscreen.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.fullscreen.api.Api","tinymce.plugins.fullscreen.api.Commands","tinymce.plugins.fullscreen.ui.Buttons"],function(e,t,n,r,o){return t.add("fullscreen",function(t){var i=e(null);return r.register(t,i),o.register(t),t.addShortcut("Ctrl+Shift+F","","mceFullScreen"),n.get(i)}),function(){}}),n("tinymce.plugins.fullscreen.Plugin")()}()},function(e,t,n){n(107)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.plugins.hr.api.Commands",[],function(){return{register:function(e){e.addCommand("InsertHorizontalRule",function(){e.execCommand("mceInsertContent",!1,"<hr />")})}}}),o("tinymce.plugins.hr.ui.Buttons",[],function(){return{register:function(e){e.addButton("hr",{icon:"hr",tooltip:"Horizontal line",cmd:"InsertHorizontalRule"}),e.addMenuItem("hr",{icon:"hr",text:"Horizontal line",cmd:"InsertHorizontalRule",context:"insert"})}}}),o("tinymce.plugins.hr.Plugin",["tinymce.core.PluginManager","tinymce.plugins.hr.api.Commands","tinymce.plugins.hr.ui.Buttons"],function(e,t,n){return e.add("hr",function(e){t.register(e),n.register(e)}),function(){}}),n("tinymce.plugins.hr.Plugin")()}()},function(e,t,n){n(109)},function(e,t,n){(function(e){!function(){var t={},n=function(e,n,r){if("string"!=typeof e)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+e;if(void 0===r)throw"no definition function for "+e;t[e]={deps:n,defn:r,instance:void 0}},r=function(e){var n=t[e];if(void 0===n)throw"module ["+e+"] was undefined";return void 0===n.instance&&function(e){for(var n=t[e],o=n.deps,i=n.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=r(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+e+"] returned undefined";n.instance=u}(e),n.instance},o=function(e,t){for(var n=e.length,o=new Array(n),i=0;i<n;++i)o[i]=r(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:n,require:o,demand:r}}};var i=n,a=function(e,t){i(e,[],function(){return t})};i("ephox.katamari.api.Cell",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),a("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),i("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),i("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),i("ephox.imagetools.util.Canvas",[],function(){function e(e,t){return n(document.createElement("canvas"),e,t)}function t(e){return e.getContext("2d")}function n(e,t,n){return e.width=t,e.height=n,e}return{create:e,clone:function(n){var r;return r=e(n.width,n.height),t(r).drawImage(n,0,0),r},resize:n,get2dContext:t,get3dContext:function(e){var t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){}return t||(t=null),t}}}),i("ephox.imagetools.util.ImageSize",[],function(){return{getWidth:function(e){return e.naturalWidth||e.width},getHeight:function(e){return e.naturalHeight||e.height}}}),i("ephox.imagetools.util.Promise",[],function(){function t(e,t){return function(){e.apply(t,arguments)}}function n(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(e,t(o,this),t(i,this))}function r(e){var t=this;null!==this._state?s(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)}):this._deferreds.push(e)}function o(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void c(t(n,e),t(o,this),t(i,this))}this._state=!0,this._value=e,a.call(this)}catch(e){i.call(this,e)}}function i(e){this._state=!1,this._value=e,a.call(this)}function a(){for(var e=0,t=this._deferreds.length;e<t;e++)r.call(this,this._deferreds[e]);this._deferreds=null}function c(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(e){if(r)return;r=!0,n(e)}}if(window.Promise)return window.Promise;var s=n.immediateFn||"function"==typeof e&&e||function(e){setTimeout(e,1)},u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,t){var o=this;return new n(function(n,i){r.call(o,new function(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}(e,t,n,i))})},n.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&u(arguments[0])?arguments[0]:arguments);return new n(function(t,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var c=a.then;if("function"==typeof c)return void c.call(a,function(e){r(i,e)},n)}e[i]=a,0==--o&&t(e)}catch(e){n(e)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n(function(t){t(e)})},n.reject=function(e){return new n(function(t,n){n(e)})},n.race=function(e){return new n(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},n}),a("global!Array",Array),a("global!Error",Error),i("ephox.katamari.api.Fun",["global!Array","global!Error"],function(e,t){var n=function(e){return function(){return e}};return{noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:n,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(t){for(var n=new e(arguments.length-1),r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){for(var r=new e(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];var i=n.concat(r);return t.apply(null,i)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new t(e)}},apply:function(e){return e()},call:function(e){e()},never:n(!1),always:n(!0)}}),a("global!Object",Object),i("ephox.katamari.api.Option",["ephox.katamari.api.Fun","global!Object"],function(e,t){var n=e.never,r=e.always,o=function(){return i},i=function(){var i=function(e){return e.isNone()},a=function(e){return e()},c=function(e){return e},s={fold:function(e,t){return e()},is:n,isSome:n,isNone:r,getOr:c,getOrThunk:a,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:c,orThunk:a,map:o,ap:o,each:function(){},bind:o,flatten:o,exists:n,forall:r,filter:o,equals:i,equals_:i,toArray:function(){return[]},toString:e.constant("none()")};return t.freeze&&t.freeze(s),s}(),a=function(e){var t=function(){return e},c=function(){return u},s=function(t){return t(e)},u={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:r,isNone:n,getOr:t,getOrThunk:t,getOrDie:t,or:c,orThunk:c,map:function(t){return a(t(e))},ap:function(t){return t.fold(o,function(t){return a(t(e))})},each:function(t){t(e)},bind:s,flatten:t,exists:s,forall:s,filter:function(t){return t(e)?u:i},equals:function(t){return t.is(e)},equals_:function(t,r){return t.fold(n,function(t){return r(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return u};return{some:a,none:o,from:function(e){return null===e||void 0===e?i:a(e)}}}),i("ephox.katamari.api.Global",[],function(){return"undefined"!=typeof window?window:Function("return this;")()}),i("ephox.katamari.api.Resolve",["ephox.katamari.api.Global"],function(e){var t=function(t,n){for(var r=void 0!==n?n:e,o=0;o<t.length&&void 0!==r&&null!==r;++o)r=r[t[o]];return r},n=function(e,t){return void 0!==e[t]&&null!==e[t]||(e[t]={}),e[t]},r=function(t,r){for(var o=void 0!==r?r:e,i=0;i<t.length;++i)o=n(o,t[i]);return o};return{path:t,resolve:function(e,n){var r=e.split(".");return t(r,n)},forge:r,namespace:function(e,t){var n=e.split(".");return r(n,t)}}}),i("ephox.sand.util.Global",["ephox.katamari.api.Resolve"],function(e){return{getOrDie:function(t,n){var r=function(t,n){return e.resolve(t,n)}(t,n);if(void 0===r)throw t+" not available on this browser";return r}}}),i("ephox.sand.api.Blob",["ephox.sand.util.Global"],function(e){return function(t,n){return new(e.getOrDie("Blob"))(t,n)}}),i("ephox.sand.api.FileReader",["ephox.sand.util.Global"],function(e){return function(){return new(e.getOrDie("FileReader"))}}),i("ephox.sand.api.Uint8Array",["ephox.sand.util.Global"],function(e){return function(t){return new(e.getOrDie("Uint8Array"))(t)}}),i("ephox.sand.api.Window",["ephox.sand.util.Global"],function(e){return{atob:function(t){return e.getOrDie("atob")(t)},requestAnimationFrame:function(t){e.getOrDie("requestAnimationFrame")(t)}}}),a("global!Math",Math),i("ephox.imagetools.util.Conversions",["ephox.imagetools.util.Canvas","ephox.imagetools.util.ImageSize","ephox.imagetools.util.Promise","ephox.katamari.api.Option","ephox.sand.api.Blob","ephox.sand.api.FileReader","ephox.sand.api.Uint8Array","ephox.sand.api.Window","global!Array","global!Math"],function(e,t,n,r,o,i,a,c,s,u){function l(e){return new n(function(t,n){function r(){c(),t(a)}function o(){c(),n("Unable to load data of type "+e.type+": "+i)}var i=URL.createObjectURL(e),a=new Image,c=function(){a.removeEventListener("load",r),a.removeEventListener("error",o)};a.addEventListener("load",r),a.addEventListener("error",o),a.src=i,a.complete&&r()})}function f(e){return new n(function(t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(){200==this.status&&t(this.response)},n.send()})}function d(e){var t=e.split(","),n=/data:([^;]+)/.exec(t[0]);if(!n)return r.none();for(var i=n[1],l=t[1],f=c.atob(l),d=f.length,p=u.ceil(d/1024),m=new s(p),h=0;h<p;++h){for(var g=1024*h,v=u.min(g+1024,d),y=new s(v-g),b=g,x=0;b<v;++x,++b)y[x]=f[b].charCodeAt(0);m[h]=a(y)}return r.some(o(m,{type:i}))}function p(e){return new n(function(t,n){d(e).fold(function(){n("uri is not base64: "+e)},t)})}function m(e){return new n(function(t){var n=new i;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})}return{blobToImage:l,imageToBlob:function(e){return function(e){return new n(function(t){function n(){e.removeEventListener("load",n),t(e)}e.complete?t(e):e.addEventListener("load",n)})}(e).then(function(e){var t=e.src;return 0===t.indexOf("blob:")?f(t):0===t.indexOf("data:")?p(t):f(t)})},blobToDataUri:m,blobToBase64:function(e){return m(e).then(function(e){return e.split(",")[1]})},dataUriToBlobSync:d,canvasToBlob:function(e,t,r){return t=t||"image/png",HTMLCanvasElement.prototype.toBlob?new n(function(n){e.toBlob(function(e){n(e)},t,r)}):p(e.toDataURL(t,r))},canvasToDataURL:function(e,t,n){return t=t||"image/png",e.then(function(e){return e.toDataURL(t,n)})},blobToCanvas:function(n){return l(n).then(function(n){!function(e){URL.revokeObjectURL(e.src)}(n);var r;return r=e.create(t.getWidth(n),t.getHeight(n)),e.get2dContext(r).drawImage(n,0,0),r})},uriToBlob:function(e){return 0===e.indexOf("blob:")?f(e):0===e.indexOf("data:")?p(e):null}}}),i("ephox.imagetools.api.BlobConversions",["ephox.imagetools.util.Conversions","ephox.katamari.api.Option"],function(e,t){return{blobToImage:function(t){return e.blobToImage(t)},imageToBlob:function(t){return e.imageToBlob(t)},blobToDataUri:function(t){return e.blobToDataUri(t)},blobToBase64:function(t){return e.blobToBase64(t)},dataUriToBlobSync:function(t){return e.dataUriToBlobSync(t)},uriToBlob:function(n){return t.from(e.uriToBlob(n))}}}),i("ephox.imagetools.util.ImageResult",["ephox.imagetools.util.Canvas","ephox.imagetools.util.Conversions","ephox.imagetools.util.Promise","ephox.katamari.api.Fun"],function(e,t,n,r){function o(o,i,a){function c(e,n){return o.then(function(r){return t.canvasToDataURL(r,e,n)})}var s=i.type;return{getType:r.constant(s),toBlob:function(){return n.resolve(i)},toDataURL:function(){return a},toBase64:function(){return a.split(",")[1]},toAdjustedBlob:function(e,n){return o.then(function(r){return t.canvasToBlob(r,e,n)})},toAdjustedDataURL:c,toAdjustedBase64:function(e,t){return c(e,t).then(function(e){return e.split(",")[1]})},toCanvas:function(){return o.then(e.clone)}}}function i(e){return t.blobToDataUri(e).then(function(n){return o(t.blobToCanvas(e),e,n)})}return{fromBlob:i,fromCanvas:function(e,r){return t.canvasToBlob(e,r).then(function(t){return o(n.resolve(e),t,e.toDataURL())})},fromImage:function(e){return t.imageToBlob(e).then(function(e){return i(e)})},fromBlobAndUrlSync:function(e,n){return o(t.blobToCanvas(e),e,n)}}}),i("ephox.imagetools.transformations.ColorMatrix",[],function(){function e(e,t,n){return(e=parseFloat(e))>n?e=n:e<t&&(e=t),e}function t(e,t){var n,r,o,i,a=[],c=new Array(10);for(n=0;n<5;n++){for(r=0;r<5;r++)a[r]=t[r+5*n];for(r=0;r<5;r++){for(i=0,o=0;o<5;o++)i+=e[r+5*o]*a[o];c[r+5*n]=i}}return c}function n(t,n){return n=e(n,0,1),t.map(function(t,r){return r%6==0?t=1-(1-t)*n:t*=n,e(t,0,1)})}var r=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];return{identity:function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},adjust:n,multiply:t,adjustContrast:function(n,o){var i;return o=e(o,-1,1),o*=100,i=o<0?127+o/100*127:127*(i=0==(i=o%1)?r[o]:r[Math.floor(o)]*(1-i)+r[Math.floor(o)+1]*i)+127,t(n,[i/127,0,0,0,.5*(127-i),0,i/127,0,0,.5*(127-i),0,0,i/127,0,.5*(127-i),0,0,0,1,0,0,0,0,0,1])},adjustBrightness:function(n,r){return r=e(255*r,-255,255),t(n,[1,0,0,0,r,0,1,0,0,r,0,0,1,0,r,0,0,0,1,0,0,0,0,0,1])},adjustSaturation:function(n,r){var o;return r=e(r,-1,1),o=1+(r>0?3*r:r),t(n,[.3086*(1-o)+o,.6094*(1-o),.082*(1-o),0,0,.3086*(1-o),.6094*(1-o)+o,.082*(1-o),0,0,.3086*(1-o),.6094*(1-o),.082*(1-o)+o,0,0,0,0,0,1,0,0,0,0,0,1])},adjustHue:function(n,r){var o,i;return r=e(r,-180,180)/180*Math.PI,o=Math.cos(r),i=Math.sin(r),t(n,[.213+.787*o+-.213*i,.715+-.715*o+-.715*i,.072+-.072*o+.928*i,0,0,.213+-.213*o+.143*i,.715+o*(1-.715)+.14*i,.072+-.072*o+-.283*i,0,0,.213+-.213*o+-.787*i,.715+-.715*o+.715*i,.072+.928*o+.072*i,0,0,0,0,0,1,0,0,0,0,0,1])},adjustColors:function(n,r,o,i){return r=e(r,0,2),o=e(o,0,2),i=e(i,0,2),t(n,[r,0,0,0,0,0,o,0,0,0,0,0,i,0,0,0,0,0,1,0,0,0,0,0,1])},adjustSepia:function(r,o){return o=e(o,0,1),t(r,n([.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0,0,0,0,0,1],o))},adjustGrayscale:function(r,o){return o=e(o,0,1),t(r,n([.33,.34,.33,0,0,.33,.34,.33,0,0,.33,.34,.33,0,0,0,0,0,1,0,0,0,0,0,1],o))}}}),i("ephox.imagetools.transformations.Filters",["ephox.imagetools.util.Canvas","ephox.imagetools.util.ImageResult","ephox.imagetools.transformations.ColorMatrix"],function(e,t,n){function r(n,r){return n.toCanvas().then(function(o){return function(n,r,o){var i,a=e.get2dContext(n);return i=function(e,t){var n,r,o,i,a,c=e.data,s=t[0],u=t[1],l=t[2],f=t[3],d=t[4],p=t[5],m=t[6],h=t[7],g=t[8],v=t[9],y=t[10],b=t[11],x=t[12],w=t[13],C=t[14],k=t[15],T=t[16],_=t[17],S=t[18],E=t[19];for(a=0;a<c.length;a+=4)n=c[a],r=c[a+1],o=c[a+2],i=c[a+3],c[a]=n*s+r*u+o*l+i*f+d,c[a+1]=n*p+r*m+o*h+i*g+v,c[a+2]=n*y+r*b+o*x+i*w+C,c[a+3]=n*k+r*T+o*_+i*S+E;return e}(a.getImageData(0,0,n.width,n.height),o),a.putImageData(i,0,0),t.fromCanvas(n,r)}(o,n.getType(),r)})}function o(n,r){return n.toCanvas().then(function(o){return function(n,r,o){var i,a,c=e.get2dContext(n);return i=c.getImageData(0,0,n.width,n.height),a=c.getImageData(0,0,n.width,n.height),a=function(e,t,n){function r(e,t,n){return e>n?e=n:e<t&&(e=t),e}var o,i,a,c,s,u,l,f,d,p,m,h,g,v,y,b,x;for(a=Math.round(Math.sqrt(n.length)),c=Math.floor(a/2),o=e.data,i=t.data,b=e.width,x=e.height,u=0;u<x;u++)for(s=0;s<b;s++){for(l=f=d=0,m=0;m<a;m++)for(p=0;p<a;p++)h=r(s+p-c,0,b-1),g=r(u+m-c,0,x-1),v=4*(g*b+h),y=n[m*a+p],l+=o[v]*y,f+=o[v+1]*y,d+=o[v+2]*y;i[v=4*(u*b+s)]=r(l,0,255),i[v+1]=r(f,0,255),i[v+2]=r(d,0,255)}return t}(i,a,o),c.putImageData(a,0,0),t.fromCanvas(n,r)}(o,n.getType(),r)})}function i(n){return function(r,o){return r.toCanvas().then(function(i){return function(r,o,i){var a,c,s=e.get2dContext(r),u=new Array(256);for(c=0;c<u.length;c++)u[c]=n(c,i);return a=function(e,t){var n,r=e.data;for(n=0;n<r.length;n+=4)r[n]=t[r[n]],r[n+1]=t[r[n+1]],r[n+2]=t[r[n+2]];return e}(s.getImageData(0,0,r.width,r.height),u),s.putImageData(a,0,0),t.fromCanvas(r,o)}(i,r.getType(),o)})}}function a(e){return function(t,o){return r(t,e(n.identity(),o))}}function c(e){return function(t){return o(t,e)}}return{invert:function(e){return function(t){return r(t,e)}}([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0]),brightness:a(n.adjustBrightness),hue:a(n.adjustHue),saturate:a(n.adjustSaturation),contrast:a(n.adjustContrast),grayscale:a(n.adjustGrayscale),sepia:a(n.adjustSepia),colorize:function(e,t,o,i){return r(e,n.adjustColors(n.identity(),t,o,i))},sharpen:c([0,-1,0,-1,5,-1,0,-1,0]),emboss:c([-2,-1,0,-1,1,1,0,1,2]),gamma:i(function(e,t){return 255*Math.pow(e/255,1-t)}),exposure:i(function(e,t){return 255*(1-Math.exp(-e/255*t))}),colorFilter:r,convoluteFilter:o}}),i("ephox.imagetools.transformations.ImageResizerCanvas",["ephox.imagetools.util.Canvas","ephox.imagetools.util.ImageSize","ephox.imagetools.util.Promise"],function(e,t,n){function r(o,i,a){var c=t.getWidth(o),s=t.getHeight(o),u=i/c,l=a/s,f=!1;(u<.5||u>2)&&(u=u<.5?.5:2,f=!0),(l<.5||l>2)&&(l=l<.5?.5:2,f=!0);var d=function(r,o,i){return new n(function(n){var a=t.getWidth(r),c=t.getHeight(r),s=Math.floor(a*o),u=Math.floor(c*i),l=e.create(s,u),f=e.get2dContext(l);f.drawImage(r,0,0,a,c,0,0,s,u),n(l)})}(o,u,l);return f?d.then(function(e){return r(e,i,a)}):d}return{scale:r}}),i("ephox.imagetools.transformations.ImageTools",["ephox.imagetools.util.Canvas","ephox.imagetools.util.ImageResult","ephox.imagetools.transformations.ImageResizerCanvas"],function(e,t,n){return{rotate:function(n,r){return n.toCanvas().then(function(o){return function(n,r,o){var i=e.create(n.width,n.height),a=e.get2dContext(i),c=0,s=0;return 90!=(o=o<0?360+o:o)&&270!=o||e.resize(i,i.height,i.width),90!=o&&180!=o||(c=i.width),270!=o&&180!=o||(s=i.height),a.translate(c,s),a.rotate(o*Math.PI/180),a.drawImage(n,0,0),t.fromCanvas(i,r)}(o,n.getType(),r)})},flip:function(n,r){return n.toCanvas().then(function(o){return function(n,r,o){var i=e.create(n.width,n.height),a=e.get2dContext(i);return"v"==o?(a.scale(1,-1),a.drawImage(n,0,-i.height)):(a.scale(-1,1),a.drawImage(n,-i.width,0)),t.fromCanvas(i,r)}(o,n.getType(),r)})},crop:function(n,r,o,i,a){return n.toCanvas().then(function(c){return function(n,r,o,i,a,c){var s=e.create(a,c);return e.get2dContext(s).drawImage(n,-o,-i),t.fromCanvas(s,r)}(c,n.getType(),r,o,i,a)})},resize:function(e,r,o){return e.toCanvas().then(function(i){return n.scale(i,r,o).then(function(n){return t.fromCanvas(n,e.getType())})})}}}),i("ephox.imagetools.api.ImageTransformations",["ephox.imagetools.transformations.Filters","ephox.imagetools.transformations.ImageTools"],function(e,t){return{invert:function(t){return e.invert(t)},sharpen:function(t){return e.sharpen(t)},emboss:function(t){return e.emboss(t)},brightness:function(t,n){return e.brightness(t,n)},hue:function(t,n){return e.hue(t,n)},saturate:function(t,n){return e.saturate(t,n)},contrast:function(t,n){return e.contrast(t,n)},grayscale:function(t,n){return e.grayscale(t,n)},sepia:function(t,n){return e.sepia(t,n)},colorize:function(t,n,r,o){return e.colorize(t,n,r,o)},gamma:function(t,n){return e.gamma(t,n)},exposure:function(t,n){return e.exposure(t,n)},flip:function(e,n){return t.flip(e,n)},crop:function(e,n,r,o,i){return t.crop(e,n,r,o,i)},resize:function(e,n,r){return t.resize(e,n,r)},rotate:function(e,n){return t.rotate(e,n)}}}),i("ephox.imagetools.api.ResultConversions",["ephox.imagetools.util.ImageResult"],function(e){var t=function(e){return e.toBlob()};return{blobToImageResult:function(t){return e.fromBlob(t)},fromBlobAndUrlSync:function(t,n){return e.fromBlobAndUrlSync(t,n)},imageToImageResult:function(t){return e.fromImage(t)},imageResultToBlob:function(e,n,r){return void 0===n&&void 0===r?t(e):e.toAdjustedBlob(n,r)},imageResultToOriginalBlob:t,imageResultToDataURL:function(e){return e.toDataURL()}}}),i("ephox.sand.api.URL",["ephox.sand.util.Global"],function(e){var t=function(){return e.getOrDie("URL")};return{createObjectURL:function(e){return t().createObjectURL(e)},revokeObjectURL:function(e){t().revokeObjectURL(e)}}}),a("global!clearTimeout",clearTimeout),i("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Delay")}),i("tinymce.core.util.Promise",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Promise")}),i("tinymce.core.util.URI",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.URI")}),i("tinymce.plugins.imagetools.api.Settings",[],function(){return{getToolbarItems:function(e){return e.getParam("imagetools_toolbar","rotateleft rotateright | flipv fliph | crop editimage imageoptions")},getProxyUrl:function(e){return e.getParam("imagetools_proxy")}}}),i("tinymce.plugins.imagetools.core.ImageSize",[],function(){return{getImageSize:function(e){function t(e){return/^[0-9\.]+px$/.test(e)}var n,r;return n=e.style.width,r=e.style.height,n||r?t(n)&&t(r)?{w:parseInt(n,10),h:parseInt(r,10)}:null:(n=e.width,r=e.height,n&&r?{w:parseInt(n,10),h:parseInt(r,10)}:null)},setImageSize:function(e,t){var n,r;t&&(n=e.style.width,r=e.style.height,(n||r)&&(e.style.width=t.w+"px",e.style.height=t.h+"px",e.removeAttribute("data-mce-style")),n=e.width,r=e.height,(n||r)&&(e.setAttribute("width",t.w),e.setAttribute("height",t.h)))},getNaturalImageSize:function(e){return{w:e.naturalWidth,h:e.naturalHeight}}}}),a("global!String",String),i("ephox.katamari.api.Arr",["ephox.katamari.api.Option","global!Array","global!Error","global!String"],function(e,t,n,r){var o=function(){var e=t.prototype.indexOf;return void 0===e?function(e,t){return f(e,t)}:function(t,n){return e.call(t,n)}}(),i=function(e,t){return o(e,t)>-1},a=function(e,n){for(var r=e.length,o=new t(r),i=0;i<r;i++){var a=e[i];o[i]=n(a,i,e)}return o},c=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n,e)}},s=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n,e)}},u=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},l=function(t,n){for(var r=0,o=t.length;r<o;r++){if(n(t[r],r,t))return e.some(r)}return e.none()},f=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},d=t.prototype.push,p=function(e){for(var r=[],o=0,i=e.length;o<i;++o){if(!t.prototype.isPrototypeOf(e[o]))throw new n("Arr.flatten item "+o+" was not an array, input: "+e);d.apply(r,e[o])}return r},m=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n,e))return!1}return!0},h=t.prototype.slice;return{map:a,each:c,eachr:s,partition:function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o,e)?n:r).push(a)}return{pass:n,fail:r}},filter:u,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var c=e[i],s=t(c);s!==n&&(r.push(o),o=[]),n=s,o.push(c)}return 0!==o.length&&r.push(o),r},indexOf:function(t,n){var r=o(t,n);return-1===r?e.none():e.some(r)},foldr:function(e,t,n){return s(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return c(e,function(e){n=t(n,e)}),n},find:function(t,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(n(i,r,t))return e.some(i)}return e.none()},findIndex:l,flatten:p,bind:function(e,t){var n=a(e,t);return p(n)},forall:m,exists:function(e,t){return l(e,t).isSome()},contains:i,equal:function(e,t){return e.length===t.length&&m(e,function(e,n){return e===t[n]})},reverse:function(e){var t=h.call(e,0);return t.reverse(),t},chunk:function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=e.slice(r,r+t);n.push(o)}return n},difference:function(e,t){return u(e,function(e){return!i(t,e)})},mapToObject:function(e,t){for(var n={},o=0,i=e.length;o<i;o++){var a=e[o];n[r(a)]=t(a,o)}return n},pure:function(e){return[e]},sort:function(e,t){var n=h.call(e,0);return n.sort(t),n},range:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},head:function(t){return 0===t.length?e.none():e.some(t[0])},last:function(t){return 0===t.length?e.none():e.some(t[t.length-1])}}}),i("ephox.sand.api.XMLHttpRequest",["ephox.sand.util.Global"],function(e){return function(){return new(e.getOrDie("XMLHttpRequest"))}}),i("tinymce.plugins.imagetools.core.Utils",["ephox.sand.api.FileReader","ephox.sand.api.XMLHttpRequest","tinymce.core.util.Promise","tinymce.core.util.Tools"],function(e,t,n,r){var o=function(e){return null!==e&&void 0!==e};return{traverse:function(e,t){var n;return n=t.reduce(function(e,t){return o(e)?e[t]:void 0},e),o(n)?n:null},readBlob:function(t){return new n(function(n){var r=new e;r.onload=function(e){var t=e.target;n(t.result)},r.readAsText(t)})},requestUrlAsBlob:function(e,o){return new n(function(n){var i;(i=new t).onreadystatechange=function(){4===i.readyState&&n({status:i.status,blob:this.response})},i.open("GET",e,!0),r.each(o,function(e,t){i.setRequestHeader(t,e)}),i.responseType="blob",i.send()})},parseJson:function(e){var t;try{t=JSON.parse(e)}catch(e){}return t}}}),i("tinymce.plugins.imagetools.core.Errors",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","tinymce.core.util.Promise","tinymce.plugins.imagetools.core.Utils"],function(e,t,n,r){var o=[{code:404,message:"Could not find Image Proxy"},{code:403,message:"Rejected request"},{code:0,message:"Incorrect Image Proxy URL"}],i=[{type:"key_missing",message:"The request did not include an api key."},{type:"key_not_found",message:"The provided api key could not be found."},{type:"domain_not_trusted",message:"The api key is not valid for the request origins."}],a=function(n){return"ImageProxy HTTP error: "+e.find(o,function(e){return n===e.code}).fold(t.constant("Unknown ImageProxy error"),function(e){return e.message})},c=function(e){var t=a(e);return n.reject(t)},s=function(n){return e.find(i,function(e){return e.type===n}).fold(t.constant("Unknown service error"),function(e){return e.message})},u=function(e,t){return r.readBlob(t).then(function(e){var t=function(e){var t=r.parseJson(e),n=r.traverse(t,["error","type"]);return"ImageProxy Service error: "+(n?s(n):"Invalid JSON in service error message")}(e);return n.reject(t)})};return{handleServiceErrorResponse:function(e,t){return function(e){return 400===e||403===e||500===e}(e)?u(0,t):c(e)},handleHttpError:c,getHttpErrorMsg:a,getServiceErrorMsg:s}}),i("tinymce.plugins.imagetools.core.Proxy",["tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.plugins.imagetools.core.Errors","tinymce.plugins.imagetools.core.Utils"],function(e,t,n,r){var o=function(t,o){return r.requestUrlAsBlob(function(e,t){var n=-1===e.indexOf("?")?"?":"&";return/[?&]apiKey=/.test(e)||!t?e:e+n+"apiKey="+encodeURIComponent(t)}(t,o),{"Content-Type":"application/json;charset=UTF-8","tiny-api-key":o}).then(function(t){return t.status<200||t.status>=300?n.handleServiceErrorResponse(t.status,t.blob):e.resolve(t.blob)})};return{getUrl:function(t,i){return i?o(t,i):function(t){return r.requestUrlAsBlob(t,{}).then(function(t){return t.status<200||t.status>=300?n.handleHttpError(t.status):e.resolve(t.blob)})}(t)}}}),a("global!setTimeout",setTimeout),i("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),i("tinymce.core.ui.Factory",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.ui.Factory")}),i("tinymce.plugins.imagetools.core.UndoStack",[],function(){return function(){function e(){return r>0}function t(){return-1!==r&&r<n.length-1}var n=[],r=-1;return{data:n,add:function(e){var t;return t=n.splice(++r),n.push(e),{state:e,removed:t}},undo:function(){if(e())return n[--r]},redo:function(){if(t())return n[++r]},canUndo:e,canRedo:t}}}),a("global!document",document),a("global!Image",Image),i("tinymce.core.geom.Rect",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.geom.Rect")}),i("tinymce.plugins.imagetools.core.LoadImage",["tinymce.core.util.Promise"],function(e){return{loadImage:function(t){return new e(function(e){var n=function(){t.removeEventListener("load",n),e(t)};t.complete?e(t):t.addEventListener("load",n)})}}}),i("tinymce.core.dom.DomQuery",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DomQuery")}),i("tinymce.core.util.Observable",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Observable")}),i("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.VK")}),i("tinymce.plugins.imagetools.ui.CropRect",["tinymce.core.dom.DomQuery","tinymce.core.geom.Rect","tinymce.core.ui.Factory","tinymce.core.util.Observable","tinymce.core.util.Tools","tinymce.core.util.VK"],function(e,t,n,r,o,i){var a=0;return function(c,s,u,l,f){function d(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}}function p(e,n,r,o){var i,a,s,l,f;i=n.x,a=n.y,s=n.w,l=n.h,i+=r*e.deltaX,a+=o*e.deltaY,s+=r*e.deltaW,l+=o*e.deltaH,s<20&&(s=20),l<20&&(l=20),f=c=t.clamp({x:i,y:a,w:s,h:l},u,"move"===e.name),f=d(u,f),v.fire("updateRect",{rect:f}),g(f)}function m(t){function n(t,n){n.h<0&&(n.h=0),n.w<0&&(n.w=0),e("#"+C+"-"+t,l).css({left:n.x,top:n.y,width:n.w,height:n.h})}o.each(y,function(n){e("#"+C+"-"+n.name,l).css({left:t.w*n.xMul+t.x,top:t.h*n.yMul+t.y})}),n("top",{x:s.x,y:s.y,w:s.w,h:t.y-s.y}),n("right",{x:t.x+t.w,y:t.y,w:s.w-t.x-t.w+s.x,h:t.h}),n("bottom",{x:s.x,y:t.y+t.h,w:s.w,h:s.h-t.y-t.h+s.y}),n("left",{x:s.x,y:t.y,w:t.x-s.x,h:t.h}),n("move",t)}function h(e){m(c=e)}function g(e){h(function(e,t){return{x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}}(u,e))}var v,y,b,x,w="mce-",C=w+"crid-"+a++;return y=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],x=["top","right","bottom","left"],e('<div id="'+C+'" class="'+w+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(l),o.each(x,function(t){e("#"+C,l).append('<div id="'+C+"-"+t+'"class="'+w+'croprect-block" style="display: none" data-mce-bogus="all">')}),o.each(y,function(t){e("#"+C,l).append('<div id="'+C+"-"+t.name+'" class="'+w+"croprect-handle "+w+"croprect-handle-"+t.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+t.label+'" aria-grabbed="false">')}),b=o.map(y,function(e){var t;return new(n.get("DragHelper"))(C,{document:l.ownerDocument,handle:C+"-"+e.name,start:function(){t=c},drag:function(n){p(e,t,n.deltaX,n.deltaY)}})}),m(c),e(l).on("focusin focusout",function(t){e(t.target).attr("aria-grabbed","focus"===t.type)}),e(l).on("keydown",function(e){function t(e,t,r,o,i){e.stopPropagation(),e.preventDefault(),p(n,r,o,i)}var n;switch(o.each(y,function(t){if(e.target.id===C+"-"+t.name)return n=t,!1}),e.keyCode){case i.LEFT:t(e,0,c,-10,0);break;case i.RIGHT:t(e,0,c,10,0);break;case i.UP:t(e,0,c,0,-10);break;case i.DOWN:t(e,0,c,0,10);break;case i.ENTER:case i.SPACEBAR:e.preventDefault(),f()}}),v=o.extend({toggleVisibility:function(t){var n;n=o.map(y,function(e){return"#"+C+"-"+e.name}).concat(o.map(x,function(e){return"#"+C+"-"+e})).join(","),t?e(n,l).show():e(n,l).hide()},setClampRect:function(e){u=e,m(c)},setRect:h,getInnerRect:function(){return d(u,c)},setInnerRect:g,setViewPortRect:function(e){s=e,m(c)},destroy:function(){o.each(b,function(e){e.destroy()}),b=[]}},r)}}),i("tinymce.plugins.imagetools.ui.ImagePanel",["global!document","global!Image","tinymce.core.geom.Rect","tinymce.core.ui.Factory","tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.plugins.imagetools.core.LoadImage","tinymce.plugins.imagetools.ui.CropRect"],function(e,t,n,r,o,i,a,c){return{create:function(o){return new(r.get("Control").extend({Defaults:{classes:"imagepanel"},selection:function(e){return arguments.length?(this.state.set("rect",e),this):this.state.get("rect")},imageSize:function(){var e=this.state.get("viewRect");return{w:e.w,h:e.h}},toggleCropRect:function(e){this.state.set("cropEnabled",e)},imageSrc:function(r){var o=this,i=new t;i.src=r,a.loadImage(i).then(function(){var t,r,a=o.state.get("viewRect");if((r=o.$el.find("img"))[0])r.replaceWith(i);else{var c=e.createElement("div");c.className="mce-imagepanel-bg",o.getEl().appendChild(c),o.getEl().appendChild(i)}t={x:0,y:0,w:i.naturalWidth,h:i.naturalHeight},o.state.set("viewRect",t),o.state.set("rect",n.inflate(t,-20,-20)),a&&a.w===t.w&&a.h===t.h||o.zoomFit(),o.repaintImage(),o.fire("load")})},zoom:function(e){return arguments.length?(this.state.set("zoom",e),this):this.state.get("zoom")},postRender:function(){return this.imageSrc(this.settings.imageSrc),this._super()},zoomFit:function(){var e,t,n,r,o,i;e=this.$el.find("img"),t=this.getEl().clientWidth,n=this.getEl().clientHeight,r=e[0].naturalWidth,o=e[0].naturalHeight,(i=Math.min((t-10)/r,(n-10)/o))>=1&&(i=1),this.zoom(i)},repaintImage:function(){var e,t,n,r,o,i,a,c,s,u,l;l=this.getEl(),s=this.zoom(),u=this.state.get("rect"),a=this.$el.find("img"),c=this.$el.find(".mce-imagepanel-bg"),o=l.offsetWidth,i=l.offsetHeight,n=a[0].naturalWidth*s,r=a[0].naturalHeight*s,e=Math.max(0,o/2-n/2),t=Math.max(0,i/2-r/2),a.css({left:e,top:t,width:n,height:r}),c.css({left:e,top:t,width:n,height:r}),this.cropRect&&(this.cropRect.setRect({x:u.x*s+e,y:u.y*s+t,w:u.w*s,h:u.h*s}),this.cropRect.setClampRect({x:e,y:t,w:n,h:r}),this.cropRect.setViewPortRect({x:0,y:0,w:o,h:i}))},bindStates:function(){var e=this;e.state.on("change:cropEnabled",function(t){e.cropRect.toggleVisibility(t.value),e.repaintImage()}),e.state.on("change:zoom",function(){e.repaintImage()}),e.state.on("change:rect",function(t){var n=t.value;e.cropRect||function(t){e.cropRect=new c(t,e.state.get("viewRect"),e.state.get("viewRect"),e.getEl(),function(){e.fire("crop")}),e.cropRect.on("updateRect",function(t){var n=t.rect,r=e.zoom();n={x:Math.round(n.x/r),y:Math.round(n.y/r),w:Math.round(n.w/r),h:Math.round(n.h/r)},e.state.set("rect",n)}),e.on("remove",e.cropRect.destroy)}(n),e.cropRect.setRect(n)})}}))(o)}}}),i("tinymce.plugins.imagetools.ui.Dialog",["ephox.imagetools.api.ImageTransformations","ephox.imagetools.api.ResultConversions","ephox.sand.api.URL","global!Math","global!setTimeout","tinymce.core.dom.DOMUtils","tinymce.core.ui.Factory","tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.plugins.imagetools.core.UndoStack","tinymce.plugins.imagetools.ui.ImagePanel"],function(e,t,n,r,o,i,a,c,s,u,l){function f(e){return{blob:e,url:n.createObjectURL(e)}}function d(e){e&&n.revokeObjectURL(e.url)}function p(e){s.each(e,d)}function m(n,c,m,h){function g(e){var t,n,o,i;t=P.find("#w")[0],n=P.find("#h")[0],o=parseInt(t.value(),10),i=parseInt(n.value(),10),P.find("#constrain")[0].checked()&&te&&ne&&o&&i&&("w"===e.control.settings.name?(i=r.round(o*re),n.value(i)):(o=r.round(i*oe),t.value(o))),te=o,ne=i}function v(e){return r.round(100*e)+"%"}function y(){P.find("#undo").disabled(!ie.canUndo()),P.find("#redo").disabled(!ie.canRedo()),P.statusbar.find("#save").disabled(!ie.canUndo())}function b(){P.find("#undo").disabled(!0),P.find("#redo").disabled(!0)}function x(e){e&&U.imageSrc(e.url)}function w(e){return function(){var t=s.grep(ee,function(t){return t.settings.name!==e});s.each(t,function(e){e.hide()}),e.show(),e.focus()}}function C(e){x(I=f(e))}function k(e){x(c=f(e)),p(ie.add(c).removed),y()}function T(){var n=U.selection();t.blobToImageResult(c.blob).then(function(t){e.crop(t,n.x,n.y,n.w,n.h).then(ae).then(function(e){k(e),S()})})}function _(e){var n=[].slice.call(arguments,1);return function(){var r=I||c;t.blobToImageResult(r.blob).then(function(t){e.apply(this,[t].concat(n)).then(ae).then(C)})}}function S(){x(c),d(I),w(O)(),y()}function E(e,t){I?t():o(function(){e-- >0?E(e,t):n.windowManager.alert("Error: failed to apply image operation.")},10)}function A(){I?(k(I.blob),S()):E(100,A)}function N(e){return a.create("Form",{layout:"flex",direction:"row",labelGap:5,border:"0 0 1 0",align:"center",pack:"center",padding:"0 10 0 10",spacing:5,flex:0,minHeight:60,defaults:{classes:"imagetool",type:"button"},items:e})}function D(e,n){return N([{text:"Back",onclick:S},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:A}]).hide().on("show",function(){b(),t.blobToImageResult(c.blob).then(function(e){return n(e)}).then(ae).then(function(e){var t=f(e);x(t),d(I),I=t})})}function R(e,n,r,o,i){return N([{text:"Back",onclick:S},{type:"spacer",flex:1},{type:"slider",flex:1,ondragend:function(e){!function(e){t.blobToImageResult(c.blob).then(function(t){return n(t,e)}).then(ae).then(function(e){var t=f(e);x(t),d(I),I=t})}(e.value)},minValue:o,maxValue:i,value:r,previewFilter:v},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:A}]).hide().on("show",function(){this.find("slider").value(r),b()})}var P,O,B,I,M,L,F,U,H,z,j,W,$,q,V,K,G,X,Y,J,Q,Z,ee,te,ne,re,oe,ie=new u,ae=function(e){return e.toBlob()};M=N([{text:"Back",onclick:S},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:T}]).hide().on("show hide",function(e){U.toggleCropRect("show"===e.type)}).on("show",b),L=N([{text:"Back",onclick:S},{type:"spacer",flex:1},{type:"textbox",name:"w",label:"Width",size:4,onkeyup:g},{type:"textbox",name:"h",label:"Height",size:4,onkeyup:g},{type:"checkbox",name:"constrain",text:"Constrain proportions",checked:!0,onchange:function(e){!0===e.control.value()&&(re=ne/te,oe=te/ne)}},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:"submit"}]).hide().on("submit",function(n){var r=parseInt(P.find("#w").value(),10),o=parseInt(P.find("#h").value(),10);n.preventDefault(),function(e){var n=[].slice.call(arguments,1);return function(){t.blobToImageResult(c.blob).then(function(t){e.apply(this,[t].concat(n)).then(ae).then(k)})}}(e.resize,r,o)(),S()}).on("show",b),F=N([{text:"Back",onclick:S},{type:"spacer",flex:1},{icon:"fliph",tooltip:"Flip horizontally",onclick:_(e.flip,"h")},{icon:"flipv",tooltip:"Flip vertically",onclick:_(e.flip,"v")},{icon:"rotateleft",tooltip:"Rotate counterclockwise",onclick:_(e.rotate,-90)},{icon:"rotateright",tooltip:"Rotate clockwise",onclick:_(e.rotate,90)},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:A}]).hide().on("show",b),j=D(0,e.invert),Y=D(0,e.sharpen),J=D(0,e.emboss),W=R(0,e.brightness,0,-1,1),$=R(0,e.hue,180,0,360),q=R(0,e.saturate,0,-1,1),V=R(0,e.contrast,0,-1,1),K=R(0,e.grayscale,0,0,1),G=R(0,e.sepia,0,0,1),X=function(e,n){function r(){var e,r,o;e=P.find("#r")[0].value(),r=P.find("#g")[0].value(),o=P.find("#b")[0].value(),t.blobToImageResult(c.blob).then(function(t){return n(t,e,r,o)}).then(ae).then(function(e){var t=f(e);x(t),d(I),I=t})}return N([{text:"Back",onclick:S},{type:"spacer",flex:1},{type:"slider",label:"R",name:"r",minValue:0,value:1,maxValue:2,ondragend:r,previewFilter:v},{type:"slider",label:"G",name:"g",minValue:0,value:1,maxValue:2,ondragend:r,previewFilter:v},{type:"slider",label:"B",name:"b",minValue:0,value:1,maxValue:2,ondragend:r,previewFilter:v},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:A}]).hide().on("show",function(){P.find("#r,#g,#b").value(1),b()})}(0,e.colorize),Q=R(0,e.gamma,0,-1,1),Z=R(0,e.exposure,1,0,2),B=N([{text:"Back",onclick:S},{type:"spacer",flex:1},{text:"hue",icon:"hue",onclick:w($)},{text:"saturate",icon:"saturate",onclick:w(q)},{text:"sepia",icon:"sepia",onclick:w(G)},{text:"emboss",icon:"emboss",onclick:w(J)},{text:"exposure",icon:"exposure",onclick:w(Z)},{type:"spacer",flex:1}]).hide(),O=N([{tooltip:"Crop",icon:"crop",onclick:w(M)},{tooltip:"Resize",icon:"resize2",onclick:w(L)},{tooltip:"Orientation",icon:"orientation",onclick:w(F)},{tooltip:"Brightness",icon:"sun",onclick:w(W)},{tooltip:"Sharpen",icon:"sharpen",onclick:w(Y)},{tooltip:"Contrast",icon:"contrast",onclick:w(V)},{tooltip:"Color levels",icon:"drop",onclick:w(X)},{tooltip:"Gamma",icon:"gamma",onclick:w(Q)},{tooltip:"Invert",icon:"invert",onclick:w(j)}]),U=l.create({flex:1,imageSrc:c.url}),H=a.create("Container",{layout:"flex",direction:"column",border:"0 1 0 0",padding:5,spacing:5,items:[{type:"button",icon:"undo",tooltip:"Undo",name:"undo",onclick:function(){x(c=ie.undo()),y()}},{type:"button",icon:"redo",tooltip:"Redo",name:"redo",onclick:function(){x(c=ie.redo()),y()}},{type:"button",icon:"zoomin",tooltip:"Zoom in",onclick:function(){var e=U.zoom();e<2&&(e+=.1),U.zoom(e)}},{type:"button",icon:"zoomout",tooltip:"Zoom out",onclick:function(){var e=U.zoom();e>.1&&(e-=.1),U.zoom(e)}}]}),z=a.create("Container",{type:"container",layout:"flex",direction:"row",align:"stretch",flex:1,items:[H,U]}),ee=[O,M,L,F,B,j,W,$,q,V,K,G,X,Y,J,Q,Z],(P=n.windowManager.open({layout:"flex",direction:"column",align:"stretch",minWidth:r.min(i.DOM.getViewPort().w,800),minHeight:r.min(i.DOM.getViewPort().h,650),title:"Edit image",items:ee.concat([z]),buttons:[{text:"Save",name:"save",subtype:"primary",onclick:function(){m(c.blob),P.close()}},{text:"Cancel",onclick:"close"}]})).on("close",function(){h(),p(ie.data),ie=null,I=null}),ie.add(c),y(),U.on("load",function(){te=U.imageSize().w,ne=U.imageSize().h,re=ne/te,oe=te/ne,P.find("#w").value(te),P.find("#h").value(ne)}),U.on("crop",T)}return{edit:function(e,t){return new c(function(n,r){return t.toBlob().then(function(t){m(e,f(t),n,r)})})}}}),i("tinymce.plugins.imagetools.core.Actions",["ephox.imagetools.api.BlobConversions","ephox.imagetools.api.ImageTransformations","ephox.imagetools.api.ResultConversions","ephox.katamari.api.Fun","ephox.sand.api.URL","global!clearTimeout","tinymce.core.util.Delay","tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.core.util.URI","tinymce.plugins.imagetools.api.Settings","tinymce.plugins.imagetools.core.ImageSize","tinymce.plugins.imagetools.core.Proxy","tinymce.plugins.imagetools.ui.Dialog"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p){var m=0,h=function(e,t){e.notificationManager.open({text:t,type:"error"})},g=function(e){return e.selection.getNode()},v=function(e,t){var n=t.src;return 0===n.indexOf("data:")||0===n.indexOf("blob:")||new u(n).host===e.documentBaseURI.host},y=function(e,t){return-1!==s.inArray(e.settings.imagetools_cors_hosts,new u(t.src).host)},b=function(t){var n;return(n=t.editorUpload.blobCache.getByUri(g(t).src))?c.resolve(n.blob()):function(t,n){var r,o=n.src;return y(t,n)?d.getUrl(n.src,null):v(t,n)?e.imageToBlob(n):(o=l.getProxyUrl(t),o+=(-1===o.indexOf("?")?"?":"&")+"url="+encodeURIComponent(n.src),r=function(e){return e.settings.api_key||e.settings.imagetools_api_key}(t),d.getUrl(o,r))}(t,g(t))},x=function(e,t){var n=a.setEditorTimeout(e,function(){e.editorUpload.uploadImagesAuto()},e.settings.images_upload_timeout||3e4);t.set(n)},w=function(e){i(e.get())},C=function(e,t,n,r){return t.toBlob().then(function(o){var i,a,c,s,u;return c=e.editorUpload.blobCache,u=g(e),i=u.src,e.settings.images_reuse_filename&&((s=c.getByUri(i))?(i=s.uri(),a=s.name()):a=function(e,t){var n=t.match(/\/([^\/\?]+)?\.(?:jpeg|jpg|png|gif)(?:\?|$)/i);return n?e.dom.encode(n[1]):null}(e,i)),s=c.create({id:"imagetools"+m++,blob:o,base64:t.toBase64(),uri:i,name:a}),c.add(s),e.undoManager.transact(function(){function t(){e.$(u).off("load",t),e.nodeChanged(),n?e.editorUpload.uploadImagesAuto():(w(r),x(e,r))}e.$(u).on("load",t),e.$(u).attr({src:s.blobUri()}).removeAttr("data-mce-src")}),s})},k=function(e,t,o){return function(){return e._scanForImages().then(r.curry(b,e)).then(n.blobToImageResult).then(o).then(function(n){return C(e,n,!1,t)},function(t){h(e,t)})}};return{rotate:function(e,n,r){return function(){return k(e,n,function(n){var o=f.getImageSize(g(e));return o&&f.setImageSize(g(e),{w:o.h,h:o.w}),t.rotate(n,r)})()}},flip:function(e,n,r){return function(){return k(e,n,function(e){return t.flip(e,r)})()}},editImageDialog:function(t,i){return function(){var a=g(t),s=f.getNaturalImageSize(a),u=function(t){return new c(function(n){e.blobToImage(t).then(function(e){var r=f.getNaturalImageSize(e);s.w===r.w&&s.h===r.h||f.getImageSize(a)&&f.setImageSize(a,r),o.revokeObjectURL(e.src),n(t)})})};b(t).then(n.blobToImageResult).then(r.curry(function(e,t){return p.edit(e,t).then(u).then(n.blobToImageResult).then(function(t){return C(e,t,!0,i)},function(){})},t),function(e){h(t,e)})}},isEditableImage:function(e,t){return e.dom.is(t,"img:not([data-mce-object],[data-mce-placeholder])")&&(v(e,t)||y(e,t)||e.settings.imagetools_proxy)},cancelTimedUpload:w}}),i("tinymce.plugins.imagetools.api.Commands",["tinymce.core.util.Tools","tinymce.plugins.imagetools.core.Actions"],function(e,t){return{register:function(n,r){e.each({mceImageRotateLeft:t.rotate(n,r,-90),mceImageRotateRight:t.rotate(n,r,90),mceImageFlipVertical:t.flip(n,r,"v"),mceImageFlipHorizontal:t.flip(n,r,"h"),mceEditImage:t.editImageDialog(n,r)},function(e,t){n.addCommand(t,e)})}}}),i("tinymce.plugins.imagetools.core.UploadSelectedImage",["tinymce.plugins.imagetools.core.Actions"],function(e){return{setup:function(t,n,r){t.on("NodeChange",function(o){var i=r.get();i&&i.src!==o.element.src&&(e.cancelTimedUpload(n),t.editorUpload.uploadImagesAuto(),r.set(null)),e.isEditableImage(t,o.element)&&r.set(o.element)})}}}),i("tinymce.plugins.imagetools.ui.Buttons",[],function(){return{register:function(e){e.addButton("rotateleft",{title:"Rotate counterclockwise",cmd:"mceImageRotateLeft"}),e.addButton("rotateright",{title:"Rotate clockwise",cmd:"mceImageRotateRight"}),e.addButton("flipv",{title:"Flip vertically",cmd:"mceImageFlipVertical"}),e.addButton("fliph",{title:"Flip horizontally",cmd:"mceImageFlipHorizontal"}),e.addButton("editimage",{title:"Edit image",cmd:"mceEditImage"}),e.addButton("imageoptions",{title:"Image options",icon:"options",cmd:"mceImage"})}}}),i("tinymce.plugins.imagetools.ui.ContextToolbar",["ephox.katamari.api.Fun","tinymce.plugins.imagetools.api.Settings","tinymce.plugins.imagetools.core.Actions"],function(e,t,n){return{register:function(r){r.addContextToolbar(e.curry(n.isEditableImage,r),t.getToolbarItems(r))}}}),i("tinymce.plugins.imagetools.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.imagetools.api.Commands","tinymce.plugins.imagetools.core.UploadSelectedImage","tinymce.plugins.imagetools.ui.Buttons","tinymce.plugins.imagetools.ui.ContextToolbar"],function(e,t,n,r,o,i){return t.add("imagetools",function(t){var a=e(0),c=e(null);n.register(t,a),o.register(t),i.register(t),r.setup(t,a,c)}),function(){}}),r("tinymce.plugins.imagetools.Plugin")()}()}).call(t,n(5).setImmediate)},function(e,t,n){n(111)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;o("ephox.katamari.api.Cell",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.plugins.fullpage.api.Settings",[],function(){return{shouldHideInSourceView:function(e){return e.getParam("fullpage_hide_in_source_view")},getDefaultXmlPi:function(e){return e.getParam("fullpage_default_xml_pi")},getDefaultEncoding:function(e){return e.getParam("fullpage_default_encoding")},getDefaultFontFamily:function(e){return e.getParam("fullpage_default_font_family")},getDefaultFontSize:function(e){return e.getParam("fullpage_default_font_size")},getDefaultTextColor:function(e){return e.getParam("fullpage_default_text_color")},getDefaultTitle:function(e){return e.getParam("fullpage_default_title")},getDefaultDocType:function(e){return e.getParam("fullpage_default_doctype","<!DOCTYPE html>")}}}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.insertdatetime.api.Settings",[],function(){var e=function(e){return e.getParam("insertdatetime_timeformat",e.translate("%H:%M:%S"))},t=function(e){return e.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])};return{getDateFormat:function(e){return e.getParam("insertdatetime_dateformat",e.translate("%Y-%m-%d"))},getTimeFormat:e,getFormats:t,getDefaultDateTime:function(n){var r=t(n);return r.length>0?r[0]:e(n)},shouldInsertTimeElement:function(e){return e.getParam("insertdatetime_element",!1)}}}),o("tinymce.plugins.insertdatetime.core.Actions",["tinymce.core.util.Tools","tinymce.plugins.insertdatetime.api.Settings"],function(e,t){var n="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),r="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),o="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),i="January February March April May June July August September October November December".split(" "),a=function(e,t){if((e=""+e).length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e},c=function(e,t,c){return c=c||new Date,t=t.replace("%D","%m/%d/%Y"),t=t.replace("%r","%I:%M:%S %p"),t=t.replace("%Y",""+c.getFullYear()),t=t.replace("%y",""+c.getYear()),t=t.replace("%m",a(c.getMonth()+1,2)),t=t.replace("%d",a(c.getDate(),2)),t=t.replace("%H",""+a(c.getHours(),2)),t=t.replace("%M",""+a(c.getMinutes(),2)),t=t.replace("%S",""+a(c.getSeconds(),2)),t=t.replace("%I",""+((c.getHours()+11)%12+1)),t=t.replace("%p",c.getHours()<12?"AM":"PM"),t=t.replace("%B",""+e.translate(i[c.getMonth()])),t=t.replace("%b",""+e.translate(o[c.getMonth()])),t=t.replace("%A",""+e.translate(r[c.getDay()])),t=t.replace("%a",""+e.translate(n[c.getDay()])),t=t.replace("%%","%")};return{insertDateTime:function(e,n){if(t.shouldInsertTimeElement(e)){var r,o=c(e,n);r=/%[HMSIp]/.test(n)?c(e,"%Y-%m-%dT%H:%M"):c(e,"%Y-%m-%d");var i=e.dom.getParent(e.selection.getStart(),"time");i?function(e,t,n,r){var o=e.dom.create("time",{datetime:n},r);t.parentNode.insertBefore(o,t),e.dom.remove(t),e.selection.select(o,!0),e.selection.collapse(!1)}(e,i,r,o):e.insertContent('<time datetime="'+r+'">'+o+"</time>")}else e.insertContent(c(e,n))},getDateTime:c}}),o("tinymce.plugins.insertdatetime.api.Commands",["tinymce.plugins.fullpage.api.Settings","tinymce.plugins.insertdatetime.core.Actions"],function(e,t){return{register:function(n){n.addCommand("mceInsertDate",function(){t.insertDateTime(n,e.getDateFormat())}),n.addCommand("mceInsertTime",function(){t.insertDateTime(n,e.getTimeFormat())})}}}),o("tinymce.plugins.insertdatetime.ui.Buttons",["tinymce.core.util.Tools","tinymce.plugins.insertdatetime.api.Settings","tinymce.plugins.insertdatetime.core.Actions"],function(e,t,n){return{register:function(r,o){var i=function(r,o){var i=t.getFormats(r);return e.map(i,function(e){return{text:n.getDateTime(r,e),onclick:function(){o.set(e),n.insertDateTime(r,e)}}})}(r,o);r.addButton("insertdatetime",{type:"splitbutton",title:"Insert date/time",menu:i,onclick:function(){var e=o.get();n.insertDateTime(r,e||t.getDefaultDateTime(r))}}),r.addMenuItem("insertdatetime",{icon:"date",text:"Date/time",menu:i,context:"insert"})}}}),o("tinymce.plugins.insertdatetime.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.insertdatetime.api.Commands","tinymce.plugins.insertdatetime.ui.Buttons"],function(e,t,n,r){return t.add("insertdatetime",function(t){var o=e(null);n.register(t),r.register(t,o)}),function(){}}),n("tinymce.plugins.insertdatetime.Plugin")()}()},function(e,t,n){n(113)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t,i=function(e,t){o(e,[],function(){return t})};i("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.VK")}),o("tinymce.plugins.link.api.Settings",[],function(){var e=function(e){return e.target_list},t=function(e){return e.rel_list},n=function(e){return e.link_class_list};return{assumeExternalTargets:function(e){return"boolean"==typeof e.link_assume_external_targets&&e.link_assume_external_targets},hasContextToolbar:function(e){return"boolean"==typeof e.link_context_toolbar&&e.link_context_toolbar},getLinkList:function(e){return e.link_list},hasDefaultLinkTarget:function(e){return"string"==typeof e.default_link_target},getDefaultLinkTarget:function(e){return e.default_link_target},getTargetList:e,setTargetList:function(e,t){e.settings.target_list=t},shouldShowTargetList:function(t){return!1!==e(t)},getRelList:t,hasRelList:function(e){return void 0!==t(e)},getLinkClassList:n,hasLinkClassList:function(e){return void 0!==n(e)},shouldShowLinkTitle:function(e){return!1!==e.link_title},allowUnsafeLinkTarget:function(e){return"boolean"==typeof e.allow_unsafe_link_target&&e.allow_unsafe_link_target}}}),i("global!document",document),i("global!window",window),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),o("tinymce.plugins.link.core.OpenUrl",["global!document","global!window","tinymce.core.dom.DOMUtils","tinymce.core.Env"],function(e,t,n,r){return{open:function(o){if(!r.ie||r.ie>10){var i=e.createElement("a");i.target="_blank",i.href=o,i.rel="noreferrer noopener";var a=e.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,t,0,0,0,0,0,!1,!1,!1,!1,0,null),function(t,n){e.body.appendChild(t),t.dispatchEvent(n),e.body.removeChild(t)}(i,a)}else{var c=t.open("","_blank");if(c){c.opener=null;var s=c.document;s.open(),s.write('<meta http-equiv="refresh" content="0; url='+n.DOM.encode(o)+'">'),s.close()}}}}}),i("global!RegExp",RegExp),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.link.core.Utils",["global!RegExp","tinymce.core.util.Tools","tinymce.plugins.link.api.Settings"],function(e,t,n){var r=function(e,n){var r=["noopener"],o=e?e.split(/\s+/):[],i=function(e){return e.filter(function(e){return-1===t.inArray(r,e)})};return(o=n?function(e){return(e=i(e)).length?e.concat(r):r}(o):i(o)).length?function(e){return t.trim(e.sort().join(" "))}(o):null},o=function(e,t){return t=t||e.selection.getNode(),a(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},i=function(e){return e&&"A"===e.nodeName&&e.href},a=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},c=function(e,t){var n,r;(r=e.dom.select("img",t)[0])&&(n=e.dom.getParents(r,"a[href]",t)[0])&&(n.parentNode.insertBefore(r,n),e.dom.remove(n))},s=function(e,t,n){var r,o;(o=e.dom.select("img",t)[0])&&(r=e.dom.create("a",n),o.parentNode.insertBefore(r,o),r.appendChild(o))};return{link:function(e,t){return function(i){e.undoManager.transact(function(){var c=e.selection.getNode(),u=o(e,c),l={href:i.href,target:i.target?i.target:null,rel:i.rel?i.rel:null,class:i.class?i.class:null,title:i.title?i.title:null};n.hasRelList(e.settings)||!1!==n.allowUnsafeLinkTarget(e.settings)||(l.rel=r(l.rel,"_blank"===l.target)),i.href===t.href&&(t.attach(),t={}),u?(e.focus(),i.hasOwnProperty("text")&&("innerText"in u?u.innerText=i.text:u.textContent=i.text),e.dom.setAttribs(u,l),e.selection.select(u),e.undoManager.add()):a(c)?s(e,c,l):i.hasOwnProperty("text")?e.insertContent(e.dom.createHTML("a",l,e.dom.encode(i.text))):e.execCommand("mceInsertLink",!1,l)})}},unlink:function(e){return function(){e.undoManager.transact(function(){var t=e.selection.getNode();a(t)?c(e,t):e.execCommand("unlink")})}},isLink:i,hasLinks:function(e){return t.grep(e,i).length>0},isOnlyTextSelected:function(e){return!(/</.test(e)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(e)||-1===e.indexOf("href=")))},getAnchorElement:o,getAnchorText:function(e,t){return function(e){return e.replace(/\uFEFF/g,"")}(t?t.innerText||t.textContent:e.getContent({format:"text"}))},toggleTargetRules:r}}),o("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Delay")}),o("tinymce.core.util.XHR",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.XHR")}),o("tinymce.plugins.link.ui.Dialog",["tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.XHR","tinymce.plugins.link.api.Settings","tinymce.plugins.link.core.Utils"],function(e,t,n,r,o){var i={},a=function(e,n,r){var o=function(e,r){return r=r||[],t.each(e,function(e){var t={text:e.text||e.title};e.menu?t.menu=o(e.menu):(t.value=e.value,n&&n(t)),r.push(t)}),r};return o(e,r||[])},c=function(t,n,r){var o=t.selection.getRng();e.setEditorTimeout(t,function(){t.windowManager.confirm(n,function(e){t.selection.setRng(o),r(e)})})},s=function(e,n){var s,u,l,f,d,p,m,h,g,v,y,b={},x=e.selection,w=e.dom,C=function(e){var t=l.find("#text");(!t.value()||e.lastControl&&t.value()===e.lastControl.text())&&t.value(e.control.text()),l.find("#href").value(e.control.value())},k=function(){u||!f||b.text||this.parent().parent().find("#text")[0].value(this.value())};f=o.isOnlyTextSelected(x.getContent()),s=o.getAnchorElement(e),b.text=u=o.getAnchorText(e.selection,s),b.href=s?w.getAttrib(s,"href"):"",s?b.target=w.getAttrib(s,"target"):r.hasDefaultLinkTarget(e.settings)&&(b.target=r.getDefaultLinkTarget(e.settings)),(y=w.getAttrib(s,"rel"))&&(b.rel=y),(y=w.getAttrib(s,"class"))&&(b.class=y),(y=w.getAttrib(s,"title"))&&(b.title=y),f&&(d={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){b.text=this.value()}}),n&&(p={type:"listbox",label:"Link list",values:a(n,function(t){t.value=e.convertURL(t.value||t.url,"href")},[{text:"None",value:""}]),onselect:C,value:e.convertURL(b.href,"href"),onPostRender:function(){p=this}}),r.shouldShowTargetList(e.settings)&&(void 0===r.getTargetList(e.settings)&&r.setTargetList(e,[{text:"None",value:""},{text:"New window",value:"_blank"}]),h={name:"target",type:"listbox",label:"Target",values:a(r.getTargetList(e.settings))}),r.hasRelList(e.settings)&&(m={name:"rel",type:"listbox",label:"Rel",values:a(r.getRelList(e.settings),function(t){!1===r.allowUnsafeLinkTarget(e.settings)&&(t.value=o.toggleTargetRules(t.value,"_blank"===b.target))})}),r.hasLinkClassList(e.settings)&&(g={name:"class",type:"listbox",label:"Class",values:a(r.getLinkClassList(e.settings),function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({inline:"a",classes:[t.value]})})})}),r.shouldShowLinkTitle(e.settings)&&(v={name:"title",type:"textbox",label:"Title",value:b.title}),l=e.windowManager.open({title:"Insert link",data:b,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function(n){var r=n.meta||{};p&&p.value(e.convertURL(this.value(),"href")),t.each(n.meta,function(e,t){var n=l.find("#"+t);"text"===t?0===u.length&&(n.value(e),b.text=e):n.value(e)}),r.attach&&(i={href:this.value(),attach:r.attach}),r.text||k.call(this)},onkeyup:k,onbeforecall:function(e){e.meta=l.toJSON()}},d,v,function(n){var r=[];if(t.each(e.dom.select("a:not([href])"),function(e){var t=e.name||e.id;t&&r.push({text:t,value:"#"+t,selected:-1!==n.indexOf("#"+t)})}),r.length)return r.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:r,onselect:C}}(b.href),p,m,h,g],onSubmit:function(n){var a=r.assumeExternalTargets(e.settings),s=o.link(e,i),l=o.unlink(e),d=t.extend({},b,n.data),p=d.href;p?(f&&d.text!==u||delete d.text,p.indexOf("@")>0&&-1===p.indexOf("//")&&-1===p.indexOf("mailto:")?c(e,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(e){e&&(d.href="mailto:"+p),s(d)}):!0===a&&!/^\w+:/i.test(p)||!1===a&&/^\s*www[\.|\d\.]/i.test(p)?c(e,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(e){e&&(d.href="http://"+p),s(d)}):s(d)):l()}})};return{open:function(e){!function(e,t){var o=r.getLinkList(e.settings);"string"==typeof o?n.send({url:o,success:function(n){t(e,JSON.parse(n))}}):"function"==typeof o?o(function(n){t(e,n)}):t(e,o)}(e,s)}}}),o("tinymce.plugins.link.core.Actions",["tinymce.core.util.VK","tinymce.plugins.link.api.Settings","tinymce.plugins.link.core.OpenUrl","tinymce.plugins.link.core.Utils","tinymce.plugins.link.ui.Dialog"],function(e,t,n,r,o){var i=function(e,t){return e.dom.getParent(t,"a[href]")},a=function(e){return i(e,e.selection.getStart())},c=function(e,t){if(t){var r=function(e){var t=e.getAttribute("data-mce-href");return t||e.getAttribute("href")}(t);if(/^#/.test(r)){var o=e.$(r);o.length&&e.selection.scrollIntoView(o[0],!0)}else n.open(t.href)}};return{openDialog:function(e){return function(){o.open(e)}},gotoSelectedLink:function(e){return function(){c(e,a(e))}},leftClickedOnAHref:function(e){return function(n){var o,i,a;return!!(t.hasContextToolbar(e.settings)&&!function(e){var t=e.plugins.contextmenu;return!!t&&t.isContextMenuVisible()}(e)&&r.isLink(n)&&(o=e.selection,i=o.getRng(),3===(a=i.startContainer).nodeType&&o.isCollapsed()&&i.startOffset>0&&i.startOffset<a.data.length))}},setupGotoLinks:function(t){t.on("click",function(n){var r=i(t,n.target);r&&e.metaKeyPressed(n)&&(n.preventDefault(),c(t,r))}),t.on("keydown",function(e){var n=a(t);n&&13===e.keyCode&&function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey}(e)&&(e.preventDefault(),c(t,n))})},toggleActiveState:function(e){return function(){var t=this;e.on("nodechange",function(n){t.active(!e.readonly&&!!r.getAnchorElement(e,n.element))})}},toggleViewLinkState:function(e){return function(){var t=this,n=function(e){r.hasLinks(e.parents)?t.show():t.hide()};r.hasLinks(e.dom.getParents(e.selection.getStart()))||t.hide(),e.on("nodechange",n),t.on("remove",function(){e.off("nodechange",n)})}}}}),o("tinymce.plugins.link.api.Commands",["tinymce.plugins.link.core.Actions"],function(e){return{register:function(t){t.addCommand("mceLink",e.openDialog(t))}}}),o("tinymce.plugins.link.core.Keyboard",["tinymce.plugins.link.core.Actions"],function(e){return{setup:function(t){t.addShortcut("Meta+K","",e.openDialog(t))}}}),o("tinymce.plugins.link.ui.Controls",["tinymce.plugins.link.core.Actions","tinymce.plugins.link.core.Utils"],function(e,t){return{setupButtons:function(n){n.addButton("link",{active:!1,icon:"link",tooltip:"Insert/edit link",onclick:e.openDialog(n),onpostrender:e.toggleActiveState(n)}),n.addButton("unlink",{active:!1,icon:"unlink",tooltip:"Remove link",onclick:t.unlink(n),onpostrender:e.toggleActiveState(n)}),n.addContextToolbar&&n.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:e.gotoSelectedLink(n)})},setupMenuItems:function(t){t.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:e.gotoSelectedLink(t),onPostRender:e.toggleViewLinkState(t),prependToContext:!0}),t.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:e.openDialog(t),stateSelector:"a[href]",context:"insert",prependToContext:!0})},setupContextToolbars:function(t){t.addContextToolbar&&t.addContextToolbar(e.leftClickedOnAHref(t),"openlink | link unlink")}}}),o("tinymce.plugins.link.Plugin",["tinymce.core.PluginManager","tinymce.plugins.link.api.Commands","tinymce.plugins.link.core.Actions","tinymce.plugins.link.core.Keyboard","tinymce.plugins.link.ui.Controls"],function(e,t,n,r,o){return e.add("link",function(e){o.setupButtons(e),o.setupMenuItems(e),o.setupContextToolbars(e),n.setupGotoLinks(e),t.register(e),r.setup(e)}),function(){}}),n("tinymce.plugins.link.Plugin")()}()},function(e,t,n){n(115)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.media.api.Settings",[],function(){return{getScripts:function(e){return e.getParam("media_scripts")},getAudioTemplateCallback:function(e){return e.getParam("audio_template_callback")},getVideoTemplateCallback:function(e){return e.getParam("video_template_callback")},hasLiveEmbeds:function(e){return e.getParam("media_live_embeds",!0)},shouldFilterHtml:function(e){return e.getParam("media_filter_html",!0)},getUrlResolver:function(e){return e.getParam("media_url_resolver")},hasAltSource:function(e){return e.getParam("media_alt_source",!0)},hasPoster:function(e){return e.getParam("media_poster",!0)},hasDimensions:function(e){return e.getParam("media_dimensions",!0)}}}),o("tinymce.core.html.SaxParser",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.html.SaxParser")}),o("tinymce.core.html.Schema",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.html.Schema")}),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.plugins.media.core.VideoScript",[],function(){return{getVideoScriptMatch:function(e,t){if(e)for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n].filter))return e[n]}}}),o("tinymce.plugins.media.core.Size",[],function(){var e=function(e){return function(t){return t?function(e){return e.replace(/px$/,"")}(t.style[e]):""}},t=function(e){return function(t,n){t&&(t.style[e]=function(e){return/^[0-9.]+$/.test(e)?e+"px":e}(n))}};return{getMaxWidth:e("maxWidth"),getMaxHeight:e("maxHeight"),setMaxWidth:t("maxWidth"),setMaxHeight:t("maxHeight")}}),o("tinymce.plugins.media.core.HtmlToData",["tinymce.core.util.Tools","tinymce.core.html.SaxParser","tinymce.core.html.Schema","tinymce.core.dom.DOMUtils","tinymce.plugins.media.core.VideoScript","tinymce.plugins.media.core.Size"],function(e,t,n,r,o,i){var a=r.DOM,c=function(e){return a.getAttrib(e,"data-ephox-embed-iri")};return{htmlToData:function(n,r){return function(e){var t=a.createFragment(e);return""!==c(t.firstChild)}(r)?function(e){var t=a.createFragment(e).firstChild;return{type:"ephox-embed-iri",source1:c(t),source2:"",poster:"",width:i.getMaxWidth(t),height:i.getMaxHeight(t)}}(r):function(n,r){var i={};return new t({validate:!1,allow_conditional_comments:!0,special:"script,noscript",start:function(t,r){if(i.source1||"param"!==t||(i.source1=r.map.movie),"iframe"!==t&&"object"!==t&&"embed"!==t&&"video"!==t&&"audio"!==t||(i.type||(i.type=t),i=e.extend(r.map,i)),"script"===t){var a=o.getVideoScriptMatch(n,r.map.src);if(!a)return;i={type:"script",source1:r.map.src,width:a.width,height:a.height}}"source"===t&&(i.source1?i.source2||(i.source2=r.map.src):i.source1=r.map.src),"img"!==t||i.poster||(i.poster=r.map.src)}}).parse(r),i.source1=i.source1||i.src||i.data,i.source2=i.source2||"",i.poster=i.poster||"",i}(n,r)}}}),o("tinymce.core.util.Promise",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Promise")}),o("tinymce.plugins.media.core.Mime",[],function(){return{guess:function(e){var t={mp3:"audio/mpeg",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}[e.toLowerCase().split(".").pop()];return t||""}}}),o("tinymce.core.html.Writer",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.html.Writer")}),o("tinymce.plugins.media.core.UpdateHtml",["tinymce.core.html.Writer","tinymce.core.html.SaxParser","tinymce.core.html.Schema","tinymce.core.dom.DOMUtils","tinymce.plugins.media.core.Size"],function(e,t,n,r,o){var i=r.DOM,a=function(e,t){var n,r,o,i;for(n in t)if(o=""+t[n],e.map[n])for(r=e.length;r--;)(i=e[r]).name===n&&(o?(e.map[n]=o,i.value=o):(delete e.map[n],e.splice(r,1)));else o&&(e.push({name:n,value:o}),e.map[n]=o)},c=function(n,r){var a=i.createFragment(n).firstChild;return o.setMaxWidth(a,r.width),o.setMaxHeight(a,r.height),function(n){var r=new e;return new t(r).parse(n),r.getContent()}(a.outerHTML)};return{updateHtml:function(r,o,s){return function(e){var t=i.createFragment(e);return""!==i.getAttrib(t.firstChild,"data-ephox-embed-iri")}(r)?c(r,o):function(r,o,i){var c,s=new e,u=0;return new t({validate:!1,allow_conditional_comments:!0,special:"script,noscript",comment:function(e){s.comment(e)},cdata:function(e){s.cdata(e)},text:function(e,t){s.text(e,t)},start:function(e,t,n){switch(e){case"video":case"object":case"embed":case"img":case"iframe":void 0!==o.height&&void 0!==o.width&&a(t,{width:o.width,height:o.height})}if(i)switch(e){case"video":a(t,{poster:o.poster,src:""}),o.source2&&a(t,{src:""});break;case"iframe":a(t,{src:o.source1});break;case"source":if(++u<=2&&(a(t,{src:o["source"+u],type:o["source"+u+"mime"]}),!o["source"+u]))return;break;case"img":if(!o.poster)return;c=!0}s.start(e,t,n)},end:function(e){if("video"===e&&i)for(var t=1;t<=2;t++)if(o["source"+t]){var n=[];n.map={},u<t&&(a(n,{src:o["source"+t],type:o["source"+t+"mime"]}),s.start("source",n,!0))}if(o.poster&&"object"===e&&i&&!c){var r=[];r.map={},a(r,{src:o.poster,width:o.width,height:o.height}),s.start("img",r,!0)}s.end(e)}},new n({})).parse(r),s.getContent()}(r,o,s)}}}),o("tinymce.plugins.media.core.UrlPatterns",[],function(){return{urlPatterns:[{regex:/youtu\.be\/([\w\-.]+)/,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)/,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$2",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\-_]+(?:\?.+)?)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowfullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$2?title=0&amp;byline=0",allowfullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'//maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0}]}}),o("tinymce.plugins.media.core.DataToHtml",["tinymce.core.util.Tools","tinymce.plugins.media.api.Settings","tinymce.plugins.media.core.HtmlToData","tinymce.plugins.media.core.Mime","tinymce.plugins.media.core.UpdateHtml","tinymce.plugins.media.core.UrlPatterns","tinymce.plugins.media.core.VideoScript"],function(e,t,n,r,o,i,a){return{dataToHtml:function(c,s){var u=e.extend({},s);if(!u.source1&&(e.extend(u,n.htmlToData(t.getScripts(c),u.embed)),!u.source1))return"";if(u.source2||(u.source2=""),u.poster||(u.poster=""),u.source1=c.convertURL(u.source1,"source"),u.source2=c.convertURL(u.source2,"source"),u.source1mime=r.guess(u.source1),u.source2mime=r.guess(u.source2),u.poster=c.convertURL(u.poster,"poster"),e.each(i.urlPatterns,function(e){var t,n,r=e.regex.exec(u.source1);if(r){for(n=e.url,t=0;r[t];t++)n=n.replace("$"+t,function(){return r[t]});u.source1=n,u.type=e.type,u.allowFullscreen=e.allowFullscreen,u.width=u.width||e.w,u.height=u.height||e.h}}),u.embed)return o.updateHtml(u.embed,u,!0);var l=a.getVideoScriptMatch(t.getScripts(c),u.source1);l&&(u.type="script",u.width=l.width,u.height=l.height);var f=t.getAudioTemplateCallback(c),d=t.getVideoTemplateCallback(c);return u.width=u.width||300,u.height=u.height||150,e.each(u,function(e,t){u[t]=c.dom.encode(e)}),"iframe"===u.type?function(e){var t=e.allowFullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source1+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"}(u):"application/x-shockwave-flash"===u.source1mime?function(e){var t='<object data="'+e.source1+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>"}(u):-1!==u.source1mime.indexOf("audio")?function(e,t){return t?t(e):'<audio controls="controls" src="'+e.source1+'">'+(e.source2?'\n<source src="'+e.source2+'"'+(e.source2mime?' type="'+e.source2mime+'"':"")+" />\n":"")+"</audio>"}(u,f):"script"===u.type?function(e){return'<script src="'+e.source1+'"><\/script>'}(u):function(e,t){return t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source1+'"'+(e.source1mime?' type="'+e.source1mime+'"':"")+" />\n"+(e.source2?'<source src="'+e.source2+'"'+(e.source2mime?' type="'+e.source2mime+'"':"")+" />\n":"")+"</video>"}(u,d)}}}),o("tinymce.plugins.media.core.Service",["tinymce.core.util.Promise","tinymce.plugins.media.api.Settings","tinymce.plugins.media.core.DataToHtml"],function(e,t,n){var r={},o=function(e){return function(t){return n.dataToHtml(e,t)}};return{getEmbedHtml:function(n,i){var a=t.getUrlResolver(n);return a?function(t,n,o){return new e(function(e,i){var a=function(o){return o.html&&(r[t.source1]=o),e({url:t.source1,html:o.html?o.html:n(t)})};r[t.source1]?a(r[t.source1]):o({url:t.source1},a,i)})}(i,o(n),a):function(t,n){return new e(function(e){e({html:n(t),url:t.source1})})}(i,o(n))},isCached:function(e){return r.hasOwnProperty(e)}}}),o("tinymce.plugins.media.ui.SizeManager",[],function(){var e=function(e,t){e.state.set("oldVal",e.value()),t.state.set("oldVal",t.value())},t=function(e,t){var n=e.find("#width")[0],r=e.find("#height")[0],o=e.find("#constrain")[0];n&&r&&o&&t(n,r,o.checked())},n=function(t,n,r){var o=t.state.get("oldVal"),i=n.state.get("oldVal"),a=t.value(),c=n.value();r&&o&&i&&a&&c&&(a!==o?(c=Math.round(a/o*c),isNaN(c)||n.value(c)):(a=Math.round(c/i*a),isNaN(a)||t.value(a))),e(t,n)},r=function(e){t(e,n)};return{createUi:function(e){var t=function(){e(function(e){r(e)})};return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:t,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:t,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}},syncSize:function(n){t(n,e)},updateSize:r}}),o("tinymce.plugins.media.ui.Dialog",["tinymce.core.Env","tinymce.core.util.Tools","tinymce.plugins.media.api.Settings","tinymce.plugins.media.core.HtmlToData","tinymce.plugins.media.core.Service","tinymce.plugins.media.core.Size","tinymce.plugins.media.core.UpdateHtml","tinymce.plugins.media.ui.SizeManager"],function(e,t,n,r,o,i,a,c){var s=e.ie&&e.ie<=8?"onChange":"onInput",u=function(e){return function(t){var n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})}},l=function(e,o){return function(i){var a=i.html,s=e.find("#embed")[0],u=t.extend(r.htmlToData(n.getScripts(o),a),{source1:i.url});e.fromJSON(u),s&&(s.value(a),c.updateSize(e))}},f=function(e,t){var n=e.dom.select("img[data-mce-object]");e.insertContent(t),function(e,t){var n,r,o=e.dom.select("img[data-mce-object]");for(n=0;n<t.length;n++)for(r=o.length-1;r>=0;r--)t[n]===o[r]&&o.splice(r,1);e.selection.select(o[0])}(e,n),e.nodeChanged()};return{showDialog:function(e){var d,p,m=[{name:"source1",type:"filepicker",filetype:"media",size:40,autofocus:!0,label:"Source",onpaste:function(){setTimeout(function(){o.getEmbedHtml(e,d.toJSON()).then(l(d,e)).catch(u(e))},1)},onchange:function(n){o.getEmbedHtml(e,d.toJSON()).then(l(d,e)).catch(u(e)),function(e,n){t.each(n,function(t,n){e.find("#"+n).value(t)})}(d,n.meta)},onbeforecall:function(e){e.meta=d.toJSON()}}],h=[],g=function(e){e(d),p=d.toJSON(),d.find("#embed").value(a.updateHtml(p.embed,p))};if(n.hasAltSource(e)&&h.push({name:"source2",type:"filepicker",filetype:"media",size:40,label:"Alternative source"}),n.hasPoster(e)&&h.push({name:"poster",type:"filepicker",filetype:"image",size:40,label:"Poster"}),n.hasDimensions(e)){var v=c.createUi(g);m.push(v)}p=function(e){var t=e.selection.getNode(),o=t.getAttribute("data-ephox-embed-iri");return o?{source1:o,"data-ephox-embed-iri":o,width:i.getMaxWidth(t),height:i.getMaxHeight(t)}:t.getAttribute("data-mce-object")?r.htmlToData(n.getScripts(e),e.serializer.serialize(t,{selection:!0})):{}}(e);var y={id:"mcemediasource",type:"textbox",flex:1,name:"embed",value:function(e){var t=e.selection.getNode();if(t.getAttribute("data-mce-object")||t.getAttribute("data-ephox-embed-iri"))return e.selection.getContent()}(e),multiline:!0,rows:5,label:"Source"};y[s]=function(){p=t.extend({},r.htmlToData(n.getScripts(e),this.value())),this.parent().parent().fromJSON(p)},d=e.windowManager.open({title:"Insert/edit media",data:p,bodyType:"tabpanel",body:[{title:"General",type:"form",items:m},{title:"Embed",type:"container",layout:"flex",direction:"column",align:"stretch",padding:10,spacing:10,items:[{type:"label",text:"Paste your embed code below:",forId:"mcemediasource"},y]},{title:"Advanced",type:"form",items:h}],onSubmit:function(){c.updateSize(d),function(e,t){var n=e.toJSON();n.embed=a.updateHtml(n.embed,n),n.embed&&o.isCached(n.source1)?f(t,n.embed):o.getEmbedHtml(t,n).then(function(e){f(t,e.html)}).catch(u(t))}(d,e)}}),c.syncSize(d)}}}),o("tinymce.plugins.media.api.Api",["tinymce.plugins.media.ui.Dialog"],function(e){return{get:function(t){return{showDialog:function(){e.showDialog(t)}}}}}),o("tinymce.plugins.media.api.Commands",["tinymce.plugins.media.ui.Dialog"],function(e){return{register:function(t){t.addCommand("mceMedia",function(){e.showDialog(t)})}}}),o("tinymce.core.html.Node",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.html.Node")}),o("tinymce.plugins.media.core.Sanitize",["tinymce.core.html.SaxParser","tinymce.core.html.Schema","tinymce.core.html.Writer","tinymce.core.util.Tools","tinymce.plugins.media.api.Settings"],function(e,t,n,r,o){return{sanitize:function(r,i){if(!1===o.shouldFilterHtml(r))return i;var a,c=new n;return new e({validate:!1,allow_conditional_comments:!1,special:"script,noscript",comment:function(e){c.comment(e)},cdata:function(e){c.cdata(e)},text:function(e,t){c.text(e,t)},start:function(e,t,n){if(a=!0,"script"!==e&&"noscript"!==e){for(var o=0;o<t.length;o++){if(0===t[o].name.indexOf("on"))return;"style"===t[o].name&&(t[o].value=r.dom.serializeStyle(r.dom.parseStyle(t[o].value),e))}c.start(e,t,n),a=!1}},end:function(e){a||c.end(e)}},new t({})).parse(i),c.getContent()}}}),o("tinymce.plugins.media.core.Nodes",["tinymce.core.Env","tinymce.core.html.Node","tinymce.plugins.media.api.Settings","tinymce.plugins.media.core.Sanitize","tinymce.plugins.media.core.VideoScript"],function(e,t,n,r,o){var i=function(n,r){var o,i=r.name;return o=new t("img",1),o.shortEnded=!0,c(n,r,o),o.attr({width:r.attr("width")||"300",height:r.attr("height")||("audio"===i?"30":"150"),style:r.attr("style"),src:e.transparentSrc,"data-mce-object":i,class:"mce-object mce-object-"+i}),o},a=function(e,n){var r,o,i,a=n.name;return(r=new t("span",1)).attr({contentEditable:"false",style:n.attr("style"),"data-mce-object":a,class:"mce-preview-object mce-object-"+a}),c(e,n,r),(o=new t(a,1)).attr({src:n.attr("src"),allowfullscreen:n.attr("allowfullscreen"),width:n.attr("width")||"300",height:n.attr("height")||("audio"===a?"30":"150"),frameborder:"0"}),(i=new t("span",1)).attr("class","mce-shim"),r.append(o),r.append(i),r},c=function(e,t,n){var o,i,a,c,s;for(c=(a=t.attributes).length;c--;)o=a[c].name,i=a[c].value,"width"!==o&&"height"!==o&&"style"!==o&&("data"!==o&&"src"!==o||(i=e.convertURL(i,o)),n.attr("data-mce-p-"+o,i));(s=t.firstChild&&t.firstChild.value)&&(n.attr("data-mce-html",escape(r.sanitize(e,s))),n.firstChild=null)},s=function(e){for(;e=e.parent;)if(e.attr("data-ephox-embed-iri"))return!0;return!1};return{createPreviewIframeNode:a,createPlaceholderNode:i,placeHolderConverter:function(t){return function(r){for(var c,u,l=r.length;l--;)(c=r[l]).parent&&(c.parent.attr("data-mce-object")||("script"!==c.name||(u=o.getVideoScriptMatch(n.getScripts(t),c.attr("src"))))&&(u&&(u.width&&c.attr("width",u.width.toString()),u.height&&c.attr("height",u.height.toString())),"iframe"===c.name&&n.hasLiveEmbeds(t)&&e.ceFalse?s(c)||c.replace(a(t,c)):s(c)||c.replace(i(t,c))))}}}}),o("tinymce.plugins.media.core.FilterContent",["tinymce.core.html.Node","tinymce.core.util.Tools","tinymce.plugins.media.core.Nodes","tinymce.plugins.media.core.Sanitize"],function(e,t,n,r){return{setup:function(o){o.on("preInit",function(){var i=o.schema.getSpecialElements();t.each("video audio iframe object".split(" "),function(e){i[e]=new RegExp("</"+e+"[^>]*>","gi")});var a=o.schema.getBoolAttrs();t.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(e){a[e]={}}),o.parser.addNodeFilter("iframe,video,audio,object,embed,script",n.placeHolderConverter(o)),o.serializer.addAttributeFilter("data-mce-object",function(t,n){for(var i,a,c,s,u,l,f,d,p=t.length;p--;)if((i=t[p]).parent){for(f=i.attr(n),a=new e(f,1),"audio"!==f&&"script"!==f&&((d=i.attr("class"))&&-1!==d.indexOf("mce-preview-object")?a.attr({width:i.firstChild.attr("width"),height:i.firstChild.attr("height")}):a.attr({width:i.attr("width"),height:i.attr("height")})),a.attr({style:i.attr("style")}),c=(s=i.attributes).length;c--;){var m=s[c].name;0===m.indexOf("data-mce-p-")&&a.attr(m.substr(11),s[c].value)}"script"===f&&a.attr("type","text/javascript"),(u=i.attr("data-mce-html"))&&((l=new e("#text",3)).raw=!0,l.value=r.sanitize(o,unescape(u)),a.append(l)),i.replace(a)}})}),o.on("setContent",function(){o.$("span.mce-preview-object").each(function(e,t){var n=o.$(t);0===n.find("span.mce-shim",t).length&&n.append('<span class="mce-shim"></span>')})})}}}),o("tinymce.plugins.media.core.ResolveName",[],function(){return{setup:function(e){e.on("ResolveName",function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)})}}}),o("tinymce.plugins.media.core.Selection",["tinymce.plugins.media.core.UpdateHtml"],function(e){return{setup:function(t){t.on("click keyup",function(){var e=t.selection.getNode();e&&t.dom.hasClass(e,"mce-preview-object")&&t.dom.getAttrib(e,"data-mce-selected")&&e.setAttribute("data-mce-selected","2")}),t.on("ObjectSelected",function(e){var t=e.target.getAttribute("data-mce-object");"audio"!==t&&"script"!==t||e.preventDefault()}),t.on("objectResized",function(t){var n,r=t.target;r.getAttribute("data-mce-object")&&(n=r.getAttribute("data-mce-html"))&&(n=unescape(n),r.setAttribute("data-mce-html",escape(e.updateHtml(n,{width:t.width,height:t.height}))))})}}}),o("tinymce.plugins.media.ui.Buttons",[],function(){return{register:function(e){e.addButton("media",{tooltip:"Insert/edit media",cmd:"mceMedia",stateSelector:["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"]}),e.addMenuItem("media",{icon:"media",text:"Media",cmd:"mceMedia",context:"insert",prependToContext:!0})}}}),o("tinymce.plugins.media.Plugin",["tinymce.core.PluginManager","tinymce.plugins.media.api.Api","tinymce.plugins.media.api.Commands","tinymce.plugins.media.core.FilterContent","tinymce.plugins.media.core.ResolveName","tinymce.plugins.media.core.Selection","tinymce.plugins.media.ui.Buttons"],function(e,t,n,r,o,i,a){return e.add("media",function(e){return n.register(e),a.register(e),o.setup(e),r.setup(e),i.setup(e),t.get(e)}),function(){}}),n("tinymce.plugins.media.Plugin")()}()},function(e,t,n){n(117)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.noneditable.api.Settings",[],function(){return{getNonEditableClass:function(e){return e.getParam("noneditable_noneditable_class","mceNonEditable")},getEditableClass:function(e){return e.getParam("noneditable_editable_class","mceEditable")},getNonEditableRegExps:function(e){var t=e.getParam("noneditable_regexp",[]);return t&&t.constructor===RegExp?[t]:t}}}),o("tinymce.plugins.noneditable.core.FilterContent",["tinymce.core.util.Tools","tinymce.plugins.noneditable.api.Settings"],function(e,t){var n=function(e){return function(t){return-1!==(" "+t.attr("class")+" ").indexOf(e)}},r=function(e,t,n){return function(r){var o=arguments,i=o[o.length-2],a=i>0?t.charAt(i-1):"";if('"'===a)return r;if(">"===a){var c=t.lastIndexOf("<",i);if(-1!==c){if(-1!==t.substring(c,i).indexOf('contenteditable="false"'))return r}}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(o[0])+'">'+e.dom.encode("string"==typeof o[1]?o[1]:o[0])+"</span>"}};return{setup:function(o){var i,a,c="contenteditable";i=" "+e.trim(t.getEditableClass(o))+" ",a=" "+e.trim(t.getNonEditableClass(o))+" ";var s=n(i),u=n(a),l=t.getNonEditableRegExps(o);o.on("PreInit",function(){l.length>0&&o.on("BeforeSetContent",function(e){!function(e,n,o){var i=n.length,a=o.content;if("raw"!==o.format){for(;i--;)a=a.replace(n[i],r(e,a,t.getNonEditableClass(e)));o.content=a}}(o,l,e)}),o.parser.addAttributeFilter("class",function(e){for(var t,n=e.length;n--;)t=e[n],s(t)?t.attr(c,"true"):u(t)&&t.attr(c,"false")}),o.serializer.addAttributeFilter(c,function(e){for(var t,n=e.length;n--;)t=e[n],(s(t)||u(t))&&(l.length>0&&t.attr("data-mce-content")?(t.name="#text",t.type=3,t.raw=!0,t.value=t.attr("data-mce-content")):t.attr(c,null))})})}}}),o("tinymce.plugins.noneditable.Plugin",["tinymce.core.PluginManager","tinymce.plugins.noneditable.core.FilterContent"],function(e,t){return e.add("noneditable",function(e){t.setup(e)}),function(){}}),n("tinymce.plugins.noneditable.Plugin")()}()},function(e,t,n){n(119)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t,i=function(e,t){o(e,[],function(){return t})};o("ephox.katamari.api.Cell",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),i("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),i("global!window",window),o("tinymce.plugins.paste.alien.DetectProPlugin",["global!window","tinymce.core.PluginManager"],function(e,t){return{hasProPlugin:function(n){return!(!/(^|[ ,])powerpaste([, ]|$)/.test(n.settings.plugins)||!t.get("powerpaste")||(void 0!==e.console&&e.console.log&&e.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),0))}}}),o("tinymce.plugins.paste.api.Api",[],function(e){return{get:function(e,t){return{clipboard:e,quirks:t}}}}),o("tinymce.plugins.paste.api.Events",[],function(){return{firePastePreProcess:function(e,t,n,r){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:r})},firePastePostProcess:function(e,t,n,r){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:r})},firePastePlainTextToggle:function(e,t){return e.fire("PastePlainTextToggle",{state:t})},firePaste:function(e,t){return e.fire("paste",{ieFake:t})}}}),o("tinymce.plugins.paste.api.Settings",[],function(){return{shouldPlainTextInform:function(e){return e.getParam("paste_plaintext_inform",!0)},shouldBlockDrop:function(e){return e.getParam("paste_block_drop",!1)},shouldPasteDataImages:function(e){return e.getParam("paste_data_images",!1)},shouldFilterDrop:function(e){return e.getParam("paste_filter_drop",!0)},getPreProcess:function(e){return e.getParam("paste_preprocess")},getPostProcess:function(e){return e.getParam("paste_postprocess")},getWebkitStyles:function(e){return e.getParam("paste_webkit_styles")},shouldRemoveWebKitStyles:function(e){return e.getParam("paste_remove_styles_if_webkit",!0)},shouldMergeFormats:function(e){return e.getParam("paste_merge_formats",!0)},isSmartPasteEnabled:function(e){return e.getParam("smart_paste",!0)},isPasteAsTextEnabled:function(e){return e.getParam("paste_as_text",!1)},getRetainStyleProps:function(e){return e.getParam("paste_retain_style_properties")},getWordValidElements:function(e){return e.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")},shouldConvertWordFakeLists:function(e){return e.getParam("paste_convert_word_fake_lists",!0)},shouldUseDefaultFilters:function(e){return e.getParam("paste_enable_default_filters",!0)}}}),o("tinymce.plugins.paste.core.Actions",["tinymce.plugins.paste.api.Events","tinymce.plugins.paste.api.Settings"],function(e,t){return{togglePlainTextPaste:function(n,r,o){"text"===r.pasteFormat?(r.pasteFormat="html",e.firePastePlainTextToggle(n,!1)):(r.pasteFormat="text",e.firePastePlainTextToggle(n,!0),function(e,n){return!1===n.get()&&t.shouldPlainTextInform(e)}(n,o)&&(function(e,t){e.notificationManager.open({text:e.translate(t),type:"info"})}(n,"Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off."),o.set(!0))),n.focus()}}}),o("tinymce.plugins.paste.api.Commands",["tinymce.plugins.paste.core.Actions"],function(e){return{register:function(t,n,r){t.addCommand("mceTogglePlainTextPaste",function(){e.togglePlainTextPaste(t,n,r)}),t.addCommand("mceInsertClipboardContent",function(e,t){t.content&&n.pasteHtml(t.content,t.internal),t.text&&n.pasteText(t.text)})}}}),i("global!Image",Image),i("global!navigator",navigator),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),o("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Delay")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.VK")}),o("tinymce.plugins.paste.core.InternalHtml",[],function(){var e="\x3c!-- x-tinymce/html --\x3e";return{mark:function(t){return e+t},unmark:function(t){return t.replace(e,"")},isMarked:function(t){return-1!==t.indexOf(e)},internalHtmlMime:function(){return"x-tinymce/html"}}}),o("tinymce.core.html.Entities",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.html.Entities")}),o("tinymce.plugins.paste.core.Newlines",["tinymce.core.util.Tools","tinymce.core.html.Entities"],function(e,t){var n=function(e){return e.replace(/\r?\n/g,"<br>")},r=function(n,r,o){var i=n.split(/\n\n/),a=function(e,n){var r,o=[],i="<"+e;if("object"==typeof n){for(r in n)n.hasOwnProperty(r)&&o.push(r+'="'+t.encodeAllRaw(n[r])+'"');o.length&&(i+=" "+o.join(" "))}return i+">"}(r,o),c="</"+r+">",s=e.map(i,function(e){return e.split(/\n/).join("<br />")});return 1===s.length?s[0]:e.map(s,function(e){return a+e+c}).join("")};return{isPlainText:function(e){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e)},convert:function(e,t,o){return t?r(e,t,o):n(e)},toBRs:n,toBlockElements:r}}),o("tinymce.plugins.paste.core.PasteBin",["tinymce.core.util.Tools","tinymce.core.Env"],function(e,t){return function(n){var r,o=function(){return n.dom.get("mcepastebin")},i=function(e){return"%MCEPASTEBIN%"===e};return{create:function(){var e,o,i=n.dom,a=n.getBody(),c=n.dom.getViewPort(n.getWin()).y,s=20;if(r=n.selection.getRng(),n.inline&&(o=n.selection.getScrollContainer())&&o.scrollTop>0&&(c=o.scrollTop),r.getClientRects){var u=function(e){var t,n,o,a=e.startContainer;if((t=e.getClientRects()).length)return t[0];if(e.collapsed&&1===a.nodeType){for(o=a.childNodes[r.startOffset];o&&3===o.nodeType&&!o.data.length;)o=o.nextSibling;if(o)return"BR"===o.tagName&&(n=i.doc.createTextNode("\ufeff"),o.parentNode.insertBefore(n,o),(e=i.createRng()).setStartBefore(n),e.setEndAfter(n),t=e.getClientRects(),i.remove(n)),t.length?t[0]:void 0}}(r);if(u)s=c+(u.top-i.getPos(a).y);else{s=c;var l=r.startContainer;l&&(3===l.nodeType&&l.parentNode!==a&&(l=l.parentNode),1===l.nodeType&&(s=i.getPos(l,o||a).y))}}e=n.dom.add(n.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+s+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"},"%MCEPASTEBIN%"),(t.ie||t.gecko)&&i.setStyle(e,"left","rtl"===i.getStyle(a,"direction",!0)?65535:-65535),i.bind(e,"beforedeactivate focusin focusout",function(e){e.stopPropagation()}),e.focus(),n.selection.select(e,!0)},remove:function(){if(o()){for(var e;e=n.dom.get("mcepastebin");)n.dom.remove(e),n.dom.unbind(e);r&&n.selection.setRng(r)}r=null},getEl:o,getHtml:function(){var t,r,o,i,a,c=function(e,t){e.appendChild(t),n.dom.remove(t,!0)};for(r=e.grep(n.getBody().childNodes,function(e){return"mcepastebin"===e.id}),t=r.shift(),e.each(r,function(e){c(t,e)}),o=(i=n.dom.select("div[id=mcepastebin]",t)).length-1;o>=0;o--)a=n.dom.create("div"),t.insertBefore(a,i[o]),c(a,i[o]);return t?t.innerHTML:""},getLastRng:function(){return r},isDefault:function(){var e=o();return function(e){return e&&"mcepastebin"===e.id}(e)&&i(e.innerHTML)},isDefaultContent:i}}}),o("tinymce.core.html.DomParser",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.html.DomParser")}),o("tinymce.core.html.Node",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.html.Node")}),o("tinymce.core.html.Schema",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.html.Schema")}),o("tinymce.core.html.Serializer",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.html.Serializer")}),o("tinymce.plugins.paste.core.Utils",["global!navigator","tinymce.core.html.DomParser","tinymce.core.html.Schema","tinymce.core.util.Tools"],function(e,t,n,r){function o(e,t){return r.each(t,function(t){e=t.constructor===RegExp?e.replace(t,""):e.replace(t[0],t[1])}),e}return{filter:o,innerText:function(e){function i(e){var t=e.name,n=e;if("br"!==t)if(u[t]&&(s+=" "),l[t])s+=" ";else{if(3===e.type&&(s+=e.value),!e.shortEnded&&(e=e.firstChild))do{i(e)}while(e=e.next);f[t]&&n.next&&(s+="\n","p"===t&&(s+="\n"))}else s+="\n"}var a=new n,c=new t({},a),s="",u=a.getShortEndedElements(),l=r.makeMap("script noscript style textarea video audio iframe object"," "),f=a.getBlockElements();return e=o(e,[/<!\[[^\]]+\]>/g]),i(c.parse(e)),s},trimHtml:function(e){return e=o(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(e,t,n){return t||n?"":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function(e){var t=0;return function(){return e+t++}},isMsEdge:function(){return-1!==e.userAgent.indexOf(" Edge/")}}}),o("tinymce.plugins.paste.core.WordFilter",["tinymce.core.html.DomParser","tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.html.Serializer","tinymce.core.util.Tools","tinymce.plugins.paste.api.Settings","tinymce.plugins.paste.core.Utils"],function(e,t,n,r,o,i,a){function c(e){var t,n;return n=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],e=e.replace(/^[\u00a0 ]+/,""),o.each(n,function(n){if(n.test(e))return t=!0,!1}),t}function s(e){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(e)}function u(e,n,r,a){var c,s={},u=e.dom.parseStyle(a);return o.each(u,function(t,o){switch(o){case"mso-list":(c=/\w+ \w+([0-9]+)/i.exec(a))&&(r._listLevel=parseInt(c[1],10)),/Ignore/i.test(t)&&r.firstChild&&(r._listIgnore=!0,r.firstChild._listIgnore=!0);break;case"horiz-align":o="text-align";break;case"vert-align":o="vertical-align";break;case"font-color":case"mso-foreground":o="color";break;case"mso-background":case"mso-highlight":o="background";break;case"font-weight":case"font-style":return void("normal"!==t&&(s[o]=t));case"mso-element":if(/^(comment|comment-list)$/i.test(t))return void r.remove()}0!==o.indexOf("mso-comment")?0!==o.indexOf("mso-")&&("all"===i.getRetainStyleProps(e)||n&&n[o])&&(s[o]=t):r.remove()}),/(bold)/i.test(s["font-weight"])&&(delete s["font-weight"],r.wrap(new t("b",1))),/(italic)/i.test(s["font-style"])&&(delete s["font-style"],r.wrap(new t("i",1))),(s=e.dom.serializeStyle(s,r.name))||null}var l=function(l,f){var d,p;(d=i.getRetainStyleProps(l))&&(p=o.makeMap(d.split(/[, ]/))),f=a.filter(f,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,""],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(""):""}]]);var m=i.getWordValidElements(l),h=new n({valid_elements:m,valid_children:"-li[p]"});o.each(h.elements,function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))});var g=new e({},h);g.addAttributeFilter("style",function(e){for(var t,n=e.length;n--;)(t=e[n]).attr("style",u(l,p,t,t.attr("style"))),"span"===t.name&&t.parent&&!t.attributes.length&&t.unwrap()}),g.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)n=(t=e[r]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)}),g.addNodeFilter("del",function(e){for(var t=e.length;t--;)e[t].remove()}),g.addNodeFilter("a",function(e){for(var t,n,r,o=e.length;o--;)if(t=e[o],n=t.attr("href"),r=t.attr("name"),n&&-1!==n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()});var v=g.parse(f);return i.shouldConvertWordFakeLists(l)&&function(e){function n(e){var t="";if(3===e.type)return e.value;if(e=e.firstChild)do{t+=n(e)}while(e=e.next);return t}function r(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!r(e,t))return!1}while(e=e.next);return!0}function o(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)do{o(e)}while(e=e.next)}function i(e,n,i){var c=e._listLevel||l;c!==l&&(c<l?a&&(a=a.parent.parent):(u=a,a=null)),a&&a.name===n?a.append(e):(u=u||a,a=new t(n,1),i>1&&a.attr("start",""+i),e.wrap(a)),e.name="li",c>l&&u&&u.lastChild.append(a),l=c,o(e),r(e,/^\u00a0+/),r(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),r(e,/^\u00a0+/)}for(var a,u,l=1,f=[],d=e.firstChild;void 0!==d&&null!==d;)if(f.push(d),null!==(d=d.walk()))for(;void 0!==d&&d.parent!==e;)d=d.walk();for(var p=0;p<f.length;p++)if("p"===(e=f[p]).name&&e.firstChild){var m=n(e);if(s(m)){i(e,"ul");continue}if(c(m)){var h=/([0-9]+)\./.exec(m),g=1;h&&(g=parseInt(h[1],10)),i(e,"ol",g);continue}if(e._listLevel){i(e,"ul",1);continue}a=null}else u=a,a=null}(v),f=new r({validate:l.settings.validate},h).serialize(v)};return{preProcess:function(e,t){return i.shouldUseDefaultFilters(e)?l(e,t):t},isWordContent:function(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}}}),o("tinymce.plugins.paste.core.ProcessFilters",["tinymce.plugins.paste.api.Events","tinymce.plugins.paste.core.WordFilter"],function(e,t){var n=function(e,t){return{content:e,cancelled:t}},r=function(t,r,o,i){var a=e.firePastePreProcess(t,r,o,i);return t.hasEventListeners("PastePostProcess")&&!a.isDefaultPrevented()?function(t,r,o,i){var a=t.dom.create("div",{style:"display:none"},r),c=e.firePastePostProcess(t,a,o,i);return n(c.node.innerHTML,c.isDefaultPrevented())}(t,a.content,o,i):n(a.content,a.isDefaultPrevented())};return{process:function(e,n,o){var i=t.isWordContent(n),a=i?t.preProcess(e,n):n;return r(e,a,o,i)}}}),o("tinymce.plugins.paste.core.SmartPaste",["tinymce.core.util.Tools","tinymce.plugins.paste.api.Settings"],function(e,t){var n=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},r=function(e){return n(e)&&/.(gif|jpe?g|png)$/.test(e)},o=function(e,t,r){return!(!1!==e.selection.isCollapsed()||!n(t))&&function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.execCommand("mceInsertLink",!1,t)}),!0}(e,t,r)},i=function(e,t,n){return!!r(t)&&function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.insertContent('<img src="'+t+'">')}),!0}(e,t,n)},a=function(e,n){return e.insertContent(n,{merge:t.shouldMergeFormats(e),paste:!0}),!0};return{isImageUrl:r,isAbsoluteUrl:n,insertContent:function(n,r){!1===t.isSmartPasteEnabled(n)?a(n,r):function(t,n){e.each([o,i,a],function(e){return!0!==e(t,n,a)})}(n,r)}}}),o("tinymce.plugins.paste.core.Clipboard",["global!Image","global!navigator","global!window","tinymce.core.Env","tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.VK","tinymce.plugins.paste.api.Events","tinymce.plugins.paste.api.Settings","tinymce.plugins.paste.core.InternalHtml","tinymce.plugins.paste.core.Newlines","tinymce.plugins.paste.core.PasteBin","tinymce.plugins.paste.core.ProcessFilters","tinymce.plugins.paste.core.SmartPaste","tinymce.plugins.paste.core.Utils"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m){return function(h){function g(e,t){var n=t||u.isMarked(e),r=d.process(h,u.unmark(e),n);!1===r.cancelled&&p.insertContent(h,r.content)}function v(e){e=h.dom.encode(e).replace(/\r\n/g,"\n"),g(e=l.convert(e,h.settings.forced_root_block,h.settings.forced_root_block_attrs),!1)}function y(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&n.length>0&&-1===n.indexOf(N)&&(t["text/plain"]=n)}if(e.types)for(var r=0;r<e.types.length;r++){var o=e.types[r];try{t[o]=e.getData(o)}catch(e){t[o]=""}}}return t}function b(e){return C(e,"text/html")||C(e,"text/plain")}function x(t,n,r){t&&(h.selection.setRng(t),t=null);var o=n.result,i=function(e){var t;return-1!==(t=e.indexOf(","))?e.substr(t+1):null}(o),a=D(),c=h.settings.images_reuse_filename&&r.name?function(e){var t=e.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);return t?h.dom.encode(t[1]):null}(r.name):a,s=new e;if(s.src=o,function(e,t){return!e.images_dataimg_filter||e.images_dataimg_filter(t)}(h.settings,s)){var u,l,f=h.editorUpload.blobCache;(l=f.findFirst(function(e){return e.base64()===i}))?u=l:(u=f.create(a,r,i,c),f.add(u)),g('<img src="'+u.blobUri()+'">',!1)}else g('<img src="'+o+'">',!1)}function w(e,t){function r(r){var o,i,a,c=!1;if(r)for(o=0;o<r.length;o++)if(i=r[o],/^image\/(jpeg|png|gif|bmp)$/.test(i.type)){var s=i.getAsFile?i.getAsFile():i;(a=new n.FileReader).onload=x.bind(null,t,a,s),a.readAsDataURL(s),e.preventDefault(),c=!0}return c}var o=e.clipboardData||e.dataTransfer;if(h.settings.paste_data_images&&o)return r(o.items)||r(o.files)}function C(e,t){return t in e&&e[t].length>0}function k(e){return a.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode}function T(){function e(e,t,n,r){var o,i;C(e,"text/html")?o=e["text/html"]:(o=A.getHtml(),r=r||u.isMarked(o),A.isDefaultContent(o)&&(n=!0)),o=m.trimHtml(o),A.remove(),i=!1===r&&l.isPlainText(o),o.length&&!i||(n=!0),n&&(o=C(e,"text/plain")&&i?e["text/plain"]:m.innerText(o)),A.isDefaultContent(o)?t||h.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):n?v(o):g(o,r)}h.on("keydown",function(e){function n(e){k(e)&&!e.isDefaultPrevented()&&A.remove()}if(k(e)&&!e.isDefaultPrevented()){if((_=e.shiftKey&&86===e.keyCode)&&r.webkit&&-1!==t.userAgent.indexOf("Version/"))return;if(e.stopImmediatePropagation(),E=(new Date).getTime(),r.ie&&_)return e.preventDefault(),void c.firePaste(h,!0);A.remove(),A.create(),h.once("keyup",n),h.once("paste",function(){h.off("keyup",n)})}});h.on("paste",function(n){var a=(new Date).getTime(),c=function(e){var t=y(e.clipboardData||h.getDoc().dataTransfer);return m.isMsEdge()?i.extend(t,{"text/html":""}):t}(n),s=(new Date).getTime()-a,l=(new Date).getTime()-E-s<1e3,f="text"===S.pasteFormat||_,d=C(c,u.internalHtmlMime());_=!1,n.isDefaultPrevented()||function(e){var n=e.clipboardData;return-1!==t.userAgent.indexOf("Android")&&n&&n.items&&0===n.items.length}(n)?A.remove():b(c)||!w(n,A.getLastRng()||h.selection.getRng())?(l||n.preventDefault(),!r.ie||l&&!n.ieFake||C(c,"text/html")||(A.create(),h.dom.bind(A.getEl(),"paste",function(e){e.stopPropagation()}),h.getDoc().execCommand("Paste",!1,null),c["text/html"]=A.getHtml()),C(c,"text/html")?(n.preventDefault(),d||(d=u.isMarked(c["text/html"])),e(c,l,f,d)):o.setEditorTimeout(h,function(){e(c,l,f,d)},0)):A.remove()})}var _,S=this,E=0,A=new f(h),N="data:text/mce-internal,",D=m.createIdGenerator("mceclip");S.pasteFormat=s.isPasteAsTextEnabled(h)?"text":"html",S.pasteHtml=g,S.pasteText=v,S.pasteImageData=w,S.getDataTransferItems=y,S.hasHtmlOrText=b,S.hasContentType=C,h.on("preInit",function(){T(),h.parser.addNodeFilter("img",function(e,t,n){function o(e){e.attr("data-mce-object")||s===r.transparentSrc||e.remove()}function i(e){return 0===e.indexOf("webkit-fake-url")}function a(e){return 0===e.indexOf("data:")}if(!h.settings.paste_data_images&&function(e){return e.data&&!0===e.data.paste}(n))for(var c=e.length;c--;){var s=e[c].attributes.map.src;s&&(i(s)?o(e[c]):!h.settings.allow_html_data_urls&&a(s)&&o(e[c]))}})})}}),i("global!setTimeout",setTimeout),o("tinymce.plugins.paste.core.CutCopy",["global!setTimeout","tinymce.core.Env","tinymce.plugins.paste.core.InternalHtml","tinymce.plugins.paste.core.Utils"],function(e,t,n,r){var o=function(){},i=function(e,o,i){if(!function(e){return!1===t.iOS&&void 0!==e&&"function"==typeof e.setData&&!0!==r.isMsEdge()}(e))return!1;try{return e.clearData(),e.setData("text/html",o),e.setData("text/plain",i),e.setData(n.internalHtmlMime(),o),!0}catch(e){return!1}},a=function(e,t,n,r){i(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},c=function(t){return function(r,o){var i=n.mark(r),a=t.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),c=t.dom.create("div",{contenteditable:"true"},i);t.dom.setStyles(a,{position:"fixed",left:"-3000px",width:"1000px",overflow:"hidden"}),a.appendChild(c),t.dom.add(t.getBody(),a);var s=t.selection.getRng();c.focus();var u=t.dom.createRng();u.selectNodeContents(c),t.selection.setRng(u),e(function(){a.parentNode.removeChild(a),t.selection.setRng(s),o()},0)}},s=function(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}};return{register:function(t){t.on("cut",function(t){return function(n){!1===t.selection.isCollapsed()&&a(n,s(t),c(t),function(){e(function(){t.execCommand("Delete")},0)})}}(t)),t.on("copy",function(e){return function(t){!1===e.selection.isCollapsed()&&a(t,s(e),c(e),o)}}(t))}}}),o("tinymce.core.api.dom.RangeUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.RangeUtils")}),o("tinymce.plugins.paste.core.DragDrop",["tinymce.core.api.dom.RangeUtils","tinymce.core.util.Delay","tinymce.plugins.paste.api.Settings","tinymce.plugins.paste.core.InternalHtml","tinymce.plugins.paste.core.Utils"],function(e,t,n,r,o){var i=function(t,n){return e.getCaretRangeFromPoint(n.clientX,n.clientY,t.getDoc())},a=function(e,t){e.focus(),e.selection.setRng(t)};return{setup:function(e,c,s){n.shouldBlockDrop(e)&&e.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()}),n.shouldPasteDataImages(e)||e.on("drop",function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()}),e.on("drop",function(u){var l,f;if(f=i(e,u),!u.isDefaultPrevented()&&!s.get()){l=c.getDataTransferItems(u.dataTransfer);var d=c.hasContentType(l,r.internalHtmlMime());if((c.hasHtmlOrText(l)&&!function(e){var t=e["text/plain"];return!!t&&0===t.indexOf("file://")}(l)||!c.pasteImageData(u,f))&&f&&n.shouldFilterDrop(e)){var p=l["mce-internal"]||l["text/html"]||l["text/plain"];p&&(u.preventDefault(),t.setEditorTimeout(e,function(){e.undoManager.transact(function(){l["mce-internal"]&&e.execCommand("Delete"),a(e,f),p=o.trimHtml(p),l["text/html"]?c.pasteHtml(p,d):c.pasteText(p)})}))}}}),e.on("dragstart",function(e){s.set(!0)}),e.on("dragover dragend",function(t){n.shouldPasteDataImages(e)&&!1===s.get()&&(t.preventDefault(),a(e,i(e,t))),"dragend"===t.type&&s.set(!1)})}}}),o("tinymce.plugins.paste.core.PrePostProcess",["tinymce.plugins.paste.api.Settings"],function(e){return{setup:function(t){var n=t.plugins.paste,r=e.getPreProcess(t);r&&t.on("PastePreProcess",function(e){r.call(n,n,e)});var o=e.getPostProcess(t);o&&t.on("PastePostProcess",function(e){o.call(n,n,e)})}}}),o("tinymce.plugins.paste.core.Quirks",["tinymce.core.Env","tinymce.core.util.Tools","tinymce.plugins.paste.api.Settings","tinymce.plugins.paste.core.Utils","tinymce.plugins.paste.core.WordFilter"],function(e,t,n,r,o){function i(e,t){e.on("PastePreProcess",function(n){n.content=t(e,n.content,n.internal,n.wordContent)})}function a(e,n){if(!o.isWordContent(n))return n;var i=[];t.each(e.schema.getBlockElements(),function(e,t){i.push(t)});var a=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+i.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return n=r.filter(n,[[a,"$1"]]),n=r.filter(n,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function c(e,t,r,o){if(o||r)return t;var i=n.getWebkitStyles(e);if(!1===n.shouldRemoveWebKitStyles(e)||"all"===i)return t;if(i&&(i=i.split(/[, ]/)),i){var a=e.dom,c=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(e,t,n,r){var o=a.parseStyle(a.decode(n),"span"),s={};if("none"===i)return t+r;for(var u=0;u<i.length;u++){var l=o[i[u]],f=a.getStyle(c,i[u],!0);/color/.test(i[u])&&(l=a.toHex(l),f=a.toHex(f)),f!==l&&(s[i[u]]=l)}return(s=a.serializeStyle(s,"span"))?t+' style="'+s+'"'+r:t+r})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(e,t,n,r){return t+' style="'+n+'"'+r})}function s(e,t){e.$("a",t).find("font,u").each(function(t,n){e.dom.remove(n,!0)})}return{setup:function(t){e.webkit&&i(t,c),e.ie&&(i(t,a),function(e,t){e.on("PastePostProcess",function(n){t(e,n.node)})}(t,s))}}}),i("global!Array",Array),i("global!Error",Error),o("ephox.katamari.api.Fun",["global!Array","global!Error"],function(e,t){var n=function(e){return function(){return e}};return{noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:n,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(t){for(var n=new e(arguments.length-1),r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){for(var r=new e(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];var i=n.concat(r);return t.apply(null,i)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new t(e)}},apply:function(e){return e()},call:function(e){e()},never:n(!1),always:n(!0)}}),o("tinymce.plugins.paste.ui.Buttons",["ephox.katamari.api.Fun"],function(e){var t=function(e,t,n){var r=n.control;r.active("text"===t.pasteFormat),e.on("PastePlainTextToggle",function(e){r.active(e.state)})};return{register:function(n,r){var o=e.curry(t,n,r);n.addButton("pastetext",{active:!1,icon:"pastetext",tooltip:"Paste as text",cmd:"mceTogglePlainTextPaste",onPostRender:o}),n.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:r.pasteFormat,cmd:"mceTogglePlainTextPaste",onPostRender:o})}}}),o("tinymce.plugins.paste.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.paste.alien.DetectProPlugin","tinymce.plugins.paste.api.Api","tinymce.plugins.paste.api.Commands","tinymce.plugins.paste.core.Clipboard","tinymce.plugins.paste.core.CutCopy","tinymce.plugins.paste.core.DragDrop","tinymce.plugins.paste.core.PrePostProcess","tinymce.plugins.paste.core.Quirks","tinymce.plugins.paste.ui.Buttons"],function(e,t,n,r,o,i,a,c,s,u,l){var f=e(!1);return t.add("paste",function(t){if(!1===n.hasProPlugin(t)){var d=new i(t),p=u.setup(t),m=e(!1);return l.register(t,d),o.register(t,d,f),s.setup(t),a.register(t),c.setup(t,d,m),r.get(d,p)}}),function(){}}),n("tinymce.plugins.paste.Plugin")()}()},function(e,t,n){n(121)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.plugins.print.api.Commands",[],function(){return{register:function(e){e.addCommand("mcePrint",function(){e.getWin().print()})}}}),o("tinymce.plugins.print.ui.Buttons",[],function(){return{register:function(e){e.addButton("print",{title:"Print",cmd:"mcePrint"}),e.addMenuItem("print",{text:"Print",cmd:"mcePrint",icon:"print"})}}}),o("tinymce.plugins.print.Plugin",["tinymce.core.PluginManager","tinymce.plugins.print.api.Commands","tinymce.plugins.print.ui.Buttons"],function(e,t,n){return e.add("print",function(e){t.register(e),n.register(e),e.addShortcut("Meta+P","","mcePrint")}),function(){}}),n("tinymce.plugins.print.Plugin")()}()},function(e,t,n){n(123)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;o("ephox.katamari.api.Cell",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.searchreplace.core.FindReplaceText",[],function(){function e(e){return e&&1===e.nodeType&&"false"===e.contentEditable}return{findAndReplaceDOMText:function(t,n,r,o,i){function a(e,t){if(t=t||0,!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";var n=e.index;if(t>0){var r=e[t];if(!r)throw"Invalid capture group";n+=e[0].indexOf(r),e[0]=r}return[n,n+e[0].length,[e[0]]]}function c(t){var n;if(3===t.nodeType)return t.data;if(d[t.nodeName]&&!f[t.nodeName])return"";if(n="",e(t))return"\n";if((f[t.nodeName]||p[t.nodeName])&&(n+="\n"),t=t.firstChild)do{n+=c(t)}while(t=t.nextSibling);return n}var s,u,l,f,d,p,m=[],h=0;if(l=n.ownerDocument,f=i.getBlockElements(),d=i.getWhiteSpaceElements(),p=i.getShortEndedElements(),u=c(n)){if(t.global)for(;s=t.exec(u);)m.push(a(s,o));else s=u.match(t),m.push(a(s,o));return m.length&&(h=m.length,function(t,n,r){var o,i,a,c,s=[],u=0,l=t,m=n.shift(),h=0;e:for(;;){if((f[l.nodeName]||p[l.nodeName]||e(l))&&u++,3===l.nodeType&&(!i&&l.length+u>=m[1]?(i=l,c=m[1]-u):o&&s.push(l),!o&&l.length+u>m[0]&&(o=l,a=m[0]-u),u+=l.length),o&&i){if(l=r({startNode:o,startNodeIndex:a,endNode:i,endNodeIndex:c,innerNodes:s,match:m[2],matchIndex:h}),u-=i.length-c,o=null,i=null,s=[],m=n.shift(),h++,!m)break}else if(d[l.nodeName]&&!f[l.nodeName]||!l.firstChild){if(l.nextSibling){l=l.nextSibling;continue}}else if(!e(l)){l=l.firstChild;continue}for(;;){if(l.nextSibling){l=l.nextSibling;break}if(l.parentNode===t)break e;l=l.parentNode}}}(n,m,function(e){var t;if("function"!=typeof e){var n=e.nodeType?e:l.createElement(e);t=function(e,t){var r=n.cloneNode(!1);return r.setAttribute("data-mce-index",t),e&&r.appendChild(l.createTextNode(e)),r}}else t=e;return function(e){var n,r,o,i=e.startNode,a=e.endNode,c=e.matchIndex;if(i===a){var s=i;o=s.parentNode,e.startNodeIndex>0&&(n=l.createTextNode(s.data.substring(0,e.startNodeIndex)),o.insertBefore(n,s));var u=t(e.match[0],c);return o.insertBefore(u,s),e.endNodeIndex<s.length&&(r=l.createTextNode(s.data.substring(e.endNodeIndex)),o.insertBefore(r,s)),s.parentNode.removeChild(s),u}n=l.createTextNode(i.data.substring(0,e.startNodeIndex)),r=l.createTextNode(a.data.substring(e.endNodeIndex));for(var f=t(i.data.substring(e.startNodeIndex),c),d=[],p=0,m=e.innerNodes.length;p<m;++p){var h=e.innerNodes[p],g=t(h.data,c);h.parentNode.replaceChild(g,h),d.push(g)}var v=t(a.data.substring(0,e.endNodeIndex),c);return(o=i.parentNode).insertBefore(n,i),o.insertBefore(f,i),o.removeChild(i),(o=a.parentNode).insertBefore(v,a),o.insertBefore(r,a),o.removeChild(a),v}}(r))),h}}}}),o("tinymce.plugins.searchreplace.core.Actions",["tinymce.core.util.Tools","tinymce.plugins.searchreplace.core.FindReplaceText"],function(e,t){var n=function(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t},r=function(e){var t=e.parentNode;e.firstChild&&t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)},o=function(t,r){var o,i=[];if((o=e.toArray(t.getBody().getElementsByTagName("span"))).length)for(var a=0;a<o.length;a++){var c=n(o[a]);null!==c&&c.length&&(c===r.toString()&&i.push(o[a]))}return i},i=function(e,t,n){var r=t.get(),i=e.dom;(n=!1!==n)?r++:r--,i.removeClass(o(e,t.get()),"mce-match-marker-selected");var a=o(e,r);return a.length?(i.addClass(o(e,r),"mce-match-marker-selected"),e.selection.scrollIntoView(a[0]),r):-1},a=function(e,t){var n=t.parentNode;e.remove(t),e.isEmpty(n)&&e.remove(n)},c=function(e,t){var n=i(e,t,!0);-1!==n&&t.set(n)},s=function(e,t){var n=i(e,t,!1);-1!==n&&t.set(n)},u=function(e){var t=n(e);return null!==t&&t.length>0},l=function(t,o,i){var a,c,s,u;for(c=e.toArray(t.getBody().getElementsByTagName("span")),a=0;a<c.length;a++){var l=n(c[a]);null!==l&&l.length&&(l===o.get().toString()&&(s||(s=c[a].firstChild),u=c[a].firstChild),r(c[a]))}if(s&&u){var f=t.dom.createRng();return f.setStart(s,0),f.setEnd(u,u.data.length),!1!==i&&t.selection.setRng(f),f}},f=function(e,t){return o(e,t.get()+1).length>0},d=function(e,t){return o(e,t.get()-1).length>0};return{done:l,find:function(e,n,r,o,a){r=(r=r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")).replace(/\s/g,"\\s"),r=a?"\\b"+r+"\\b":r;var c=function(e,n,r){var o,i;return i=e.dom.create("span",{"data-mce-bogus":1}),i.className="mce-match-marker",o=e.getBody(),l(e,n,!1),t.findAndReplaceDOMText(r,o,i,!1,e.schema)}(e,n,new RegExp(r,o?"g":"gi"));return c&&(n.set(-1),n.set(i(e,n,!0))),c},next:c,prev:s,replace:function(t,o,i,l,p){var m,h,g,v,y,b,x=o.get();for(l=!1!==l,g=t.getBody(),h=e.grep(e.toArray(g.getElementsByTagName("span")),u),m=0;m<h.length;m++){var w=n(h[m]);if(v=y=parseInt(w,10),p||v===o.get()){for(i.length?(h[m].firstChild.nodeValue=i,r(h[m])):a(t.dom,h[m]);h[++m];){if((v=parseInt(n(h[m]),10))!==y){m--;break}a(t.dom,h[m])}l&&x--}else y>o.get()&&h[m].setAttribute("data-mce-index",y-1)}return o.set(x),l?(b=f(t,o),c(t,o)):(b=d(t,o),s(t,o)),!p&&b},hasNext:f,hasPrev:d}}),o("tinymce.plugins.searchreplace.api.Api",["tinymce.plugins.searchreplace.core.Actions"],function(e){return{get:function(t,n){return{done:function(r){return e.done(t,n,r)},find:function(r,o,i){return e.find(t,n,r,o,i)},next:function(){return e.next(t,n)},prev:function(){return e.prev(t,n)},replace:function(r,o,i){return e.replace(t,n,r,o,i)}}}}}),o("tinymce.plugins.searchreplace.ui.Dialog",["tinymce.core.util.Tools","tinymce.plugins.searchreplace.core.Actions"],function(e,t){return{open:function(n,r){function o(){s.statusbar.find("#next").disabled(!1===t.hasNext(n,r)),s.statusbar.find("#prev").disabled(!1===t.hasPrev(n,r))}function i(){n.windowManager.alert("Could not find the specified string.",function(){s.find("#find")[0].focus()})}var a,c={};n.undoManager.add(),a=e.trim(n.selection.getContent({format:"text"}));var s=n.windowManager.open({layout:"flex",pack:"center",align:"center",onClose:function(){n.focus(),t.done(n,r),n.undoManager.add()},onSubmit:function(e){var a,u,l,f;return e.preventDefault(),u=s.find("#case").checked(),f=s.find("#words").checked(),(l=s.find("#find").value()).length?c.text===l&&c.caseState===u&&c.wholeWord===f?t.hasNext(n,r)?(t.next(n,r),void o()):void i():((a=t.find(n,r,l,u,f))||i(),s.statusbar.items().slice(1).disabled(0===a),o(),void(c={text:l,caseState:u,wholeWord:f})):(t.done(n,r,!1),void s.statusbar.items().slice(1).disabled(!0))},buttons:[{text:"Find",subtype:"primary",onclick:function(){s.submit()}},{text:"Replace",disabled:!0,onclick:function(){t.replace(n,r,s.find("#replace").value())||(s.statusbar.items().slice(1).disabled(!0),r.set(-1),c={})}},{text:"Replace all",disabled:!0,onclick:function(){t.replace(n,r,s.find("#replace").value(),!0,!0),s.statusbar.items().slice(1).disabled(!0),c={}}},{type:"spacer",flex:1},{text:"Prev",name:"prev",disabled:!0,onclick:function(){t.prev(n,r),o()}},{text:"Next",name:"next",disabled:!0,onclick:function(){t.next(n,r),o()}}],title:"Find and replace",items:{type:"form",padding:20,labelGap:30,spacing:10,items:[{type:"textbox",name:"find",size:40,label:"Find",value:a},{type:"textbox",name:"replace",size:40,label:"Replace with"},{type:"checkbox",name:"case",text:"Match case",label:" "},{type:"checkbox",name:"words",text:"Whole words",label:" "}]}})}}}),o("tinymce.plugins.searchreplace.api.Commands",["tinymce.plugins.searchreplace.ui.Dialog"],function(e){return{register:function(t,n){t.addCommand("SearchReplace",function(){e.open(t,n)})}}}),o("tinymce.plugins.searchreplace.ui.Buttons",["tinymce.plugins.searchreplace.ui.Dialog"],function(e){var t=function(t,n){return function(){e.open(t,n)}};return{register:function(e,n){e.addMenuItem("searchreplace",{text:"Find and replace",shortcut:"Meta+F",onclick:t(e,n),separator:"before",context:"edit"}),e.addButton("searchreplace",{tooltip:"Find and replace",onclick:t(e,n)}),e.shortcuts.add("Meta+F","",t(e,n))}}}),o("tinymce.plugins.searchreplace.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.searchreplace.api.Api","tinymce.plugins.searchreplace.api.Commands","tinymce.plugins.searchreplace.ui.Buttons"],function(e,t,n,r,o){return t.add("searchreplace",function(t){var i=e(-1);return r.register(t,i),o.register(t,i),n.get(t,i)}),function(){}}),n("tinymce.plugins.searchreplace.Plugin")()}()},function(e,t,n){n(125)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t,i=function(e,t){o(e,[],function(){return t})};i("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),i("global!window",window),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.core.EditorManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.EditorManager")}),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),o("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Delay")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.VK")}),o("tinymce.plugins.tabfocus.api.Settings",[],function(){return{getTabFocus:function(e){return e.getParam("tab_focus",function(e){return e.getParam("tabfocus_elements",":prev,:next")}(e))}}}),o("tinymce.plugins.tabfocus.core.Keyboard",["global!window","tinymce.core.dom.DOMUtils","tinymce.core.EditorManager","tinymce.core.Env","tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.VK","tinymce.plugins.tabfocus.api.Settings"],function(e,t,n,r,o,i,a,c){var s=t.DOM,u=function(e){e.keyCode!==a.TAB||e.ctrlKey||e.altKey||e.metaKey||e.preventDefault()};return{setup:function(t){function l(u){function l(e){function r(e){return"BODY"===e.nodeName||"hidden"!==e.type&&"none"!==e.style.display&&"hidden"!==e.style.visibility&&r(e.parentNode)}function o(e){return/INPUT|TEXTAREA|BUTTON/.test(e.tagName)&&n.get(u.id)&&-1!==e.tabIndex&&r(e)}if(d=s.select(":input:enabled,*[tabindex]:not(iframe)"),i.each(d,function(e,n){if(e.id===t.id)return f=n,!1}),e>0){for(m=f+1;m<d.length;m++)if(o(d[m]))return d[m]}else for(m=f-1;m>=0;m--)if(o(d[m]))return d[m];return null}var f,d,p,m;if(!(u.keyCode!==a.TAB||u.ctrlKey||u.altKey||u.metaKey||u.isDefaultPrevented())&&(1===(p=i.explode(c.getTabFocus(t))).length&&(p[1]=p[0],p[0]=":prev"),d=u.shiftKey?":prev"===p[0]?l(-1):s.get(p[0]):":next"===p[1]?l(1):s.get(p[1]))){var h=n.get(d.id||d.name);d.id&&h?h.focus():o.setTimeout(function(){r.webkit||e.focus(),d.focus()},10),u.preventDefault()}}t.on("init",function(){t.inline&&s.setAttrib(t.getBody(),"tabIndex",null),t.on("keyup",u),r.gecko?t.on("keypress keydown",l):t.on("keydown",l)})}}}),o("tinymce.plugins.tabfocus.Plugin",["tinymce.core.PluginManager","tinymce.plugins.tabfocus.core.Keyboard"],function(e,t){return e.add("tabfocus",function(e){t.setup(e)}),function(){}}),n("tinymce.plugins.tabfocus.Plugin")()}()},function(e,t,n){n(127)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t,i=function(e,t){o(e,[],function(){return t})};i("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),i("global!Array",Array),i("global!Error",Error),o("ephox.katamari.api.Fun",["global!Array","global!Error"],function(e,t){var n=function(e){return function(){return e}};return{noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:n,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(t){for(var n=new e(arguments.length-1),r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){for(var r=new e(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];var i=n.concat(r);return t.apply(null,i)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new t(e)}},apply:function(e){return e()},call:function(e){e()},never:n(!1),always:n(!0)}}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.core.util.XHR",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.XHR")}),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.plugins.template.api.Settings",["tinymce.core.dom.DOMUtils"],function(e){return{getCreationDateClasses:function(e){return e.getParam("template_cdate_classes","cdate")},getModificationDateClasses:function(e){return e.getParam("template_mdate_classes","mdate")},getSelectedContentClasses:function(e){return e.getParam("template_selected_content_classes","selcontent")},getPreviewReplaceValues:function(e){return e.getParam("template_preview_replace_values")},getTemplateReplaceValues:function(e){return e.getParam("template_replace_values")},getTemplates:function(e){return e.templates},getCdateFormat:function(e){return e.getParam("template_cdate_format",e.getLang("template.cdate_format"))},getMdateFormat:function(e){return e.getParam("template_mdate_format",e.getLang("template.mdate_format"))},getDialogWidth:function(e){return e.getParam("template_popup_width",600)},getDialogHeight:function(t){return Math.min(e.DOM.getViewPort().h,t.getParam("template_popup_height",500))}}}),o("tinymce.plugins.template.core.DateTimeHelper",[],function(){var e=function(e,t){if((e=""+e).length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e};return{getDateTime:function(t,n,r){var o="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),i="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),c="January February March April May June July August September October November December".split(" ");return r=r||new Date,n=n.replace("%D","%m/%d/%Y"),n=n.replace("%r","%I:%M:%S %p"),n=n.replace("%Y",""+r.getFullYear()),n=n.replace("%y",""+r.getYear()),n=n.replace("%m",e(r.getMonth()+1,2)),n=n.replace("%d",e(r.getDate(),2)),n=n.replace("%H",""+e(r.getHours(),2)),n=n.replace("%M",""+e(r.getMinutes(),2)),n=n.replace("%S",""+e(r.getSeconds(),2)),n=n.replace("%I",""+((r.getHours()+11)%12+1)),n=n.replace("%p",r.getHours()<12?"AM":"PM"),n=n.replace("%B",""+t.translate(c[r.getMonth()])),n=n.replace("%b",""+t.translate(a[r.getMonth()])),n=n.replace("%A",""+t.translate(i[r.getDay()])),n=n.replace("%a",""+t.translate(o[r.getDay()])),n=n.replace("%%","%")}}}),o("tinymce.plugins.template.core.Templates",["tinymce.core.util.Tools","tinymce.core.util.XHR","tinymce.plugins.template.api.Settings","tinymce.plugins.template.core.DateTimeHelper"],function(e,t,n,r){var o=function(t,n,r){return e.each(r,function(e,t){"function"==typeof e&&(e=e(t)),n=n.replace(new RegExp("\\{\\$"+t+"\\}","g"),e)}),n},i=function(t,r){var o=t.dom,i=n.getTemplateReplaceValues(t);e.each(o.select("*",r),function(t){e.each(i,function(e,n){o.hasClass(t,n)&&"function"==typeof i[n]&&i[n](t)})})},a=function(e,t){return new RegExp("\\b"+t+"\\b","g").test(e.className)};return{createTemplateList:function(e,r){return function(){var o=n.getTemplates(e);"function"!=typeof o?"string"==typeof o?t.send({url:o,success:function(e){r(JSON.parse(e))}}):r(o):o(r)}},replaceTemplateValues:o,replaceVals:i,insertTemplate:function(t,c,s){var u,l,f=t.dom,d=t.selection.getContent();s=o(0,s,n.getTemplateReplaceValues(t)),u=f.create("div",null,s),(l=f.select(".mceTmpl",u))&&l.length>0&&(u=f.create("div",null)).appendChild(l[0].cloneNode(!0)),e.each(f.select("*",u),function(e){a(e,n.getCreationDateClasses(t).replace(/\s+/g,"|"))&&(e.innerHTML=r.getDateTime(t,n.getCdateFormat(t))),a(e,n.getModificationDateClasses(t).replace(/\s+/g,"|"))&&(e.innerHTML=r.getDateTime(t,n.getMdateFormat(t))),a(e,n.getSelectedContentClasses(t).replace(/\s+/g,"|"))&&(e.innerHTML=d)}),i(t,u),t.execCommand("mceInsertContent",!1,u.innerHTML),t.addVisual()}}}),o("tinymce.plugins.template.api.Commands",["ephox.katamari.api.Fun","tinymce.plugins.template.core.Templates"],function(e,t){return{register:function(n){n.addCommand("mceInsertTemplate",e.curry(t.insertTemplate,n))}}}),o("tinymce.plugins.template.core.FilterContent",["tinymce.core.util.Tools","tinymce.plugins.template.api.Settings","tinymce.plugins.template.core.DateTimeHelper","tinymce.plugins.template.core.Templates"],function(e,t,n,r){return{setup:function(o){o.on("PreProcess",function(i){var a=o.dom,c=t.getMdateFormat(o);e.each(a.select("div",i.node),function(t){a.hasClass(t,"mceTmpl")&&(e.each(a.select("*",t),function(e){a.hasClass(e,o.getParam("template_mdate_classes","mdate").replace(/\s+/g,"|"))&&(e.innerHTML=n.getDateTime(o,c))}),r.replaceVals(o,t))})})}}}),o("tinymce.plugins.template.ui.Dialog",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.core.util.XHR","tinymce.plugins.template.api.Settings","tinymce.plugins.template.core.Templates"],function(e,t,n,r,o){var i=function(e,n,i){if(-1===i.indexOf("<html>")){var a="";t.each(e.contentCSS,function(t){a+='<link type="text/css" rel="stylesheet" href="'+e.documentBaseURI.toAbsolute(t)+'">'});var c=e.settings.body_class||"";-1!==c.indexOf("=")&&(c=(c=e.getParam("body_class","","hash"))[e.id]||""),i="<!DOCTYPE html><html><head>"+a+'</head><body class="'+c+'">'+i+"</body></html>"}i=o.replaceTemplateValues(e,i,r.getPreviewReplaceValues(e));var s=n.find("iframe")[0].getEl().contentWindow.document;s.open(),s.write(i),s.close()};return{open:function(e,a){var c,s,u=[];if(a&&0!==a.length)t.each(a,function(e){u.push({selected:!u.length,text:e.title,value:{url:e.url,content:e.content,description:e.description}})}),(c=e.windowManager.open({title:"Insert template",layout:"flex",direction:"column",align:"stretch",padding:15,spacing:10,items:[{type:"form",flex:0,padding:0,items:[{type:"container",label:"Templates",items:{type:"listbox",label:"Templates",name:"template",values:u,onselect:function(t){var r=t.control.value();r.url?n.send({url:r.url,success:function(t){i(e,c,s=t)}}):(s=r.content,i(e,c,s)),c.find("#description")[0].text(t.control.value().description)}}}]},{type:"label",name:"description",label:"Description",text:""},{type:"iframe",flex:1,border:1}],onsubmit:function(){o.insertTemplate(e,!1,s)},minWidth:r.getDialogWidth(e),minHeight:r.getDialogHeight(e)})).find("listbox")[0].fire("select");else{var l=e.translate("No templates defined.");e.notificationManager.open({text:l,type:"info"})}}}}),o("tinymce.plugins.template.ui.Buttons",["tinymce.plugins.template.core.Templates","tinymce.plugins.template.ui.Dialog"],function(e,t){var n=function(e){return function(n){t.open(e,n)}};return{register:function(t){t.addButton("template",{title:"Insert template",onclick:e.createTemplateList(t.settings,n(t))}),t.addMenuItem("template",{text:"Template",onclick:e.createTemplateList(t.settings,n(t)),icon:"template",context:"insert"})}}}),o("tinymce.plugins.template.Plugin",["tinymce.core.PluginManager","tinymce.plugins.template.api.Commands","tinymce.plugins.template.core.FilterContent","tinymce.plugins.template.ui.Buttons"],function(e,t,n,r){return e.add("template",function(e){r.register(e),t.register(e),n.setup(e)}),function(){}}),n("tinymce.plugins.template.Plugin")()}()},function(e,t,n){n(129)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t,i=function(e,t){o(e,[],function(){return t})};o("ephox.katamari.api.Cell",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),i("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.plugins.textpattern.api.Api",[],function(){return{get:function(e){return{setPatterns:function(t){e.set(t)},getPatterns:function(){return e.get()}}}}}),o("tinymce.plugins.textpattern.api.Settings",[],function(){var e=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"***",end:"***",format:["bold","italic"]},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}];return{getPatterns:function(t){return void 0!==t.textpattern_patterns?t.textpattern_patterns:e}}}),o("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Delay")}),o("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.VK")}),i("global!document",document),o("tinymce.core.dom.TreeWalker",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.TreeWalker")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.textpattern.core.Patterns",[],function(){var e=function(e,t,n,r){return t.substr(n-e.end.length-r,e.end.length)===e.end},t=function(e,t,n){return e-t-n.end.length-n.start.length>0};return{findPattern:function(e,t){for(var n=0;n<e.length;n++)if(0===t.indexOf(e[n].start)&&(!e[n].end||t.lastIndexOf(e[n].end)===t.length-e[n].end.length))return e[n]},findEndPattern:function(n,r,o,i){var a,c,s=function(e){return e.sort(function(e,t){return e.start.length>t.start.length?-1:e.start.length<t.start.length?1:0})}(n);for(c=0;c<s.length;c++)if(void 0!==(a=s[c]).end&&e(a,r,o,i)&&t(o,i,a))return a}}}),o("tinymce.plugins.textpattern.core.Formatter",["global!document","tinymce.core.dom.TreeWalker","tinymce.core.util.Tools","tinymce.plugins.textpattern.core.Patterns"],function(e,t,n,r){var o=function(t,n,o){if(!1!==n.collapsed){var i=n.startContainer,a=i.data,c=!0===o?1:0;if(3===i.nodeType){var s=r.findEndPattern(t,a,n.startOffset,c);if(void 0!==s){var u=a.lastIndexOf(s.end,n.startOffset-c),l=a.lastIndexOf(s.start,u-s.end.length);if(u=a.indexOf(s.end,l+s.start.length),-1!==l){var f=e.createRange();f.setStart(i,l),f.setEnd(i,u+s.end.length);var d=r.findPattern(t,f.toString());if(!(void 0===s||d!==s||i.data.length<=s.start.length+s.end.length))return{pattern:s,startOffset:l,endOffset:u}}}}}},i=function(e,t,r){var i=e.selection.getRng(!0),a=o(t,i,r);if(a)return function(e,t,r,o){var i=n.isArray(r.pattern.format)?r.pattern.format:[r.pattern.format];if(0!==n.grep(i,function(t){var n=e.formatter.get(t);return n&&n[0].inline}).length)return e.undoManager.transact(function(){t=function(e,t,n,r,o){return(e=r>0?e.splitText(r):e).splitText(n-r+t.end.length),e.deleteData(0,t.start.length),e.deleteData(e.data.length-t.end.length,t.end.length),e}(t,r.pattern,r.endOffset,r.startOffset),i.forEach(function(n){e.formatter.apply(n,{},t)})}),t}(e,i.startContainer,a)};return{patternFromRng:o,applyInlineFormatSpace:function(e,t){return i(e,t,!0)},applyInlineFormatEnter:function(e,t){return i(e,t,!1)},applyBlockFormat:function(e,o){var i,a,c,s,u,l,f,d,p,m,h;if(i=e.selection,a=e.dom,i.isCollapsed()&&(f=a.getParent(i.getStart(),"p"))){for(p=new t(f,f);u=p.next();)if(3===u.nodeType){s=u;break}if(s){if(!(d=r.findPattern(o,s.data)))return;if(m=i.getRng(!0),c=m.startContainer,h=m.startOffset,s===c&&(h=Math.max(0,h-d.start.length)),n.trim(s.data).length===d.start.length)return;d.format&&(l=e.formatter.get(d.format))&&l[0].block&&(s.deleteData(0,d.start.length),e.formatter.apply(d.format,{},s),m.setStart(c,h),m.collapse(!0),i.setRng(m)),d.cmd&&e.undoManager.transact(function(){s.deleteData(0,d.start.length),e.execCommand(d.cmd)})}}}}}),o("tinymce.plugins.textpattern.core.KeyHandler",["tinymce.core.util.VK","tinymce.plugins.textpattern.core.Formatter"],function(e,t){var n=function(e,t,n){for(var r=0;r<e.length;r++)if(n(e[r],t))return!0};return{handleEnter:function(e,n){var r,o;(r=t.applyInlineFormatEnter(e,n))&&((o=e.dom.createRng()).setStart(r,r.data.length),o.setEnd(r,r.data.length),e.selection.setRng(o)),t.applyBlockFormat(e,n)},handleInlineKey:function(e,n){var r,o,i,a,c;(r=t.applyInlineFormatSpace(e,n))&&(c=e.dom,o=r.data.slice(-1),/[\u00a0 ]/.test(o)&&(r.deleteData(r.data.length-1,1),i=c.doc.createTextNode(o),c.insertAfter(i,r.parentNode),(a=c.createRng()).setStart(i,1),a.setEnd(i,1),e.selection.setRng(a)))},checkCharCode:function(e,t){return n(e,t,function(e,t){return e.charCodeAt(0)===t.charCode})},checkKeyCode:function(t,r){return n(t,r,function(t,n){return t===n.keyCode&&!1===e.modifierPressed(n)})}}}),o("tinymce.plugins.textpattern.core.Keyboard",["tinymce.core.util.Delay","tinymce.core.util.VK","tinymce.plugins.textpattern.core.KeyHandler"],function(e,t,n){return{setup:function(r,o){var i=[",",".",";",":","!","?"],a=[32];r.on("keydown",function(e){13!==e.keyCode||t.modifierPressed(e)||n.handleEnter(r,o.get())},!0),r.on("keyup",function(e){n.checkKeyCode(a,e)&&n.handleInlineKey(r,o.get())}),r.on("keypress",function(t){n.checkCharCode(i,t)&&e.setEditorTimeout(r,function(){n.handleInlineKey(r,o.get())})})}}}),o("tinymce.plugins.textpattern.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.textpattern.api.Api","tinymce.plugins.textpattern.api.Settings","tinymce.plugins.textpattern.core.Keyboard"],function(e,t,n,r,o){return t.add("textpattern",function(t){var i=e(r.getPatterns(t.settings));return o.setup(t,i),n.get(i)}),function(){}}),n("tinymce.plugins.textpattern.Plugin")()}()},function(e,t,n){n(131)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;o("ephox.katamari.api.Cell",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.plugins.visualblocks.api.Events",[],function(){return{fireVisualBlocks:function(e,t){e.fire("VisualBlocks",{state:t})}}}),o("tinymce.plugins.visualblocks.api.Settings",[],function(){return{isEnabledByDefault:function(e){return e.getParam("visualblocks_default_state",!1)},getContentCss:function(e){return e.settings.visualblocks_content_css}}}),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.visualblocks.core.LoadCss",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],function(e,t){var n=e.DOM.uniqueId();return{load:function(r,o){var i=t.toArray(r.getElementsByTagName("link"));if(0===t.grep(i,function(e){return e.id===n}).length){var a=e.DOM.create("link",{id:n,rel:"stylesheet",href:o});r.getElementsByTagName("head")[0].appendChild(a)}}}}),o("tinymce.plugins.visualblocks.core.VisualBlocks",["tinymce.plugins.visualblocks.api.Events","tinymce.plugins.visualblocks.api.Settings","tinymce.plugins.visualblocks.core.LoadCss"],function(e,t,n){return{toggleVisualBlocks:function(r,o,i){var a=r.dom,c=t.getContentCss(r);n.load(r.getDoc(),c||o+"/css/visualblocks.css"),a.toggleClass(r.getBody(),"mce-visualblocks"),i.set(!i.get()),e.fireVisualBlocks(r,i.get())}}}),o("tinymce.plugins.visualblocks.api.Commands",["tinymce.plugins.visualblocks.core.VisualBlocks"],function(e){return{register:function(t,n,r){t.addCommand("mceVisualBlocks",function(){e.toggleVisualBlocks(t,n,r)})}}}),o("tinymce.plugins.visualblocks.core.Bindings",["tinymce.plugins.visualblocks.api.Settings","tinymce.plugins.visualblocks.core.VisualBlocks"],function(e,t){return{setup:function(n,r,o){n.on("PreviewFormats AfterPreviewFormats",function(e){o.get()&&n.dom.toggleClass(n.getBody(),"mce-visualblocks","afterpreviewformats"===e.type)}),n.on("init",function(){e.isEnabledByDefault(n)&&t.toggleVisualBlocks(n,r,o)}),n.on("remove",function(){n.dom.removeClass(n.getBody(),"mce-visualblocks")})}}}),o("tinymce.plugins.visualblocks.ui.Buttons",["tinymce.plugins.visualblocks.core.VisualBlocks"],function(e){var t=function(e,t){return function(n){var r=n.control;r.active(t.get()),e.on("VisualBlocks",function(e){r.active(e.state)})}};return{register:function(e,n){e.addButton("visualblocks",{active:!1,title:"Show blocks",cmd:"mceVisualBlocks",onPostRender:t(e,n)}),e.addMenuItem("visualblocks",{text:"Show blocks",cmd:"mceVisualBlocks",onPostRender:t(e,n),selectable:!0,context:"view",prependToContext:!0})}}}),o("tinymce.plugins.visualblocks.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.visualblocks.api.Commands","tinymce.plugins.visualblocks.core.Bindings","tinymce.plugins.visualblocks.ui.Buttons"],function(e,t,n,r,o){return t.add("visualblocks",function(t,i){var a=e(!1);n.register(t,i,a),o.register(t,a),r.setup(t,i,a)}),function(){}}),n("tinymce.plugins.visualblocks.Plugin")()}()},function(e,t,n){n(133)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.plugins.anchor.core.Anchor",[],function(){return{isValidId:function(e){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(e)},getId:function(e){var t=e.selection.getNode();return"A"===t.tagName&&""===e.dom.getAttrib(t,"href")?t.id||t.name:""},insert:function(e,t){var n=e.selection.getNode();"A"===n.tagName&&""===e.dom.getAttrib(n,"href")?(n.removeAttribute("name"),n.id=t):(e.focus(),e.selection.collapse(!0),e.execCommand("mceInsertContent",!1,e.dom.createHTML("a",{id:t})))}}}),o("tinymce.plugins.anchor.ui.Dialog",["tinymce.plugins.anchor.core.Anchor"],function(e){return{open:function(t){var n=e.getId(t);t.windowManager.open({title:"Anchor",body:{type:"textbox",name:"id",size:40,label:"Id",value:n},onsubmit:function(n){var r=n.data.id;(function(t,n){return e.isValidId(n)?(e.insert(t,n),!1):(t.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!0)})(t,r)&&n.preventDefault()}})}}}),o("tinymce.plugins.anchor.api.Commands",["tinymce.plugins.anchor.ui.Dialog"],function(e){return{register:function(t){t.addCommand("mceAnchor",function(){e.open(t)})}}}),o("tinymce.plugins.anchor.core.FilterContent",[],function(){var e=function(e){return!e.attr("href")&&(e.attr("id")||e.attr("name"))&&!e.firstChild},t=function(t){return function(n){for(var r=0;r<n.length;r++)e(n[r])&&n[r].attr("contenteditable",t)}};return{setup:function(e){e.on("PreInit",function(){e.parser.addNodeFilter("a",t("false")),e.serializer.addNodeFilter("a",t(null))})}}}),o("tinymce.plugins.anchor.ui.Buttons",[],function(){return{register:function(e){e.addButton("anchor",{icon:"anchor",tooltip:"Anchor",cmd:"mceAnchor",stateSelector:"a:not([href])"}),e.addMenuItem("anchor",{icon:"anchor",text:"Anchor",context:"insert",cmd:"mceAnchor"})}}}),o("tinymce.plugins.anchor.Plugin",["tinymce.core.PluginManager","tinymce.plugins.anchor.api.Commands","tinymce.plugins.anchor.core.FilterContent","tinymce.plugins.anchor.ui.Buttons"],function(e,t,n,r){return e.add("anchor",function(e){n.setup(e),t.register(e),r.register(e)}),function(){}}),n("tinymce.plugins.anchor.Plugin")()}()},function(e,t,n){n(135)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;o("ephox.katamari.api.Cell",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),o("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Delay")}),o("tinymce.plugins.autoresize.api.Settings",[],function(){return{getAutoResizeMinHeight:function(e){return parseInt(e.getParam("autoresize_min_height",e.getElement().offsetHeight),10)},getAutoResizeMaxHeight:function(e){return parseInt(e.getParam("autoresize_max_height",0),10)},getAutoResizeOverflowPadding:function(e){return e.getParam("autoresize_overflow_padding",1)},getAutoResizeBottomMargin:function(e){return e.getParam("autoresize_bottom_margin",50)},shouldAutoResizeOnInit:function(e){return e.getParam("autoresize_on_init",!0)}}}),o("tinymce.plugins.autoresize.core.Resize",["tinymce.core.Env","tinymce.core.util.Delay","tinymce.plugins.autoresize.api.Settings"],function(e,t,n){var r=function(e,n,o,a,c){t.setEditorTimeout(e,function(){i(e,n),o--?r(e,n,o,a,c):c&&c()},a)},o=function(e,t){var n=e.getBody();n&&(n.style.overflowY=t?"":"hidden",t||(n.scrollTop=0))},i=function(t,r){var a,c,s,u,l,f,d,p,m,h,g,v=t.dom;if(c=t.getDoc())if(function(e){return e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen()}(t))o(t,!0);else{s=c.body,u=n.getAutoResizeMinHeight(t),f=v.getStyle(s,"margin-top",!0),d=v.getStyle(s,"margin-bottom",!0),p=v.getStyle(s,"padding-top",!0),m=v.getStyle(s,"padding-bottom",!0),h=v.getStyle(s,"border-top-width",!0),g=v.getStyle(s,"border-bottom-width",!0),l=s.offsetHeight+parseInt(f,10)+parseInt(d,10)+parseInt(p,10)+parseInt(m,10)+parseInt(h,10)+parseInt(g,10),(isNaN(l)||l<=0)&&(l=e.ie?s.scrollHeight:e.webkit&&0===s.clientHeight?0:s.offsetHeight),l>n.getAutoResizeMinHeight(t)&&(u=l);var y=n.getAutoResizeMaxHeight(t);y&&l>y?(u=y,o(t,!0)):o(t,!1),u!==r.get()&&(a=u-r.get(),v.setStyle(t.iframeElement,"height",u+"px"),r.set(u),e.webKit&&a<0&&i(t))}};return{setup:function(e,t){e.on("init",function(){var t,r,o=e.dom;t=n.getAutoResizeOverflowPadding(e),r=n.getAutoResizeBottomMargin(e),!1!==t&&o.setStyles(e.getBody(),{paddingLeft:t,paddingRight:t}),!1!==r&&o.setStyles(e.getBody(),{paddingBottom:r})}),e.on("nodechange setcontent keyup FullscreenStateChanged",function(n){i(e,t)}),n.shouldAutoResizeOnInit(e)&&e.on("init",function(){r(e,t,20,100,function(){r(e,t,5,1e3)})})},resize:i}}),o("tinymce.plugins.autoresize.api.Commands",["tinymce.plugins.autoresize.core.Resize"],function(e){return{register:function(t,n){t.addCommand("mceAutoResize",function(){e.resize(t,n)})}}}),o("tinymce.plugins.autoresize.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.autoresize.api.Commands","tinymce.plugins.autoresize.core.Resize"],function(e,t,n,r){return t.add("autoresize",function(t){if(!t.inline){var o=e(0);n.register(t,o),r.setup(t,o)}}),function(){}}),n("tinymce.plugins.autoresize.Plugin")()}()},function(e,t,n){n(137)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.bbcode.core.Convert",["tinymce.core.util.Tools"],function(e){return{html2bbcode:function(t){t=e.trim(t);var n=function(e,n){t=t.replace(e,n)};return n(/<a.*?href=\"(.*?)\".*?>(.*?)<\/a>/gi,"[url=$1]$2[/url]"),n(/<font.*?color=\"(.*?)\".*?class=\"codeStyle\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),n(/<font.*?color=\"(.*?)\".*?class=\"quoteStyle\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),n(/<font.*?class=\"codeStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),n(/<font.*?class=\"quoteStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),n(/<span style=\"color: ?(.*?);\">(.*?)<\/span>/gi,"[color=$1]$2[/color]"),n(/<font.*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[color=$1]$2[/color]"),n(/<span style=\"font-size:(.*?);\">(.*?)<\/span>/gi,"[size=$1]$2[/size]"),n(/<font>(.*?)<\/font>/gi,"$1"),n(/<img.*?src=\"(.*?)\".*?\/>/gi,"[img]$1[/img]"),n(/<span class=\"codeStyle\">(.*?)<\/span>/gi,"[code]$1[/code]"),n(/<span class=\"quoteStyle\">(.*?)<\/span>/gi,"[quote]$1[/quote]"),n(/<strong class=\"codeStyle\">(.*?)<\/strong>/gi,"[code][b]$1[/b][/code]"),n(/<strong class=\"quoteStyle\">(.*?)<\/strong>/gi,"[quote][b]$1[/b][/quote]"),n(/<em class=\"codeStyle\">(.*?)<\/em>/gi,"[code][i]$1[/i][/code]"),n(/<em class=\"quoteStyle\">(.*?)<\/em>/gi,"[quote][i]$1[/i][/quote]"),n(/<u class=\"codeStyle\">(.*?)<\/u>/gi,"[code][u]$1[/u][/code]"),n(/<u class=\"quoteStyle\">(.*?)<\/u>/gi,"[quote][u]$1[/u][/quote]"),n(/<\/(strong|b)>/gi,"[/b]"),n(/<(strong|b)>/gi,"[b]"),n(/<\/(em|i)>/gi,"[/i]"),n(/<(em|i)>/gi,"[i]"),n(/<\/u>/gi,"[/u]"),n(/<span style=\"text-decoration: ?underline;\">(.*?)<\/span>/gi,"[u]$1[/u]"),n(/<u>/gi,"[u]"),n(/<blockquote[^>]*>/gi,"[quote]"),n(/<\/blockquote>/gi,"[/quote]"),n(/<br \/>/gi,"\n"),n(/<br\/>/gi,"\n"),n(/<br>/gi,"\n"),n(/<p>/gi,""),n(/<\/p>/gi,"\n"),n(/&nbsp;|\u00a0/gi," "),n(/&quot;/gi,'"'),n(/&lt;/gi,"<"),n(/&gt;/gi,">"),n(/&amp;/gi,"&"),t},bbcode2html:function(t){t=e.trim(t);var n=function(e,n){t=t.replace(e,n)};return n(/\n/gi,"<br />"),n(/\[b\]/gi,"<strong>"),n(/\[\/b\]/gi,"</strong>"),n(/\[i\]/gi,"<em>"),n(/\[\/i\]/gi,"</em>"),n(/\[u\]/gi,"<u>"),n(/\[\/u\]/gi,"</u>"),n(/\[url=([^\]]+)\](.*?)\[\/url\]/gi,'<a href="$1">$2</a>'),n(/\[url\](.*?)\[\/url\]/gi,'<a href="$1">$1</a>'),n(/\[img\](.*?)\[\/img\]/gi,'<img src="$1" />'),n(/\[color=(.*?)\](.*?)\[\/color\]/gi,'<font color="$1">$2</font>'),n(/\[code\](.*?)\[\/code\]/gi,'<span class="codeStyle">$1</span>&nbsp;'),n(/\[quote.*?\](.*?)\[\/quote\]/gi,'<span class="quoteStyle">$1</span>&nbsp;'),t}}}),o("tinymce.plugins.bbcode.Plugin",["tinymce.core.PluginManager","tinymce.plugins.bbcode.core.Convert"],function(e,t){return e.add("bbcode",function(){return{init:function(e){e.on("beforeSetContent",function(e){e.content=t.bbcode2html(e.content)}),e.on("postProcess",function(e){e.set&&(e.content=t.bbcode2html(e.content)),e.get&&(e.content=t.html2bbcode(e.content))})}}}),function(){}}),n("tinymce.plugins.bbcode.Plugin")()}()},function(e,t,n){n(139)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.plugins.code.api.Settings",["tinymce.core.dom.DOMUtils"],function(e){return{getMinWidth:function(e){return e.getParam("code_dialog_width",600)},getMinHeight:function(t){return t.getParam("code_dialog_height",Math.min(e.DOM.getViewPort().h-200,500))}}}),o("tinymce.plugins.code.core.Content",[],function(){return{setContent:function(e,t){e.focus(),e.undoManager.transact(function(){e.setContent(t)}),e.selection.setCursorLocation(),e.nodeChanged()},getContent:function(e){return e.getContent({source_view:!0})}}}),o("tinymce.plugins.code.ui.Dialog",["tinymce.plugins.code.api.Settings","tinymce.plugins.code.core.Content"],function(e,t){return{open:function(n){var r=e.getMinWidth(n),o=e.getMinHeight(n);n.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:r,minHeight:o,spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(e){t.setContent(n,e.data.code)}}).find("#code").value(t.getContent(n))}}}),o("tinymce.plugins.code.api.Commands",["tinymce.plugins.code.ui.Dialog"],function(e){return{register:function(t){t.addCommand("mceCodeEditor",function(){e.open(t)})}}}),o("tinymce.plugins.code.ui.Buttons",["tinymce.plugins.code.ui.Dialog"],function(e){return{register:function(t){t.addButton("code",{icon:"code",tooltip:"Source code",onclick:function(){e.open(t)}}),t.addMenuItem("code",{icon:"code",text:"Source code",onclick:function(){e.open(t)}})}}}),o("tinymce.plugins.code.Plugin",["tinymce.core.PluginManager","tinymce.plugins.code.api.Commands","tinymce.plugins.code.ui.Buttons"],function(e,t,n){return e.add("code",function(e){return t.register(e),n.register(e),{}}),function(){}}),n("tinymce.plugins.code.Plugin")()}()},function(e,t,n){n(141)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.util.Color",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Color")}),o("tinymce.plugins.colorpicker.ui.Dialog",["tinymce.core.util.Color"],function(e){var t=function(e,t){e.find("#preview")[0].getEl().style.background=t},n=function(n,r){var o=new e(r),i=o.toRgb();n.fromJSON({r:i.r,g:i.g,b:i.b,hex:o.toHex().substr(1)}),t(n,o.toHex())};return{open:function(e,r,o){var i=e.windowManager.open({title:"Color",items:{type:"container",layout:"flex",direction:"row",align:"stretch",padding:5,spacing:10,items:[{type:"colorpicker",value:o,onchange:function(){var e=this.rgb();i&&(i.find("#r").value(e.r),i.find("#g").value(e.g),i.find("#b").value(e.b),i.find("#hex").value(this.value().substr(1)),t(i,this.value()))}},{type:"form",padding:0,labelGap:5,defaults:{type:"textbox",size:7,value:"0",flex:1,spellcheck:!1,onchange:function(){var e,t,r=i.find("colorpicker")[0];if(e=this.name(),t=this.value(),"hex"===e)return t="#"+t,n(i,t),void r.value(t);t={r:i.find("#r").value(),g:i.find("#g").value(),b:i.find("#b").value()},r.value(t),n(i,t)}},items:[{name:"r",label:"R",autofocus:1},{name:"g",label:"G"},{name:"b",label:"B"},{name:"hex",label:"#",value:"000000"},{name:"preview",type:"container",border:1}]}]},onSubmit:function(){r("#"+i.toJSON().hex)}});n(i,o)}}}),o("tinymce.plugins.colorpicker.Plugin",["tinymce.core.PluginManager","tinymce.plugins.colorpicker.ui.Dialog"],function(e,t){return e.add("colorpicker",function(e){e.settings.color_picker_callback||(e.settings.color_picker_callback=function(n,r){t.open(e,n,r)})}),function(){}}),n("tinymce.plugins.colorpicker.Plugin")()}()},function(e,t,n){n(143)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.directionality.core.Direction",["tinymce.core.util.Tools"],function(e){return{setDir:function(t,n){var r,o=t.dom,i=t.selection.getSelectedBlocks();i.length&&(r=o.getAttrib(i[0],"dir"),e.each(i,function(e){o.getParent(e.parentNode,'*[dir="'+n+'"]',o.getRoot())||o.setAttrib(e,"dir",r!==n?n:null)}),t.nodeChanged())}}}),o("tinymce.plugins.directionality.api.Commands",["tinymce.plugins.directionality.core.Direction"],function(e){return{register:function(t){t.addCommand("mceDirectionLTR",function(){e.setDir(t,"ltr")}),t.addCommand("mceDirectionRTL",function(){e.setDir(t,"rtl")})}}}),o("tinymce.plugins.directionality.ui.Buttons",["tinymce.core.util.Tools"],function(e){var t=function(t){var n=[];return e.each("h1 h2 h3 h4 h5 h6 div p".split(" "),function(e){n.push(e+"[dir="+t+"]")}),n.join(",")};return{register:function(e){e.addButton("ltr",{title:"Left to right",cmd:"mceDirectionLTR",stateSelector:t("ltr")}),e.addButton("rtl",{title:"Right to left",cmd:"mceDirectionRTL",stateSelector:t("rtl")})}}}),o("tinymce.plugins.directionality.Plugin",["tinymce.core.PluginManager","tinymce.plugins.directionality.api.Commands","tinymce.plugins.directionality.ui.Buttons"],function(e,t,n){return e.add("directionality",function(e){t.register(e),n.register(e)}),function(){}}),n("tinymce.plugins.directionality.Plugin")()}()},function(e,t,n){n(145)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;o("ephox.katamari.api.Cell",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.core.html.DomParser",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.html.DomParser")}),o("tinymce.core.html.Node",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.html.Node")}),o("tinymce.core.html.Serializer",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.html.Serializer")}),o("tinymce.plugins.fullpage.api.Settings",[],function(){return{shouldHideInSourceView:function(e){return e.getParam("fullpage_hide_in_source_view")},getDefaultXmlPi:function(e){return e.getParam("fullpage_default_xml_pi")},getDefaultEncoding:function(e){return e.getParam("fullpage_default_encoding")},getDefaultFontFamily:function(e){return e.getParam("fullpage_default_font_family")},getDefaultFontSize:function(e){return e.getParam("fullpage_default_font_size")},getDefaultTextColor:function(e){return e.getParam("fullpage_default_text_color")},getDefaultTitle:function(e){return e.getParam("fullpage_default_title")},getDefaultDocType:function(e){return e.getParam("fullpage_default_doctype","<!DOCTYPE html>")}}}),o("tinymce.plugins.fullpage.core.Parser",["tinymce.core.html.DomParser","tinymce.core.html.Node","tinymce.core.html.Serializer","tinymce.core.util.Tools","tinymce.plugins.fullpage.api.Settings"],function(e,t,n,r,o){var i=function(t){return new e({validate:!1,root_name:"#document"}).parse(t)};return{parseHeader:i,htmlToData:function(e,t){function n(e,t){return e.attr(t)||""}var a,c,s=i(t),u={};return u.fontface=o.getDefaultFontFamily(e),u.fontsize=o.getDefaultFontSize(e),7===(a=s.firstChild).type&&(u.xml_pi=!0,(c=/encoding="([^"]+)"/.exec(a.value))&&(u.docencoding=c[1])),(a=s.getAll("#doctype")[0])&&(u.doctype="<!DOCTYPE"+a.value+">"),(a=s.getAll("title")[0])&&a.firstChild&&(u.title=a.firstChild.value),r.each(s.getAll("meta"),function(e){var t,n=e.attr("name"),r=e.attr("http-equiv");n?u[n.toLowerCase()]=e.attr("content"):"Content-Type"===r&&(t=/charset\s*=\s*(.*)\s*/gi.exec(e.attr("content")))&&(u.docencoding=t[1])}),(a=s.getAll("html")[0])&&(u.langcode=n(a,"lang")||n(a,"xml:lang")),u.stylesheets=[],r.each(s.getAll("link"),function(e){"stylesheet"===e.attr("rel")&&u.stylesheets.push(e.attr("href"))}),(a=s.getAll("body")[0])&&(u.langdir=n(a,"dir"),u.style=n(a,"style"),u.visited_color=n(a,"vlink"),u.link_color=n(a,"link"),u.active_color=n(a,"alink")),u},dataToHtml:function(e,o,a){function c(e,t,n){e.attr(t,n||void 0)}function s(e){l.firstChild?l.insert(e,l.firstChild):l.append(e)}var u,l,f,d,p,m=e.dom;u=i(a),(l=u.getAll("head")[0])||(d=u.getAll("html")[0],l=new t("head",1),d.firstChild?d.insert(l,d.firstChild,!0):d.append(l)),d=u.firstChild,o.xml_pi?(p='version="1.0"',o.docencoding&&(p+=' encoding="'+o.docencoding+'"'),7!==d.type&&(d=new t("xml",7),u.insert(d,u.firstChild,!0)),d.value=p):d&&7===d.type&&d.remove(),d=u.getAll("#doctype")[0],o.doctype?(d||(d=new t("#doctype",10),o.xml_pi?u.insert(d,u.firstChild):s(d)),d.value=o.doctype.substring(9,o.doctype.length-1)):d&&d.remove(),d=null,r.each(u.getAll("meta"),function(e){"Content-Type"===e.attr("http-equiv")&&(d=e)}),o.docencoding?(d||((d=new t("meta",1)).attr("http-equiv","Content-Type"),d.shortEnded=!0,s(d)),d.attr("content","text/html; charset="+o.docencoding)):d&&d.remove(),d=u.getAll("title")[0],o.title?(d?d.empty():s(d=new t("title",1)),d.append(new t("#text",3)).value=o.title):d&&d.remove(),r.each("keywords,description,author,copyright,robots".split(","),function(e){var n,r,i=u.getAll("meta"),a=o[e];for(n=0;n<i.length;n++)if((r=i[n]).attr("name")===e)return void(a?r.attr("content",a):r.remove());a&&((d=new t("meta",1)).attr("name",e),d.attr("content",a),d.shortEnded=!0,s(d))});var h={};return r.each(u.getAll("link"),function(e){"stylesheet"===e.attr("rel")&&(h[e.attr("href")]=e)}),r.each(o.stylesheets,function(e){h[e]||((d=new t("link",1)).attr({rel:"stylesheet",text:"text/css",href:e}),d.shortEnded=!0,s(d)),delete h[e]}),r.each(h,function(e){e.remove()}),(d=u.getAll("body")[0])&&(c(d,"dir",o.langdir),c(d,"style",o.style),c(d,"vlink",o.visited_color),c(d,"link",o.link_color),c(d,"alink",o.active_color),m.setAttribs(e.getBody(),{style:o.style,dir:o.dir,vLink:o.visited_color,link:o.link_color,aLink:o.active_color})),(d=u.getAll("html")[0])&&(c(d,"lang",o.langcode),c(d,"xml:lang",o.langcode)),l.firstChild||l.remove(),(f=new n({validate:!1,indent:!0,apply_source_formatting:!0,indent_before:"head,html,body,meta,title,script,link,style",indent_after:"head,html,body,meta,title,script,link,style"}).serialize(u)).substring(0,f.indexOf("</body>"))}}}),o("tinymce.plugins.fullpage.ui.Dialog",["tinymce.core.util.Tools","tinymce.plugins.fullpage.core.Parser"],function(e,t){return{open:function(n,r){var o=t.htmlToData(n,r.get());n.windowManager.open({title:"Document properties",data:o,defaults:{type:"textbox",size:40},body:[{name:"title",label:"Title"},{name:"keywords",label:"Keywords"},{name:"description",label:"Description"},{name:"robots",label:"Robots"},{name:"author",label:"Author"},{name:"docencoding",label:"Encoding"}],onSubmit:function(i){var a=t.dataToHtml(n,e.extend(o,i.data),r.get());r.set(a)}})}}}),o("tinymce.plugins.fullpage.api.Commands",["tinymce.plugins.fullpage.ui.Dialog"],function(e){return{register:function(t,n){t.addCommand("mceFullPageProperties",function(){e.open(t,n)})}}}),o("tinymce.plugins.fullpage.core.Protect",["tinymce.core.util.Tools"],function(e){return{protectHtml:function(t,n){return e.each(t,function(e){n=n.replace(e,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})}),n},unprotectHtml:function(e){return e.replace(/<!--mce:protected ([\s\S]*?)-->/g,function(e,t){return unescape(t)})}}}),o("tinymce.plugins.fullpage.core.FilterContent",["tinymce.core.util.Tools","tinymce.plugins.fullpage.api.Settings","tinymce.plugins.fullpage.core.Parser","tinymce.plugins.fullpage.core.Protect"],function(e,t,n,r){var o=e.each,i=function(e){return e.replace(/<\/?[A-Z]+/g,function(e){return e.toLowerCase()})},a=function(e){var n,r="",o="";if(t.getDefaultXmlPi(e)){var i=t.getDefaultEncoding(e);r+='<?xml version="1.0" encoding="'+(i||"ISO-8859-1")+'" ?>\n'}return r+=t.getDefaultDocType(e),r+="\n<html>\n<head>\n",(n=t.getDefaultTitle(e))&&(r+="<title>"+n+"</title>\n"),(n=t.getDefaultEncoding(e))&&(r+='<meta http-equiv="Content-Type" content="text/html; charset='+n+'" />\n'),(n=t.getDefaultFontFamily(e))&&(o+="font-family: "+n+";"),(n=t.getDefaultFontSize(e))&&(o+="font-size: "+n+";"),(n=t.getDefaultTextColor(e))&&(o+="color: "+n+";"),r+="</head>\n<body"+(o?' style="'+o+'"':"")+">\n"};return{setup:function(c,s,u){c.on("BeforeSetContent",function(l){!function(c,s,u,l){var f,d,p,m,h,g="",v=c.dom;if(!(l.selection||(p=r.protectHtml(c.settings.protect,l.content),"raw"===l.format&&s.get()||l.source_view&&t.shouldHideInSourceView(c)))){0!==p.length||l.source_view||(p=e.trim(s.get())+"\n"+e.trim(p)+"\n"+e.trim(u.get())),-1!==(f=(p=p.replace(/<(\/?)BODY/gi,"<$1body")).indexOf("<body"))?(f=p.indexOf(">",f),s.set(i(p.substring(0,f+1))),-1===(d=p.indexOf("</body",f))&&(d=p.length),l.content=e.trim(p.substring(f+1,d)),u.set(i(p.substring(d)))):(s.set(a(c)),u.set("\n</body>\n</html>")),m=n.parseHeader(s.get()),o(m.getAll("style"),function(e){e.firstChild&&(g+=e.firstChild.value)}),(h=m.getAll("body")[0])&&v.setAttribs(c.getBody(),{style:h.attr("style")||"",dir:h.attr("dir")||"",vLink:h.attr("vlink")||"",link:h.attr("link")||"",aLink:h.attr("alink")||""}),v.remove("fullpage_styles");var y=c.getDoc().getElementsByTagName("head")[0];g&&(v.add(y,"style",{id:"fullpage_styles"},g),(h=v.get("fullpage_styles")).styleSheet&&(h.styleSheet.cssText=g));var b={};e.each(y.getElementsByTagName("link"),function(e){"stylesheet"===e.rel&&e.getAttribute("data-mce-fullpage")&&(b[e.href]=e)}),e.each(m.getAll("link"),function(e){var t=e.attr("href");if(!t)return!0;b[t]||"stylesheet"!==e.attr("rel")||v.add(y,"link",{rel:"stylesheet",text:"text/css",href:t,"data-mce-fullpage":"1"}),delete b[t]}),e.each(b,function(e){e.parentNode.removeChild(e)})}}(c,s,u,l)}),c.on("GetContent",function(n){!function(n,o,i,a){a.selection||a.source_view&&t.shouldHideInSourceView(n)||(a.content=r.unprotectHtml(e.trim(o)+"\n"+e.trim(a.content)+"\n"+e.trim(i)))}(c,s.get(),u.get(),n)})}}}),o("tinymce.plugins.fullpage.ui.Buttons",[],function(){return{register:function(e){e.addButton("fullpage",{title:"Document properties",cmd:"mceFullPageProperties"}),e.addMenuItem("fullpage",{text:"Document properties",cmd:"mceFullPageProperties",context:"file"})}}}),o("tinymce.plugins.fullpage.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.fullpage.api.Commands","tinymce.plugins.fullpage.core.FilterContent","tinymce.plugins.fullpage.ui.Buttons"],function(e,t,n,r,o){return t.add("fullpage",function(t){var i=e(""),a=e("");n.register(t,i),o.register(t),r.setup(t,i,a)}),function(){}}),n("tinymce.plugins.fullpage.Plugin")()}()},function(e,t,n){n(147)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t,i=function(e,t){o(e,[],function(){return t})};i("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.EditorManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.EditorManager")}),i("global!Array",Array),i("global!Error",Error),o("ephox.katamari.api.Fun",["global!Array","global!Error"],function(e,t){var n=function(e){return function(){return e}};return{noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:n,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(t){for(var n=new e(arguments.length-1),r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){for(var r=new e(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];var i=n.concat(r);return t.apply(null,i)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new t(e)}},apply:function(e){return e()},call:function(e){e()},never:n(!1),always:n(!0)}}),i("global!Object",Object),o("ephox.katamari.api.Option",["ephox.katamari.api.Fun","global!Object"],function(e,t){var n=e.never,r=e.always,o=function(){return i},i=function(){var i=function(e){return e.isNone()},a=function(e){return e()},c=function(e){return e},s={fold:function(e,t){return e()},is:n,isSome:n,isNone:r,getOr:c,getOrThunk:a,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:c,orThunk:a,map:o,ap:o,each:function(){},bind:o,flatten:o,exists:n,forall:r,filter:o,equals:i,equals_:i,toArray:function(){return[]},toString:e.constant("none()")};return t.freeze&&t.freeze(s),s}(),a=function(e){var t=function(){return e},c=function(){return u},s=function(t){return t(e)},u={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:r,isNone:n,getOr:t,getOrThunk:t,getOrDie:t,or:c,orThunk:c,map:function(t){return a(t(e))},ap:function(t){return t.fold(o,function(t){return a(t(e))})},each:function(t){t(e)},bind:s,flatten:t,exists:s,forall:s,filter:function(t){return t(e)?u:i},equals:function(t){return t.is(e)},equals_:function(t,r){return t.fold(n,function(t){return r(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return u};return{some:a,none:o,from:function(e){return null===e||void 0===e?i:a(e)}}}),i("global!String",String),o("ephox.katamari.api.Arr",["ephox.katamari.api.Option","global!Array","global!Error","global!String"],function(e,t,n,r){var o=function(){var e=t.prototype.indexOf;return void 0===e?function(e,t){return f(e,t)}:function(t,n){return e.call(t,n)}}(),i=function(e,t){return o(e,t)>-1},a=function(e,n){for(var r=e.length,o=new t(r),i=0;i<r;i++){var a=e[i];o[i]=n(a,i,e)}return o},c=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n,e)}},s=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n,e)}},u=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},l=function(t,n){for(var r=0,o=t.length;r<o;r++){if(n(t[r],r,t))return e.some(r)}return e.none()},f=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},d=t.prototype.push,p=function(e){for(var r=[],o=0,i=e.length;o<i;++o){if(!t.prototype.isPrototypeOf(e[o]))throw new n("Arr.flatten item "+o+" was not an array, input: "+e);d.apply(r,e[o])}return r},m=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n,e))return!1}return!0},h=t.prototype.slice;return{map:a,each:c,eachr:s,partition:function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o,e)?n:r).push(a)}return{pass:n,fail:r}},filter:u,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var c=e[i],s=t(c);s!==n&&(r.push(o),o=[]),n=s,o.push(c)}return 0!==o.length&&r.push(o),r},indexOf:function(t,n){var r=o(t,n);return-1===r?e.none():e.some(r)},foldr:function(e,t,n){return s(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return c(e,function(e){n=t(n,e)}),n},find:function(t,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(n(i,r,t))return e.some(i)}return e.none()},findIndex:l,flatten:p,bind:function(e,t){var n=a(e,t);return p(n)},forall:m,exists:function(e,t){return l(e,t).isSome()},contains:i,equal:function(e,t){return e.length===t.length&&m(e,function(e,n){return e===t[n]})},reverse:function(e){var t=h.call(e,0);return t.reverse(),t},chunk:function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=e.slice(r,r+t);n.push(o)}return n},difference:function(e,t){return u(e,function(e){return!i(t,e)})},mapToObject:function(e,t){for(var n={},o=0,i=e.length;o<i;o++){var a=e[o];n[r(a)]=t(a,o)}return n},pure:function(e){return[e]},sort:function(e,t){var n=h.call(e,0);return n.sort(t),n},range:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},head:function(t){return 0===t.length?e.none():e.some(t[0])},last:function(t){return 0===t.length?e.none():e.some(t[t.length-1])}}}),o("tinymce.core.util.I18n",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.I18n")}),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),o("tinymce.plugins.help.data.KeyboardShortcuts",["tinymce.core.Env"],function(e){var t=e.mac?"":"Ctrl",n=e.mac?"Ctrl + Alt":"Shift + Alt";return{shortcuts:[{shortcut:t+" + B",action:"Bold"},{shortcut:t+" + I",action:"Italic"},{shortcut:t+" + U",action:"Underline"},{shortcut:t+" + A",action:"Select all"},{shortcut:t+" + Y or "+t+" + Shift + Z",action:"Redo"},{shortcut:t+" + Z",action:"Undo"},{shortcut:n+" + 1",action:"Header 1"},{shortcut:n+" + 2",action:"Header 2"},{shortcut:n+" + 3",action:"Header 3"},{shortcut:n+" + 4",action:"Header 4"},{shortcut:n+" + 5",action:"Header 5"},{shortcut:n+" + 6",action:"Header 6"},{shortcut:n+" + 7",action:"Paragraph"},{shortcut:n+" + 8",action:"Div"},{shortcut:n+" + 9",action:"Address"},{shortcut:"Alt + F9",action:"Focus to menubar"},{shortcut:"Alt + F10",action:"Focus to toolbar"},{shortcut:"Alt + F11",action:"Focus to element path"},{shortcut:"Ctrl + Shift + P > Ctrl + Shift + P",action:"Focus to contextual toolbar"},{shortcut:t+" + K",action:"Insert link (if link plugin activated)"},{shortcut:t+" + S",action:"Save (if save plugin activated)"},{shortcut:t+" + F",action:"Find (if searchreplace plugin activated)"}]}}),o("tinymce.plugins.help.ui.KeyboardShortcutsTab",["ephox.katamari.api.Arr","tinymce.core.util.I18n","tinymce.plugins.help.data.KeyboardShortcuts"],function(e,t,n){return{makeTab:function(){var r=e.map(n.shortcuts,function(e){return'<tr data-mce-tabstop="1" tabindex="-1" '+function(e){return'aria-label="Action: '+e.action+", Shortcut: "+e.shortcut.replace(/Ctrl/g,"Control")+'"'}(e)+"><td>"+t.translate(e.action)+"</td><td>"+e.shortcut+"</td></tr>"}).join("");return{title:"Handy Shortcuts",type:"container",style:"overflow-y: auto; overflow-x: hidden; max-height: 250px",items:[{type:"container",html:'<div><table class="mce-table-striped"><thead><th>'+t.translate("Action")+"</th><th>"+t.translate("Shortcut")+"</th></thead>"+r+"</table></div>"}]}}}}),o("ephox.katamari.api.Obj",["ephox.katamari.api.Option","global!Object"],function(e,t){var n=function(){var e=t.keys;return void 0===e?function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}:e}(),r=function(e,t){for(var r=n(e),o=0,i=r.length;o<i;o++){var a=r[o];t(e[a],a,e)}},o=function(e,t){var n={};return r(e,function(r,o){var i=t(r,o,e);n[i.k]=i.v}),n},i=function(e,t){var n=[];return r(e,function(e,r){n.push(t(e,r))}),n},a=function(e){return i(e,function(e){return e})};return{bifilter:function(e,t){var n={},o={};return r(e,function(e,r){(t(e,r)?n:o)[r]=e}),{t:n,f:o}},each:r,map:function(e,t){return o(e,function(e,n,r){return{k:n,v:t(e,n,r)}})},mapToArray:i,tupleMap:o,find:function(t,r){for(var o=n(t),i=0,a=o.length;i<a;i++){var c=o[i],s=t[c];if(r(s,c,t))return e.some(s)}return e.none()},keys:n,values:a,size:function(e){return a(e).length}}}),o("ephox.katamari.str.StrAppend",[],function(){return{addToStart:function(e,t){return t+e},addToEnd:function(e,t){return e+t},removeFromStart:function(e,t){return e.substring(t)},removeFromEnd:function(e,t){return e.substring(0,e.length-t)}}}),o("ephox.katamari.str.StringParts",["ephox.katamari.api.Option","global!Error"],function(e,t){return{first:function(e,t){return e.substr(0,t)},last:function(e,t){return e.substr(e.length-t,e.length)},head:function(t){return""===t?e.none():e.some(t.substr(0,1))},tail:function(t){return""===t?e.none():e.some(t.substring(1))}}}),o("ephox.katamari.api.Strings",["ephox.katamari.str.StrAppend","ephox.katamari.str.StringParts","global!Error"],function(e,t,n){var r=function(e,t,n){if(""===t)return!0;if(e.length<t.length)return!1;return e.substr(n,n+t.length)===t},o=function(e,t){return r(e,t,0)},i=function(e,t){return r(e,t,e.length-t.length)};return{supplant:function(e,t){return e.replace(/\${([^{}]*)}/g,function(e,n){var r=t[n];return function(e){var t=typeof e;return"string"===t||"number"===t}(r)?r:e})},startsWith:o,removeLeading:function(t,n){return o(t,n)?e.removeFromStart(t,n.length):t},removeTrailing:function(t,n){return i(t,n)?e.removeFromEnd(t,n.length):t},ensureLeading:function(t,n){return o(t,n)?t:e.addToStart(t,n)},ensureTrailing:function(t,n){return i(t,n)?t:e.addToEnd(t,n)},endsWith:i,contains:function(e,t){return-1!==e.indexOf(t)},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},lTrim:function(e){return e.replace(/^\s+/g,"")},rTrim:function(e){return e.replace(/\s+$/g,"")},capitalize:function(e){return t.head(e).bind(function(n){return t.tail(e).map(function(e){return n.toUpperCase()+e})}).getOr(e)}}}),o("tinymce.plugins.help.data.PluginUrls",[],function(){return{urls:[{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"bbcode",name:"BBCode"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"compat3x",name:"3.x Compatibility"},{key:"contextmenu",name:"Context Menu"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullpage",name:"Full Page"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"hr",name:"Horizontal Rule"},{key:"image",name:"Image"},{key:"imagetools",name:"Image Tools"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"legacyoutput",name:"Legacy Output"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"noneditable",name:"Noneditable"},{key:"pagebreak",name:"Page Break"},{key:"paste",name:"Paste"},{key:"preview",name:"Preview"},{key:"print",name:"Print"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"spellchecker",name:"Spell Checker"},{key:"tabfocus",name:"Tab Focus"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"textpattern",name:"Text Pattern"},{key:"toc",name:"Table of Contents"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"}]}}),o("tinymce.plugins.help.ui.PluginsTab",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Obj","ephox.katamari.api.Strings","tinymce.core.EditorManager","tinymce.core.util.I18n","tinymce.plugins.help.data.PluginUrls"],function(e,t,n,r,o,i,a){var c=t.curry(r.supplant,'<a href="${url}" target="_blank" rel="noopener">${name}</a>'),s=function(r){var o=function(r){var o=n.keys(r.plugins);return void 0===r.settings.forced_plugins?o:e.filter(o,t.not(t.curry(e.contains,r.settings.forced_plugins)))}(r),s=e.map(o,function(t){return"<li>"+function(t,n){return e.find(a.urls,function(e){return e.key===n}).fold(function(){var e=t.plugins[n].getMetadata;return"function"==typeof e?c(e()):n},function(e){return c({name:e.name,url:"https://www.tinymce.com/docs/plugins/"+e.key})})}(r,t)+"</li>"}),u=s.length,l=s.join("");return"<p><b>"+i.translate(["Plugins installed ({0}):",u])+"</b></p><ul>"+l+"</ul>"};return{makeTab:function(e){return{title:"Plugins",type:"container",style:"overflow-y: auto; overflow-x: hidden;",layout:"flex",padding:10,spacing:10,items:[function(e){return{type:"container",html:'<div style="overflow-y: auto; overflow-x: hidden; max-height: 230px; height: 230px;" data-mce-tabstop="1" tabindex="-1">'+s(e)+"</div>",flex:1}}(e),{type:"container",html:'<div style="padding: 10px; background: #e3e7f4; height: 100%;" data-mce-tabstop="1" tabindex="-1"><p><b>'+i.translate("Premium plugins:")+'</b></p><ul><li>PowerPaste</li><li>Spell Checker Pro</li><li>Accessibility Checker</li><li>Advanced Code Editor</li><li>Enhanced Media Embed</li><li>Link Checker</li></ul><br /><p style="float: right;"><a href="https://www.tinymce.com/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">'+i.translate("Learn more...")+"</a></p></div>",flex:1}]}}}}),o("tinymce.plugins.help.ui.ButtonsRow",["tinymce.core.EditorManager","tinymce.core.util.I18n"],function(e,t){return{makeRow:function(){var n='<a href="https://www.tinymce.com/docs/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">TinyMCE '+function(e,t){return 0===e.indexOf("@")?"X.X.X":e+"."+t}(e.majorVersion,e.minorVersion)+"</a>";return[{type:"label",html:t.translate(["You are using {0}",n])},{type:"spacer",flex:1},{text:"Close",onclick:function(){this.parent().parent().close()}}]}}}),o("tinymce.plugins.help.ui.Dialog",["tinymce.core.EditorManager","tinymce.plugins.help.ui.KeyboardShortcutsTab","tinymce.plugins.help.ui.PluginsTab","tinymce.plugins.help.ui.ButtonsRow"],function(e,t,n,r){return{open:function(e,o){return function(){e.windowManager.open({title:"Help",bodyType:"tabpanel",layout:"flex",body:[t.makeTab(),n.makeTab(e,o)],buttons:r.makeRow(),onPostRender:function(){this.getEl("title").innerHTML='<img src="'+o+'/img/logo.png" alt="TinyMCE Logo" style="display: inline-block; width: 200px; height: 50px">'}})}}}}),o("tinymce.plugins.help.api.Commands",["tinymce.plugins.help.ui.Dialog"],function(e){return{register:function(t,n){t.addCommand("mceHelp",e.open(t,n))}}}),o("tinymce.plugins.help.ui.Buttons",["tinymce.plugins.help.ui.Dialog"],function(e){return{register:function(t,n){t.addButton("help",{icon:"help",onclick:e.open(t,n)}),t.addMenuItem("Help",{text:"Help",icon:"help",context:"help",onclick:e.open(t,n)})}}}),o("tinymce.plugins.help.Plugin",["tinymce.core.PluginManager","tinymce.plugins.help.api.Commands","tinymce.plugins.help.ui.Buttons","tinymce.plugins.help.ui.Dialog"],function(e,t,n,r){return e.add("help",function(e,r){n.register(e,r),t.register(e,r),e.shortcuts.add("Alt+0","Open help dialog","mceHelp")}),function(){}}),n("tinymce.plugins.help.Plugin")()}()},function(e,t,n){n(149)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t,i=function(e,t){o(e,[],function(){return t})};i("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),i("global!Math",Math),i("global!RegExp",RegExp),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.image.api.Settings",[],function(){return{hasDimensions:function(e){return!1!==e.settings.image_dimensions},hasAdvTab:function(e){return!0===e.settings.image_advtab},getPrependUrl:function(e){return e.getParam("image_prepend_url","")},getClassList:function(e){return e.getParam("image_class_list")},hasDescription:function(e){return!1!==e.settings.image_description},hasImageTitle:function(e){return!0===e.settings.image_title},hasImageCaption:function(e){return!0===e.settings.image_caption},getImageList:function(e){return e.getParam("image_list",!1)},hasUploadUrl:function(e){return e.getParam("images_upload_url",!1)},hasUploadHandler:function(e){return e.getParam("images_upload_handler",!1)},getUploadUrl:function(e){return e.getParam("images_upload_url")},getUploadHandler:function(e){return e.getParam("images_upload_handler")},getUploadBasePath:function(e){return e.getParam("images_upload_base_path")},getUploadCredentials:function(e){return e.getParam("images_upload_credentials")}}}),i("global!document",document),o("ephox.katamari.api.Global",[],function(){return"undefined"!=typeof window?window:Function("return this;")()}),o("ephox.katamari.api.Resolve",["ephox.katamari.api.Global"],function(e){var t=function(t,n){for(var r=void 0!==n?n:e,o=0;o<t.length&&void 0!==r&&null!==r;++o)r=r[t[o]];return r},n=function(e,t){return void 0!==e[t]&&null!==e[t]||(e[t]={}),e[t]},r=function(t,r){for(var o=void 0!==r?r:e,i=0;i<t.length;++i)o=n(o,t[i]);return o};return{path:t,resolve:function(e,n){var r=e.split(".");return t(r,n)},forge:r,namespace:function(e,t){var n=e.split(".");return r(n,t)}}}),o("ephox.sand.util.Global",["ephox.katamari.api.Resolve"],function(e){return{getOrDie:function(t,n){var r=function(t,n){return e.resolve(t,n)}(t,n);if(void 0===r)throw t+" not available on this browser";return r}}}),o("ephox.sand.api.FileReader",["ephox.sand.util.Global"],function(e){return function(){return new(e.getOrDie("FileReader"))}}),o("tinymce.core.util.Promise",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Promise")}),o("tinymce.core.util.XHR",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.XHR")}),o("tinymce.plugins.image.core.Utils",["global!Math","global!document","ephox.sand.api.FileReader","tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.core.util.XHR","tinymce.plugins.image.api.Settings"],function(e,t,n,r,o,i,a){var c=function(t,n){return e.max(parseInt(t,10),parseInt(n,10))};return{getImageSize:function(e,n){function r(e,t){o.parentNode&&o.parentNode.removeChild(o),n({width:e,height:t})}var o=t.createElement("img");o.onload=function(){r(c(o.width,o.clientWidth),c(o.height,o.clientHeight))},o.onerror=function(){r()};var i=o.style;i.visibility="hidden",i.position="fixed",i.bottom=i.left=0,i.width=i.height="auto",t.body.appendChild(o),o.src=e},buildListItems:function(e,t,n){function r(e,n){return n=n||[],o.each(e,function(e){var o={text:e.text||e.title};e.menu?o.menu=r(e.menu):(o.value=e.value,t(o)),n.push(o)}),n}return r(e,n||[])},removePixelSuffix:function(e){return e&&(e=e.replace(/px$/,"")),e},addPixelSuffix:function(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e},mergeMargins:function(e){if(e.margin){var t=e.margin.split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},createImageList:function(e,t){var n=a.getImageList(e);"string"==typeof n?i.send({url:n,success:function(e){t(JSON.parse(e))}}):"function"==typeof n?n(t):t(n)},waitLoadImage:function(e,t,n){function r(){n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())}n.onload=function(){t.width||t.height||!a.hasDimensions(e)||e.dom.setAttribs(n,{width:n.clientWidth,height:n.clientHeight}),r()},n.onerror=r},blobToDataUri:function(e){return new r(function(t,r){var o=new n;o.onload=function(){t(o.result)},o.onerror=function(){r(n.error.message)},o.readAsDataURL(e)})}}}),o("tinymce.plugins.image.ui.AdvTab",["tinymce.plugins.image.api.Settings","tinymce.plugins.image.core.Utils"],function(e,t){return{makeTab:function(n,r){return{title:"Advanced",type:"form",pack:"start",items:[{label:"Style",name:"style",type:"textbox",onchange:function(n){return function(r){var o=n.dom,i=r.control.rootControl;if(e.hasAdvTab(n)){var a=i.toJSON(),c=o.parseStyle(a.style);i.find("#vspace").value(""),i.find("#hspace").value(""),((c=t.mergeMargins(c))["margin-top"]&&c["margin-bottom"]||c["margin-right"]&&c["margin-left"])&&(c["margin-top"]===c["margin-bottom"]?i.find("#vspace").value(t.removePixelSuffix(c["margin-top"])):i.find("#vspace").value(""),c["margin-right"]===c["margin-left"]?i.find("#hspace").value(t.removePixelSuffix(c["margin-right"])):i.find("#hspace").value("")),c["border-width"]&&i.find("#border").value(t.removePixelSuffix(c["border-width"])),i.find("#style").value(o.serializeStyle(o.parseStyle(o.serializeStyle(c))))}}}(n)},{type:"form",layout:"grid",packV:"start",columns:2,padding:0,alignH:["left","right"],defaults:{type:"textbox",maxWidth:50,onchange:function(e){r(n,e.control.rootControl)}},items:[{label:"Vertical space",name:"vspace"},{label:"Horizontal space",name:"hspace"},{label:"Border",name:"border"}]}]}}}}),o("tinymce.plugins.image.ui.SizeManager",[],function(){var e=function(e,t){e.state.set("oldVal",e.value()),t.state.set("oldVal",t.value())},t=function(e,t){var n=e.find("#width")[0],r=e.find("#height")[0],o=e.find("#constrain")[0];n&&r&&o&&t(n,r,o.checked())},n=function(t,n,r){var o=t.state.get("oldVal"),i=n.state.get("oldVal"),a=t.value(),c=n.value();r&&o&&i&&a&&c&&(a!==o?(c=Math.round(a/o*c),isNaN(c)||n.value(c)):(a=Math.round(c/i*a),isNaN(a)||t.value(a))),e(t,n)},r=function(e){t(e,n)};return{createUi:function(){var e=function(e){r(e.control.rootControl)};return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:e,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:e,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}},syncSize:function(n){t(n,e)},updateSize:r}}),o("tinymce.plugins.image.ui.MainTab",["tinymce.core.util.Tools","tinymce.plugins.image.api.Settings","tinymce.plugins.image.core.Utils","tinymce.plugins.image.ui.SizeManager"],function(e,t,n,r){var o=function(e){e.meta=e.control.rootControl.toJSON()},i=function(i,a){var c=[{name:"src",type:"filepicker",filetype:"image",label:"Source",autofocus:!0,onchange:function(o){!function(o,i){var a,c,s,u=o.meta||{},l=o.control,f=l.rootControl,d=f.find("#image-list")[0];d&&d.value(i.convertURL(l.value(),"src")),e.each(u,function(e,t){f.find("#"+t).value(e)}),u.width||u.height||(a=i.convertURL(l.value(),"src"),c=t.getPrependUrl(i),s=new RegExp("^(?:[a-z]+:)?//","i"),c&&!s.test(a)&&a.substring(0,c.length)!==c&&(a=c+a),l.value(a),n.getImageSize(i.documentBaseURI.toAbsolute(l.value()),function(e){e.width&&e.height&&t.hasDimensions(i)&&(f.find("#width").value(e.width),f.find("#height").value(e.height),r.updateSize(f))}))}(o,i)},onbeforecall:o},a];return t.hasDescription(i)&&c.push({name:"alt",type:"textbox",label:"Image description"}),t.hasImageTitle(i)&&c.push({name:"title",type:"textbox",label:"Image Title"}),t.hasDimensions(i)&&c.push(r.createUi()),t.getClassList(i)&&c.push({name:"class",type:"listbox",label:"Class",values:n.buildListItems(t.getClassList(i),function(e){e.value&&(e.textStyle=function(){return i.formatter.getCssText({inline:"img",classes:[e.value]})})})}),t.hasImageCaption(i)&&c.push({name:"caption",type:"checkbox",label:"Caption"}),c};return{makeTab:function(e,t){return{title:"General",type:"form",items:i(e,t)}},getGeneralItems:i}}),o("ephox.sand.api.URL",["ephox.sand.util.Global"],function(e){var t=function(){return e.getOrDie("URL")};return{createObjectURL:function(e){return t().createObjectURL(e)},revokeObjectURL:function(e){t().revokeObjectURL(e)}}}),o("tinymce.core.ui.Factory",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.ui.Factory")}),o("ephox.sand.api.XMLHttpRequest",["ephox.sand.util.Global"],function(e){return function(){return new(e.getOrDie("XMLHttpRequest"))}}),i("global!window",window),o("tinymce.plugins.image.core.Uploader",["ephox.sand.api.XMLHttpRequest","global!document","global!window","tinymce.core.util.Promise","tinymce.core.util.Tools"],function(e,t,n,r,o){var i=function(){};return function(t){var a=function(r,o,i,a){var c,s;(c=new e).open("POST",t.url),c.withCredentials=t.credentials,c.upload.onprogress=function(e){a(e.loaded/e.total*100)},c.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+c.status)},c.onload=function(){var e;c.status<200||c.status>=300?i("HTTP Error: "+c.status):(e=JSON.parse(c.responseText))&&"string"==typeof e.location?o(function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t}(t.basePath,e.location)):i("Invalid JSON: "+c.responseText)},(s=new n.FormData).append("file",r.blob(),r.filename()),c.send(s)};return t=o.extend({credentials:!1,handler:a},t),{upload:function(e){return!t.url&&function(e){return e===a}(t.handler)?r.reject("Upload url missing from the settings."):function(e,t){return new r(function(n,r){try{t(e,n,r,i)}catch(e){r(e.message)}})}(e,t.handler)}}}}),o("tinymce.plugins.image.ui.UploadTab",["ephox.sand.api.URL","tinymce.core.ui.Factory","tinymce.plugins.image.api.Settings","tinymce.plugins.image.core.Utils","tinymce.plugins.image.core.Uploader"],function(e,t,n,r,o){var i=function(i){return function(a){var c=t.get("Throbber"),s=a.control.rootControl,u=new c(s.getEl()),l=a.control.value(),f=e.createObjectURL(l),d=new o({url:n.getUploadUrl(i),basePath:n.getUploadBasePath(i),credentials:n.getUploadCredentials(i),handler:n.getUploadHandler(i)}),p=function(){u.hide(),e.revokeObjectURL(f)};return u.show(),r.blobToDataUri(l).then(function(e){var t=i.editorUpload.blobCache.create({blob:l,blobUri:f,name:l.name?l.name.replace(/\.[^\.]+$/,""):null,base64:e.split(",")[1]});return d.upload(t).then(function(e){var t=s.find("#src");return t.value(e),s.find("tabpanel")[0].activateTab(0),t.fire("change"),p(),e})}).catch(function(e){i.windowManager.alert(e),p()})}},a=".jpg,.jpeg,.png,.gif";return{makeTab:function(e){return{title:"Upload",type:"form",layout:"flex",direction:"column",align:"stretch",padding:"20 20 20 20",items:[{type:"container",layout:"flex",direction:"column",align:"center",spacing:10,items:[{text:"Browse for an image",type:"browsebutton",accept:a,onchange:i(e)},{text:"OR",type:"label"}]},{text:"Drop an image here",type:"dropzone",accept:a,height:100,onchange:i(e)}]}}}}),o("tinymce.plugins.image.ui.Dialog",["global!Math","global!RegExp","tinymce.core.util.Tools","tinymce.plugins.image.api.Settings","tinymce.plugins.image.core.Utils","tinymce.plugins.image.ui.AdvTab","tinymce.plugins.image.ui.MainTab","tinymce.plugins.image.ui.SizeManager","tinymce.plugins.image.ui.UploadTab"],function(e,t,n,r,o,i,a,c,s){return function(e){function t(t){function l(){var t,r;c.updateSize(f),u(e,f),(h=n.extend(h,f.toJSON())).alt||(h.alt=""),h.title||(h.title=""),""===h.width&&(h.width=null),""===h.height&&(h.height=null),h.style||(h.style=null),h={src:h.src,alt:h.alt,title:h.title,width:h.width,height:h.height,style:h.style,caption:h.caption,class:h.class},e.undoManager.transact(function(){if(h.src){if(""===h.title&&(h.title=null),d?g.setAttribs(d,h):(h.id="__mcenew",e.focus(),e.selection.setContent(g.createHTML("img",h)),d=g.get("__mcenew"),g.setAttrib(d,"id",null)),e.editorUpload.uploadImagesAuto(),!1===h.caption&&g.is(d.parentNode,"figure.image")&&(t=d.parentNode,g.insertAfter(d,t),g.remove(t)),!0!==h.caption)o.waitLoadImage(e,h,d);else if(!g.is(d.parentNode,"figure.image")){r=d,d=d.cloneNode(!0),(t=g.create("figure",{class:"image"})).appendChild(d),t.appendChild(g.create("figcaption",{contentEditable:!0},"Caption")),t.contentEditable=!1;var n=g.getParent(r,function(t){return e.schema.getTextBlockElements()[t.nodeName]});n?g.split(n,r,t):g.replace(t,r),e.selection.select(t)}}else if(d){var i=g.is(d.parentNode,"figure.image")?d.parentNode:d;g.remove(i),e.focus(),e.nodeChanged(),g.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}})}var f,d,p,m,h={},g=e.dom;if(d=e.selection.getNode(),(p=g.getParent(d,"figure.image"))&&(d=g.select("img",p)[0]),d&&("IMG"!==d.nodeName||d.getAttribute("data-mce-object")||d.getAttribute("data-mce-placeholder"))&&(d=null),d&&(h={src:g.getAttrib(d,"src"),alt:g.getAttrib(d,"alt"),title:g.getAttrib(d,"title"),class:g.getAttrib(d,"class"),width:g.getAttrib(d,"width"),height:g.getAttrib(d,"height"),caption:!!p}),t&&(m={type:"listbox",label:"Image list",name:"image-list",values:o.buildListItems(t,function(t){t.value=e.convertURL(t.value||t.url,"src")},[{text:"None",value:""}]),value:h.src&&e.convertURL(h.src,"src"),onselect:function(e){var t=f.find("#alt");(!t.value()||e.lastControl&&t.value()===e.lastControl.text())&&t.value(e.control.text()),f.find("#src").value(e.control.value()).fire("change")},onPostRender:function(){m=this}}),r.hasAdvTab(e)||r.hasUploadUrl(e)||r.hasUploadHandler(e)){var v=[a.makeTab(e,m)];r.hasAdvTab(e)&&(d&&(d.style.marginLeft&&d.style.marginRight&&d.style.marginLeft===d.style.marginRight&&(h.hspace=o.removePixelSuffix(d.style.marginLeft)),d.style.marginTop&&d.style.marginBottom&&d.style.marginTop===d.style.marginBottom&&(h.vspace=o.removePixelSuffix(d.style.marginTop)),d.style.borderWidth&&(h.border=o.removePixelSuffix(d.style.borderWidth)),h.style=e.dom.serializeStyle(e.dom.parseStyle(e.dom.getAttrib(d,"style")))),v.push(i.makeTab(e,u))),(r.hasUploadUrl(e)||r.hasUploadHandler(e))&&v.push(s.makeTab(e)),f=e.windowManager.open({title:"Insert/edit image",data:h,bodyType:"tabpanel",body:v,onSubmit:l})}else f=e.windowManager.open({title:"Insert/edit image",data:h,body:a.getGeneralItems(e,m),onSubmit:l});c.syncSize(f)}var u=function(e,t){if(r.hasAdvTab(e)){var n=e.dom,i=t.toJSON(),a=n.parseStyle(i.style);a=o.mergeMargins(a),i.vspace&&(a["margin-top"]=a["margin-bottom"]=o.addPixelSuffix(i.vspace)),i.hspace&&(a["margin-left"]=a["margin-right"]=o.addPixelSuffix(i.hspace)),i.border&&(a["border-width"]=o.addPixelSuffix(i.border)),t.find("#style").value(n.serializeStyle(n.parseStyle(n.serializeStyle(a))))}};return{open:function(){o.createImageList(e,t)}}}}),o("tinymce.plugins.image.api.Commands",["tinymce.plugins.image.ui.Dialog"],function(e){return{register:function(t){t.addCommand("mceImage",e(t).open)}}}),o("tinymce.plugins.image.core.FilterContent",["tinymce.core.util.Tools"],function(e){var t=function(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)},n=function(n){return function(r){for(var o,i=r.length,a=function(e){e.attr("contenteditable",n?"true":null)};i--;)o=r[i],t(o)&&(o.attr("contenteditable",n?"false":null),e.each(o.getAll("figcaption"),a))}};return{setup:function(e){e.on("preInit",function(){e.parser.addNodeFilter("figure",n(!0)),e.serializer.addNodeFilter("figure",n(!1))})}}}),o("tinymce.plugins.image.ui.Buttons",["tinymce.plugins.image.ui.Dialog"],function(e){return{register:function(t){t.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:e(t).open,stateSelector:"img:not([data-mce-object],[data-mce-placeholder]),figure.image"}),t.addMenuItem("image",{icon:"image",text:"Image",onclick:e(t).open,context:"insert",prependToContext:!0})}}}),o("tinymce.plugins.image.Plugin",["tinymce.core.PluginManager","tinymce.plugins.image.api.Commands","tinymce.plugins.image.core.FilterContent","tinymce.plugins.image.ui.Buttons"],function(e,t,n,r){return e.add("image",function(e){n.setup(e),r.register(e),t.register(e)}),function(){}}),n("tinymce.plugins.image.Plugin")()}()},function(e,t,n){n(151)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.core.EditorManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.EditorManager")}),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.importcss.api.Settings",[],function(){return{shouldMergeClasses:function(e){return e.getParam("importcss_merge_classes")},shouldImportExclusive:function(e){return e.getParam("importcss_exclusive")},getSelectorConverter:function(e){return e.getParam("importcss_selector_converter")},getSelectorFilter:function(e){return e.getParam("importcss_selector_filter")},getCssGroups:function(e){return e.getParam("importcss_groups")},shouldAppend:function(e){return e.getParam("importcss_append")},getFileFilter:function(e){return e.getParam("importcss_file_filter")}}}),o("tinymce.plugins.importcss.core.ImportCss",["tinymce.core.dom.DOMUtils","tinymce.core.EditorManager","tinymce.core.Env","tinymce.core.util.Tools","tinymce.plugins.importcss.api.Settings"],function(e,t,n,r,o){var i=function(e){var t=n.cacheSuffix;return"string"==typeof e&&(e=e.replace("?"+t,"").replace("&"+t,"")),e},a=function(e,n){var r=e.settings,o=!1!==r.skin&&(r.skin||"lightgray");if(o){return n===(r.skin_url?e.documentBaseURI.toAbsolute(r.skin_url):t.baseURL+"/skins/"+o)+"/content"+(e.inline?".inline":"")+".min.css"}return!1},c=function(e){return"string"==typeof e?function(t){return-1!==t.indexOf(e)}:e instanceof RegExp?function(t){return e.test(t)}:e},s=function(e,t){var n,i=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(t);if(i){var a=i[1],c=i[2].substr(1).split(".").join(" "),s=r.makeMap("a,img");return i[1]?(n={title:t},e.schema.getTextBlockElements()[a]?n.block=a:e.schema.getBlockElements()[a]||s[a.toLowerCase()]?n.selector=a:n.inline=a):i[2]&&(n={inline:"span",title:t.substr(1),classes:c}),!1!==o.shouldMergeClasses(e)?n.classes=c:n.attributes={class:c},n}},u=function(e,t){return null===t||!1!==o.shouldImportExclusive(e)};return{defaultConvertSelectorToFormat:s,setup:function(t){t.on("renderFormatsMenu",function(n){var l={},f=c(o.getSelectorFilter(t)),d=n.control,p=function(e){return r.map(e,function(e){return r.extend({},e,{original:e,selectors:{},filter:c(e.filter),item:{text:e.title,menu:[]}})})}(o.getCssGroups(t)),m=function(n,i){if(function(e,t,n,r){return!(u(e,n)?t in r:t in n.selectors)}(t,n,i,l)){!function(e,t,n,r){u(e,n)?r[t]=!0:n.selectors[t]=!0}(t,n,i,l);var a=function(e,t,n,r){return(r&&r.selector_converter?r.selector_converter:o.getSelectorConverter(e)?o.getSelectorConverter(e):function(){return s(e,n)}).call(t,n,r)}(t,t.plugins.importcss,n,i);if(a){var c=a.name||e.DOM.uniqueId();return t.formatter.register(c,a),r.extend({},d.settings.itemDefaults,{text:a.title,format:c})}}return null};o.shouldAppend(t)||d.items().remove(),r.each(function(e,t,n){function o(t,s){var u,l=t.href;if((l=i(l))&&n(l,s)&&!a(e,l)){r.each(t.imports,function(e){o(e,!0)});try{u=t.cssRules||t.rules}catch(e){}r.each(u,function(e){e.styleSheet?o(e.styleSheet,!0):e.selectorText&&r.each(e.selectorText.split(","),function(e){c.push(r.trim(e))})})}}var c=[],s={};r.each(e.contentCSS,function(e){s[e]=!0}),n||(n=function(e,t){return t||s[e]});try{r.each(t.styleSheets,function(e){o(e)})}catch(e){}return c}(t,n.doc||t.getDoc(),c(o.getFileFilter(t))),function(e){if(-1===e.indexOf(".mce-")&&(!f||f(e))){var t=function(e,t){return r.grep(e,function(e){return!e.filter||e.filter(t)})}(p,e);if(t.length>0)r.each(t,function(t){var n=m(e,t);n&&t.item.menu.push(n)});else{var n=m(e,null);n&&d.add(n)}}}),r.each(p,function(e){e.item.menu.length>0&&d.add(e.item)}),n.control.renderNew()})}}}),o("tinymce.plugins.importcss.api.Api",["tinymce.plugins.importcss.core.ImportCss"],function(e){return{get:function(t){return{convertSelectorToFormat:function(n){return e.defaultConvertSelectorToFormat(t,n)}}}}}),o("tinymce.plugins.importcss.Plugin",["tinymce.core.PluginManager","tinymce.plugins.importcss.api.Api","tinymce.plugins.importcss.core.ImportCss"],function(e,t,n){return e.add("importcss",function(e){return n.setup(e),t.get(e)}),function(){}}),n("tinymce.plugins.importcss.Plugin")()}()},function(e,t,n){n(153)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.legacyoutput.core.Formats",["tinymce.core.util.Tools"],function(e){return{setup:function(t){t.settings.inline_styles=!1,t.on("init",function(){!function(t){var n="p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",r=e.explode(t.settings.font_size_style_values),o=t.schema;t.formatter.register({alignleft:{selector:n,attributes:{align:"left"}},aligncenter:{selector:n,attributes:{align:"center"}},alignright:{selector:n,attributes:{align:"right"}},alignjustify:{selector:n,attributes:{align:"justify"}},bold:[{inline:"b",remove:"all"},{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}}],italic:[{inline:"i",remove:"all"},{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}}],underline:[{inline:"u",remove:"all"},{inline:"span",styles:{textDecoration:"underline"},exact:!0}],strikethrough:[{inline:"strike",remove:"all"},{inline:"span",styles:{textDecoration:"line-through"},exact:!0}],fontname:{inline:"font",attributes:{face:"%value"}},fontsize:{inline:"font",attributes:{size:function(t){return e.inArray(r,t.value)+1}}},forecolor:{inline:"font",attributes:{color:"%value"}},hilitecolor:{inline:"font",styles:{backgroundColor:"%value"}}}),e.each("b,i,u,strike".split(","),function(e){o.addValidElements(e+"[*]")}),o.getElementRule("font")||o.addValidElements("font[face|size|color|style]"),e.each(n.split(","),function(e){var t=o.getElementRule(e);t&&(t.attributes.align||(t.attributes.align={},t.attributesOrder.push("align")))})}(t)})}}}),o("tinymce.plugins.legacyoutput.ui.Buttons",[],function(){return{register:function(e){e.addButton("fontsizeselect",function(){var t=[],n=e.settings.fontsizeFormats||"8pt=1 10pt=2 12pt=3 14pt=4 18pt=5 24pt=6 36pt=7";return e.$.each(n.split(" "),function(e,n){var r=n,o=n,i=n.split("=");i.length>1&&(r=i[0],o=i[1]),t.push({text:r,value:o})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:t,fixedWidth:!0,onPostRender:function(){var t=this;e.on("NodeChange",function(){var n;(n=e.dom.getParent(e.selection.getNode(),"font"))?t.value(n.size):t.value("")})},onclick:function(t){t.control.settings.value&&e.execCommand("FontSize",!1,t.control.settings.value)}}}),e.addButton("fontselect",function(){var t=[],n=function(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}(e.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return e.$.each(n,function(e,n){t.push({text:{raw:n[0]},value:n[1],textStyle:-1===n[1].indexOf("dings")?"font-family:"+n[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:t,fixedWidth:!0,onPostRender:function(){var t=this;e.on("NodeChange",function(){var n;(n=e.dom.getParent(e.selection.getNode(),"font"))?t.value(n.face):t.value("")})},onselect:function(t){t.control.settings.value&&e.execCommand("FontName",!1,t.control.settings.value)}}})}}}),o("tinymce.plugins.legacyoutput.Plugin",["tinymce.core.PluginManager","tinymce.plugins.legacyoutput.core.Formats","tinymce.plugins.legacyoutput.ui.Buttons"],function(e,t,n){return e.add("legacyoutput",function(e){t.setup(e),n.register(e)}),function(){}}),n("tinymce.plugins.legacyoutput.Plugin")()}()},function(e,t,n){n(155)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.api.dom.RangeUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.RangeUtils")}),o("tinymce.core.dom.TreeWalker",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.TreeWalker")}),o("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.VK")}),o("tinymce.core.api.dom.BookmarkManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.BookmarkManager")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.plugins.lists.core.NodeType",[],function(){var e=function(e){return e&&"BR"===e.nodeName};return{isTextNode:function(e){return e&&3===e.nodeType},isListNode:function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},isListItemNode:function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},isTableCellNode:function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},isBr:e,isFirstChild:function(e){return e.parentNode.firstChild===e},isLastChild:function(e){return e.parentNode.lastChild===e},isTextBlock:function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},isBlock:function(e,t){return e&&e.nodeName in t},isBogusBr:function(t,n){return!!e(n)&&!(!t.isBlock(n.nextSibling)||e(n.previousSibling))},isEmpty:function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},isChildOfBody:function(e,t){return e.isChildOf(t,e.getRoot())}}}),o("tinymce.plugins.lists.core.Range",["tinymce.core.api.dom.RangeUtils","tinymce.plugins.lists.core.NodeType"],function(e,t){var n=function(n,r){var o=e.getNode(n,r);if(t.isListItemNode(n)&&t.isTextNode(o)){return{container:o,offset:r>=n.childNodes.length?o.data.length:0}}return{container:n,offset:r}};return{getNormalizedEndPoint:n,normalizeRange:function(e){var t=e.cloneRange(),r=n(e.startContainer,e.startOffset);t.setStart(r.container,r.offset);var o=n(e.endContainer,e.endOffset);return t.setEnd(o.container,o.offset),t}}}),o("tinymce.plugins.lists.core.Bookmark",["tinymce.core.dom.DOMUtils","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.Range"],function(e,t,n){var r=e.DOM;return{createBookmark:function(e){var t={},n=function(n){var o,i,a;i=e[n?"startContainer":"endContainer"],a=e[n?"startOffset":"endOffset"],1===i.nodeType&&(o=r.create("span",{"data-mce-type":"bookmark"}),i.hasChildNodes()?(a=Math.min(a,i.childNodes.length-1),n?i.insertBefore(o,i.childNodes[a]):r.insertAfter(o,i.childNodes[a])):i.appendChild(o),i=o,a=0),t[n?"startContainer":"endContainer"]=i,t[n?"startOffset":"endOffset"]=a};return n(!0),e.collapsed||n(),t},resolveBookmark:function(e){function t(t){var n,o,i;n=i=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"],n&&(1===n.nodeType&&(o=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(n),n=n.parentNode,r.remove(i),!n.hasChildNodes()&&r.isBlock(n)&&n.appendChild(r.create("br"))),e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=o)}t(!0),t();var o=r.createRng();return o.setStart(e.startContainer,e.startOffset),e.endContainer&&o.setEnd(e.endContainer,e.endOffset),n.normalizeRange(o)}}}),o("tinymce.plugins.lists.core.NormalizeLists",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.plugins.lists.core.NodeType"],function(e,t,n){var r=e.DOM,o=function(e,t){var o,i=t.parentNode;"LI"===i.nodeName&&i.firstChild===t&&((o=i.previousSibling)&&"LI"===o.nodeName?(o.appendChild(t),n.isEmpty(e,i)&&r.remove(i)):r.setStyle(i,"listStyleType","none")),n.isListNode(i)&&(o=i.previousSibling)&&"LI"===o.nodeName&&o.appendChild(t)};return{normalizeList:o,normalizeLists:function(e,n){t.each(t.grep(e.select("ol,ul",n)),function(t){o(e,t)})}}}),o("tinymce.core.dom.DomQuery",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DomQuery")}),o("tinymce.plugins.lists.core.Selection",["tinymce.core.dom.DomQuery","tinymce.core.util.Tools","tinymce.plugins.lists.core.NodeType"],function(e,t,n){var r=function(e){var t=e.selection.getStart(!0);return e.dom.getParent(t,"OL,UL,DL",o(e,t))},o=function(e,t){var n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()};return{getParentList:r,getSelectedSubLists:function(e){var o=r(e),i=e.selection.getSelectedBlocks();return function(e,t){return e&&1===t.length&&t[0]===e}(o,i)?function(e){return t.grep(e.querySelectorAll("ol,ul,dl"),function(e){return n.isListNode(e)})}(o):t.grep(i,function(e){return n.isListNode(e)&&o!==e})},getSelectedListItems:function(r){var i=r.selection.getSelectedBlocks();return t.grep(function(n,r){var i=t.map(r,function(e){var t=n.dom.getParent(e,"li,dd,dt",o(n,e));return t||e});return e.unique(i)}(r,i),function(e){return n.isListItemNode(e)})},getClosestListRootElm:o}}),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),o("tinymce.plugins.lists.core.TextBlock",["tinymce.core.dom.DOMUtils","tinymce.core.Env","tinymce.plugins.lists.core.NodeType"],function(e,t,n){var r=e.DOM;return{createNewTextBlock:function(e,o,i){var a,c,s,u=r.createFragment(),l=e.schema.getBlockElements();if(e.settings.forced_root_block&&(i=i||e.settings.forced_root_block),i&&((c=r.create(i)).tagName===e.settings.forced_root_block&&r.setAttribs(c,e.settings.forced_root_block_attrs),n.isBlock(o.firstChild,l)||u.appendChild(c)),o)for(;a=o.firstChild;){var f=a.nodeName;s||"SPAN"===f&&"bookmark"===a.getAttribute("data-mce-type")||(s=!0),n.isBlock(a,l)?(u.appendChild(a),c=null):i?(c||(c=r.create(i),u.appendChild(c)),c.appendChild(a)):u.appendChild(a)}return e.settings.forced_root_block?s||t.ie&&!(t.ie>10)||c.appendChild(r.create("br",{"data-mce-bogus":"1"})):u.appendChild(r.create("br")),u}}}),o("tinymce.plugins.lists.core.SplitList",["tinymce.core.dom.DOMUtils","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.TextBlock","tinymce.core.util.Tools"],function(e,t,n,r){var o=e.DOM;return{splitList:function(e,i,a,c){var s,u,l,f;for(l=o.select('span[data-mce-type="bookmark"]',i),c=c||n.createNewTextBlock(e,a),(s=o.createRng()).setStartAfter(a),s.setEndAfter(i),f=(u=s.extractContents()).firstChild;f;f=f.firstChild)if("LI"===f.nodeName&&e.dom.isEmpty(f)){o.remove(f);break}e.dom.isEmpty(u)||o.insertAfter(u,i),o.insertAfter(c,i),t.isEmpty(e.dom,a.parentNode)&&function(e){r.each(l,function(t){e.parentNode.insertBefore(t,a.parentNode)}),o.remove(e)}(a.parentNode),o.remove(a),t.isEmpty(e.dom,i)&&o.remove(i)}}}),o("tinymce.plugins.lists.actions.Outdent",["tinymce.core.dom.DOMUtils","tinymce.plugins.lists.core.Bookmark","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.NormalizeLists","tinymce.plugins.lists.core.Selection","tinymce.plugins.lists.core.SplitList","tinymce.plugins.lists.core.TextBlock"],function(e,t,n,r,o,i,a){var c=e.DOM,s=function(e,t){n.isEmpty(e,t)&&c.remove(t)},u=function(e,t){var o,u=t.parentNode,l=u.parentNode;return u===e.getBody()||("DD"===t.nodeName?(c.rename(t,"DT"),!0):n.isFirstChild(t)&&n.isLastChild(t)?("LI"===l.nodeName?(c.insertAfter(t,l),s(e.dom,l),c.remove(u)):n.isListNode(l)?c.remove(u,!0):(l.insertBefore(a.createNewTextBlock(e,t),u),c.remove(u)),!0):n.isFirstChild(t)?("LI"===l.nodeName?(c.insertAfter(t,l),t.appendChild(u),s(e.dom,l)):n.isListNode(l)?l.insertBefore(t,u):(l.insertBefore(a.createNewTextBlock(e,t),u),c.remove(t)),!0):n.isLastChild(t)?("LI"===l.nodeName?c.insertAfter(t,l):n.isListNode(l)?c.insertAfter(t,u):(c.insertAfter(a.createNewTextBlock(e,t),u),c.remove(t)),!0):("LI"===l.nodeName?(u=l,o=a.createNewTextBlock(e,t,"LI")):o=n.isListNode(l)?a.createNewTextBlock(e,t,"LI"):a.createNewTextBlock(e,t),i.splitList(e,u,t,o),r.normalizeLists(e.dom,u.parentNode),!0))};return{outdent:u,outdentSelection:function(e){var n=o.getSelectedListItems(e);if(n.length){var r,i,a=t.createBookmark(e.selection.getRng(!0)),c=o.getClosestListRootElm(e,e.selection.getStart(!0));for(r=n.length;r--;)for(var s=n[r].parentNode;s&&s!==c;){for(i=n.length;i--;)if(n[i]===s){n.splice(r,1);break}s=s.parentNode}for(r=0;r<n.length&&(u(e,n[r])||0!==r);r++);return e.selection.setRng(t.resolveBookmark(a)),e.nodeChanged(),!0}}}}),o("tinymce.plugins.lists.actions.ToggleList",["tinymce.core.api.dom.BookmarkManager","tinymce.core.util.Tools","tinymce.plugins.lists.actions.Outdent","tinymce.plugins.lists.core.Bookmark","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.NormalizeLists","tinymce.plugins.lists.core.Selection","tinymce.plugins.lists.core.SplitList"],function(e,t,n,r,o,i,a,c){var s=function(e,n){t.each(n,function(t,n){e.setAttribute(n,t)})},u=function(e,n,r){!function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)}(e,n,r),function(e,n,r){s(n,r["list-attributes"]),t.each(e.select("li",n),function(e){s(e,r["list-item-attributes"])})}(e,n,r)},l=function(e,t,n,r){var i,a;for(i=t[n?"startContainer":"endContainer"],a=t[n?"startOffset":"endOffset"],1===i.nodeType&&(i=i.childNodes[Math.min(a,i.childNodes.length-1)]||i),!n&&o.isBr(i.nextSibling)&&(i=i.nextSibling);i.parentNode!==r;){if(o.isTextBlock(e,i))return i;if(/^(TD|TH)$/.test(i.parentNode.nodeName))return i;i=i.parentNode}return i},f=function(n,i,c){var s,f=n.selection.getRng(!0),d="LI",p=a.getClosestListRootElm(n,n.selection.getStart(!0)),h=n.dom;c=c||{},"false"!==h.getContentEditable(n.selection.getNode())&&("DL"===(i=i.toUpperCase())&&(d="DT"),s=r.createBookmark(f),t.each(function(n,r,i){for(var a,c=[],s=n.dom,u=l(n,r,!0,i),f=l(n,r,!1,i),d=[],p=u;p&&(d.push(p),p!==f);p=p.nextSibling);return t.each(d,function(t){if(o.isTextBlock(n,t))return c.push(t),void(a=null);if(s.isBlock(t)||o.isBr(t))return o.isBr(t)&&s.remove(t),void(a=null);var r=t.nextSibling;e.isBookmarkNode(t)&&(o.isTextBlock(n,r)||!r&&t.parentNode===i)?a=null:(a||(a=s.create("p"),t.parentNode.insertBefore(a,t),c.push(a)),a.appendChild(t))}),c}(n,f,p),function(e){var t,r;(r=e.previousSibling)&&o.isListNode(r)&&r.nodeName===i&&function(e,t,n){var r=e.getStyle(t,"list-style-type"),o=n?n["list-style-type"]:"";return o=null===o?"":o,r===o}(h,r,c)?(t=r,e=h.rename(e,d),r.appendChild(e)):(t=h.create(i),e.parentNode.insertBefore(t,e),t.appendChild(e),e=h.rename(e,d)),u(h,t,c),m(n.dom,t)}),n.selection.setRng(r.resolveBookmark(s)))},d=function(e){var s=r.createBookmark(e.selection.getRng(!0)),u=a.getClosestListRootElm(e,e.selection.getStart(!0)),l=a.getSelectedListItems(e),f=t.grep(l,function(t){return e.dom.isEmpty(t)});l=t.grep(l,function(t){return!e.dom.isEmpty(t)}),t.each(f,function(t){o.isEmpty(e.dom,t)&&n.outdent(e,t)}),t.each(l,function(t){var n,r;if(t.parentNode!==e.getBody()){for(n=t;n&&n!==u;n=n.parentNode)o.isListNode(n)&&(r=n);c.splitList(e,r,t),i.normalizeLists(e.dom,r.parentNode)}}),e.selection.setRng(r.resolveBookmark(s))},p=function(e,t,n){return function(e,t){return e&&t&&o.isListNode(e)&&e.nodeName===t.nodeName}(t,n)&&function(e,t,n){return e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0)}(e,t,n)&&function(e,t){return e.className===t.className}(t,n)},m=function(e,t){var n,r;if(n=t.nextSibling,p(e,t,n)){for(;r=n.firstChild;)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,p(e,t,n)){for(;r=n.lastChild;)t.insertBefore(r,t.firstChild);e.remove(n)}},h=function(e,n,o,i,a){if(n.nodeName!==i||g(a)){var c=r.createBookmark(e.selection.getRng(!0));t.each([n].concat(o),function(t){!function(e,t,n,r){if(t.nodeName!==n){var o=e.rename(t,n);u(e,o,r)}else u(e,t,r)}(e.dom,t,i,a)}),e.selection.setRng(r.resolveBookmark(c))}else d(e)},g=function(e){return"list-style-type"in e};return{toggleList:function(e,t,n){var o=a.getParentList(e),i=a.getSelectedSubLists(e);n=n||{},o&&i.length>0?h(e,o,i,t,n):function(e,t,n,o){if(t!==e.getBody())if(t)if(t.nodeName!==n||g(o)){var i=r.createBookmark(e.selection.getRng(!0));u(e.dom,t,o),m(e.dom,e.dom.rename(t,n)),e.selection.setRng(r.resolveBookmark(i))}else d(e);else f(e,n,o)}(e,o,t,n)},removeList:d,mergeWithAdjacentLists:m}}),o("tinymce.plugins.lists.core.Delete",["tinymce.core.api.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.util.VK","tinymce.plugins.lists.actions.ToggleList","tinymce.plugins.lists.core.Bookmark","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.NormalizeLists","tinymce.plugins.lists.core.Range","tinymce.plugins.lists.core.Selection"],function(e,t,n,r,o,i,a,c,s){var u=function(n,r,o,a){var c,s,u=r.startContainer,l=r.startOffset;if(3===u.nodeType&&(o?l<u.data.length:l>0))return u;for(c=n.schema.getNonEmptyElements(),1===u.nodeType&&(u=e.getNode(u,l)),s=new t(u,a),o&&i.isBogusBr(n.dom,u)&&s.next();u=s[o?"next":"prev2"]();){if("LI"===u.nodeName&&!u.hasChildNodes())return u;if(c[u.nodeName])return u;if(3===u.nodeType&&u.data.length>0)return u}},l=function(e,t){var n=t.childNodes;return 1===n.length&&!i.isListNode(n[0])&&e.isBlock(n[0])},f=function(e,t,n){var r,o;if(o=l(e,n)?n.firstChild:n,function(e,t){l(e,t)&&e.remove(t.firstChild,!0)}(e,t),!i.isEmpty(e,t,!0))for(;r=t.firstChild;)o.appendChild(r)},d=function(e,t,n){var r,o,a=t.parentNode;i.isChildOfBody(e,t)&&i.isChildOfBody(e,n)&&(i.isListNode(n.lastChild)&&(o=n.lastChild),a===n.lastChild&&i.isBr(a.previousSibling)&&e.remove(a.previousSibling),(r=n.lastChild)&&i.isBr(r)&&t.hasChildNodes()&&e.remove(r),i.isEmpty(e,n,!0)&&e.$(n).empty(),f(e,t,n),o&&n.appendChild(o),e.remove(t),i.isEmpty(e,a)&&a!==e.getRoot()&&e.remove(a))},p=function(e,t,n,r){var i=e.dom;if(i.isEmpty(r))!function(e,t,n){e.dom.$(n).empty(),d(e.dom,t,n),e.selection.setCursorLocation(n)}(e,n,r);else{var a=o.createBookmark(t);d(i,n,r),e.selection.setRng(o.resolveBookmark(a))}},m=function(e,t){var n,a,l,f=e.dom,m=e.selection,h=m.getStart(),g=s.getClosestListRootElm(e,h),v=f.getParent(m.getStart(),"LI",g);if(v){if((n=v.parentNode)===e.getBody()&&i.isEmpty(f,n))return!0;if(a=c.normalizeRange(m.getRng(!0)),(l=f.getParent(u(e,a,t,g),"LI",g))&&l!==v)return t?p(e,a,l,v):function(e,t,n,r){var i=o.createBookmark(t);d(e.dom,n,r);var a=o.resolveBookmark(i);e.selection.setRng(a)}(e,a,v,l),!0;if(!l&&!t&&r.removeList(e,n.nodeName))return!0}return!1},h=function(e,t){return m(e,t)||function(e,t){var n=e.dom,o=e.selection.getStart(),i=s.getClosestListRootElm(e,o),a=n.getParent(o,n.isBlock,i);if(a&&n.isEmpty(a)){var l=c.normalizeRange(e.selection.getRng(!0)),f=n.getParent(u(e,l,t,i),"LI",i);if(f)return e.undoManager.transact(function(){!function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)}(n,a,i),r.mergeWithAdjacentLists(n,f.parentNode),e.selection.select(f,!0),e.selection.collapse(t)}),!0}return!1}(e,t)},g=function(e,t){return e.selection.isCollapsed()?h(e,t):function(e){var t=e.selection.getStart(),n=s.getClosestListRootElm(e,t);return!!(e.dom.getParent(t,"LI,DT,DD",n)||s.getSelectedListItems(e).length>0)&&(e.undoManager.transact(function(){e.execCommand("Delete"),a.normalizeLists(e.dom,e.getBody())}),!0)}(e)};return{setup:function(e){e.on("keydown",function(t){t.keyCode===n.BACKSPACE?g(e,!1)&&t.preventDefault():t.keyCode===n.DELETE&&g(e,!0)&&t.preventDefault()})},backspaceDelete:g}}),o("tinymce.plugins.lists.api.Api",["tinymce.plugins.lists.core.Delete"],function(e){return{get:function(t){return{backspaceDelete:function(n){e.backspaceDelete(t,n)}}}}}),o("tinymce.plugins.lists.actions.Indent",["tinymce.core.dom.DOMUtils","tinymce.plugins.lists.core.Bookmark","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.Selection"],function(e,t,n,r){var o=e.DOM,i=function(e,t){var r;if(n.isListNode(e)){for(;r=e.firstChild;)t.appendChild(r);o.remove(e)}},a=function(e){var t,r,a;return"DT"===e.nodeName?(o.rename(e,"DD"),!0):(t=e.previousSibling)&&n.isListNode(t)?(t.appendChild(e),!0):t&&"LI"===t.nodeName&&n.isListNode(t.lastChild)?(t.lastChild.appendChild(e),i(e.lastChild,t.lastChild),!0):(t=e.nextSibling)&&n.isListNode(t)?(t.insertBefore(e,t.firstChild),!0):!(!(t=e.previousSibling)||"LI"!==t.nodeName||(r=o.create(e.parentNode.nodeName),(a=o.getStyle(e.parentNode,"listStyleType"))&&o.setStyle(r,"listStyleType",a),t.appendChild(r),r.appendChild(e),i(e.lastChild,r),0))};return{indentSelection:function(e){var n=r.getSelectedListItems(e);if(n.length){for(var o=t.createBookmark(e.selection.getRng(!0)),i=0;i<n.length&&(a(n[i])||0!==i);i++);return e.selection.setRng(t.resolveBookmark(o)),e.nodeChanged(),!0}}}}),o("tinymce.plugins.lists.api.Commands",["tinymce.plugins.lists.actions.Indent","tinymce.plugins.lists.actions.Outdent","tinymce.plugins.lists.actions.ToggleList"],function(e,t,n){var r=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}};return{register:function(o){o.on("BeforeExecCommand",function(n){var r,i=n.command.toLowerCase();if("indent"===i?e.indentSelection(o)&&(r=!0):"outdent"===i&&t.outdentSelection(o)&&(r=!0),r)return o.fire("ExecCommand",{command:n.command}),n.preventDefault(),!0}),o.addCommand("InsertUnorderedList",function(e,t){n.toggleList(o,"UL",t)}),o.addCommand("InsertOrderedList",function(e,t){n.toggleList(o,"OL",t)}),o.addCommand("InsertDefinitionList",function(e,t){n.toggleList(o,"DL",t)}),o.addQueryStateHandler("InsertUnorderedList",r(o,"UL")),o.addQueryStateHandler("InsertOrderedList",r(o,"OL")),o.addQueryStateHandler("InsertDefinitionList",r(o,"DL"))}}}),o("tinymce.plugins.lists.api.Settings",[],function(){return{shouldIndentOnTab:function(e){return e.getParam("lists_indent_on_tab",!0)}}}),o("tinymce.plugins.lists.core.Keyboard",["tinymce.core.util.VK","tinymce.plugins.lists.actions.Indent","tinymce.plugins.lists.actions.Outdent","tinymce.plugins.lists.api.Settings","tinymce.plugins.lists.core.Delete"],function(e,t,n,r,o){return{setup:function(i){r.shouldIndentOnTab(i)&&function(r){r.on("keydown",function(o){o.keyCode!==e.TAB||e.metaKeyPressed(o)||r.dom.getParent(r.selection.getStart(),"LI,DT,DD")&&(o.preventDefault(),o.shiftKey?n.outdentSelection(r):t.indentSelection(r))})}(i),o.setup(i)}}}),o("tinymce.plugins.lists.ui.Buttons",["tinymce.core.util.Tools","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.Selection"],function(e,t,n){var r=function(n,r){return function(o){var i=o.control;n.on("NodeChange",function(n){var o=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(n.parents,t.isTableCellNode),a=-1!==o?n.parents.slice(0,o):n.parents,c=e.grep(a,t.isListNode);i.active(c.length>0&&c[0].nodeName===r)})}};return{register:function(o){(function(t,n){var r=t.settings.plugins?t.settings.plugins:"";return-1!==e.inArray(r.split(/[ ,]/),n)})(o,"advlist")||(o.addButton("numlist",{active:!1,title:"Numbered list",cmd:"InsertOrderedList",onPostRender:r(o,"OL")}),o.addButton("bullist",{active:!1,title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:r(o,"UL")})),o.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:function(e){return function(r){var o=r.control;e.on("nodechange",function(){var r=n.getSelectedListItems(e),i=r.length>0&&t.isFirstChild(r[0]);o.disabled(i)})}}(o)})}}}),o("tinymce.plugins.lists.Plugin",["tinymce.core.PluginManager","tinymce.plugins.lists.api.Api","tinymce.plugins.lists.api.Commands","tinymce.plugins.lists.core.Keyboard","tinymce.plugins.lists.ui.Buttons"],function(e,t,n,r,o){return e.add("lists",function(e){return r.setup(e),o.register(e),n.register(e),t.get(e)}),function(){}}),n("tinymce.plugins.lists.Plugin")()}()},function(e,t,n){n(157)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.plugins.nonbreaking.core.Actions",[],function(){return{insertNbsp:function(e,t){var n=function(e){return!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled()}(e)?'<span class="mce-nbsp">&nbsp;</span>':"&nbsp;";e.insertContent(function(e,t){for(var n="",r=0;r<t;r++)n+=e;return n}(n,t)),e.dom.setAttrib(e.dom.select("span.mce-nbsp"),"data-mce-bogus","1")}}}),o("tinymce.plugins.nonbreaking.api.Commands",["tinymce.plugins.nonbreaking.core.Actions"],function(e){return{register:function(t){t.addCommand("mceNonBreaking",function(){e.insertNbsp(t,1)})}}}),o("tinymce.plugins.nonbreaking.api.Settings",[],function(){return{getKeyboardSpaces:function(e){var t=e.getParam("nonbreaking_force_tab",0);return"boolean"==typeof t?!0===t?3:0:t}}}),o("tinymce.plugins.nonbreaking.core.Keyboard",["tinymce.plugins.nonbreaking.api.Settings","tinymce.plugins.nonbreaking.core.Actions"],function(e,t){return{setup:function(n){var r=e.getKeyboardSpaces(n);r>0&&n.on("keydown",function(e){if(9===e.keyCode){if(e.shiftKey)return;e.preventDefault(),t.insertNbsp(n,r)}})}}}),o("tinymce.plugins.nonbreaking.ui.Buttons",[],function(){return{register:function(e){e.addButton("nonbreaking",{title:"Nonbreaking space",cmd:"mceNonBreaking"}),e.addMenuItem("nonbreaking",{text:"Nonbreaking space",cmd:"mceNonBreaking",context:"insert"})}}}),o("tinymce.plugins.nonbreaking.Plugin",["tinymce.core.PluginManager","tinymce.plugins.nonbreaking.api.Commands","tinymce.plugins.nonbreaking.core.Keyboard","tinymce.plugins.nonbreaking.ui.Buttons"],function(e,t,n,r){return e.add("nonbreaking",function(e){t.register(e),r.register(e),n.setup(e)}),function(){}}),n("tinymce.plugins.nonbreaking.Plugin")()}()},function(e,t,n){n(159)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.plugins.pagebreak.api.Settings",[],function(){return{getSeparatorHtml:function(e){return e.getParam("pagebreak_separator","\x3c!-- pagebreak --\x3e")},shouldSplitBlock:function(e){return e.getParam("pagebreak_split_block",!1)}}}),o("tinymce.plugins.pagebreak.core.FilterContent",["tinymce.core.Env","tinymce.plugins.pagebreak.api.Settings"],function(e,t){var n=function(){return"mce-pagebreak"},r=function(){return'<img src="'+e.transparentSrc+'" class="mce-pagebreak" data-mce-resize="false" data-mce-placeholder />'};return{setup:function(e){var n=t.getSeparatorHtml(e),o=new RegExp(n.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(e){return"\\"+e}),"gi");e.on("BeforeSetContent",function(e){e.content=e.content.replace(o,r())}),e.on("PreInit",function(){e.serializer.addNodeFilter("img",function(r){for(var o,i,a=r.length;a--;)if(o=r[a],(i=o.attr("class"))&&-1!==i.indexOf("mce-pagebreak")){var c=o.parent;if(e.schema.getBlockElements()[c.name]&&t.shouldSplitBlock(e)){c.type=3,c.value=n,c.raw=!0,o.remove();continue}o.type=3,o.value=n,o.raw=!0}})})},getPlaceholderHtml:r,getPageBreakClass:n}}),o("tinymce.plugins.pagebreak.api.Commands",["tinymce.plugins.pagebreak.core.FilterContent"],function(e){return{register:function(t){t.addCommand("mcePageBreak",function(){t.settings.pagebreak_split_block?t.insertContent("<p>"+e.getPlaceholderHtml()+"</p>"):t.insertContent(e.getPlaceholderHtml())})}}}),o("tinymce.plugins.pagebreak.core.ResolveName",["tinymce.plugins.pagebreak.core.FilterContent"],function(e){return{setup:function(t){t.on("ResolveName",function(n){"IMG"===n.target.nodeName&&t.dom.hasClass(n.target,e.getPageBreakClass())&&(n.name="pagebreak")})}}}),o("tinymce.plugins.pagebreak.ui.Buttons",[],function(){return{register:function(e){e.addButton("pagebreak",{title:"Page break",cmd:"mcePageBreak"}),e.addMenuItem("pagebreak",{text:"Page break",icon:"pagebreak",cmd:"mcePageBreak",context:"insert"})}}}),o("tinymce.plugins.pagebreak.Plugin",["tinymce.core.Env","tinymce.core.PluginManager","tinymce.plugins.pagebreak.api.Commands","tinymce.plugins.pagebreak.core.FilterContent","tinymce.plugins.pagebreak.core.ResolveName","tinymce.plugins.pagebreak.ui.Buttons"],function(e,t,n,r,o,i){return t.add("pagebreak",function(e){n.register(e),i.register(e),r.setup(e),o.setup(e)}),function(){}}),n("tinymce.plugins.pagebreak.Plugin")()}()},function(e,t,n){n(161)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.preview.api.Settings",[],function(){return{getPreviewDialogWidth:function(e){return parseInt(e.getParam("plugin_preview_width","650"),10)},getPreviewDialogHeight:function(e){return parseInt(e.getParam("plugin_preview_height","500"),10)},getContentStyle:function(e){return e.getParam("content_style","")}}}),o("tinymce.plugins.preview.ui.IframeContent",["tinymce.core.util.Tools","tinymce.plugins.preview.api.Settings"],function(e,t){var n=function(n){var r="",o=n.dom.encode,i=t.getContentStyle(n);r+='<base href="'+o(n.documentBaseURI.getURI())+'">',i&&(r+='<style type="text/css">'+i+"</style>"),e.each(n.contentCSS,function(e){r+='<link type="text/css" rel="stylesheet" href="'+o(n.documentBaseURI.toAbsolute(e))+'">'});var a=n.settings.body_id||"tinymce";-1!==a.indexOf("=")&&(a=(a=n.getParam("body_id","","hash"))[n.id]||a);var c=n.settings.body_class||"";-1!==c.indexOf("=")&&(c=(c=n.getParam("body_class","","hash"))[n.id]||"");var s=n.settings.directionality?' dir="'+n.settings.directionality+'"':"";return"<!DOCTYPE html><html><head>"+r+'</head><body id="'+o(a)+'" class="mce-content-body '+o(c)+'"'+o(s)+">"+n.getContent()+'<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A") {e.preventDefault();}}}, false);<\/script> </body></html>'};return{getPreviewHtml:n,injectIframeContent:function(e,t,r){var o=n(e);if(r)t.src="data:text/html;charset=utf-8,"+encodeURIComponent(o);else{var i=t.contentWindow.document;i.open(),i.write(o),i.close()}}}}),o("tinymce.plugins.preview.ui.Dialog",["tinymce.core.Env","tinymce.core.util.Tools","tinymce.plugins.preview.api.Settings","tinymce.plugins.preview.ui.IframeContent"],function(e,t,n,r){return{open:function(t){var o=!e.ie,i='<iframe src="javascript:\'\'" frameborder="0"'+(o?' sandbox="allow-scripts"':"")+"></iframe>",a=n.getPreviewDialogWidth(t),c=n.getPreviewDialogHeight(t);t.windowManager.open({title:"Preview",width:a,height:c,html:i,buttons:{text:"Close",onclick:function(e){e.control.parent().parent().close()}},onPostRender:function(e){var n=e.control.getEl("body").firstChild;r.injectIframeContent(t,n,o)}})}}}),o("tinymce.plugins.preview.api.Commands",["tinymce.plugins.preview.ui.Dialog"],function(e){return{register:function(t){t.addCommand("mcePreview",function(){e.open(t)})}}}),o("tinymce.plugins.preview.ui.Buttons",[],function(){return{register:function(e){e.addButton("preview",{title:"Preview",cmd:"mcePreview"}),e.addMenuItem("preview",{text:"Preview",cmd:"mcePreview",context:"view"})}}}),o("tinymce.plugins.preview.Plugin",["tinymce.core.PluginManager","tinymce.plugins.preview.api.Commands","tinymce.plugins.preview.ui.Buttons"],function(e,t,n){return e.add("preview",function(e){t.register(e),n.register(e)}),function(){}}),n("tinymce.plugins.preview.Plugin")()}()},function(e,t,n){n(163)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.save.api.Settings",[],function(){return{enableWhenDirty:function(e){return e.getParam("save_enablewhendirty",!0)},hasOnSaveCallback:function(e){return!!e.getParam("save_onsavecallback")},hasOnCancelCallback:function(e){return!!e.getParam("save_oncancelcallback")}}}),o("tinymce.plugins.save.core.Actions",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.plugins.save.api.Settings"],function(e,t,n){var r=function(e,t){e.notificationManager.open({text:e.translate(t),type:"error"})};return{save:function(t){var o;if(o=e.DOM.getParent(t.id,"form"),!n.enableWhenDirty(t)||t.isDirty()){if(t.save(),n.hasOnSaveCallback(t))return t.execCallback("save_onsavecallback",t),void t.nodeChanged();o?(t.setDirty(!1),o.onsubmit&&!o.onsubmit()||("function"==typeof o.submit?o.submit():r(t,"Error: Form submit field collision.")),t.nodeChanged()):r(t,"Error: No form element found.")}},cancel:function(e){var r=t.trim(e.startContent);n.hasOnCancelCallback(e)?e.execCallback("save_oncancelcallback",e):(e.setContent(r),e.undoManager.clear(),e.nodeChanged())}}}),o("tinymce.plugins.save.api.Commands",["tinymce.plugins.save.core.Actions"],function(e){return{register:function(t){t.addCommand("mceSave",function(){e.save(t)}),t.addCommand("mceCancel",function(){e.cancel(t)})}}}),o("tinymce.plugins.save.ui.Buttons",["tinymce.plugins.save.api.Settings"],function(e){var t=function(t){return function(n){var r=n.control;t.on("nodeChange dirty",function(){r.disabled(e.enableWhenDirty(t)&&!t.isDirty())})}};return{register:function(e){e.addButton("save",{icon:"save",text:"Save",cmd:"mceSave",disabled:!0,onPostRender:t(e)}),e.addButton("cancel",{text:"Cancel",icon:!1,cmd:"mceCancel",disabled:!0,onPostRender:t(e)}),e.addShortcut("Meta+S","","mceSave")}}}),o("tinymce.plugins.save.Plugin",["tinymce.core.PluginManager","tinymce.plugins.save.api.Commands","tinymce.plugins.save.ui.Buttons"],function(e,t,n){return e.add("save",function(e){n.register(e),t.register(e)}),function(){}}),n("tinymce.plugins.save.Plugin")()}()},function(e,t,n){n(165)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t,i=function(e,t){o(e,[],function(){return t})};o("ephox.katamari.api.Cell",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),i("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),i("global!window",window),o("tinymce.plugins.spellchecker.alien.DetectProPlugin",["global!window","tinymce.core.PluginManager"],function(e,t){return{hasProPlugin:function(n){return!(!/(^|[ ,])tinymcespellchecker([, ]|$)/.test(n.settings.plugins)||!t.get("tinymcespellchecker")||(void 0!==e.console&&e.console.log&&e.console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option."),0))}}}),o("tinymce.plugins.spellchecker.api.Settings",[],function(){return{getLanguages:function(e){return e.getParam("spellchecker_languages","English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv")},getLanguage:function(e){var t=e.getParam("language","en");return e.getParam("spellchecker_language",t)},getRpcUrl:function(e){return e.getParam("spellchecker_rpc_url")},getSpellcheckerCallback:function(e){return e.getParam("spellchecker_callback")},getSpellcheckerWordcharPattern:function(e){var t=new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`]+',"g");return e.getParam("spellchecker_wordchar_pattern",t)}}}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.core.util.URI",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.URI")}),o("tinymce.core.util.XHR",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.XHR")}),o("tinymce.plugins.spellchecker.api.Events",[],function(){return{fireSpellcheckStart:function(e){return e.fire("SpellcheckStart")},fireSpellcheckEnd:function(e){return e.fire("SpellcheckEnd")}}}),o("tinymce.plugins.spellchecker.core.DomTextMatcher",[],function(){function e(e){return e&&1===e.nodeType&&"false"===e.contentEditable}return function(t,n){function r(e,t){if(!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";return{start:e.index,end:e.index+e[0].length,text:e[0],data:t}}function o(t){var n;if(3===t.nodeType)return t.data;if(h[t.nodeName]&&!m[t.nodeName])return"";if(e(t))return"\n";if(n="",(m[t.nodeName]||g[t.nodeName])&&(n+="\n"),t=t.firstChild)do{n+=o(t)}while(t=t.nextSibling);return n}function i(e){e.parentNode.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)}function a(e){return-1!==e.className.indexOf("mce-spellchecker-word")}function c(e){var n=t.getElementsByTagName("*"),r=[];e="number"==typeof e?""+e:null;for(var o=0;o<n.length;o++){var i=n[o],c=i.getAttribute("data-mce-index");null!==c&&c.length&&a(i)&&(c!==e&&null!==e||r.push(i))}return r}function s(e){for(var t=v.length;t--;)if(v[t]===e)return t;return-1}function u(e){for(var t=0,n=v.length;t<n&&!1!==e(v[t],t);t++);return this}function l(e){var t,n=c(e?s(e):null);for(t=n.length;t--;)i(n[t]);return this}function f(e){var t=c(s(e)),r=n.dom.createRng();return r.setStartBefore(t[0]),r.setEndAfter(t[t.length-1]),r}var d,p,m,h,g,v=[],y=n.dom;return m=n.schema.getBlockElements(),h=n.schema.getWhiteSpaceElements(),g=n.schema.getShortEndedElements(),p=o(t),{text:p,matches:v,each:u,filter:function(e){var t=[];return u(function(n,r){e(n,r)&&t.push(n)}),v=t,this},reset:function(){return v.splice(0,v.length),l(),this},matchFromElement:function(e){return v[e.getAttribute("data-mce-index")]},elementFromMatch:function(e){return c(s(e))[0]},find:function(e,t){if(p&&e.global)for(;d=e.exec(p);)v.push(r(d,t));return this},add:function(e,t,n){return v.push({start:e,end:e+t,text:p.substr(e,t),data:n}),this},wrap:function(n){return v.length&&function(t,n,r){var o,i,a,c,s,u=[],l=0,f=t,d=0;(n=n.slice(0)).sort(function(e,t){return e.start-t.start}),s=n.shift();e:for(;;){if((m[f.nodeName]||g[f.nodeName]||e(f))&&l++,3===f.nodeType&&(!i&&f.length+l>=s.end?(i=f,c=s.end-l):o&&u.push(f),!o&&f.length+l>s.start&&(o=f,a=s.start-l),l+=f.length),o&&i){if(f=r({startNode:o,startNodeIndex:a,endNode:i,endNodeIndex:c,innerNodes:u,match:s.text,matchIndex:d}),l-=i.length-c,o=null,i=null,u=[],s=n.shift(),d++,!s)break}else if(h[f.nodeName]&&!m[f.nodeName]||!f.firstChild){if(f.nextSibling){f=f.nextSibling;continue}}else if(!e(f)){f=f.firstChild;continue}for(;;){if(f.nextSibling){f=f.nextSibling;break}if(f.parentNode===t)break e;f=f.parentNode}}}(t,v,function(e){function t(t,n){var r=v[n];r.stencil||(r.stencil=e(r));var o=r.stencil.cloneNode(!1);return o.setAttribute("data-mce-index",n),t&&o.appendChild(y.doc.createTextNode(t)),o}return function(e){var n,r,o,i=e.startNode,a=e.endNode,c=e.matchIndex,s=y.doc;if(i===a){var u=i;o=u.parentNode,e.startNodeIndex>0&&(n=s.createTextNode(u.data.substring(0,e.startNodeIndex)),o.insertBefore(n,u));var l=t(e.match,c);return o.insertBefore(l,u),e.endNodeIndex<u.length&&(r=s.createTextNode(u.data.substring(e.endNodeIndex)),o.insertBefore(r,u)),u.parentNode.removeChild(u),l}n=s.createTextNode(i.data.substring(0,e.startNodeIndex)),r=s.createTextNode(a.data.substring(e.endNodeIndex));for(var f=t(i.data.substring(e.startNodeIndex),c),d=[],p=0,m=e.innerNodes.length;p<m;++p){var h=e.innerNodes[p],g=t(h.data,c);h.parentNode.replaceChild(g,h),d.push(g)}var v=t(a.data.substring(0,e.endNodeIndex),c);return(o=i.parentNode).insertBefore(n,i),o.insertBefore(f,i),o.removeChild(i),(o=a.parentNode).insertBefore(v,a),o.insertBefore(r,a),o.removeChild(a),v}}(n)),this},unwrap:l,replace:function(e,t){var r=f(e);return r.deleteContents(),t.length>0&&r.insertNode(n.dom.doc.createTextNode(t)),r},rangeFromMatch:f,indexOf:s}}}),o("tinymce.plugins.spellchecker.core.Actions",["tinymce.core.util.Tools","tinymce.core.util.URI","tinymce.core.util.XHR","tinymce.plugins.spellchecker.api.Events","tinymce.plugins.spellchecker.api.Settings","tinymce.plugins.spellchecker.core.DomTextMatcher"],function(e,t,n,r,o,i){var a=function(e,t){if(!t.get()){var n=new i(e.getBody(),e);t.set(n)}return t.get()},c=function(r,i,a,c,s,u,l){var f=o.getSpellcheckerCallback(r);(f||function(r,i,a){return function(c,s,u,l){var f={method:c,lang:a.get()},d="";f["addToDictionary"===c?"word":"text"]=s,e.each(f,function(e,t){d&&(d+="&"),d+=t+"="+encodeURIComponent(e)}),n.send({url:new t(i).toAbsolute(o.getRpcUrl(r)),type:"post",content_type:"application/x-www-form-urlencoded",data:d,success:function(e){if(e=JSON.parse(e))e.error?l(e.error):u(e);else{var t=r.translate("Server response wasn't proper JSON.");l(t)}},error:function(){var e=r.translate("The spelling service was not found: (")+o.getRpcUrl(r)+r.translate(")");l(e)}})}}(r,i,a)).call(r.plugins.spellchecker,c,s,u,l)},s=function(e,t,n){e.dom.select("span.mce-spellchecker-word").length||u(e,t,n)},u=function(e,t,n){if(a(e,n).reset(),n.set(null),t.get())return t.set(!1),r.fireSpellcheckEnd(e),!0},l=function(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t},f=function(e,t,n,i,c){var s,u;if(c.words?(u=!!c.dictionary,s=c.words):s=c,e.setProgressState(!1),function(e){for(var t in e)return!1;return!0}(s)){var l=e.translate("No misspellings found.");return e.notificationManager.open({text:l,type:"info"}),void t.set(!1)}i.set({suggestions:s,hasDictionarySupport:u}),a(e,n).find(o.getSpellcheckerWordcharPattern(e)).filter(function(e){return!!s[e.text]}).wrap(function(t){return e.dom.create("span",{class:"mce-spellchecker-word","data-mce-bogus":1,"data-mce-word":t.text})}),t.set(!0),r.fireSpellcheckStart(e)};return{spellcheck:function(e,t,n,r,o,i){u(e,n,r)||(e.setProgressState(!0),c(e,t,i,"spellcheck",a(e,r).text,function(t){f(e,n,r,o,t)},function(t){e.notificationManager.open({text:t,type:"error"}),e.setProgressState(!1),u(e,n,r)}),e.focus())},checkIfFinished:s,addToDictionary:function(e,t,n,r,o,i){e.setProgressState(!0),c(e,t,"addToDictionary",o,function(){e.setProgressState(!1),e.dom.remove(i,!0),s(e,n,r)},function(t){e.notificationManager.open({text:t,type:"error"}),e.setProgressState(!1)})},ignoreWord:function(t,n,r,o,i,a){t.selection.collapse(),a?e.each(t.dom.select("span.mce-spellchecker-word"),function(e){e.getAttribute("data-mce-word")===o&&t.dom.remove(e,!0)}):t.dom.remove(i,!0),s(t,n,r)},findSpansByIndex:function(t,n){var r,o=[];if((r=e.toArray(t.getBody().getElementsByTagName("span"))).length)for(var i=0;i<r.length;i++){var a=l(r[i]);null!==a&&a.length&&a===n.toString()&&o.push(r[i])}return o},getElmIndex:l,markErrors:f}}),o("tinymce.plugins.spellchecker.api.Api",["tinymce.plugins.spellchecker.api.Settings","tinymce.plugins.spellchecker.core.Actions"],function(e,t){return{get:function(n,r,o,i,a){return{getTextMatcher:function(){return i.get()},getWordCharPattern:function(){return e.getSpellcheckerWordcharPattern(n)},markErrors:function(e){t.markErrors(n,r,i,o,e)},getLanguage:function(){return e.getLanguage(n)}}}}}),o("tinymce.plugins.spellchecker.api.Commands",["tinymce.plugins.spellchecker.core.Actions"],function(e){return{register:function(t,n,r,o,i,a){t.addCommand("mceSpellCheck",function(){e.spellcheck(t,n,r,o,i,a)})}}}),o("tinymce.plugins.spellchecker.ui.Buttons",["tinymce.core.util.Tools","tinymce.plugins.spellchecker.api.Settings","tinymce.plugins.spellchecker.core.Actions"],function(e,t,n){return{register:function(r,o,i,a,c,s){var u=function(t,n){var r=[];return e.each(n,function(e){r.push({selectable:!0,text:e.name,data:e.value})}),r}(0,function(n){return e.map(t.getLanguages(n).split(","),function(e){return e=e.split("="),{name:e[0],value:e[1]}})}(r)),l=function(){n.spellcheck(r,o,i,a,s,c)},f={tooltip:"Spellcheck",onclick:l,onPostRender:function(e){var t=e.control;r.on("SpellcheckStart SpellcheckEnd",function(){t.active(i.get())})}};u.length>1&&(f.type="splitbutton",f.menu=u,f.onshow=function(e){return function(n){var r=t.getLanguage(e);n.control.items().each(function(e){e.active(e.settings.data===r)})}}(r),f.onselect=function(e){c.set(e.control.settings.data)}),r.addButton("spellchecker",f),r.addMenuItem("spellchecker",{text:"Spellcheck",context:"tools",onclick:l,selectable:!0,onPostRender:function(){var e=this;e.active(i.get()),r.on("SpellcheckStart SpellcheckEnd",function(){e.active(i.get())})}})}}}),i("global!document",document),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.core.ui.Factory",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.ui.Factory")}),o("tinymce.plugins.spellchecker.ui.SuggestionsMenu",["global!document","tinymce.core.dom.DOMUtils","tinymce.core.ui.Factory","tinymce.core.util.Tools","tinymce.plugins.spellchecker.api.Settings","tinymce.plugins.spellchecker.core.Actions"],function(e,t,n,r,o,i){var a;return{setup:function(o,c,s,u,l){o.on("click",function(f){var d=f.target;if("mce-spellchecker-word"===d.className){f.preventDefault();var p=i.findSpansByIndex(o,i.getElmIndex(d));if(p.length>0){var m=o.dom.createRng();m.setStartBefore(p[0]),m.setEndAfter(p[p.length-1]),o.selection.setRng(m),function(o,c,s,u,l,f,d){var p=[],m=s.get().suggestions[f];r.each(m,function(e){p.push({text:e,onclick:function(){o.insertContent(o.dom.encode(e)),o.dom.remove(d),i.checkIfFinished(o,u,l)}})}),p.push({text:"-"}),s.get().hasDictionarySupport&&p.push({text:"Add to Dictionary",onclick:function(){i.addToDictionary(o,c,u,l,f,d)}}),p.push.apply(p,[{text:"Ignore",onclick:function(){i.ignoreWord(o,u,l,f,d)}},{text:"Ignore all",onclick:function(){i.ignoreWord(o,u,l,f,d,!0)}}]),(a=n.create("menu",{items:p,context:"contextmenu",onautohide:function(e){-1!==e.target.className.indexOf("spellchecker")&&e.preventDefault()},onhide:function(){a.remove(),a=null}})).renderTo(e.body);var h=t.DOM.getPos(o.getContentAreaContainer()),g=o.dom.getPos(d[0]),v=o.dom.getRoot();"BODY"===v.nodeName?(g.x-=v.ownerDocument.documentElement.scrollLeft||v.scrollLeft,g.y-=v.ownerDocument.documentElement.scrollTop||v.scrollTop):(g.x-=v.scrollLeft,g.y-=v.scrollTop),h.x+=g.x,h.y+=g.y,a.moveTo(h.x,h.y+d[0].offsetHeight)}(o,c,s,u,l,d.getAttribute("data-mce-word"),p)}}})}}}),o("tinymce.plugins.spellchecker.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.spellchecker.alien.DetectProPlugin","tinymce.plugins.spellchecker.api.Api","tinymce.plugins.spellchecker.api.Commands","tinymce.plugins.spellchecker.api.Settings","tinymce.plugins.spellchecker.ui.Buttons","tinymce.plugins.spellchecker.ui.SuggestionsMenu"],function(e,t,n,r,o,i,a,c){return t.add("spellchecker",function(t,s){if(!1===n.hasProPlugin(t)){var u=e(!1),l=e(i.getLanguage(t)),f=e(null),d=e({});return a.register(t,s,u,f,l,d),c.setup(t,s,d,u,f),o.register(t,s,u,f,d,l),r.get(t,u,d,f,s)}}),function(){}}),n("tinymce.plugins.spellchecker.Plugin")()}()},function(e,t,n){n(167)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t,i=function(e,t){o(e,[],function(){return t})};i("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),i("global!Array",Array),i("global!Error",Error),o("ephox.katamari.api.Fun",["global!Array","global!Error"],function(e,t){var n=function(e){return function(){return e}};return{noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:n,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(t){for(var n=new e(arguments.length-1),r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){for(var r=new e(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];var i=n.concat(r);return t.apply(null,i)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new t(e)}},apply:function(e){return e()},call:function(e){e()},never:n(!1),always:n(!0)}}),i("global!Object",Object),o("ephox.katamari.api.Option",["ephox.katamari.api.Fun","global!Object"],function(e,t){var n=e.never,r=e.always,o=function(){return i},i=function(){var i=function(e){return e.isNone()},a=function(e){return e()},c=function(e){return e},s={fold:function(e,t){return e()},is:n,isSome:n,isNone:r,getOr:c,getOrThunk:a,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:c,orThunk:a,map:o,ap:o,each:function(){},bind:o,flatten:o,exists:n,forall:r,filter:o,equals:i,equals_:i,toArray:function(){return[]},toString:e.constant("none()")};return t.freeze&&t.freeze(s),s}(),a=function(e){var t=function(){return e},c=function(){return u},s=function(t){return t(e)},u={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:r,isNone:n,getOr:t,getOrThunk:t,getOrDie:t,or:c,orThunk:c,map:function(t){return a(t(e))},ap:function(t){return t.fold(o,function(t){return a(t(e))})},each:function(t){t(e)},bind:s,flatten:t,exists:s,forall:s,filter:function(t){return t(e)?u:i},equals:function(t){return t.is(e)},equals_:function(t,r){return t.fold(n,function(t){return r(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return u};return{some:a,none:o,from:function(e){return null===e||void 0===e?i:a(e)}}}),i("global!String",String),o("ephox.katamari.api.Arr",["ephox.katamari.api.Option","global!Array","global!Error","global!String"],function(e,t,n,r){var o=function(){var e=t.prototype.indexOf;return void 0===e?function(e,t){return f(e,t)}:function(t,n){return e.call(t,n)}}(),i=function(e,t){return o(e,t)>-1},a=function(e,n){for(var r=e.length,o=new t(r),i=0;i<r;i++){var a=e[i];o[i]=n(a,i,e)}return o},c=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n,e)}},s=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n,e)}},u=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},l=function(t,n){for(var r=0,o=t.length;r<o;r++){if(n(t[r],r,t))return e.some(r)}return e.none()},f=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},d=t.prototype.push,p=function(e){for(var r=[],o=0,i=e.length;o<i;++o){if(!t.prototype.isPrototypeOf(e[o]))throw new n("Arr.flatten item "+o+" was not an array, input: "+e);d.apply(r,e[o])}return r},m=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n,e))return!1}return!0},h=t.prototype.slice;return{map:a,each:c,eachr:s,partition:function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o,e)?n:r).push(a)}return{pass:n,fail:r}},filter:u,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var c=e[i],s=t(c);s!==n&&(r.push(o),o=[]),n=s,o.push(c)}return 0!==o.length&&r.push(o),r},indexOf:function(t,n){var r=o(t,n);return-1===r?e.none():e.some(r)},foldr:function(e,t,n){return s(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return c(e,function(e){n=t(n,e)}),n},find:function(t,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(n(i,r,t))return e.some(i)}return e.none()},findIndex:l,flatten:p,bind:function(e,t){var n=a(e,t);return p(n)},forall:m,exists:function(e,t){return l(e,t).isSome()},contains:i,equal:function(e,t){return e.length===t.length&&m(e,function(e,n){return e===t[n]})},reverse:function(e){var t=h.call(e,0);return t.reverse(),t},chunk:function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=e.slice(r,r+t);n.push(o)}return n},difference:function(e,t){return u(e,function(e){return!i(t,e)})},mapToObject:function(e,t){for(var n={},o=0,i=e.length;o<i;o++){var a=e[o];n[r(a)]=t(a,o)}return n},pure:function(e){return[e]},sort:function(e,t){var n=h.call(e,0);return n.sort(t),n},range:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},head:function(t){return 0===t.length?e.none():e.some(t[0])},last:function(t){return 0===t.length?e.none():e.some(t[t.length-1])}}}),o("ephox.katamari.api.Obj",["ephox.katamari.api.Option","global!Object"],function(e,t){var n=function(){var e=t.keys;return void 0===e?function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}:e}(),r=function(e,t){for(var r=n(e),o=0,i=r.length;o<i;o++){var a=r[o];t(e[a],a,e)}},o=function(e,t){var n={};return r(e,function(r,o){var i=t(r,o,e);n[i.k]=i.v}),n},i=function(e,t){var n=[];return r(e,function(e,r){n.push(t(e,r))}),n},a=function(e){return i(e,function(e){return e})};return{bifilter:function(e,t){var n={},o={};return r(e,function(e,r){(t(e,r)?n:o)[r]=e}),{t:n,f:o}},each:r,map:function(e,t){return o(e,function(e,n,r){return{k:n,v:t(e,n,r)}})},mapToArray:i,tupleMap:o,find:function(t,r){for(var o=n(t),i=0,a=o.length;i<a;i++){var c=o[i],s=t[c];if(r(s,c,t))return e.some(s)}return e.none()},keys:n,values:a,size:function(e){return a(e).length}}}),o("ephox.katamari.data.Immutable",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","global!Array","global!Error"],function(e,t,n,r){return function(){var o=arguments;return function(){for(var i=new n(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];if(o.length!==i.length)throw new r('Wrong number of arguments to struct. Expected "['+o.length+']", got '+i.length+" arguments");var c={};return e.each(o,function(e,n){c[e]=t.constant(i[n])}),c}}}),o("ephox.katamari.api.Type",["global!Array","global!String"],function(e,t){var n=function(n){return function(r){return function(n){if(null===n)return"null";var r=typeof n;return"object"===r&&e.prototype.isPrototypeOf(n)?"array":"object"===r&&t.prototype.isPrototypeOf(n)?"string":r}(r)===n}};return{isString:n("string"),isObject:n("object"),isArray:n("array"),isNull:n("null"),isBoolean:n("boolean"),isUndefined:n("undefined"),isFunction:n("function"),isNumber:n("number")}}),o("ephox.katamari.util.BagUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Type","global!Error"],function(e,t,n){var r=function(e){return e.slice(0).sort()};return{sort:r,reqMessage:function(e,t){throw new n("All required keys ("+r(e).join(", ")+") were not specified. Specified keys were: "+r(t).join(", ")+".")},unsuppMessage:function(e){throw new n("Unsupported keys for object: "+r(e).join(", "))},validateStrArr:function(r,o){if(!t.isArray(o))throw new n("The "+r+" fields must be an array. Was: "+o+".");e.each(o,function(e){if(!t.isString(e))throw new n("The value "+e+" in the "+r+" fields was not a string.")})},invalidTypeMessage:function(e,t){throw new n("All values need to be of type: "+t+". Keys ("+r(e).join(", ")+") were not.")},checkDupes:function(t){var o=r(t);e.find(o,function(e,t){return t<o.length-1&&e===o[t+1]}).each(function(e){throw new n("The field: "+e+" occurs more than once in the combined fields: ["+o.join(", ")+"].")})}}}),o("ephox.katamari.data.MixedBag",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Obj","ephox.katamari.api.Option","ephox.katamari.util.BagUtils","global!Error","global!Object"],function(e,t,n,r,o,i,a){return function(c,s){var u=c.concat(s);if(0===u.length)throw new i("You must specify at least one required or optional field.");return o.validateStrArr("required",c),o.validateStrArr("optional",s),o.checkDupes(u),function(i){var l=n.keys(i);e.forall(c,function(t){return e.contains(l,t)})||o.reqMessage(c,l);var f=e.filter(l,function(t){return!e.contains(u,t)});f.length>0&&o.unsuppMessage(f);var d={};return e.each(c,function(e){d[e]=t.constant(i[e])}),e.each(s,function(e){d[e]=t.constant(a.prototype.hasOwnProperty.call(i,e)?r.some(i[e]):r.none())}),d}}}),o("ephox.katamari.api.Struct",["ephox.katamari.data.Immutable","ephox.katamari.data.MixedBag"],function(e,t){return{immutable:e,immutableBag:t}}),o("ephox.snooker.api.Structs",["ephox.katamari.api.Struct"],function(e){var t=e.immutable("width","height"),n=e.immutable("rows","columns"),r=e.immutable("row","column"),o=e.immutable("x","y"),i=e.immutable("element","rowspan","colspan"),a=e.immutable("element","rowspan","colspan","isNew");return{dimensions:t,grid:n,address:r,coords:o,extended:e.immutable("element","rowspan","colspan","row","column"),detail:i,detailnew:a,rowdata:e.immutable("element","cells","section"),elementnew:e.immutable("element","isNew"),rowdatanew:e.immutable("element","cells","section","isNew"),rowcells:e.immutable("cells","section"),rowdetails:e.immutable("details","section"),bounds:e.immutable("startRow","startCol","finishRow","finishCol")}}),o("global!console",[],function(){return"undefined"==typeof console&&(console={log:function(){}}),console}),i("global!document",document),o("ephox.sugar.api.node.Element",["ephox.katamari.api.Fun","ephox.katamari.api.Option","global!Error","global!console","global!document"],function(e,t,n,r,o){var i=function(t){if(null===t||void 0===t)throw new n("Node cannot be null or undefined");return{dom:e.constant(t)}};return{fromHtml:function(e,t){var n=(t||o).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw r.error("HTML does not have a single root node",e),"HTML must have a single root node";return i(n.childNodes[0])},fromTag:function(e,t){var n=(t||o).createElement(e);return i(n)},fromText:function(e,t){var n=(t||o).createTextNode(e);return i(n)},fromDom:i,fromPoint:function(e,n,r){return t.from(e.dom().elementFromPoint(n,r)).map(i)}}}),o("ephox.sugar.api.node.NodeTypes",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}}),o("ephox.sugar.api.search.Selectors",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.node.NodeTypes","global!Error","global!document"],function(e,t,n,r,o,i){var a=r.ELEMENT,c=r.DOCUMENT,s=function(e){return e.nodeType!==a&&e.nodeType!==c||0===e.childElementCount};return{all:function(t,r){var o=void 0===r?i:r.dom();return s(o)?[]:e.map(o.querySelectorAll(t),n.fromDom)},is:function(e,t){var n=e.dom();if(n.nodeType!==a)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new o("Browser lacks native selectors")},one:function(e,r){var o=void 0===r?i:r.dom();return s(o)?t.none():t.from(o.querySelector(e)).map(n.fromDom)}}}),o("ephox.sugar.alien.Recurse",[],function(){return{toArray:function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do{o=o.bind(r)}while(o.isSome());return n}}}),o("ephox.katamari.api.Global",[],function(){return"undefined"!=typeof window?window:Function("return this;")()}),o("ephox.katamari.api.Resolve",["ephox.katamari.api.Global"],function(e){var t=function(t,n){for(var r=void 0!==n?n:e,o=0;o<t.length&&void 0!==r&&null!==r;++o)r=r[t[o]];return r},n=function(e,t){return void 0!==e[t]&&null!==e[t]||(e[t]={}),e[t]},r=function(t,r){for(var o=void 0!==r?r:e,i=0;i<t.length;++i)o=n(o,t[i]);return o};return{path:t,resolve:function(e,n){var r=e.split(".");return t(r,n)},forge:r,namespace:function(e,t){var n=e.split(".");return r(n,t)}}}),o("ephox.sand.util.Global",["ephox.katamari.api.Resolve"],function(e){return{getOrDie:function(t,n){var r=function(t,n){return e.resolve(t,n)}(t,n);if(void 0===r)throw t+" not available on this browser";return r}}}),o("ephox.sand.api.Node",["ephox.sand.util.Global"],function(e){var t=function(){return e.getOrDie("Node")},n=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)};return{documentPositionPreceding:function(e,r){return n(e,r,t().DOCUMENT_POSITION_PRECEDING)},documentPositionContainedBy:function(e,r){return n(e,r,t().DOCUMENT_POSITION_CONTAINED_BY)}}}),o("ephox.katamari.api.Thunk",[],function(){return{cached:function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}}}}),i("global!Number",Number),o("ephox.sand.detect.Version",["ephox.katamari.api.Arr","global!Number","global!String"],function(e,t,n){var r=function(){return o(0,0)},o=function(e,t){return{major:e,minor:t}};return{nu:o,detect:function(e,i){var a=n(i).toLowerCase();return 0===e.length?r():function(e,n){var r=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,n);if(!r)return{major:0,minor:0};var i=function(e){return t(n.replace(r,"$"+e))};return o(i(1),i(2))}(e,a)},unknown:r}}),o("ephox.sand.core.Browser",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(e,t){var n=function(e,t){return function(){return t===e}},r=function(e){var t=e.current;return{current:t,version:e.version,isEdge:n("Edge",t),isChrome:n("Chrome",t),isIE:n("IE",t),isOpera:n("Opera",t),isFirefox:n("Firefox",t),isSafari:n("Safari",t)}};return{unknown:function(){return r({current:void 0,version:t.unknown()})},nu:r,edge:e.constant("Edge"),chrome:e.constant("Chrome"),ie:e.constant("IE"),opera:e.constant("Opera"),firefox:e.constant("Firefox"),safari:e.constant("Safari")}}),o("ephox.sand.core.OperatingSystem",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(e,t){var n=function(e,t){return function(){return t===e}},r=function(e){var t=e.current;return{current:t,version:e.version,isWindows:n("Windows",t),isiOS:n("iOS",t),isAndroid:n("Android",t),isOSX:n("OSX",t),isLinux:n("Linux",t),isSolaris:n("Solaris",t),isFreeBSD:n("FreeBSD",t)}};return{unknown:function(){return r({current:void 0,version:t.unknown()})},nu:r,windows:e.constant("Windows"),ios:e.constant("iOS"),android:e.constant("Android"),linux:e.constant("Linux"),osx:e.constant("OSX"),solaris:e.constant("Solaris"),freebsd:e.constant("FreeBSD")}}),o("ephox.sand.detect.DeviceType",["ephox.katamari.api.Fun"],function(e){return function(t,n,r){var o=t.isiOS()&&!0===/ipad/i.test(r),i=t.isiOS()&&!o,a=t.isAndroid()&&3===t.version.major,c=t.isAndroid()&&4===t.version.major,s=o||a||c&&!0===/mobile/i.test(r),u=t.isiOS()||t.isAndroid(),l=u&&!s,f=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(r);return{isiPad:e.constant(o),isiPhone:e.constant(i),isTablet:e.constant(s),isPhone:e.constant(l),isTouch:e.constant(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:e.constant(f)}}}),o("ephox.sand.detect.UaString",["ephox.katamari.api.Arr","ephox.sand.detect.Version","global!String"],function(e,t,n){var r=function(t,r){var o=n(r).toLowerCase();return e.find(t,function(e){return e.search(o)})};return{detectBrowser:function(e,n){return r(e,n).map(function(e){var r=t.detect(e.versionRegexes,n);return{current:e.name,version:r}})},detectOs:function(e,n){return r(e,n).map(function(e){var r=t.detect(e.versionRegexes,n);return{current:e.name,version:r}})}}}),o("ephox.katamari.str.StrAppend",[],function(){return{addToStart:function(e,t){return t+e},addToEnd:function(e,t){return e+t},removeFromStart:function(e,t){return e.substring(t)},removeFromEnd:function(e,t){return e.substring(0,e.length-t)}}}),o("ephox.katamari.str.StringParts",["ephox.katamari.api.Option","global!Error"],function(e,t){return{first:function(e,t){return e.substr(0,t)},last:function(e,t){return e.substr(e.length-t,e.length)},head:function(t){return""===t?e.none():e.some(t.substr(0,1))},tail:function(t){return""===t?e.none():e.some(t.substring(1))}}}),o("ephox.katamari.api.Strings",["ephox.katamari.str.StrAppend","ephox.katamari.str.StringParts","global!Error"],function(e,t,n){var r=function(e,t,n){if(""===t)return!0;if(e.length<t.length)return!1;return e.substr(n,n+t.length)===t},o=function(e,t){return r(e,t,0)},i=function(e,t){return r(e,t,e.length-t.length)};return{supplant:function(e,t){return e.replace(/\${([^{}]*)}/g,function(e,n){var r=t[n];return function(e){var t=typeof e;return"string"===t||"number"===t}(r)?r:e})},startsWith:o,removeLeading:function(t,n){return o(t,n)?e.removeFromStart(t,n.length):t},removeTrailing:function(t,n){return i(t,n)?e.removeFromEnd(t,n.length):t},ensureLeading:function(t,n){return o(t,n)?t:e.addToStart(t,n)},ensureTrailing:function(t,n){return i(t,n)?t:e.addToEnd(t,n)},endsWith:i,contains:function(e,t){return-1!==e.indexOf(t)},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},lTrim:function(e){return e.replace(/^\s+/g,"")},rTrim:function(e){return e.replace(/\s+$/g,"")},capitalize:function(e){return t.head(e).bind(function(n){return t.tail(e).map(function(e){return n.toUpperCase()+e})}).getOr(e)}}}),o("ephox.sand.info.PlatformInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Strings"],function(e,t){var n=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,r=function(e){return function(n){return t.contains(n,e)}},o=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return t.contains(e,"edge/")&&t.contains(e,"chrome")&&t.contains(e,"safari")&&t.contains(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,n],search:function(e){return t.contains(e,"chrome")&&!t.contains(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return t.contains(e,"msie")||t.contains(e,"trident")}},{name:"Opera",versionRegexes:[n,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:r("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:r("firefox")},{name:"Safari",versionRegexes:[n,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(t.contains(e,"safari")||t.contains(e,"mobile/"))&&t.contains(e,"applewebkit")}}],i=[{name:"Windows",search:r("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return t.contains(e,"iphone")||t.contains(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:r("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:r("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:r("linux"),versionRegexes:[]},{name:"Solaris",search:r("sunos"),versionRegexes:[]},{name:"FreeBSD",search:r("freebsd"),versionRegexes:[]}];return{browsers:e.constant(o),oses:e.constant(i)}}),o("ephox.sand.core.PlatformDetection",["ephox.sand.core.Browser","ephox.sand.core.OperatingSystem","ephox.sand.detect.DeviceType","ephox.sand.detect.UaString","ephox.sand.info.PlatformInfo"],function(e,t,n,r,o){return{detect:function(i){var a=o.browsers(),c=o.oses(),s=r.detectBrowser(a,i).fold(e.unknown,e.nu),u=r.detectOs(c,i).fold(t.unknown,t.nu);return{browser:s,os:u,deviceType:n(u,s,i)}}}}),i("global!navigator",navigator),o("ephox.sand.api.PlatformDetection",["ephox.katamari.api.Thunk","ephox.sand.core.PlatformDetection","global!navigator"],function(e,t,n){return{detect:e.cached(function(){var e=n.userAgent;return t.detect(e)})}}),o("ephox.sugar.api.dom.Compare",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sand.api.Node","ephox.sand.api.PlatformDetection","ephox.sugar.api.search.Selectors"],function(e,t,n,r,o){var i=function(e,t){return e.dom()===t.dom()},a=r.detect().browser.isIE()?function(e,t){return n.documentPositionContainedBy(e.dom(),t.dom())}:function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)};return{eq:i,isEqualNode:function(e,t){return e.dom().isEqualNode(t.dom())},member:function(n,r){return e.exists(r,t.curry(i,n))},contains:a,is:o.is}}),o("ephox.sugar.api.search.Traverse",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Struct","ephox.sugar.alien.Recurse","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element"],function(e,t,n,r,o,i,a,c){var s=function(e){return c.fromDom(e.dom().ownerDocument)},u=function(e){var t=e.dom();return r.from(t.parentNode).map(c.fromDom)},l=function(e){var t=e.dom();return r.from(t.previousSibling).map(c.fromDom)},f=function(e){var t=e.dom();return r.from(t.nextSibling).map(c.fromDom)},d=function(e){var n=e.dom();return t.map(n.childNodes,c.fromDom)},p=function(e,t){var n=e.dom().childNodes;return r.from(n[t]).map(c.fromDom)},m=o.immutable("element","offset");return{owner:s,defaultView:function(e){var t=e.dom().ownerDocument.defaultView;return c.fromDom(t)},documentElement:function(e){var t=s(e);return c.fromDom(t.dom().documentElement)},parent:u,findIndex:function(e){return u(e).bind(function(n){var r=d(n);return t.findIndex(r,function(t){return a.eq(e,t)})})},parents:function(t,r){for(var o=e.isFunction(r)?r:n.constant(!1),i=t.dom(),a=[];null!==i.parentNode&&void 0!==i.parentNode;){var s=i.parentNode,u=c.fromDom(s);if(a.push(u),!0===o(u))break;i=s}return a},siblings:function(e){return u(e).map(d).map(function(n){return t.filter(n,function(t){return!a.eq(e,t)})}).getOr([])},prevSibling:l,offsetParent:function(e){var t=e.dom();return r.from(t.offsetParent).map(c.fromDom)},prevSiblings:function(e){return t.reverse(i.toArray(e,l))},nextSibling:f,nextSiblings:function(e){return i.toArray(e,f)},children:d,child:p,firstChild:function(e){return p(e,0)},lastChild:function(e){return p(e,e.dom().childNodes.length-1)},childNodesCount:function(e){return e.dom().childNodes.length},hasChildNodes:function(e){return e.dom().hasChildNodes()},leaf:function(e,t){var n=d(e);return n.length>0&&t<n.length?m(n[t],0):m(e,t)}}}),o("ephox.snooker.util.LayerSelector",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.search.Selectors","ephox.sugar.api.search.Traverse"],function(e,t,n,r){var o=function(t,i,a){return e.bind(r.children(t),function(e){return n.is(e,i)?a(e)?[e]:[]:o(e,i,a)})};return{firstLayer:function(e,n){return o(e,n,t.constant(!0))},filterFirstLayer:o}}),o("ephox.sugar.api.node.Node",["ephox.sugar.api.node.NodeTypes"],function(e){var t=function(e){return e.dom().nodeName.toLowerCase()},n=function(e){return e.dom().nodeType},r=function(e){return function(t){return n(t)===e}},o=r(e.ELEMENT),i=r(e.TEXT),a=r(e.DOCUMENT);return{name:t,type:n,value:function(e){return e.dom().nodeValue},isElement:o,isText:i,isDocument:a,isComment:function(r){return n(r)===e.COMMENT||"#comment"===t(r)}}}),o("ephox.sugar.api.properties.Attr",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.sugar.api.node.Node","global!Error","global!console"],function(e,t,n,r,o,i){var a=function(t,n,r){if(!(e.isString(r)||e.isBoolean(r)||e.isNumber(r)))throw i.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new o("Attribute value was not simple");t.setAttribute(n,r+"")},c=function(e,t,n){a(e.dom(),t,n)},s=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},u=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)};return{clone:function(e){return t.foldl(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},set:c,setAll:function(e,t){var r=e.dom();n.each(t,function(e,t){a(r,t,e)})},get:s,has:u,remove:function(e,t){e.dom().removeAttribute(t)},hasNone:function(e){var t=e.dom().attributes;return void 0===t||null===t||0===t.length},transfer:function(e,n,o){r.isElement(e)&&r.isElement(n)&&t.each(o,function(t){!function(e,t,n){u(e,n)&&!u(t,n)&&c(t,n,s(e,n))}(e,n,t)})}}}),o("ephox.sugar.api.node.Body",["ephox.katamari.api.Thunk","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","global!document"],function(e,t,n,r){var o=e.cached(function(){return i(t.fromDom(r))}),i=function(e){var n=e.dom().body;if(null===n||void 0===n)throw"Body is not available yet";return t.fromDom(n)};return{body:o,getBody:i,inBody:function(e){var t=n.isText(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)}}}),o("ephox.sugar.api.search.PredicateFilter",["ephox.katamari.api.Arr","ephox.sugar.api.node.Body","ephox.sugar.api.search.Traverse"],function(e,t,n){var r=function(t,o){var i=[];return e.each(n.children(t),function(e){o(e)&&(i=i.concat([e])),i=i.concat(r(e,o))}),i};return{all:function(e){return r(t.body(),e)},ancestors:function(t,r,o){return e.filter(n.parents(t,o),r)},siblings:function(t,r){return e.filter(n.siblings(t),r)},children:function(t,r){return e.filter(n.children(t),r)},descendants:r}}),o("ephox.sugar.api.search.SelectorFilter",["ephox.sugar.api.search.PredicateFilter","ephox.sugar.api.search.Selectors"],function(e,t){return{all:function(e){return t.all(e)},ancestors:function(n,r,o){return e.ancestors(n,function(e){return t.is(e,r)},o)},siblings:function(n,r){return e.siblings(n,function(e){return t.is(e,r)})},children:function(n,r){return e.children(n,function(e){return t.is(e,r)})},descendants:function(e,n){return t.all(n,e)}}}),o("ephox.sugar.impl.ClosestOrAncestor",["ephox.katamari.api.Type","ephox.katamari.api.Option"],function(e,t){return function(n,r,o,i,a){return n(o,i)?t.some(o):e.isFunction(a)&&a(o)?t.none():r(o,i,a)}}),o("ephox.sugar.api.search.PredicateFind",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Body","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.impl.ClosestOrAncestor"],function(e,t,n,r,o,i,a,c){var s=function(t,o,i){for(var c=t.dom(),s=e.isFunction(i)?i:n.constant(!1);c.parentNode;){c=c.parentNode;var u=a.fromDom(c);if(o(u))return r.some(u);if(s(u))break}return r.none()},u=function(e,r){return t.find(e.dom().childNodes,n.compose(r,a.fromDom)).map(a.fromDom)},l=function(e,t){var n=function(e){for(var o=0;o<e.childNodes.length;o++){if(t(a.fromDom(e.childNodes[o])))return r.some(a.fromDom(e.childNodes[o]));var i=n(e.childNodes[o]);if(i.isSome())return i}return r.none()};return n(e.dom())};return{first:function(e){return l(o.body(),e)},ancestor:s,closest:function(e,t,n){return c(function(e){return t(e)},s,e,t,n)},sibling:function(e,t){var n=e.dom();return n.parentNode?u(a.fromDom(n.parentNode),function(n){return!i.eq(e,n)&&t(n)}):r.none()},child:u,descendant:l}}),o("ephox.sugar.api.search.SelectorFind",["ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Selectors","ephox.sugar.impl.ClosestOrAncestor"],function(e,t,n){var r=function(n,r,o){return e.ancestor(n,function(e){return t.is(e,r)},o)};return{first:function(e){return t.one(e)},ancestor:r,sibling:function(n,r){return e.sibling(n,function(e){return t.is(e,r)})},child:function(n,r){return e.child(n,function(e){return t.is(e,r)})},descendant:function(e,n){return t.one(n,e)},closest:function(e,o,i){return n(t.is,r,e,o,i)}}}),i("global!parseInt",parseInt),o("ephox.snooker.api.TableLookup",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.snooker.api.Structs","ephox.snooker.util.LayerSelector","ephox.sugar.api.properties.Attr","ephox.sugar.api.node.Node","ephox.sugar.api.search.SelectorFilter","ephox.sugar.api.search.SelectorFind","ephox.sugar.api.search.Selectors","ephox.sugar.api.search.Traverse","global!parseInt"],function(e,t,n,r,o,i,a,c,s,u,l,f){var d=function(r,o,i){var c=void 0!==i?i:t.constant(!1);if(c(o))return n.none();if(e.contains(r,a.name(o)))return n.some(o);return s.ancestor(o,r.join(","),function(e){return u.is(e,"table")||c(e)})},p=function(e,t){return l.parent(t).map(function(t){return c.children(t,e)})},m=function(e,t){return f(i.get(e,t),10)};return{cell:function(e,t){return d(["td","th"],e,t)},firstCell:function(e){return s.descendant(e,"th,td")},cells:function(e){return o.firstLayer(e,"th,td")},neighbourCells:t.curry(p,"th,td"),table:function(e,t){return s.closest(e,"table",t)},row:function(e,t){return d(["tr"],e,t)},rows:function(e){return o.firstLayer(e,"tr")},notCell:function(e,t){return d(["caption","tr","tbody","tfoot","thead"],e,t)},neighbourRows:t.curry(p,"tr"),attr:m,grid:function(e,t,n){var o=m(e,t),i=m(e,n);return r.grid(o,i)}}}),o("ephox.snooker.model.DetailsList",["ephox.katamari.api.Arr","ephox.snooker.api.Structs","ephox.snooker.api.TableLookup","ephox.sugar.api.properties.Attr","ephox.sugar.api.node.Node","ephox.sugar.api.search.Traverse"],function(e,t,n,r,o,i){return{fromTable:function(a){var c=n.rows(a);return e.map(c,function(a){var c=a,s=i.parent(c).bind(function(e){var t=o.name(e);return"tfoot"===t||"thead"===t||"tbody"===t?t:"tbody"}),u=e.map(n.cells(a),function(e){var n=r.has(e,"rowspan")?parseInt(r.get(e,"rowspan"),10):1,o=r.has(e,"colspan")?parseInt(r.get(e,"colspan"),10):1;return t.detail(e,n,o)});return t.rowdata(c,u,s)})},fromPastedRows:function(o,i){return e.map(o,function(o){var a=e.map(n.cells(o),function(e){var n=r.has(e,"rowspan")?parseInt(r.get(e,"rowspan"),10):1,o=r.has(e,"colspan")?parseInt(r.get(e,"colspan"),10):1;return t.detail(e,n,o)});return t.rowdata(o,a,i.section())})}}}),i("global!Math",Math),o("ephox.snooker.model.Warehouse",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.snooker.api.Structs","global!Math"],function(e,t,n,r,o){var i=function(e,t){return e+","+t},a=function(t,n){var r=e.bind(t.all(),function(e){return e.cells()});return e.filter(r,n)};return{generate:function(n){var a={},c=[],s=n.length,u=0;e.each(n,function(t,n){var s=[];e.each(t.cells(),function(e,t){for(var c=0;void 0!==a[i(n,c)];)c++;for(var l=r.extended(e.element(),e.rowspan(),e.colspan(),n,c),f=0;f<e.colspan();f++)for(var d=0;d<e.rowspan();d++){var p=c+f,m=i(n+d,p);a[m]=l,u=o.max(u,p+1)}s.push(l)}),c.push(r.rowdata(t.element(),s,t.section()))});var l=r.grid(s,u);return{grid:t.constant(l),access:t.constant(a),all:t.constant(c)}},getAt:function(e,t,r){var o=e.access()[i(t,r)];return void 0!==o?n.some(o):n.none()},findItem:function(e,t,r){var o=a(e,function(e){return r(t,e.element())});return o.length>0?n.some(o[0]):n.none()},filterItems:a,justCells:function(t){var n=e.map(t.all(),function(e){return e.cells()});return e.flatten(n)}}}),o("ephox.sugar.impl.Style",[],function(){return{isSupported:function(e){return void 0!==e.style}}}),i("global!window",window),o("ephox.sugar.api.properties.Css",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.katamari.api.Option","ephox.sugar.api.properties.Attr","ephox.sugar.api.node.Body","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.impl.Style","ephox.katamari.api.Strings","global!Error","global!console","global!window"],function(e,t,n,r,o,i,a,c,s,u,l,f,d){var p=function(t,n,r){if(!e.isString(r))throw f.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new l("CSS value must be a string: "+r);s.isSupported(t)&&t.style.setProperty(n,r)},m=function(e,t){s.isSupported(e)&&e.style.removeProperty(t)},h=function(e,t,n){var r=e.dom();p(r,t,n)},g=function(e,t){return s.isSupported(e)?e.style.getPropertyValue(t):""},v=function(e,t){var n=e.dom(),o=g(n,t);return r.from(o).filter(function(e){return e.length>0})};return{copy:function(e,t){var n=e.dom(),r=t.dom();s.isSupported(n)&&s.isSupported(r)&&(r.style.cssText=n.style.cssText)},set:h,preserve:function(e,t){var n=o.get(e,"style"),r=t(e);return(void 0===n?o.remove:o.set)(e,"style",n),r},setAll:function(e,t){var r=e.dom();n.each(t,function(e,t){p(r,t,e)})},setOptions:function(e,t){var r=e.dom();n.each(t,function(e,t){e.fold(function(){m(r,t)},function(e){p(r,t,e)})})},remove:function(e,t){var n=e.dom();m(n,t),o.has(e,"style")&&""===u.trim(o.get(e,"style"))&&o.remove(e,"style")},get:function(e,t){var n=e.dom(),r=d.getComputedStyle(n).getPropertyValue(t),o=""!==r||i.inBody(e)?r:g(n,t);return null===o?void 0:o},getRaw:v,getAllRaw:function(e){var t={},n=e.dom();if(s.isSupported(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},isValidValue:function(e,t,n){var r=a.fromTag(e);h(r,t,n);return v(r,t).isSome()},reflow:function(e){return e.dom().offsetWidth},transfer:function(e,n,r){c.isElement(e)&&c.isElement(n)&&t.each(r,function(t){!function(e,t,n){v(e,n).each(function(e){v(t,n).isNone()&&h(t,n,e)})}(e,n,t)})}}}),o("ephox.sugar.api.dom.Insert",["ephox.sugar.api.search.Traverse"],function(e){var t=function(t,n){e.parent(t).each(function(e){e.dom().insertBefore(n.dom(),t.dom())})},n=function(e,t){e.dom().appendChild(t.dom())};return{before:t,after:function(r,o){e.nextSibling(r).fold(function(){e.parent(r).each(function(e){n(e,o)})},function(e){t(e,o)})},prepend:function(t,r){e.firstChild(t).fold(function(){n(t,r)},function(e){t.dom().insertBefore(r.dom(),e.dom())})},append:n,appendAt:function(r,o,i){e.child(r,i).fold(function(){n(r,o)},function(e){t(e,o)})},wrap:function(e,r){t(e,r),n(r,e)}}}),o("ephox.sugar.api.dom.InsertAll",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Insert"],function(e,t){return{before:function(n,r){e.each(r,function(e){t.before(n,e)})},after:function(n,r){e.each(r,function(e,o){var i=0===o?n:r[o-1];t.after(i,e)})},prepend:function(n,r){e.each(r.slice().reverse(),function(e){t.prepend(n,e)})},append:function(n,r){e.each(r,function(e){t.append(n,e)})}}}),o("ephox.sugar.api.dom.Remove",["ephox.katamari.api.Arr","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.search.Traverse"],function(e,t,n){var r=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)};return{empty:function(t){t.dom().textContent="",e.each(n.children(t),function(e){r(e)})},remove:r,unwrap:function(e){var o=n.children(e);o.length>0&&t.before(e,o),r(e)}}}),o("ephox.snooker.api.CopySelected",["ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.katamari.api.Struct","ephox.snooker.model.DetailsList","ephox.snooker.model.Warehouse","ephox.snooker.util.LayerSelector","ephox.sugar.api.properties.Attr","ephox.sugar.api.properties.Css","ephox.sugar.api.node.Element","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.search.Selectors"],function(e,t,n,r,o,i,a,c,s,u,l,f){var d=n.immutable("minRow","minCol","maxRow","maxCol"),p=function(e,t,n){var r=e[n].element(),o=s.fromTag("td");u.append(o,s.fromTag("br"));(t?u.append:u.prepend)(r,o)};return{extract:function(n,s){var u=function(e){return f.is(e.element(),s)},m=r.fromTable(n),h=o.generate(m),g=function(e,n){var r=e.grid().columns(),o=e.grid().rows(),i=r,a=0,c=0;return t.each(e.access(),function(e){if(n(e)){var t=e.row(),r=t+e.rowspan()-1,s=e.column(),u=s+e.colspan()-1;t<o?o=t:r>a&&(a=r),s<i?i=s:u>c&&(c=u)}}),d(o,i,a,c)}(h,u),v="th:not("+s+"),td:not("+s+")",y=i.filterFirstLayer(n,"th,td",function(e){return f.is(e,v)});return e.each(y,l.remove),function(e,t,n,r){for(var i=t.grid().columns(),a=t.grid().rows(),c=0;c<a;c++)for(var s=!1,u=0;u<i;u++)c<n.minRow()||c>n.maxRow()||u<n.minCol()||u>n.maxCol()||(o.getAt(t,c,u).filter(r).isNone()?p(e,s,c):s=!0)}(m,h,g,u),function(t,n){var r=e.filter(i.firstLayer(t,"tr"),function(e){return 0===e.dom().childElementCount});e.each(r,l.remove),n.minCol()!==n.maxCol()&&n.minRow()!==n.maxRow()||e.each(i.firstLayer(t,"th,td"),function(e){a.remove(e,"rowspan"),a.remove(e,"colspan")}),a.remove(t,"width"),a.remove(t,"height"),c.remove(t,"width"),c.remove(t,"height")}(n,g),n}}}),o("ephox.sugar.api.dom.Replication",["ephox.sugar.api.properties.Attr","ephox.sugar.api.node.Element","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.dom.Remove","ephox.sugar.api.search.Traverse"],function(e,t,n,r,o,i){var a=function(e,n){return t.fromDom(e.dom().cloneNode(n))},c=function(e){return a(e,!0)},s=function(n,r){var o=t.fromTag(r),i=e.clone(n);return e.setAll(o,i),o};return{shallow:function(e){return a(e,!1)},shallowAs:s,deep:c,copy:function(e,t){var n=s(e,t),o=i.children(c(e));return r.append(n,o),n},mutate:function(e,t){var a=s(e,t);n.before(e,a);var c=i.children(e);return r.append(a,c),o.remove(e),a}}}),o("ephox.sugar.impl.NodeValue",["ephox.sand.api.PlatformDetection","ephox.katamari.api.Option","global!Error"],function(e,t,n){return function(r,o){var i=function(e){return r(e)?t.from(e.dom().nodeValue):t.none()},a=e.detect().browser,c=a.isIE()&&10===a.version.major?function(e){try{return i(e)}catch(e){return t.none()}}:i;return{get:function(e){if(!r(e))throw new n("Can only get "+o+" value of a "+o+" node");return c(e).getOr("")},getOption:c,set:function(e,t){if(!r(e))throw new n("Can only set raw "+o+" value of a "+o+" node");e.dom().nodeValue=t}}}}),o("ephox.sugar.api.node.Text",["ephox.sugar.api.node.Node","ephox.sugar.impl.NodeValue"],function(e,t){var n=t(e.isText,"text");return{get:function(e){return n.get(e)},getOption:function(e){return n.getOption(e)},set:function(e,t){n.set(e,t)}}}),o("ephox.sugar.api.selection.Awareness",["ephox.katamari.api.Arr","ephox.sugar.api.node.Node","ephox.sugar.api.node.Text","ephox.sugar.api.search.Traverse"],function(e,t,n,r){var o=function(e){return"img"===t.name(e)?1:n.getOption(e).fold(function(){return r.children(e).length},function(e){return e.length})},i=["img","br"];return{getEnd:o,isEnd:function(e,t){return o(e)===t},isStart:function(e,t){return 0===t},isCursorPosition:function(r){return function(e){return n.getOption(e).filter(function(e){return 0!==e.trim().length||e.indexOf("")>-1}).isSome()}(r)||e.contains(i,t.name(r))}}}),o("ephox.sugar.api.selection.CursorPosition",["ephox.katamari.api.Option","ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Traverse","ephox.sugar.api.selection.Awareness"],function(e,t,n,r){var o=function(t,r){var o=function(t){for(var i=n.children(t),a=i.length-1;a>=0;a--){var c=i[a];if(r(c))return e.some(c);var s=o(c);if(s.isSome())return s}return e.none()};return o(t)};return{first:function(e){return t.descendant(e,r.isCursorPosition)},last:function(e){return o(e,r.isCursorPosition)}}}),o("ephox.snooker.api.TableFill",["ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.sugar.api.dom.Compare","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Replication","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.properties.Attr","ephox.sugar.api.properties.Css","ephox.sugar.api.search.SelectorFilter","ephox.sugar.api.search.Traverse","ephox.sugar.api.selection.CursorPosition"],function(e,t,n,r,o,i,a,c,s,u,l,f){var d=function(){var e=i.fromTag("td");return r.append(e,i.fromTag("br")),e},p=function(e,n,r){var i=o.copy(e,n);return t.each(r,function(e,t){null===e?c.remove(i,t):c.set(i,t,e)}),i},m=function(e){return e},h=function(e){return function(){return i.fromTag("tr",e.dom())}};return{cellOperations:function(t,c,m){return{row:h(c),cell:function(c){var d=l.owner(c.element()),p=i.fromTag(a.name(c.element()),d.dom()),h=m.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),g=h.length>0?function(t,i,a){return f.first(t).map(function(c){var s=a.join(","),l=u.ancestors(c,s,function(e){return n.eq(e,t)});return e.foldr(l,function(e,t){var n=o.shallow(t);return r.append(e,n),n},i)}).getOr(i)}(c.element(),p,h):p;return r.append(g,i.fromTag("br")),s.copy(c.element(),p),s.remove(p,"height"),1!==c.colspan()&&s.remove(c.element(),"width"),t(c.element(),p),p},replace:p,gap:d}},paste:function(e){return{row:h(e),cell:d,replace:m,gap:d}}}}),o("ephox.sugar.api.node.Elements",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","ephox.sugar.api.search.Traverse","global!document"],function(e,t,n,r){return{fromHtml:function(e,o){var i=(o||r).createElement("div");return i.innerHTML=e,n.children(t.fromDom(i))},fromTags:function(n,r){return e.map(n,function(e){return t.fromTag(e,r)})},fromText:function(n,r){return e.map(n,function(e){return t.fromText(e,r)})},fromDom:function(n){return e.map(n,t.fromDom)}}}),o("ephox.boss.common.TagBoundaries",[],function(){return["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"]}),o("ephox.boss.api.DomUniverse",["ephox.boss.common.TagBoundaries","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.properties.Attr","ephox.sugar.api.dom.Compare","ephox.sugar.api.properties.Css","ephox.sugar.api.node.Element","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFilter","ephox.sugar.api.search.PredicateFind","ephox.sugar.api.dom.Remove","ephox.sugar.api.search.SelectorFilter","ephox.sugar.api.search.SelectorFind","ephox.sugar.api.node.Text","ephox.sugar.api.search.Traverse"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m,h,g){return function(){return{up:n.constant({selector:m.ancestor,closest:m.closest,predicate:f.ancestor,all:g.parents}),down:n.constant({selector:p.descendants,predicate:l.descendants}),styles:n.constant({get:i.get,getRaw:i.getRaw,set:i.set,remove:i.remove}),attrs:n.constant({get:r.get,set:r.set,remove:r.remove,copyTo:function(e,t){var n=r.clone(e);r.setAll(t,n)}}),insert:n.constant({before:c.before,after:c.after,afterAll:s.after,append:c.append,appendAll:s.append,prepend:c.prepend,wrap:c.wrap}),remove:n.constant({unwrap:d.unwrap,remove:d.remove}),create:n.constant({nu:a.fromTag,clone:function(e){return a.fromDom(e.dom().cloneNode(!1))},text:a.fromText}),query:n.constant({comparePosition:function(e,t){return e.dom().compareDocumentPosition(t.dom())},prevSibling:g.prevSibling,nextSibling:g.nextSibling}),property:n.constant({children:g.children,name:u.name,parent:g.parent,isText:u.isText,isComment:u.isComment,isElement:u.isElement,getText:h.get,setText:h.set,isBoundary:function(n){return!!u.isElement(n)&&("body"===u.name(n)||t.contains(e,u.name(n)))},isEmptyTag:function(e){return!!u.isElement(e)&&t.contains(["br","img","hr","input"],u.name(e))}}),eq:o.eq,is:o.is}}}),o("ephox.robin.parent.Breaker",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Struct"],function(e,t,n,r){var o=r.immutable("left","right"),i=function(n,r,o){var i=n.property().children(r);return e.findIndex(i,t.curry(n.eq,o)).map(function(e){return{before:t.constant(i.slice(0,e)),after:t.constant(i.slice(e+1))}})};return{breakToLeft:function(e,t,n){return i(e,t,n).map(function(r){var i=e.create().clone(t);return e.insert().appendAll(i,r.before().concat([n])),e.insert().appendAll(t,r.after()),e.insert().before(t,i),o(i,t)})},breakToRight:function(e,t,n){return i(e,t,n).map(function(n){var r=e.create().clone(t);return e.insert().appendAll(r,n.after()),e.insert().after(t,r),o(t,r)})},breakPath:function(e,t,o,i){var a=r.immutable("first","second","splits"),c=function(t,r,s){var u=a(t,n.none(),s);return o(t)?a(t,r,s):e.property().parent(t).bind(function(r){return i(e,r,t).map(function(e){var t=[{first:e.left,second:e.right}],i=o(r)?r:e.left();return c(i,n.some(e.right()),s.concat(t))}).getOr(u)})};return c(t,n.none(),[])}}}),o("ephox.robin.parent.Shared",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option"],function(e,t,n){var r=function(t,n,r,i){var a=n(t,r);return e.foldr(i,function(e,r){var i=n(t,r);return o(t,e,i)},a)},o=function(e,n,r){return n.bind(function(n){return r.filter(t.curry(e.eq,n))})};return{oneAll:function(e,t,o){return o.length>0?function(e,t,n,r){return r(e,t,n[0],n.slice(1))}(e,t,o,r):n.none()}}}),o("ephox.robin.parent.Subset",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","global!Math"],function(e,t,n,r){var o=function(e,n){return t.curry(e.eq,n)},i=function(n,r,i,a){var c=void 0!==a?a:t.constant(!1),s=[r].concat(n.up().all(r)),u=[i].concat(n.up().all(i)),l=function(t){return e.findIndex(t,c).fold(function(){return t},function(e){return t.slice(0,e+1)})},f=l(s),d=l(u),p=e.find(f,function(t){return e.exists(d,o(n,t))});return{firstpath:t.constant(f),secondpath:t.constant(d),shared:t.constant(p)}};return{subset:function(t,a,c){var s=i(t,a,c);return s.shared().bind(function(i){return function(t,i,a,c){var s=t.property().children(i);if(t.eq(i,a[0]))return n.some([a[0]]);if(t.eq(i,c[0]))return n.some([c[0]]);var u=function(n){var r=e.reverse(n),a=e.findIndex(r,o(t,i)).getOr(-1),c=a<r.length-1?r[a+1]:r[a];return e.findIndex(s,o(t,c))},l=u(a),f=u(c);return l.bind(function(e){return f.map(function(t){var n=r.min(e,t),o=r.max(e,t);return s.slice(n,o+1)})})}(t,i,s.firstpath(),s.secondpath())})},ancestors:i}}),o("ephox.robin.api.general.Parent",["ephox.robin.parent.Breaker","ephox.robin.parent.Shared","ephox.robin.parent.Subset"],function(e,t,n){return{sharedOne:function(e,n,r){return t.oneAll(e,n,r)},subset:function(e,t,r){return n.subset(e,t,r)},ancestors:function(e,t,r,o){return n.ancestors(e,t,r,o)},breakToLeft:function(t,n,r){return e.breakToLeft(t,n,r)},breakToRight:function(t,n,r){return e.breakToRight(t,n,r)},breakPath:function(t,n,r,o){return e.breakPath(t,n,r,o)}}}),o("ephox.robin.api.dom.DomParent",["ephox.boss.api.DomUniverse","ephox.robin.api.general.Parent"],function(e,t){var n=e();return{sharedOne:function(e,r){return t.sharedOne(n,function(t,n){return e(n)},r)},subset:function(e,r){return t.subset(n,e,r)},ancestors:function(e,r,o){return t.ancestors(n,e,r,o)},breakToLeft:function(e,r){return t.breakToLeft(n,e,r)},breakToRight:function(e,r){return t.breakToRight(n,e,r)},breakPath:function(e,r,o){return t.breakPath(n,e,r,function(e,t,n){return o(t,n)})}}}),o("ephox.snooker.selection.CellBounds",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.snooker.model.Warehouse"],function(e,t,n){var r=function(e,t){return t.column()>=e.startCol()&&t.column()+t.colspan()-1<=e.finishCol()&&t.row()>=e.startRow()&&t.row()+t.rowspan()-1<=e.finishRow()};return{inSelection:function(e,t){var n=t.column(),r=t.column()+t.colspan()-1,o=t.row(),i=t.row()+t.rowspan()-1;return n<=e.finishCol()&&r>=e.startCol()&&o<=e.finishRow()&&i>=e.startRow()},isWithin:r,isRectangular:function(o,i){for(var a=!0,c=e.curry(r,i),s=i.startRow();s<=i.finishRow();s++)for(var u=i.startCol();u<=i.finishCol();u++)a=a&&n.getAt(o,s,u).exists(c);return a?t.some(i):t.none()}}}),o("ephox.snooker.selection.CellGroup",["ephox.snooker.api.Structs","ephox.snooker.model.Warehouse","ephox.snooker.selection.CellBounds","ephox.sugar.api.dom.Compare","global!Math"],function(e,t,n,r,o){var i=function(n,i,a){var c=t.findItem(n,i,r.eq),s=t.findItem(n,a,r.eq);return c.bind(function(t){return s.map(function(n){return function(t,n){return e.bounds(o.min(t.row(),n.row()),o.min(t.column(),n.column()),o.max(t.row()+t.rowspan()-1,n.row()+n.rowspan()-1),o.max(t.column()+t.colspan()-1,n.column()+n.colspan()-1))}(t,n)})})};return{getAnyBox:i,getBox:function(e,t,r){return i(e,t,r).bind(function(t){return n.isRectangular(e,t)})}}}),o("ephox.snooker.selection.CellFinder",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.snooker.model.Warehouse","ephox.snooker.selection.CellBounds","ephox.snooker.selection.CellGroup","ephox.sugar.api.dom.Compare"],function(e,t,n,r,o,i){return{moveBy:function(e,t,r,o){return n.findItem(e,t,i.eq).bind(function(t){var i=r>0?t.row()+t.rowspan()-1:t.row(),a=o>0?t.column()+t.colspan()-1:t.column();return n.getAt(e,i+r,a+o).map(function(e){return e.element()})})},intercepts:function(i,a,c){return o.getAnyBox(i,a,c).map(function(o){var a=n.filterItems(i,t.curry(r.inSelection,o));return e.map(a,function(e){return e.element()})})},parentCell:function(e,t){return n.findItem(e,t,function(e,t){return i.contains(t,e)}).bind(function(e){return e.element()})}}}),o("ephox.snooker.api.TablePositions",["ephox.snooker.api.TableLookup","ephox.snooker.model.DetailsList","ephox.snooker.model.Warehouse","ephox.snooker.selection.CellFinder","ephox.snooker.selection.CellGroup","ephox.sugar.api.dom.Compare"],function(e,t,n,r,o,i){var a=function(e){var r=t.fromTable(e);return n.generate(r)};return{moveBy:function(t,n,o){return e.table(t).bind(function(e){var i=a(e);return r.moveBy(i,t,n,o)})},intercepts:function(e,t,n){var o=a(e);return r.intercepts(o,t,n)},nestedIntercepts:function(e,t,n,o,c){var s=a(e),u=i.eq(e,n)?t:r.parentCell(s,t),l=i.eq(e,c)?o:r.parentCell(s,o);return r.intercepts(s,u,l)},getBox:function(e,t,n){var r=a(e);return o.getBox(r,t,n)}}}),o("ephox.darwin.selection.CellSelection",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.robin.api.dom.DomParent","ephox.snooker.api.TablePositions","ephox.sugar.api.dom.Compare","ephox.sugar.api.search.SelectorFilter","ephox.sugar.api.search.SelectorFind","ephox.sugar.api.search.Selectors"],function(e,t,n,r,o,i,a,c,s){var u=function(e,t){return c.ancestor(e,"table")},l=function(e,t,a){return i.eq(e,t)?n.some([e]):u(e).bind(function(n){return u(t).bind(function(s){return i.eq(n,s)?o.intercepts(n,e,t):i.contains(n,s)?o.nestedIntercepts(n,e,n,t,s):i.contains(s,n)?o.nestedIntercepts(s,e,n,t,s):r.ancestors(e,t).shared().bind(function(r){return c.closest(r,"table",a).bind(function(r){return o.nestedIntercepts(r,e,n,t,s)})})})})};return{identify:l,retrieve:function(e,t){var r=a.descendants(e,t);return r.length>0?n.some(r):n.none()},shiftSelection:function(n,r,i,a,u){return function(t,n){return e.find(t,function(e){return s.is(e,n)})}(n,u).bind(function(e){return o.moveBy(e,r,i).bind(function(e){return function(e,n){return c.ancestor(e,"table").bind(function(r){return c.descendant(r,n).bind(function(n){return l(n,e).map(function(r){return{boxes:t.constant(r),start:t.constant(n),finish:t.constant(e)}})})})}(e,a)})})},getEdges:function(e,n,o){return c.descendant(e,n).bind(function(n){return c.descendant(e,o).bind(function(e){return r.sharedOne(u,[n,e]).map(function(r){return{first:t.constant(n),last:t.constant(e),table:t.constant(r)}})})})}}}),o("ephox.darwin.api.TableSelection",["ephox.darwin.selection.CellSelection","ephox.katamari.api.Option","ephox.snooker.api.TablePositions","ephox.sugar.api.dom.Compare","ephox.sugar.api.search.SelectorFind"],function(e,t,n,r,o){return{retrieve:function(t,n){return e.retrieve(t,n)},retrieveBox:function(i,a,c){return e.getEdges(i,a,c).bind(function(e){var a=function(e){return r.eq(i,e)},c=o.ancestor(e.first(),"thead,tfoot,tbody,table",a),s=o.ancestor(e.last(),"thead,tfoot,tbody,table",a);return c.bind(function(o){return s.bind(function(i){return r.eq(o,i)?n.getBox(e.table(),e.first(),e.last()):t.none()})})})}}}),o("tinymce.plugins.table.selection.Ephemera",["ephox.katamari.api.Fun"],function(e){var t="data-mce-selected",n="data-mce-first-selected",r="data-mce-last-selected";return{selected:e.constant(t),selectedSelector:e.constant("td[data-mce-selected],th[data-mce-selected]"),attributeSelector:e.constant("[data-mce-selected]"),firstSelected:e.constant(n),firstSelectedSelector:e.constant("td[data-mce-first-selected],th[data-mce-first-selected]"),lastSelected:e.constant(r),lastSelectedSelector:e.constant("td[data-mce-last-selected],th[data-mce-last-selected]")}}),o("ephox.katamari.api.Adt",["ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.katamari.api.Type","global!Array","global!Error","global!console"],function(e,t,n,r,o,i){return{generate:function(a){if(!n.isArray(a))throw new o("cases must be an array");if(0===a.length)throw new o("there must be at least one case");var c=[],s={};return e.each(a,function(u,l){var f=t.keys(u);if(1!==f.length)throw new o("one and only one name per case");var d=f[0],p=u[d];if(void 0!==s[d])throw new o("duplicate key detected:"+d);if("cata"===d)throw new o("cannot have a case named cata (sorry)");if(!n.isArray(p))throw new o("case arguments must be an array");c.push(d),s[d]=function(){var n=arguments.length;if(n!==p.length)throw new o("Wrong number of arguments to case "+d+". Expected "+p.length+" ("+p+"), got "+n);for(var s=new r(n),u=0;u<s.length;u++)s[u]=arguments[u];return{fold:function(){if(arguments.length!==a.length)throw new o("Wrong number of arguments to fold. Expected "+a.length+", got "+arguments.length);return arguments[l].apply(null,s)},match:function(n){var r=t.keys(n);if(c.length!==r.length)throw new o("Wrong number of arguments to match. Expected: "+c.join(",")+"\nActual: "+r.join(","));if(!e.forall(c,function(t){return e.contains(r,t)}))throw new o("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+c.join(", "));return n[d].apply(null,s)},log:function(e){i.log(e,{constructors:c,constructor:d,params:s})}}}}),s}}}),o("tinymce.plugins.table.selection.SelectionTypes",["ephox.katamari.api.Adt"],function(e){var t=e.generate([{none:[]},{multiple:["elements"]},{single:["selection"]}]);return{cata:function(e,t,n,r){return e.fold(t,n,r)},none:t.none,multiple:t.multiple,single:t.single}}),o("tinymce.plugins.table.queries.CellOperations",["ephox.darwin.api.TableSelection","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.properties.Attr","tinymce.plugins.table.selection.Ephemera","tinymce.plugins.table.selection.SelectionTypes"],function(e,t,n,r,o,i,a){var c=function(e,t){return a.cata(t.get(),n.constant([]),n.identity,n.constant([e]))};return{mergable:function(t,o){return a.cata(o.get(),r.none,function(o,a){return 0===o.length?r.none():e.retrieveBox(t,i.firstSelectedSelector(),i.lastSelectedSelector()).bind(function(e){return o.length>1?r.some({bounds:n.constant(e),cells:n.constant(o)}):r.none()})},r.none)},unmergable:function(e,n){var i=c(e,n);return i.length>0&&t.forall(i,function(e){return o.has(e,"rowspan")&&parseInt(o.get(e,"rowspan"),10)>1||o.has(e,"colspan")&&parseInt(o.get(e,"colspan"),10)>1})?r.some(i):r.none()},selection:c}}),o("tinymce.plugins.table.queries.TableTargets",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Struct","tinymce.plugins.table.queries.CellOperations"],function(e,t,n,r){var o=function(n){return{element:e.constant(n),mergable:t.none,unmergable:t.none,selection:e.constant([n])}},i=n.immutable("element","clipboard","generators");return{noMenu:o,forMenu:function(t,n,o){return{element:e.constant(o),mergable:e.constant(r.mergable(n,t)),unmergable:e.constant(r.unmergable(o,t)),selection:e.constant(r.selection(o,t))}},notCell:function(e){return o(e)},paste:i,pasteRows:function(n,o,i,a,c){return{element:e.constant(i),mergable:t.none,unmergable:t.none,selection:e.constant(r.selection(i,n)),clipboard:e.constant(a),generators:e.constant(c)}}}}),o("tinymce.plugins.table.actions.Clipboard",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.snooker.api.CopySelected","ephox.snooker.api.TableFill","ephox.snooker.api.TableLookup","ephox.sugar.api.dom.Replication","ephox.sugar.api.node.Element","ephox.sugar.api.node.Elements","ephox.sugar.api.node.Node","tinymce.plugins.table.queries.TableTargets","tinymce.plugins.table.selection.Ephemera","tinymce.plugins.table.selection.SelectionTypes"],function(e,t,n,r,o,i,a,c,s,u,l,f,d){return{registerEvents:function(p,m,h,g){p.on("BeforeGetContent",function(n){var o=function(t){n.preventDefault(),function(e){return i.table(e[0]).map(a.deep).map(function(e){return[r.extract(e,f.attributeSelector())]})}(t).each(function(t){n.content=e.map(t,function(e){return function(e,t){return e.selection.serializer.serialize(t.dom(),{})}(p,e)}).join("")})};!0===n.selection&&d.cata(m.get(),t.noop,o,t.noop)}),p.on("BeforeSetContent",function(t){!0===t.selection&&!0===t.paste&&n.from(p.dom.getParent(p.selection.getStart(),"th,td")).each(function(n){var r=c.fromDom(n);i.table(r).bind(function(n){var i=e.filter(s.fromHtml(t.content),function(e){return"meta"!==u.name(e)});if(1===i.length&&"table"===u.name(i[0])){t.preventDefault();var a=c.fromDom(p.getDoc()),f=o.paste(a),d=l.paste(r,i[0],f);h.pasteCells(n,d).each(function(e){p.selection.setRng(e),p.focus(),g.clear(n)})}})})})}}}),o("ephox.snooker.operate.Render",["ephox.sugar.api.properties.Attr","ephox.sugar.api.properties.Css","ephox.sugar.api.node.Element","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.InsertAll"],function(e,t,n,r,o){var i=function(){return n.fromTag("tr")},a=function(){return n.fromTag("th")},c=function(){return n.fromTag("td")};return{render:function(s,u,l,f){var d=n.fromTag("table");t.setAll(d,{"border-collapse":"collapse",width:"100%"}),e.set(d,"border","1");var p=n.fromTag("tbody");r.append(d,p);for(var m=[],h=0;h<s;h++){for(var g=i(),v=0;v<u;v++){var y=h<l||v<f?a():c();v<f&&e.set(y,"scope","row"),h<l&&e.set(y,"scope","col"),r.append(y,n.fromTag("br")),t.set(y,"width",100/u+"%"),r.append(g,y)}m.push(g)}return o.append(p,m),d}}}),o("ephox.snooker.api.TableRender",["ephox.snooker.operate.Render"],function(e){return{render:e.render}}),o("ephox.sugar.api.properties.Html",["ephox.sugar.api.node.Element","ephox.sugar.api.node.Elements","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.dom.Remove","ephox.sugar.api.search.Traverse"],function(e,t,n,r,o,i){var a=function(e){return e.dom().innerHTML};return{get:a,set:function(a,c){var s=i.owner(a).dom(),u=e.fromDom(s.createDocumentFragment()),l=t.fromHtml(c,s);r.append(u,l),o.empty(a),n.append(a,u)},getOuter:function(t){var r=e.fromTag("div"),o=e.fromDom(t.dom().cloneNode(!0));return n.append(r,o),a(r)}}}),o("tinymce.plugins.table.actions.InsertTable",["ephox.katamari.api.Fun","ephox.snooker.api.TableRender","ephox.sugar.api.node.Element","ephox.sugar.api.properties.Attr","ephox.sugar.api.properties.Html","ephox.sugar.api.search.SelectorFind"],function(e,t,n,r,o,i){var a=function(e,t){e.selection.select(t.dom(),!0),e.selection.collapse(!0)};return{insert:function(c,s,u){var l,f=t.render(u,s,0,0);r.set(f,"id","__mce");var d=o.getOuter(f);return c.insertContent(d),l=c.dom.get("__mce"),c.dom.setAttrib(l,"id",null),c.$("tr",l).each(function(e,t){c.fire("newrow",{node:t}),c.$("th,td",t).each(function(e,t){c.fire("newcell",{node:t})})}),c.dom.setAttribs(l,c.settings.table_default_attributes||{}),c.dom.setStyles(l,c.settings.table_default_styles||{}),function(t,n){i.descendant(n,"td,th").each(e.curry(a,t))}(c,n.fromDom(l)),l}}}),o("ephox.sugar.impl.Dimension",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.sugar.api.properties.Css","ephox.sugar.impl.Style"],function(e,t,n,r){return function(o,i){var a=function(e){var t=i(e);if(t<=0||null===t){var r=n.get(e,o);return parseFloat(r)||0}return t},c=function(e,r){return t.foldl(r,function(t,r){var o=n.get(e,r),i=void 0===o?0:parseInt(o,10);return isNaN(i)?t:t+i},0)};return{set:function(t,n){if(!e.isNumber(n)&&!n.match(/^[0-9]+$/))throw o+".set accepts only positive integer values. Value was "+n;var i=t.dom();r.isSupported(i)&&(i.style[o]=n+"px")},get:a,getOuter:a,aggregate:c,max:function(e,t,n){var r=c(e,n);return t>r?t-r:0}}}}),o("ephox.sugar.api.view.Height",["ephox.sugar.api.node.Body","ephox.sugar.api.properties.Css","ephox.sugar.impl.Dimension"],function(e,t,n){var r=n("height",function(t){return e.inBody(t)?t.dom().getBoundingClientRect().height:t.dom().offsetHeight});return{set:function(e,t){r.set(e,t)},get:function(e){return r.get(e)},getOuter:function(e){return r.getOuter(e)},setMax:function(e,n){var o=r.max(e,n,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);t.set(e,"max-height",o+"px")}}}),o("ephox.sugar.api.view.Width",["ephox.sugar.api.properties.Css","ephox.sugar.impl.Dimension"],function(e,t){var n=t("width",function(e){return e.dom().offsetWidth});return{set:function(e,t){n.set(e,t)},get:function(e){return n.get(e)},getOuter:function(e){return n.getOuter(e)},setMax:function(t,r){var o=n.max(t,r,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);e.set(t,"max-width",o+"px")}}}),o("ephox.snooker.resize.RuntimeSize",["ephox.sand.api.PlatformDetection","ephox.sugar.api.properties.Css","ephox.sugar.api.view.Height","ephox.sugar.api.view.Width"],function(e,t,n,r){var o=e.detect(),i=function(e,n,r){return function(e,t){var n=parseFloat(e);return isNaN(n)?t:n}(t.get(e,n),r)};return{getWidth:function(e){return i(e,"width",r.get(e))},getHeight:function(e){return o.browser.isIE()||o.browser.isEdge()?function(e){var n=i(e,"padding-top",0),r=i(e,"padding-bottom",0),o=i(e,"border-top-width",0),a=i(e,"border-bottom-width",0),c=e.dom().getBoundingClientRect().height;return"border-box"===t.get(e,"box-sizing")?c:c-n-r-(o+a)}(e):i(e,"height",n.get(e))}}}),o("ephox.snooker.resize.Sizes",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Strings","ephox.snooker.api.TableLookup","ephox.snooker.resize.RuntimeSize","ephox.sugar.api.node.Node","ephox.sugar.api.properties.Attr","ephox.sugar.api.properties.Css","ephox.sugar.api.view.Height","ephox.sugar.api.view.Width","global!Math","global!parseInt"],function(e,t,n,r,o,i,a,c,s,u,l,f){var d=/(\d+(\.\d+)?)(\w|%)*/,p=/(\d+(\.\d+)?)%/,m=/(\d+(\.\d+)?)px|em/,h=function(e,t){c.set(e,"height",t+"px")},g=function(e,t,o,a){var c=f(e,10);return n.endsWith(e,"%")&&"table"!==i.name(t)?function(e,t,n,o){var i=r.table(e).map(function(e){var r=n(e);return l.floor(t/100*r)}).getOr(t);return o(e,i),i}(t,c,o,a):c},v=function(e){var t=function(e){return c.getRaw(e,"height").getOrThunk(function(){return o.getHeight(e)+"px"})}(e);return t?g(t,e,s.get,h):s.get(e)},y=function(e,t){return a.has(e,t)?f(a.get(e,t),10):1},b=function(e){return c.getRaw(e,"width").fold(function(){return t.from(a.get(e,"width"))},function(e){return t.some(e)})},x=function(e,t){return e/t.pixelWidth()*100};return{percentageBasedSizeRegex:e.constant(p),pixelBasedSizeRegex:e.constant(m),setPixelWidth:function(e,t){c.set(e,"width",t+"px")},setPercentageWidth:function(e,t){c.set(e,"width",t+"%")},setHeight:h,getPixelWidth:function(e,t){return b(e).fold(function(){var t=u.get(e);return f(t,10)},function(n){return function(e,t,n){if(m.test(t)){var r=m.exec(t);return f(r[1],10)}if(p.test(t)){var o=p.exec(t);return function(e,t){return e/100*t.pixelWidth()}(parseFloat(o[1],10),n)}var i=u.get(e);return f(i,10)}(e,n,t)})},getPercentageWidth:function(e,t){return b(e).fold(function(){var n=u.get(e),r=f(n,10);return x(r,t)},function(n){return function(e,t,n){if(p.test(t)){var r=p.exec(t);return parseFloat(r[1],10)}var o=u.get(e),i=f(o,10);return x(i,n)}(e,n,t)})},getGenericWidth:function(n){return b(n).bind(function(n){if(d.test(n)){var r=d.exec(n);return t.some({width:e.constant(r[1]),unit:e.constant(r[3])})}return t.none()})},setGenericWidth:function(e,t,n){c.set(e,"width",t+n)},getHeight:function(e){return function(e,t,n){return n(e)/y(e,t)}(e,"rowspan",v)},getRawWidth:b}}),o("ephox.snooker.api.CellMutations",["ephox.snooker.resize.Sizes"],function(e){return{halve:function(t,n){e.getGenericWidth(t).each(function(r){var o=r.width()/2;e.setGenericWidth(t,o,r.unit()),e.setGenericWidth(n,o,r.unit())})}}}),o("ephox.sugar.api.view.Position",["ephox.katamari.api.Fun"],function(e){var t=function(n,r){return{left:e.constant(n),top:e.constant(r),translate:function(e,o){return t(n+e,r+o)}}};return t}),o("ephox.sugar.api.dom.Dom",["ephox.katamari.api.Fun","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind","global!document"],function(e,t,n,r,o,i){return{attached:function(r,a){var c=a||n.fromDom(i.documentElement);return o.ancestor(r,e.curry(t.eq,c)).isSome()},windowOf:function(e){var t=e.dom();return t===t.window?e:r.isDocument(e)?t.defaultView||t.parentWindow:null}}}),o("ephox.sugar.api.view.Location",["ephox.sugar.api.view.Position","ephox.sugar.api.dom.Dom","ephox.sugar.api.node.Element"],function(e,t,n){var r=function(e,t){return void 0!==e?e:void 0!==t?t:0},o=function(r){var o=r.dom(),i=o.ownerDocument,a=i.body,c=n.fromDom(i.documentElement);return a===o?e(a.offsetLeft,a.offsetTop):t.attached(r,c)?function(t){var n=t.getBoundingClientRect();return e(n.left,n.top)}(o):e(0,0)};return{absolute:function(e){var i=e.dom().ownerDocument,a=i.body,c=t.windowOf(n.fromDom(i)),s=i.documentElement,u=r(c.pageYOffset,s.scrollTop),l=r(c.pageXOffset,s.scrollLeft),f=r(s.clientTop,a.clientTop),d=r(s.clientLeft,a.clientLeft);return o(e).translate(l-d,u-f)},relative:function(t){var n=t.dom();return e(n.offsetLeft,n.offsetTop)},viewport:o}}),o("ephox.snooker.resize.BarPositions",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Struct","ephox.sugar.api.view.Height","ephox.sugar.api.view.Location","ephox.sugar.api.view.Width"],function(e,t,n,r,o,i){var a=n.immutable("row","y"),c=n.immutable("col","x"),s=function(e){return o.absolute(e).left()+i.getOuter(e)},u=function(e){return o.absolute(e).left()},l=function(e,t){return c(e,u(t))},f=function(e,t){return c(e,s(t))},d=function(e){return o.absolute(e).top()},p=function(t,n,r){if(0===r.length)return[];var o=e.map(r.slice(1),function(e,n){return e.map(function(e){return t(n,e)})}),i=r[r.length-1].map(function(e){return n(r.length-1,e)});return o.concat([i])},m={delta:t.identity,positions:t.curry(p,function(e,t){return a(e,d(t))},function(e,t){return a(e,d(t)+r.getOuter(t))}),edge:d},h={delta:t.identity,edge:u,positions:t.curry(p,l,f)};return{height:m,rtl:{delta:function(e,t){return-e},edge:s,positions:t.curry(p,f,l)},ltr:h}}),o("ephox.snooker.api.ResizeDirection",["ephox.snooker.resize.BarPositions"],function(e){return{ltr:e.ltr,rtl:e.rtl}}),o("ephox.snooker.api.TableDirection",["ephox.snooker.api.ResizeDirection"],function(e){return function(t){var n=function(n){return t(n).isRtl()?e.rtl:e.ltr};return{delta:function(e,t){return n(t).delta(e,t)},edge:function(e){return n(e).edge(e)},positions:function(e,t){return n(t).positions(e,t)}}}}),o("ephox.snooker.api.TableGridSize",["ephox.snooker.model.DetailsList","ephox.snooker.model.Warehouse"],function(e,t){return{getGridSize:function(n){var r=e.fromTable(n);return t.generate(r).grid()}}}),o("ephox.katamari.api.Cell",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),o("ephox.katamari.api.Contracts",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Obj","ephox.katamari.api.Type","ephox.katamari.util.BagUtils","global!Error"],function(e,t,n,r,o,i){var a=function(e,t){return c(e,t,{validate:r.isFunction,label:"function"})},c=function(t,r,a){if(0===r.length)throw new i("You must specify at least one required field.");return o.validateStrArr("required",r),o.checkDupes(r),function(i){var c=n.keys(i);e.forall(r,function(t){return e.contains(c,t)})||o.reqMessage(r,c),t(r,c);var s=e.filter(r,function(e){return!a.validate(i[e],e)});return s.length>0&&o.invalidTypeMessage(s,a.label),i}},s=t.noop;return{exactly:t.curry(a,function(t,n){var r=e.filter(n,function(n){return!e.contains(t,n)});r.length>0&&o.unsuppMessage(r)}),ensure:t.curry(a,s),ensureWith:t.curry(c,s)}}),o("ephox.snooker.api.Generators",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Cell","ephox.katamari.api.Contracts","ephox.sugar.api.properties.Attr","ephox.sugar.api.properties.Css","global!parseInt"],function(e,t,n,r,o,i,a,c){var s=function(e){var n=i.has(e,"colspan")?c(i.get(e,"colspan"),10):1,r=i.has(e,"rowspan")?c(i.get(e,"rowspan"),10):1;return{element:t.constant(e),colspan:t.constant(n),rowspan:t.constant(r)}},u=o.exactly(["cell","row","replace","gap"]);return{modification:function(e,t){u(e);var o=r(n.none()),i=void 0!==t?t:s,a=function(t){return function(t){return e.cell(t)}(i(t))},c=function(e){var t=a(e);return o.get().isNone()&&o.set(n.some(t)),l=n.some({item:e,replacement:t}),t},l=n.none();return{getOrInit:function(e,t){return l.fold(function(){return c(e)},function(n){return t(e,n.item)?n.replacement:c(e)})},cursor:o.get}},transform:function(t,o){return function(i){var a=r(n.none());u(i);var c=[],s=function(e){var r=i.replace(e,o,{scope:t});return c.push({item:e,sub:r}),a.get().isNone()&&a.set(n.some(r)),r};return{replaceOrInit:function(t,n){return function(t,n){return e.find(c,function(e){return n(e.item,t)})}(t,n).fold(function(){return s(t)},function(e){return n(t,e.item)?e.sub:s(t)})},cursor:a.get}}},merging:function(e){u(e);var o=r(n.none());return{combine:function(r){return o.get().isNone()&&o.set(n.some(r)),function(){var n=e.cell({element:t.constant(r),colspan:t.constant(1),rowspan:t.constant(1)});return a.remove(n,"width"),a.remove(r,"width"),n}},cursor:o.get}}}}),o("ephox.robin.api.general.Structure",["ephox.katamari.api.Arr"],function(e){var t=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],n=function(n,r){var o=n.property().name(r);return e.contains(t,o)},r=function(t,n){return e.contains(["br","img","hr","input"],t.property().name(n))};return{isBlock:n,isList:function(t,n){var r=t.property().name(n);return e.contains(["ol","ul"],r)},isFormatting:function(t,n){var r=t.property().name(n);return e.contains(["address","pre","p","h1","h2","h3","h4","h5","h6"],r)},isHeading:function(t,n){var r=t.property().name(n);return e.contains(["h1","h2","h3","h4","h5","h6"],r)},isContainer:function(t,n){return e.contains(["div","li","td","th","blockquote","body","caption"],t.property().name(n))},isEmptyTag:r,isFrame:function(e,t){return"iframe"===e.property().name(t)},isInline:function(e,t){return!(n(e,t)||r(e,t))&&"li"!==e.property().name(t)}}}),o("ephox.robin.api.dom.DomStructure",["ephox.boss.api.DomUniverse","ephox.robin.api.general.Structure"],function(e,t){var n=e();return{isBlock:function(e){return t.isBlock(n,e)},isList:function(e){return t.isList(n,e)},isFormatting:function(e){return t.isFormatting(n,e)},isHeading:function(e){return t.isHeading(n,e)},isContainer:function(e){return t.isContainer(n,e)},isEmptyTag:function(e){return t.isEmptyTag(n,e)},isFrame:function(e){return t.isFrame(n,e)},isInline:function(e){return t.isInline(n,e)}}}),o("ephox.snooker.api.TableContent",["ephox.katamari.api.Arr","ephox.robin.api.dom.DomStructure","ephox.sugar.api.dom.Compare","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.node.Text","ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Traverse","ephox.sugar.api.selection.CursorPosition"],function(e,t,n,r,o,i,a,c,s,u,l){return{merge:function(f){var d=function(e){return"br"===a.name(e)},p=function(e){return l.last(e).bind(function(r){var o=function(e){return u.nextSibling(e).map(function(e){return!!t.isBlock(e)||(t.isEmptyTag(e)?"img"!==a.name(e):void 0)}).getOr(!1)}(r);return u.parent(r).map(function(c){return!0===o||function(e){return"li"===a.name(e)||s.ancestor(e,t.isList).isSome()}(c)||d(r)||t.isBlock(c)&&!n.eq(e,c)?[]:[i.fromTag("br")]})}).getOr([])},m=function(){var t=e.bind(f,function(t){var n=u.children(t);return function(t){return e.forall(t,function(e){return d(e)||a.isText(e)&&0===c.get(e).trim().length})}(n)?[]:n.concat(p(t))});return 0===t.length?[i.fromTag("br")]:t}();o.empty(f[0]),r.append(f[0],m)}}}),o("ephox.snooker.model.GridRow",["ephox.katamari.api.Arr","ephox.snooker.api.Structs"],function(e,t){var n=function(e,n){return t.rowcells(n,e.section())},r=function(e,t){return e.cells()[t]};return{addCell:function(e,t,r){var o=e.cells(),i=o.slice(0,t),a=o.slice(t),c=i.concat([r]).concat(a);return n(e,c)},setCells:n,mutateCell:function(e,t,n){e.cells()[t]=n},getCell:r,getCellElement:function(e,t){return r(e,t).element()},mapCells:function(n,r){var o=n.cells(),i=e.map(o,r);return t.rowcells(i,n.section())},cellLength:function(e){return e.cells().length}}}),o("ephox.katamari.api.Merger",["ephox.katamari.api.Type","global!Array","global!Error"],function(e,t,n){var r=function(e){return function(){for(var r=new t(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];if(0===r.length)throw new n("Can't merge zero objects");for(var i={},a=0;a<r.length;a++){var c=r[a];for(var s in c)c.hasOwnProperty(s)&&(i[s]=e(i[s],c[s]))}return i}},o=r(function(t,n){return e.isObject(t)&&e.isObject(n)?o(t,n):n}),i=r(function(e,t){return t});return{deepMerge:o,merge:i}}),o("ephox.katamari.api.Options",["ephox.katamari.api.Option"],function(e){return{cat:function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},findMap:function(t,n){for(var r=0;r<t.length;r++){var o=n(t[r],r);if(o.isSome())return o}return e.none()},liftN:function(t,n){for(var r=[],o=0;o<t.length;o++){var i=t[o];if(!i.isSome())return e.none();r.push(i.getOrDie())}return e.some(n.apply(null,r))}}}),o("ephox.snooker.model.TableGrid",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.snooker.model.GridRow"],function(e,t,n){var r=function(t,n){if(0===t.length)return 0;var r=t[0];return e.findIndex(t,function(e){return!n(r.element(),e.element())}).fold(function(){return t.length},function(e){return e})};return{subgrid:function(o,i,a,c){var s=function(e,t){return e[t]}(o,i).cells().slice(a),u=r(s,c),l=function(t,r){return e.map(t,function(e){return n.getCell(e,r)})}(o,a).slice(i),f=r(l,c);return{colspan:t.constant(u),rowspan:t.constant(f)}}}}),o("ephox.snooker.model.Transitions",["ephox.katamari.api.Arr","ephox.snooker.api.Structs","ephox.snooker.model.TableGrid","ephox.snooker.model.Warehouse"],function(e,t,n,r){return{toDetails:function(r,o){var i=e.map(r,function(t,n){return e.map(t.cells(),function(e,t){return!1})});return e.map(r,function(a,c){var s=e.bind(a.cells(),function(e,a){if(!1===i[c][a]){var s=n.subgrid(r,c,a,o);return function(e,t,n,r){for(var o=e;o<e+n;o++)for(var a=t;a<t+r;a++)i[o][a]=!0}(c,a,s.rowspan(),s.colspan()),[t.detailnew(e.element(),s.rowspan(),s.colspan(),e.isNew())]}return[]});return t.rowdetails(s,a.section())})},toGrid:function(e,n,o){for(var i=[],a=0;a<e.grid().rows();a++){for(var c=[],s=0;s<e.grid().columns();s++){var u=r.getAt(e,a,s).map(function(e){return t.elementnew(e.element(),o)}).getOrThunk(function(){return t.elementnew(n.gap(),!0)});c.push(u)}var l=t.rowcells(c,e.all()[a].section());i.push(l)}return i}}}),o("ephox.snooker.operate.Redraw",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.properties.Attr","ephox.sugar.api.node.Element","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.dom.Remove","ephox.sugar.api.dom.Replication","ephox.sugar.api.search.SelectorFind","ephox.sugar.api.search.Traverse"],function(e,t,n,r,o,i,a,c,s,u){var l=function(e,t,r,o){r===o?n.remove(e,t):n.set(e,t,r)};return{render:function(n,c){var f=[],d=[],p=function(t,c){t.length>0?function(t,c){var p=s.child(n,c).getOrThunk(function(){var e=r.fromTag(c,u.owner(n).dom());return o.append(n,e),e});a.empty(p);var m=e.map(t,function(t){t.isNew()&&f.push(t.element());var n=t.element();return a.empty(n),e.each(t.cells(),function(e){e.isNew()&&d.push(e.element()),l(e.element(),"colspan",e.colspan(),1),l(e.element(),"rowspan",e.rowspan(),1),o.append(n,e.element())}),n});i.append(p,m)}(t,c):function(e){s.child(n,e).bind(a.remove)}(c)},m=[],h=[],g=[];return e.each(c,function(e){switch(e.section()){case"thead":m.push(e);break;case"tbody":h.push(e);break;case"tfoot":g.push(e)}}),p(m,"thead"),p(h,"tbody"),p(g,"tfoot"),{newRows:t.constant(f),newCells:t.constant(d)}},copy:function(t){return e.map(t,function(t){var n=c.shallow(t.element());return e.each(t.cells(),function(e){var t=c.deep(e.element());l(t,"colspan",e.colspan(),1),l(t,"rowspan",e.rowspan(),1),o.append(n,t)}),n})}}}),o("ephox.snooker.util.Util",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.katamari.api.Options","global!Math"],function(e,t,n,r){return{repeat:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},range:function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n},unique:function(t,n){var r=[];return e.each(t,function(e,o){o<t.length-1&&!n(e,t[o+1])?r.push(e):o===t.length-1&&r.push(e)}),r},deduce:function(o,i){if(i<0||i>=o.length-1)return t.none();var a=o[i].fold(function(){var t=e.reverse(o.slice(0,i));return n.findMap(t,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return t.some({value:e,delta:0})}),c=o[i+1].fold(function(){var e=o.slice(i+1);return n.findMap(e,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return t.some({value:e,delta:1})});return a.bind(function(e){return c.map(function(t){var n=t.delta+e.delta;return r.abs(t.value-e.value)/n})})}}}),o("ephox.snooker.lookup.Blocks",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.snooker.model.Warehouse","ephox.snooker.util.Util"],function(e,t,n,r,o){var i=function(t,r,o){var i=t();return e.find(i,r).orThunk(function(){return n.from(i[0]).orThunk(o)}).map(function(e){return e.element()})};return{columns:function(n){var a=n.grid(),c=o.range(0,a.columns()),s=o.range(0,a.rows());return e.map(c,function(o){return i(function(){return e.bind(s,function(e){return r.getAt(n,e,o).filter(function(e){return e.column()===o}).fold(t.constant([]),function(e){return[e]})})},function(e){return 1===e.colspan()},function(){return r.getAt(n,0,o)})})},rows:function(n){var a=n.grid(),c=o.range(0,a.rows()),s=o.range(0,a.columns());return e.map(c,function(o){return i(function(){return e.bind(s,function(e){return r.getAt(n,o,e).filter(function(e){return e.row()===o}).fold(t.constant([]),function(e){return[e]})})},function(e){return 1===e.rowspan()},function(){return r.getAt(n,o,0)})})}}}),o("ephox.snooker.resize.Bar",["ephox.sugar.api.properties.Attr","ephox.sugar.api.properties.Css","ephox.sugar.api.node.Element"],function(e,t,n){return{col:function(r,o,i,a,c){var s=n.fromTag("div");return t.setAll(s,{position:"absolute",left:o-a/2+"px",top:i+"px",height:c+"px",width:a+"px"}),e.set(s,"data-column",r),s},row:function(r,o,i,a,c){var s=n.fromTag("div");return t.setAll(s,{position:"absolute",left:o+"px",top:i-c/2+"px",height:c+"px",width:a+"px"}),e.set(s,"data-row",r),s}}}),o("ephox.katamari.api.Namespace",[],function(){return{css:function(e){var t=e.replace(/\./g,"-");return{resolve:function(e){return t+"-"+e}}}}}),o("ephox.snooker.style.Styles",["ephox.katamari.api.Namespace"],function(e){return{resolve:e.css("ephox-snooker").resolve}}),o("ephox.sugar.api.properties.Toggler",[],function(){return function(e,t,n){var r=n||!1,o=function(){t(),r=!0},i=function(){e(),r=!1};return{on:o,off:i,toggle:function(){(r?i:o)()},isOn:function(){return r}}}}),o("ephox.sugar.api.properties.AttrList",["ephox.katamari.api.Arr","ephox.sugar.api.properties.Attr"],function(e,t){var n=function(e,n){var r=t.get(e,n);return void 0===r||""===r?[]:r.split(" ")};return{read:n,add:function(e,r,o){var i=n(e,r).concat([o]);t.set(e,r,i.join(" "))},remove:function(r,o,i){var a=e.filter(n(r,o),function(e){return e!==i});a.length>0?t.set(r,o,a.join(" ")):t.remove(r,o)}}}),o("ephox.sugar.impl.ClassList",["ephox.katamari.api.Arr","ephox.sugar.api.properties.AttrList"],function(e,t){var n=function(e){return t.read(e,"class")},r=function(e,n){return t.add(e,"class",n)},o=function(e,n){return t.remove(e,"class",n)};return{get:n,add:r,remove:o,toggle:function(t,i){e.contains(n(t),i)?o(t,i):r(t,i)},supports:function(e){return void 0!==e.dom().classList}}}),o("ephox.sugar.api.properties.Class",["ephox.sugar.api.properties.Toggler","ephox.sugar.api.properties.Attr","ephox.sugar.impl.ClassList"],function(e,t,n){var r=function(e,t){return n.supports(e)&&e.dom().classList.contains(t)};return{add:function(e,t){n.supports(e)?e.dom().classList.add(t):n.add(e,t)},remove:function(e,r){n.supports(e)?e.dom().classList.remove(r):n.remove(e,r);!function(e){0===(n.supports(e)?e.dom().classList:n.get(e)).length&&t.remove(e,"class")}(e)},toggle:function(e,t){return n.supports(e)?e.dom().classList.toggle(t):n.toggle(e,t)},toggler:function(t,o){var i=n.supports(t),a=t.dom().classList;return e(function(){i?a.remove(o):n.remove(t,o)},function(){i?a.add(o):n.add(t,o)},r(t,o))},has:r}}),o("ephox.snooker.resize.Bars",["ephox.katamari.api.Arr","ephox.snooker.lookup.Blocks","ephox.snooker.model.DetailsList","ephox.snooker.model.Warehouse","ephox.snooker.resize.Bar","ephox.snooker.style.Styles","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.properties.Class","ephox.sugar.api.properties.Css","ephox.sugar.api.search.SelectorFilter","ephox.sugar.api.view.Height","ephox.sugar.api.view.Location","ephox.sugar.api.view.Width"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p){var m=i.resolve("resizer-bar"),h=i.resolve("resizer-rows"),g=i.resolve("resizer-cols"),v=function(t){var n=l.descendants(t.parent(),"."+m);e.each(n,c.remove)},y=function(t,n,r){var o=t.origin();e.each(n,function(e,n){e.each(function(e){var n=r(o,e);s.add(n,m),a.append(t.parent(),n)})})},b=function(e,t,n,r,i,a){var c=d.absolute(t);!function(e,t,n,r){y(e,t,function(e,t){var i=o.row(t.row(),n.left()-e.left(),t.y()-e.top(),r,7);return s.add(i,h),i})}(e,n.length>0?i.positions(n,t):[],c,p.getOuter(t));!function(e,t,n,r){y(e,t,function(e,t){var i=o.col(t.col(),t.x()-e.left(),n.top()-e.top(),7,r);return s.add(i,g),i})}(e,r.length>0?a.positions(r,t):[],c,f.getOuter(t))},x=function(t,n){var r=l.descendants(t.parent(),"."+m);e.each(r,n)};return{refresh:function(e,o,i,a){v(e);var c=n.fromTable(o),s=r.generate(c),u=t.rows(s),l=t.columns(s);b(e,o,u,l,i,a)},hide:function(e){x(e,function(e){u.set(e,"display","none")})},show:function(e){x(e,function(e){u.set(e,"display","block")})},destroy:v,isRowBar:function(e){return s.has(e,h)},isColBar:function(e){return s.has(e,g)}}}),o("ephox.snooker.model.RunOperation",["ephox.katamari.api.Arr","ephox.katamari.api.Merger","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.snooker.api.Structs","ephox.snooker.api.TableLookup","ephox.snooker.model.DetailsList","ephox.snooker.model.Transitions","ephox.snooker.model.Warehouse","ephox.snooker.operate.Redraw","ephox.snooker.resize.BarPositions","ephox.snooker.resize.Bars","ephox.sugar.api.dom.Compare","ephox.sugar.api.search.Traverse"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m){var h=function(t,n){return e.map(t,function(e){var t=function(e){return o.findMap(e,function(e){return m.parent(e.element()).map(function(e){var t=m.parent(e).isNone();return i.elementnew(e,t)})}).getOrThunk(function(){return i.elementnew(n.row(),!0)})}(e.details());return i.rowdatanew(t.element(),e.details(),e.section(),t.isNew())})},g=function(e,t){var n=s.toDetails(e,p.eq);return h(n,t)},v=function(t,n){var r=e.flatten(e.map(t.all(),function(e){return e.cells()}));return e.find(r,function(e){return p.eq(n,e.element())})};return{run:function(e,t,o,i,a){return function(m,h,v,y,b){var x=c.fromTable(h),w=u.generate(x);return t(w,v).map(function(t){var r=function(e,t){return s.toGrid(e,t,!1)}(w,y),o=e(r,t,p.eq,a(y)),i=g(o.grid(),y);return{grid:n.constant(i),cursor:o.cursor}}).fold(function(){return r.none()},function(e){var t=l.render(h,e.grid());return o(h,e.grid(),b),i(h),d.refresh(m,h,f.height,b),r.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})})}},toDetailList:g,onCell:function(e,t){return a.cell(t.element()).bind(function(t){return v(e,t)})},onCells:function(t,n){var i=e.map(n.selection(),function(e){return a.cell(e).bind(function(e){return v(t,e)})}),c=o.cat(i);return c.length>0?r.some(c):r.none()},onPaste:function(e,n){return a.cell(n.element()).bind(function(r){return v(e,r).map(function(e){return t.merge(e,{generators:n.generators,clipboard:n.clipboard})})})},onPasteRows:function(n,i){var c=e.map(i.selection(),function(e){return a.cell(e).bind(function(e){return v(n,e)})}),s=o.cat(c);return s.length>0?r.some(t.merge({cells:s},{generators:i.generators,clipboard:i.clipboard})):r.none()},onMergable:function(e,t){return t.mergable()},onUnmergable:function(e,t){return t.unmergable()}}}),o("ephox.katamari.api.Result",["ephox.katamari.api.Fun","ephox.katamari.api.Option"],function(e,t){var n=function(r){return{is:function(e){return r===e},isValue:e.constant(!0),isError:e.constant(!1),getOr:e.constant(r),getOrThunk:e.constant(r),getOrDie:e.constant(r),or:function(e){return n(r)},orThunk:function(e){return n(r)},fold:function(e,t){return t(r)},map:function(e){return n(e(r))},each:function(e){e(r)},bind:function(e){return e(r)},exists:function(e){return e(r)},forall:function(e){return e(r)},toOption:function(){return t.some(r)}}},r=function(n){return{is:e.constant(!1),isValue:e.constant(!1),isError:e.constant(!0),getOr:e.identity,getOrThunk:function(e){return e()},getOrDie:function(){return e.die(n)()},or:function(e){return e},orThunk:function(e){return e()},fold:function(e,t){return e(n)},map:function(e){return r(n)},each:e.noop,bind:function(e){return r(n)},exists:e.constant(!1),forall:e.constant(!0),toOption:t.none}};return{value:n,error:r}}),o("ephox.snooker.model.Fitment",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Result","ephox.snooker.api.Structs","ephox.snooker.model.GridRow","ephox.snooker.util.Util","global!Array","global!Error","global!Math"],function(e,t,n,r,o,i,a,c,s){var u=function(t,n){return e.map(t,function(){return r.elementnew(n.cell(),!0)})},l=function(e,t,n){return e.concat(i.repeat(t,function(t){return o.setCells(e[e.length-1],u(e[e.length-1].cells(),n))}))},f=function(t,n,r){return e.map(t,function(e){return o.setCells(e,e.cells().concat(u(i.range(0,n),r)))})};return{measure:function(e,r,i){if(e.row()>=r.length||e.column()>o.cellLength(r[0]))return n.error("invalid start address out of table bounds, row: "+e.row()+", column: "+e.column());var a=r.slice(e.row()),c=a[0].cells().slice(e.column()),s=o.cellLength(i[0]),u=i.length;return n.value({rowDelta:t.constant(a.length-u),colDelta:t.constant(c.length-s)})},measureWidth:function(e,n){var r=o.cellLength(e[0]),i=o.cellLength(n[0]);return{rowDelta:t.constant(0),colDelta:t.constant(r-i)}},tailor:function(e,n,r){var o=n.colDelta()<0?f:t.identity;return(n.rowDelta()<0?l:t.identity)(o(e,s.abs(n.colDelta()),r),s.abs(n.rowDelta()),r)}}}),o("ephox.snooker.operate.MergingOperations",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.snooker.api.Structs","ephox.snooker.model.GridRow"],function(e,t,n,r){return{merge:function(e,t,o,i){if(0===e.length)return e;for(var a=t.startRow();a<=t.finishRow();a++)for(var c=t.startCol();c<=t.finishCol();c++)r.mutateCell(e[a],c,n.elementnew(i(),!1));return e},unmerge:function(e,t,o,i){for(var a=!0,c=0;c<e.length;c++)for(var s=0;s<r.cellLength(e[0]);s++){var u=o(r.getCellElement(e[c],s),t);!0===u&&!1===a?r.mutateCell(e[c],s,n.elementnew(i(),!0)):!0===u&&(a=!1)}return e},splitRows:function(o,i,a,c){if(i>0&&i<o.length){var s=function(t,n){return e.foldl(t,function(t,r){return e.exists(t,function(e){return n(e.element(),r.element())})?t:t.concat([r])},[])}(o[i-1].cells(),a);e.each(s,function(e){for(var s=t.none(),u=i;u<o.length;u++)for(var l=0;l<r.cellLength(o[0]);l++){var f=o[u].cells()[l];a(f.element(),e.element())&&(s.isNone()&&(s=t.some(c())),s.each(function(e){r.mutateCell(o[u],l,n.elementnew(e,!0))}))}})}return o}}}),o("ephox.snooker.model.TableMerge",["ephox.katamari.api.Fun","ephox.snooker.api.Structs","ephox.snooker.model.Fitment","ephox.snooker.model.GridRow","ephox.snooker.operate.MergingOperations"],function(e,t,n,r,o){var i=function(t,n,o,i){var a=r.getCell(t[n],o),c=e.curry(i,a.element()),s=t[n];return t.length>1&&r.cellLength(s)>1&&(o>0&&c(r.getCellElement(s,o-1))||o<s.length-1&&c(r.getCellElement(s,o+1))||n>0&&c(r.getCellElement(t[n-1],o))||n<t.length-1&&c(r.getCellElement(t[n+1],o)))};return{merge:function(e,a,c,s,u){return n.measure(e,a,c).map(function(l){var f=n.tailor(a,l,s);return function(e,n,a,c,s){for(var u=e.row(),l=e.column(),f=u+a.length,d=l+r.cellLength(a[0]),p=u;p<f;p++)for(var m=l;m<d;m++){i(n,p,m,s)&&o.unmerge(n,r.getCellElement(n[p],m),s,c.cell);var h=r.getCellElement(a[p-u],m-l),g=c.replace(h);r.mutateCell(n[p],m,t.elementnew(g,!0))}return n}(e,f,c,s,u)})},insert:function(e,t,r,i,a){o.splitRows(t,e,a,i.cell);var c=n.measureWidth(r,t),s=n.tailor(r,c,i),u=n.measureWidth(t,s),l=n.tailor(t,u,i);return l.slice(0,e).concat(s).concat(l.slice(e,l.length))}}}),o("ephox.snooker.operate.ModificationOperations",["ephox.katamari.api.Arr","ephox.snooker.api.Structs","ephox.snooker.model.GridRow"],function(e,t,n){return{insertRowAt:function(e,r,o,i,a){var c=e.slice(0,r),s=e.slice(r),u=n.mapCells(e[o],function(o,c){return r>0&&r<e.length&&i(n.getCellElement(e[r-1],c),n.getCellElement(e[r],c))?n.getCell(e[r],c):t.elementnew(a(o.element(),i),!0)});return c.concat([u]).concat(s)},insertColumnAt:function(r,o,i,a,c){return e.map(r,function(e){var r=o>0&&o<n.cellLength(e)&&a(n.getCellElement(e,o-1),n.getCellElement(e,o))?n.getCell(e,o):t.elementnew(c(n.getCellElement(e,i),a),!0);return n.addCell(e,o,r)})},splitCellIntoColumns:function(r,o,i,a,c){var s=i+1;return e.map(r,function(e,r){var u=r===o?t.elementnew(c(n.getCellElement(e,i),a),!0):n.getCell(e,i);return n.addCell(e,s,u)})},splitCellIntoRows:function(e,r,o,i,a){var c=r+1,s=e.slice(0,c),u=e.slice(c),l=n.mapCells(e[r],function(e,n){return n===o?t.elementnew(a(e.element(),i),!0):e});return s.concat([l]).concat(u)},deleteRowsAt:function(e,t,n){return e.slice(0,t).concat(e.slice(n+1))},deleteColumnsAt:function(n,r,o){var i=e.map(n,function(e){var n=e.cells().slice(0,r).concat(e.cells().slice(o+1));return t.rowcells(n,e.section())});return e.filter(i,function(e){return e.cells().length>0})}}}),o("ephox.snooker.operate.TransformOperations",["ephox.katamari.api.Arr","ephox.snooker.api.Structs","ephox.snooker.model.GridRow"],function(e,t,n){var r=function(r,o,i,a){return e.map(r,function(r){return n.mapCells(r,function(n){return function(t){return e.exists(o,function(e){return i(t.element(),e.element())})}(n)?t.elementnew(a(n.element(),i),!0):n})})},o=function(e,t,r,o){return void 0!==n.getCellElement(e[t],r)&&t>0&&o(n.getCellElement(e[t-1],r),n.getCellElement(e[t],r))},i=function(e,t,r){return t>0&&r(n.getCellElement(e,t-1),n.getCellElement(e,t))};return{replaceColumn:function(t,a,c,s){var u=e.bind(t,function(e,r){return o(t,r,a,c)||i(e,a,c)?[]:[n.getCell(e,a)]});return r(t,u,c,s)},replaceRow:function(t,n,a,c){var s=t[n],u=e.bind(s.cells(),function(e,r){return o(t,n,r,a)||i(s,r,a)?[]:[e]});return r(t,u,a,c)}}}),o("ephox.snooker.calc.ColumnContext",[],function(){var e=function(e){return{fold:e}};return{none:function(){return e(function(e,t,n,r,o){return e()})},only:function(t){return e(function(e,n,r,o,i){return n(t)})},left:function(t,n){return e(function(e,r,o,i,a){return o(t,n)})},middle:function(t,n,r){return e(function(e,o,i,a,c){return a(t,n,r)})},right:function(t,n){return e(function(e,r,o,i,a){return a(t,n)})}}}),o("ephox.snooker.calc.Deltas",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.snooker.calc.ColumnContext","global!Math"],function(e,t,n,r){return{determine:function(o,i,a,c){var s=o.slice(0),u=function(e,t){return 0===e.length?n.none():1===e.length?n.only(0):0===t?n.left(0,1):t===e.length-1?n.right(t-1,t):t>0&&t<e.length-1?n.middle(t-1,t,t+1):n.none()}(o,i),l=function(n){return e.map(n,t.constant(0))},f=t.constant(l(s)),d=function(e,t){if(a>=0){var n=r.max(c.minCellWidth(),s[t]-a);return l(s.slice(0,e)).concat([a,n-s[t]]).concat(l(s.slice(t+1)))}var o=r.max(c.minCellWidth(),s[e]+a),i=s[e]-o;return l(s.slice(0,e)).concat([o-s[e],i]).concat(l(s.slice(t+1)))},p=d;return u.fold(f,function(e){return c.singleColumnWidth(s[e],a)},p,function(e,t,n){return d(t,n)},function(e,t){if(a>=0)return l(s.slice(0,t)).concat([a]);var n=r.max(c.minCellWidth(),s[t]+a);return l(s.slice(0,t)).concat([n-s[t]])})}}}),o("ephox.snooker.util.CellUtils",["ephox.katamari.api.Fun","ephox.sugar.api.properties.Attr","ephox.sugar.api.properties.Css","global!parseInt"],function(e,t,n,r){var o=function(e,n){return t.has(e,n)&&r(t.get(e,n),10)>1};return{hasColspan:function(e){return o(e,"colspan")},hasRowspan:function(e){return o(e,"rowspan")},minWidth:e.constant(10),minHeight:e.constant(10),getInt:function(e,t){return r(n.get(e,t),10)}}}),o("ephox.snooker.resize.ColumnSizes",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.snooker.lookup.Blocks","ephox.snooker.resize.Sizes","ephox.snooker.util.CellUtils","ephox.snooker.util.Util","ephox.sugar.api.properties.Css"],function(e,t,n,r,o,i,a){var c=function(e,t,n){return a.getRaw(e,t).fold(function(){return n(e)+"px"},function(e){return e})},s=function(e){return c(e,"width",r.getPixelWidth)},u=function(e){return c(e,"height",r.getHeight)},l=function(r,a,c,s,u){var l=n.columns(r),f=e.map(l,function(e){return e.map(a.edge)});return e.map(l,function(e,n){return e.filter(t.not(o.hasColspan)).fold(function(){var e=i.deduce(f,n);return s(e)},function(e){return c(e,u)})})},f=function(e){return e.map(function(e){return e+"px"}).getOr("")},d=function(r,a,c,s){var u=n.rows(r),l=e.map(u,function(e){return e.map(a.edge)});return e.map(u,function(e,n){return e.filter(t.not(o.hasRowspan)).fold(function(){var e=i.deduce(l,n);return s(e)},function(e){return c(e)})})};return{getRawWidths:function(e,t){return l(e,t,s,f)},getPixelWidths:function(e,t,n){return l(e,t,r.getPixelWidth,function(e){return e.getOrThunk(n.minCellWidth)},n)},getPercentageWidths:function(e,t,n){return l(e,t,r.getPercentageWidth,function(e){return e.fold(function(){return n.minCellWidth()},function(e){return e/n.pixelWidth()*100})},n)},getPixelHeights:function(e,t){return d(e,t,r.getHeight,function(e){return e.getOrThunk(o.minHeight)})},getRawHeights:function(e,t){return d(e,t,u,f)}}}),o("ephox.snooker.resize.Recalculations",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.snooker.model.Warehouse","global!parseInt"],function(e,t,n,r){var o=function(e,t,n){for(var r=0,o=e;o<t;o++)r+=void 0!==n[o]?n[o]:0;return r};return{recalculateWidth:function(r,i){var a=n.justCells(r);return e.map(a,function(e){var n=o(e.column(),e.column()+e.colspan(),i);return{element:e.element,width:t.constant(n),colspan:e.colspan}})},recalculateHeight:function(r,i){var a=n.justCells(r);return e.map(a,function(e){var n=o(e.row(),e.row()+e.rowspan(),i);return{element:e.element,height:t.constant(n),rowspan:e.rowspan}})},matchRowHeight:function(n,r){return e.map(n.all(),function(e,n){return{element:e.element,height:t.constant(r[n])}})}}}),o("ephox.snooker.resize.TableSize",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.snooker.resize.ColumnSizes","ephox.snooker.resize.Sizes","ephox.snooker.util.CellUtils","ephox.sugar.api.view.Width","global!Math"],function(e,t,n,r,o,i,a){var c=function(i){var c=parseInt(i,10),s=t.identity;return{width:t.constant(c),pixelWidth:t.constant(c),getWidths:n.getPixelWidths,getCellDelta:s,singleColumnWidth:function(e,t){return[a.max(o.minWidth(),e+t)-e]},minCellWidth:o.minWidth,setElementWidth:r.setPixelWidth,setTableWidth:function(t,n,o){var i=e.foldr(n,function(e,t){return e+t},0);r.setPixelWidth(t,i)}}},s=function(e,a){if(r.percentageBasedSizeRegex().test(a)){return function(e,a){var c=parseFloat(e,10),s=i.get(a);return{width:t.constant(c),pixelWidth:t.constant(s),getWidths:n.getPercentageWidths,getCellDelta:function(e){return e/s*100},singleColumnWidth:function(e,t){return[100-e]},minCellWidth:function(){return o.minWidth()/s*100},setElementWidth:r.setPercentageWidth,setTableWidth:function(e,t,n){var o=c+n;r.setPercentageWidth(e,o)}}}(r.percentageBasedSizeRegex().exec(a)[1],e)}if(r.pixelBasedSizeRegex().test(a)){var s=r.pixelBasedSizeRegex().exec(a);return c(s[1])}var u=i.get(e);return c(u)};return{getTableSize:function(e){return r.getRawWidth(e).fold(function(){var t=i.get(e);return c(t)},function(t){return s(e,t)})}}}),o("ephox.snooker.resize.Adjustments",["ephox.katamari.api.Arr","ephox.snooker.calc.Deltas","ephox.snooker.model.DetailsList","ephox.snooker.model.Warehouse","ephox.snooker.resize.ColumnSizes","ephox.snooker.resize.Recalculations","ephox.snooker.resize.Sizes","ephox.snooker.resize.TableSize","ephox.snooker.util.CellUtils","global!Math"],function(e,t,n,r,o,i,a,c,s,u){var l=function(e){return r.generate(e)},f=function(e){var t=n.fromTable(e);return l(t)};return{adjustWidth:function(n,r,o,a){var s=c.getTableSize(n),u=s.getCellDelta(r),l=f(n),d=s.getWidths(l,a,s),p=t.determine(d,o,u,s),m=e.map(p,function(e,t){return e+d[t]}),h=i.recalculateWidth(l,m);e.each(h,function(e){s.setElementWidth(e.element(),e.width())}),o===l.grid().columns()-1&&s.setTableWidth(n,m,u)},adjustHeight:function(t,n,r,c){var l=f(t),d=o.getPixelHeights(l,c),p=e.map(d,function(e,t){return r===t?u.max(n+e,s.minHeight()):e}),m=i.recalculateHeight(l,p),h=i.matchRowHeight(l,p);e.each(h,function(e){a.setHeight(e.element(),e.height())}),e.each(m,function(e){a.setHeight(e.element(),e.height())});var g=function(t){return e.foldr(t,function(e,t){return e+t},0)}(p);a.setHeight(t,g)},adjustWidthTo:function(t,n,r){var o=c.getTableSize(t),a=l(n),s=o.getWidths(a,r,o),u=i.recalculateWidth(a,s);e.each(u,function(e){o.setElementWidth(e.element(),e.width())});var f=e.foldr(s,function(e,t){return t+e},0);u.length>0&&o.setElementWidth(t,f)}}}),o("ephox.snooker.api.TableOperations",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Struct","ephox.snooker.api.Generators","ephox.snooker.api.Structs","ephox.snooker.api.TableContent","ephox.snooker.api.TableLookup","ephox.snooker.model.DetailsList","ephox.snooker.model.GridRow","ephox.snooker.model.RunOperation","ephox.snooker.model.TableMerge","ephox.snooker.model.Transitions","ephox.snooker.model.Warehouse","ephox.snooker.operate.MergingOperations","ephox.snooker.operate.ModificationOperations","ephox.snooker.operate.TransformOperations","ephox.snooker.resize.Adjustments","ephox.sugar.api.dom.Remove"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m,h,g,v,y){var b=function(e){0===c.cells(e).length&&y.remove(e)},x=r.immutable("grid","cursor"),w=function(e,t,n){return C(e,t,n).orThunk(function(){return C(e,0,0)})},C=function(e,t,r){return n.from(e[t]).bind(function(e){return n.from(e.cells()[r]).bind(function(e){return n.from(e.element())})})},k=function(e,t,n){return x(e,C(e,t,n))},T=function(t){return e.foldl(t,function(t,n){return e.exists(t,function(e){return e.row()===n.row()})?t:t.concat([n])},[]).sort(function(e,t){return e.row()-t.row()})},_=function(t){return e.foldl(t,function(t,n){return e.exists(t,function(e){return e.column()===n.column()})?t:t.concat([n])},[]).sort(function(e,t){return e.column()-t.column()})},S=function(e,t,n){var r=s.fromPastedRows(e,n),o=p.generate(r);return d.toGrid(o,t,!0)},E=v.adjustWidthTo;return{insertRowBefore:l.run(function(e,t,n,r){var o=t.row(),i=t.row(),a=h.insertRowAt(e,i,o,n,r.getOrInit);return k(a,i,t.column())},l.onCell,t.noop,t.noop,o.modification),insertRowsBefore:l.run(function(t,n,r,o){var i=n[0].row(),a=n[0].row(),c=T(n),s=e.foldl(c,function(e,t){return h.insertRowAt(e,a,i,r,o.getOrInit)},t);return k(s,a,n[0].column())},l.onCells,t.noop,t.noop,o.modification),insertRowAfter:l.run(function(e,t,n,r){var o=t.row(),i=t.row()+t.rowspan(),a=h.insertRowAt(e,i,o,n,r.getOrInit);return k(a,i,t.column())},l.onCell,t.noop,t.noop,o.modification),insertRowsAfter:l.run(function(t,n,r,o){var i=T(n),a=i[i.length-1].row(),c=i[i.length-1].row()+i[i.length-1].rowspan(),s=e.foldl(i,function(e,t){return h.insertRowAt(e,c,a,r,o.getOrInit)},t);return k(s,c,n[0].column())},l.onCells,t.noop,t.noop,o.modification),insertColumnBefore:l.run(function(e,t,n,r){var o=t.column(),i=t.column(),a=h.insertColumnAt(e,i,o,n,r.getOrInit);return k(a,t.row(),i)},l.onCell,E,t.noop,o.modification),insertColumnsBefore:l.run(function(t,n,r,o){var i=_(n),a=i[0].column(),c=i[0].column(),s=e.foldl(i,function(e,t){return h.insertColumnAt(e,c,a,r,o.getOrInit)},t);return k(s,n[0].row(),c)},l.onCells,E,t.noop,o.modification),insertColumnAfter:l.run(function(e,t,n,r){var o=t.column(),i=t.column()+t.colspan(),a=h.insertColumnAt(e,i,o,n,r.getOrInit);return k(a,t.row(),i)},l.onCell,E,t.noop,o.modification),insertColumnsAfter:l.run(function(t,n,r,o){var i=n[n.length-1].column(),a=n[n.length-1].column()+n[n.length-1].colspan(),c=_(n),s=e.foldl(c,function(e,t){return h.insertColumnAt(e,a,i,r,o.getOrInit)},t);return k(s,n[0].row(),a)},l.onCells,E,t.noop,o.modification),splitCellIntoColumns:l.run(function(e,t,n,r){var o=h.splitCellIntoColumns(e,t.row(),t.column(),n,r.getOrInit);return k(o,t.row(),t.column())},l.onCell,E,t.noop,o.modification),splitCellIntoRows:l.run(function(e,t,n,r){var o=h.splitCellIntoRows(e,t.row(),t.column(),n,r.getOrInit);return k(o,t.row(),t.column())},l.onCell,t.noop,t.noop,o.modification),eraseColumns:l.run(function(e,t,n,r){var o=_(t),i=h.deleteColumnsAt(e,o[0].column(),o[o.length-1].column()),a=w(i,t[0].row(),t[0].column());return x(i,a)},l.onCells,E,b,o.modification),eraseRows:l.run(function(e,t,n,r){var o=T(t),i=h.deleteRowsAt(e,o[0].row(),o[o.length-1].row()),a=w(i,t[0].row(),t[0].column());return x(i,a)},l.onCells,t.noop,b,o.modification),makeColumnHeader:l.run(function(e,t,n,r){var o=g.replaceColumn(e,t.column(),n,r.replaceOrInit);return k(o,t.row(),t.column())},l.onCell,t.noop,t.noop,o.transform("row","th")),unmakeColumnHeader:l.run(function(e,t,n,r){var o=g.replaceColumn(e,t.column(),n,r.replaceOrInit);return k(o,t.row(),t.column())},l.onCell,t.noop,t.noop,o.transform(null,"td")),makeRowHeader:l.run(function(e,t,n,r){var o=g.replaceRow(e,t.row(),n,r.replaceOrInit);return k(o,t.row(),t.column())},l.onCell,t.noop,t.noop,o.transform("col","th")),unmakeRowHeader:l.run(function(e,t,n,r){var o=g.replaceRow(e,t.row(),n,r.replaceOrInit);return k(o,t.row(),t.column())},l.onCell,t.noop,t.noop,o.transform(null,"td")),mergeCells:l.run(function(e,r,o,i){var c=r.cells();a.merge(c);var s=m.merge(e,r.bounds(),o,t.constant(c[0]));return x(s,n.from(c[0]))},l.onMergable,t.noop,t.noop,o.merging),unmergeCells:l.run(function(t,r,o,i){var a=e.foldr(r,function(e,t){return m.unmerge(e,t,o,i.combine(t))},t);return x(a,n.from(r[0]))},l.onUnmergable,E,t.noop,o.merging),pasteCells:l.run(function(e,t,r,o){var a=function(e,t){var n=s.fromTable(e),r=p.generate(n);return d.toGrid(r,t,!0)}(t.clipboard(),t.generators()),c=i.address(t.row(),t.column());return f.merge(c,e,a,t.generators(),r).fold(function(){return x(e,n.some(t.element()))},function(e){var n=w(e,t.row(),t.column());return x(e,n)})},l.onPaste,E,t.noop,o.modification),pasteRowsBefore:l.run(function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[0].row(),a=S(t.clipboard(),t.generators(),o),c=f.insert(i,e,a,t.generators(),n),s=w(c,t.cells[0].row(),t.cells[0].column());return x(c,s)},l.onPasteRows,t.noop,t.noop,o.modification),pasteRowsAfter:l.run(function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[t.cells.length-1].row()+t.cells[t.cells.length-1].rowspan(),a=S(t.clipboard(),t.generators(),o),c=f.insert(i,e,a,t.generators(),n),s=w(c,t.cells[0].row(),t.cells[0].column());return x(c,s)},l.onPasteRows,t.noop,t.noop,o.modification)}}),o("tinymce.plugins.table.alien.Util",["ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element"],function(e,t){var n=function(e){return t.fromDom(e.getBody())};return{getBody:n,getIsRoot:function(t){return function(r){return e.eq(r,n(t))}},addSizeSuffix:function(e){return/^[0-9]+$/.test(e)&&(e+="px"),e},removePxSuffix:function(e){return e?e.replace(/px$/,""):""}}}),o("ephox.sugar.api.properties.Direction",["ephox.sugar.api.properties.Css"],function(e){var t=function(t){return"rtl"===e.get(t,"direction")?"rtl":"ltr"};return{onDirection:function(e,n){return function(r){return"rtl"===t(r)?n:e}},getDirection:t}}),o("tinymce.plugins.table.queries.Direction",["ephox.katamari.api.Fun","ephox.sugar.api.properties.Direction"],function(e,t){var n={isRtl:e.constant(!1)},r={isRtl:e.constant(!0)};return{directionAt:function(e){return"rtl"===t.getDirection(e)?r:n}}}),o("tinymce.plugins.table.actions.TableActions",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.snooker.api.CellMutations","ephox.snooker.api.TableDirection","ephox.snooker.api.TableFill","ephox.snooker.api.TableGridSize","ephox.snooker.api.TableOperations","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.properties.Attr","ephox.sugar.api.search.SelectorFilter","tinymce.plugins.table.alien.Util","tinymce.plugins.table.queries.Direction"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p){return function(m,h){var g,v=function(e){return"table"===u.name(d.getBody(e))};!1!==m.settings.table_clone_elements&&("string"==typeof m.settings.table_clone_elements?g=m.settings.table_clone_elements.split(/[ ,]/):Array.isArray(m.settings.table_clone_elements)&&(g=m.settings.table_clone_elements));var y=n.from(g),b=function(t,r,a,c){return function(u,d){var h=f.descendants(u,"td[data-mce-style],th[data-mce-style]");e.each(h,function(e){l.remove(e,"data-mce-style")});var g=c(),v=s.fromDom(m.getDoc()),b=o(p.directionAt),x=i.cellOperations(a,v,y);return r(u)?t(g,u,d,x,b).bind(function(t){return e.each(t.newRows(),function(e){!function(e){m.fire("newrow",{node:e.dom()}),e.dom()}(e)}),e.each(t.newCells(),function(e){!function(e){m.fire("newcell",{node:e.dom()}),e.dom()}(e)}),t.cursor().map(function(e){var t=m.dom.createRng();return t.setStart(e.dom(),0),t.setEnd(e.dom(),0),t})}):n.none()}};return{deleteRow:b(c.eraseRows,function(e){var t=a.getGridSize(e);return!1===v(m)||t.rows()>1},t.noop,h),deleteColumn:b(c.eraseColumns,function(e){var t=a.getGridSize(e);return!1===v(m)||t.columns()>1},t.noop,h),insertRowsBefore:b(c.insertRowsBefore,t.always,t.noop,h),insertRowsAfter:b(c.insertRowsAfter,t.always,t.noop,h),insertColumnsBefore:b(c.insertColumnsBefore,t.always,r.halve,h),insertColumnsAfter:b(c.insertColumnsAfter,t.always,r.halve,h),mergeCells:b(c.mergeCells,t.always,t.noop,h),unmergeCells:b(c.unmergeCells,t.always,t.noop,h),pasteRowsBefore:b(c.pasteRowsBefore,t.always,t.noop,h),pasteRowsAfter:b(c.pasteRowsAfter,t.always,t.noop,h),pasteCells:b(c.pasteCells,t.always,t.noop,h)}}}),o("ephox.snooker.api.CopyRows",["ephox.snooker.model.DetailsList","ephox.snooker.model.RunOperation","ephox.snooker.model.Transitions","ephox.snooker.model.Warehouse","ephox.snooker.operate.Redraw"],function(e,t,n,r,o){return{copyRows:function(i,a,c){var s=e.fromTable(i),u=r.generate(s);return t.onCells(u,a).map(function(e){var r=n.toGrid(u,c,!1).slice(e[0].row(),e[e.length-1].row()+e[e.length-1].rowspan()),i=t.toDetailList(r,c);return o.copy(i)})}}}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),o("tinymce.plugins.table.actions.Styles",["tinymce.core.util.Tools"],function(e){return{applyAlign:function(e,t,n){n&&e.formatter.apply("align"+n,{},t)},applyVAlign:function(e,t,n){n&&e.formatter.apply("valign"+n,{},t)},unApplyAlign:function(t,n){e.each("left center right".split(" "),function(e){t.formatter.remove("align"+e,{},n)})},unApplyVAlign:function(t,n){e.each("top middle bottom".split(" "),function(e){t.formatter.remove("valign"+e,{},n)})},getTDTHOverallStyle:function(e,t,n){var r;return r=function(t,r){for(var o=0;o<r.length;o++){var i=e.getStyle(r[o],n);if(void 0===t&&(t=i),t!=i)return""}return t}(r,e.select("td,th",t))}}}),o("tinymce.plugins.table.ui.Helpers",["ephox.katamari.api.Fun","tinymce.core.util.Tools","tinymce.plugins.table.alien.Util"],function(e,t,n){var r=function(e,t){var r=e.dom,o=t.control.rootControl,i=o.toJSON(),a=r.parseStyle(i.style);"style"===t.control.name()?(o.find("#borderStyle").value(a["border-style"]||"")[0].fire("select"),o.find("#borderColor").value(a["border-color"]||"")[0].fire("change"),o.find("#backgroundColor").value(a["background-color"]||"")[0].fire("change"),o.find("#width").value(a.width||"").fire("change"),o.find("#height").value(a.height||"").fire("change")):(a["border-style"]=i.borderStyle,a["border-color"]=i.borderColor,a["background-color"]=i.backgroundColor,a.width=i.width?n.addSizeSuffix(i.width):"",a.height=i.height?n.addSizeSuffix(i.height):""),o.find("#style").value(r.serializeStyle(r.parseStyle(r.serializeStyle(a))))};return{createStyleForm:function(t){var n=function(){var e=t.settings.color_picker_callback;if(e)return function(n){return e.call(t,function(e){n.control.value(e).fire("change")},n.control.value())}};return{title:"Advanced",type:"form",defaults:{onchange:e.curry(r,t)},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border style",type:"listbox",name:"borderStyle",width:90,onselect:e.curry(r,t),values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{label:"Border color",type:"colorbox",name:"borderColor",onaction:n()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:n()}]}]}},buildListItems:function(e,n,r){var o=function(e,r){return r=r||[],t.each(e,function(e){var t={text:e.text||e.title};e.menu?t.menu=o(e.menu):(t.value=e.value,n&&n(t)),r.push(t)}),r};return o(e,r||[])},updateStyleField:r,extractAdvancedStyles:function(e,t){var n=e.parseStyle(e.getAttrib(t,"style")),r={};return n["border-style"]&&(r.borderStyle=n["border-style"]),n["border-color"]&&(r.borderColor=n["border-color"]),n["background-color"]&&(r.backgroundColor=n["background-color"]),r.style=e.serializeStyle(n),r}}}),o("tinymce.plugins.table.ui.TableDialog",["ephox.katamari.api.Fun","tinymce.core.Env","tinymce.core.util.Tools","tinymce.plugins.table.actions.InsertTable","tinymce.plugins.table.actions.Styles","tinymce.plugins.table.alien.Util","tinymce.plugins.table.ui.Helpers"],function(e,t,n,r,o,i,a){function c(e,t,n,r){if("TD"===t.tagName||"TH"===t.tagName)e.setStyle(t,n,r);else if(t.children)for(var o=0;o<t.children.length;o++)c(e,t.children[o],n,r)}var s=function(e,s,u){var l,f,d=e.dom;a.updateStyleField(e,u),!1===(f=u.control.rootControl.toJSON()).class&&delete f.class,e.undoManager.transact(function(){s||(s=r.insert(e,f.cols||1,f.rows||1)),function(e,t,r){var o=e.dom,a={},s={};if(a.class=r.class,s.height=i.addSizeSuffix(r.height),o.getAttrib(t,"width")&&!e.settings.table_style_by_css?a.width=i.removePxSuffix(r.width):s.width=i.addSizeSuffix(r.width),e.settings.table_style_by_css?(s["border-width"]=i.addSizeSuffix(r.border),s["border-spacing"]=i.addSizeSuffix(r.cellspacing),n.extend(a,{"data-mce-border-color":r.borderColor,"data-mce-cell-padding":r.cellpadding,"data-mce-border":r.border})):n.extend(a,{border:r.border,cellpadding:r.cellpadding,cellspacing:r.cellspacing}),e.settings.table_style_by_css&&t.children)for(var u=0;u<t.children.length;u++)c(o,t.children[u],{"border-width":i.addSizeSuffix(r.border),"border-color":r.borderColor,padding:i.addSizeSuffix(r.cellpadding)});r.style?n.extend(s,o.parseStyle(r.style)):s=n.extend({},o.parseStyle(o.getAttrib(t,"style")),s),a.style=o.serializeStyle(s),o.setAttribs(t,a)}(e,s,f),(l=d.select("caption",s)[0])&&!f.caption&&d.remove(l),!l&&f.caption&&((l=d.create("caption")).innerHTML=t.ie?"":'<br data-mce-bogus="1"/>',s.insertBefore(l,s.firstChild)),o.unApplyAlign(e,s),f.align&&o.applyAlign(e,s,f.align),e.focus(),e.addVisual()})};return{open:function(t,r){var i,c,u,l,f,d=t.dom,p={};!0===r?(i=d.getParent(t.selection.getStart(),"table"))&&(p=function(e,t){var r=e.dom,i={width:r.getStyle(t,"width")||r.getAttrib(t,"width"),height:r.getStyle(t,"height")||r.getAttrib(t,"height"),cellspacing:r.getStyle(t,"border-spacing")||r.getAttrib(t,"cellspacing"),cellpadding:r.getAttrib(t,"data-mce-cell-padding")||r.getAttrib(t,"cellpadding")||o.getTDTHOverallStyle(e.dom,t,"padding"),border:r.getAttrib(t,"data-mce-border")||r.getAttrib(t,"border")||o.getTDTHOverallStyle(e.dom,t,"border"),borderColor:r.getAttrib(t,"data-mce-border-color"),caption:!!r.select("caption",t)[0],class:r.getAttrib(t,"class")};return n.each("left center right".split(" "),function(n){e.formatter.matchNode(t,"align"+n)&&(i.align=n)}),!1!==e.settings.table_advtab&&n.extend(i,a.extractAdvancedStyles(r,t)),i}(t,i)):(c={label:"Cols",name:"cols"},u={label:"Rows",name:"rows"}),t.settings.table_class_list&&(p.class&&(p.class=p.class.replace(/\s*mce\-item\-table\s*/g,"")),l={name:"class",type:"listbox",label:"Class",values:a.buildListItems(t.settings.table_class_list,function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"table",classes:[e.value]})})})}),f={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:!1!==t.settings.table_appearance_options?[c,u,{label:"Width",name:"width",onchange:e.curry(a.updateStyleField,t)},{label:"Height",name:"height",onchange:e.curry(a.updateStyleField,t)},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[c,u,{label:"Width",name:"width",onchange:e.curry(a.updateStyleField,t)},{label:"Height",name:"height",onchange:e.curry(a.updateStyleField,t)}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},l]},!1!==t.settings.table_advtab?t.windowManager.open({title:"Table properties",data:p,bodyType:"tabpanel",body:[{title:"General",type:"form",items:f},a.createStyleForm(t)],onsubmit:e.curry(s,t,i)}):t.windowManager.open({title:"Table properties",data:p,body:f,onsubmit:e.curry(s,t,i)})}}}),o("tinymce.plugins.table.ui.RowDialog",["ephox.katamari.api.Fun","tinymce.core.util.Tools","tinymce.plugins.table.actions.Styles","tinymce.plugins.table.alien.Util","tinymce.plugins.table.ui.Helpers"],function(e,t,n,r,o){function i(e,i,c){function s(e,t,n){n&&l.setAttrib(e,t,n)}var u,l=e.dom;o.updateStyleField(e,c),u=c.control.rootControl.toJSON(),e.undoManager.transact(function(){t.each(i,function(t){s(t,"scope",u.scope),s(t,"style",u.style),s(t,"class",u.class),function(e,t,n){n&&l.setStyle(e,t,n)}(t,"height",r.addSizeSuffix(u.height)),u.type!==t.parentNode.nodeName.toLowerCase()&&a(e.dom,t,u.type),1===i.length&&n.unApplyAlign(e,t),u.align&&n.applyAlign(e,t,u.align)}),e.focus()})}var a=function(e,t,n){var r=e.getParent(t,"table"),o=t.parentNode,i=e.select(n,r)[0];i||(i=e.create(n),r.firstChild?"CAPTION"===r.firstChild.nodeName?e.insertAfter(i,r.firstChild):r.insertBefore(i,r.firstChild):r.appendChild(i)),i.appendChild(t),o.hasChildNodes()||e.remove(o)};return{open:function(n){var r,a,c,s,u,l,f=n.dom,d=[];r=n.dom.getParent(n.selection.getStart(),"table"),a=n.dom.getParent(n.selection.getStart(),"td,th"),t.each(r.rows,function(e){t.each(e.cells,function(t){if(f.getAttrib(t,"data-mce-selected")||t==a)return d.push(e),!1})}),(c=d[0])&&(u=d.length>1?{height:"",scope:"",class:"",align:"",type:c.parentNode.nodeName.toLowerCase()}:function(e,n){var r=e.dom,i={height:r.getStyle(n,"height")||r.getAttrib(n,"height"),scope:r.getAttrib(n,"scope"),class:r.getAttrib(n,"class")};return i.type=n.parentNode.nodeName.toLowerCase(),t.each("left center right".split(" "),function(t){e.formatter.matchNode(n,"align"+t)&&(i.align=t)}),!1!==e.settings.table_row_advtab&&t.extend(i,o.extractAdvancedStyles(r,n)),i}(n,c),n.settings.table_row_class_list&&(s={name:"class",type:"listbox",label:"Class",values:o.buildListItems(n.settings.table_row_class_list,function(e){e.value&&(e.textStyle=function(){return n.formatter.getCssText({block:"tr",classes:[e.value]})})})}),l={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},s]},!1!==n.settings.table_row_advtab?n.windowManager.open({title:"Row properties",data:u,bodyType:"tabpanel",body:[{title:"General",type:"form",items:l},o.createStyleForm(f)],onsubmit:e.curry(i,n,d)}):n.windowManager.open({title:"Row properties",data:u,body:l,onsubmit:e.curry(i,n,d)}))}}}),o("tinymce.plugins.table.ui.CellDialog",["ephox.katamari.api.Fun","tinymce.core.util.Tools","tinymce.plugins.table.actions.Styles","tinymce.plugins.table.alien.Util","tinymce.plugins.table.ui.Helpers"],function(e,t,n,r,o){var i=function(e,i,a){function c(e,t,n){n&&l.setAttrib(e,t,n)}function s(e,t,n){n&&l.setStyle(e,t,n)}var u,l=e.dom;o.updateStyleField(e,a),u=a.control.rootControl.toJSON(),e.undoManager.transact(function(){t.each(i,function(t){c(t,"scope",u.scope),1===i.length?c(t,"style",u.style):function(e,t){e.style.cssText+=";"+t}(t,u.style),c(t,"class",u.class),s(t,"width",r.addSizeSuffix(u.width)),s(t,"height",r.addSizeSuffix(u.height)),u.type&&t.nodeName.toLowerCase()!==u.type&&(t=l.rename(t,u.type)),1===i.length&&(n.unApplyAlign(e,t),n.unApplyVAlign(e,t)),u.align&&n.applyAlign(e,t,u.align),u.valign&&n.applyVAlign(e,t,u.valign)}),e.focus()})};return{open:function(n){var r,a,c,s=[];if(s=n.dom.select("td[data-mce-selected],th[data-mce-selected]"),r=n.dom.getParent(n.selection.getStart(),"td,th"),!s.length&&r&&s.push(r),r=r||s[0]){a=s.length>1?{width:"",height:"",scope:"",class:"",align:"",style:"",type:r.nodeName.toLowerCase()}:function(e,n){var r=e.dom,i={width:r.getStyle(n,"width")||r.getAttrib(n,"width"),height:r.getStyle(n,"height")||r.getAttrib(n,"height"),scope:r.getAttrib(n,"scope"),class:r.getAttrib(n,"class")};return i.type=n.nodeName.toLowerCase(),t.each("left center right".split(" "),function(t){e.formatter.matchNode(n,"align"+t)&&(i.align=t)}),t.each("top middle bottom".split(" "),function(t){e.formatter.matchNode(n,"valign"+t)&&(i.valign=t)}),!1!==e.settings.table_cell_advtab&&t.extend(i,o.extractAdvancedStyles(r,n)),i}(n,r),n.settings.table_cell_class_list&&(c={name:"class",type:"listbox",label:"Class",values:o.buildListItems(n.settings.table_cell_class_list,function(e){e.value&&(e.textStyle=function(){return n.formatter.getCssText({block:"td",classes:[e.value]})})})});var u={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width",onchange:e.curry(o.updateStyleField,n)},{label:"Height",name:"height",onchange:e.curry(o.updateStyleField,n)},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},c]};!1!==n.settings.table_cell_advtab?n.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:a,body:[{title:"General",type:"form",items:u},o.createStyleForm(n)],onsubmit:e.curry(i,n,s)}):n.windowManager.open({title:"Cell properties",data:a,body:u,onsubmit:e.curry(i,n,s)})}}}}),o("tinymce.plugins.table.actions.TableCommands",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.snooker.api.CopyRows","ephox.snooker.api.TableFill","ephox.snooker.api.TableLookup","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.dom.Replication","ephox.sugar.api.node.Element","tinymce.core.util.Tools","tinymce.plugins.table.alien.Util","tinymce.plugins.table.queries.TableTargets","tinymce.plugins.table.ui.TableDialog","tinymce.plugins.table.ui.RowDialog","tinymce.plugins.table.ui.CellDialog"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m,h){var g=l.each,v=n.none();return{registerCommands:function(l,y,b,x){var w=f.getIsRoot(l),C=function(){return u.fromDom(l.dom.getParent(l.selection.getStart(),"th,td"))},k=function(e){return i.table(e,w)},T=function(e){var t=C();k(t).each(function(n){var r=d.forMenu(x,n,t);e(n,r).each(function(e){l.selection.setRng(e),l.focus(),b.clear(n)})})},_=function(e){var i=C();return k(i).bind(function(e){var a=u.fromDom(l.getDoc()),c=d.forMenu(x,e,i),s=o.cellOperations(t.noop,a,n.none());return r.copyRows(e,c,s)})},S=function(t){v.each(function(n){var r=e.map(n,function(e){return s.deep(e)}),i=C();k(i).bind(function(e){var n=u.fromDom(l.getDoc()),a=o.paste(n),c=d.pasteRows(x,e,i,r,a);t(e,c).each(function(t){l.selection.setRng(t),l.focus(),b.clear(e)})})})};g({mceTableSplitCells:function(){T(y.unmergeCells)},mceTableMergeCells:function(){T(y.mergeCells)},mceTableInsertRowBefore:function(){T(y.insertRowsBefore)},mceTableInsertRowAfter:function(){T(y.insertRowsAfter)},mceTableInsertColBefore:function(){T(y.insertColumnsBefore)},mceTableInsertColAfter:function(){T(y.insertColumnsAfter)},mceTableDeleteCol:function(){T(y.deleteColumn)},mceTableDeleteRow:function(){T(y.deleteRow)},mceTableCutRow:function(e){v=_(),T(y.deleteRow)},mceTableCopyRow:function(e){v=_()},mceTablePasteRowBefore:function(e){S(y.pasteRowsBefore)},mceTablePasteRowAfter:function(e){S(y.pasteRowsAfter)},mceTableDelete:function(){var e=u.fromDom(l.dom.getParent(l.selection.getStart(),"th,td"));i.table(e,w).filter(t.not(w)).each(function(e){var t=u.fromText("");a.after(e,t),c.remove(e);var n=l.dom.createRng();n.setStart(t.dom(),0),n.setEnd(t.dom(),0),l.selection.setRng(n)})}},function(e,t){l.addCommand(t,e)}),g({mceInsertTable:t.curry(p.open,l),mceTableProps:t.curry(p.open,l,!0),mceTableRowProps:t.curry(m.open,l),mceTableCellProps:t.curry(h.open,l)},function(e,t){l.addCommand(t,function(t,n){e(n)})})},getClipboardRows:function(){return v.fold(function(){},function(t){return e.map(t,function(e){return e.dom()})})},setClipboardRows:function(t){var r=e.map(t,u.fromDom);v=n.from(r)}}}),o("ephox.snooker.api.ResizeWire",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.view.Location","ephox.sugar.api.view.Position"],function(e,t,n,r,o){return{only:function(r){var i=t.from(r.dom().documentElement).map(n.fromDom).getOr(r);return{parent:e.constant(i),view:e.constant(r),origin:e.constant(o(0,0))}},detached:function(t,n){var o=e.curry(r.absolute,n);return{parent:e.constant(n),view:e.constant(t),origin:o}},body:function(t,n){return{parent:e.constant(n),view:e.constant(t),origin:e.constant(o(0,0))}}}}),o("ephox.porkbun.Event",["ephox.katamari.api.Arr","ephox.katamari.api.Struct"],function(e,t){return function(n){var r=t.immutable.apply(null,n),o=[];return{bind:function(e){if(void 0===e)throw"Event bind error: undefined handler";o.push(e)},unbind:function(t){o=e.filter(o,function(e){return e!==t})},trigger:function(){var t=r.apply(null,arguments);e.each(o,function(e){e(t)})}}}}),o("ephox.porkbun.Events",["ephox.katamari.api.Obj"],function(e){return{create:function(t){return{registry:e.map(t,function(e){return{bind:e.bind,unbind:e.unbind}}),trigger:e.map(t,function(e){return e.trigger})}}}}),o("ephox.dragster.api.DragApis",["ephox.katamari.api.Contracts"],function(e){return{mode:e.exactly(["compare","extract","mutate","sink"]),sink:e.exactly(["element","start","stop","destroy"]),api:e.exactly(["forceDrop","drop","move","delayDrop"])}}),o("ephox.dragster.style.Styles",["ephox.katamari.api.Namespace"],function(e){return{resolve:e.css("ephox-dragster").resolve}}),o("ephox.dragster.detect.Blocker",["ephox.dragster.style.Styles","ephox.katamari.api.Merger","ephox.sugar.api.properties.Class","ephox.sugar.api.properties.Css","ephox.sugar.api.node.Element","ephox.sugar.api.dom.Remove"],function(e,t,n,r,o,i){return function(a){var c=t.merge({layerClass:e.resolve("blocker")},a),s=o.fromTag("div");r.setAll(s,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),n.add(s,e.resolve("blocker")),n.add(s,c.layerClass);return{element:function(){return s},destroy:function(){i.remove(s)}}}}),o("ephox.sugar.impl.FilteredEvent",["ephox.katamari.api.Fun","ephox.sugar.api.node.Element"],function(e,t){var n=function(n,r){return function(o){if(n(o)){var i=t.fromDom(o.target),a=function(){o.stopPropagation()},c=function(){o.preventDefault()},s=e.compose(c,a),u=function(t,n,r,o,i,a,c){return{target:e.constant(t),x:e.constant(n),y:e.constant(r),stop:o,prevent:i,kill:a,raw:e.constant(c)}}(i,o.clientX,o.clientY,a,c,s,o);r(u)}}},r=function(t,r,i,a,c){var s=n(i,a);return t.dom().addEventListener(r,s,c),{unbind:e.curry(o,t,r,s,c)}},o=function(e,t,n,r){e.dom().removeEventListener(t,n,r)};return{bind:function(e,t,n,o){return r(e,t,n,o,!1)},capture:function(e,t,n,o){return r(e,t,n,o,!0)}}}),o("ephox.sugar.api.events.DomEvent",["ephox.katamari.api.Fun","ephox.sugar.impl.FilteredEvent"],function(e,t){var n=e.constant(!0);return{bind:function(e,r,o){return t.bind(e,r,n,o)},capture:function(e,r,o){return t.capture(e,r,n,o)}}}),o("ephox.dragster.api.MouseDrag",["ephox.dragster.api.DragApis","ephox.dragster.detect.Blocker","ephox.katamari.api.Option","ephox.sugar.api.view.Position","ephox.sugar.api.events.DomEvent","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove"],function(e,t,n,r,o,i,a){return e.mode({compare:function(e,t){return r(t.left()-e.left(),t.top()-e.top())},extract:function(e){return n.some(r(e.x(),e.y()))},sink:function(n,r){var c=t(r),s=o.bind(c.element(),"mousedown",n.forceDrop),u=o.bind(c.element(),"mouseup",n.drop),l=o.bind(c.element(),"mousemove",n.move),f=o.bind(c.element(),"mouseout",n.delayDrop);return e.sink({element:c.element,start:function(e){i.append(e,c.element())},stop:function(){a.remove(c.element())},destroy:function(){c.destroy(),u.unbind(),l.unbind(),f.unbind(),s.unbind()}})},mutate:function(e,t){e.mutate(t.left(),t.top())}})}),o("ephox.dragster.detect.InDrag",["ephox.katamari.api.Option","ephox.porkbun.Event","ephox.porkbun.Events"],function(e,t,n){return function(){var r=e.none(),o=n.create({move:t(["info"])});return{onEvent:function(t,n){n.extract(t).each(function(t){(function(t,n){var o=r.map(function(e){return t.compare(e,n)});return r=e.some(n),o})(n,t).each(function(e){o.trigger.move(e)})})},reset:function(){r=e.none()},events:o.registry}}}),o("ephox.dragster.detect.NoDrag",["ephox.katamari.api.Fun"],function(e){return function(t){return{onEvent:function(e,t){},reset:e.noop}}}),o("ephox.dragster.detect.Movement",["ephox.dragster.detect.InDrag","ephox.dragster.detect.NoDrag"],function(e,t){return function(){var n=t(),r=e(),o=n;return{on:function(){o.reset(),o=r},off:function(){o.reset(),o=n},isOn:function(){return o===r},onEvent:function(e,t){o.onEvent(e,t)},events:r.events}}}),i("global!clearTimeout",clearTimeout),i("global!setTimeout",setTimeout),o("ephox.katamari.api.Throttler",["global!clearTimeout","global!setTimeout"],function(e,t){return{adaptable:function(n,r){var o=null,i=null;return{cancel:function(){null!==o&&(e(o),o=null,i=null)},throttle:function(){i=arguments,null===o&&(o=t(function(){n.apply(null,i),o=null,i=null},r))}}},first:function(n,r){var o=null;return{cancel:function(){null!==o&&(e(o),o=null)},throttle:function(){var e=arguments;null===o&&(o=t(function(){n.apply(null,e),o=null,e=null},r))}}},last:function(n,r){var o=null;return{cancel:function(){null!==o&&(e(o),o=null)},throttle:function(){var i=arguments;null!==o&&e(o),o=t(function(){n.apply(null,i),o=null,i=null},r)}}}}}),o("ephox.dragster.core.Dragging",["ephox.dragster.api.DragApis","ephox.dragster.detect.Movement","ephox.katamari.api.Throttler","ephox.porkbun.Event","ephox.porkbun.Events","global!Array"],function(e,t,n,r,o,i){return{setup:function(a,c,s){var u=!1,l=o.create({start:r([]),stop:r([])}),f=t(),d=function(){h.stop(),f.isOn()&&(f.off(),l.trigger.stop())},p=n.last(d,200);f.events.move.bind(function(e){c.mutate(a,e.info())});var m=function(e){return function(){var t=i.prototype.slice.call(arguments,0);if(u)return e.apply(null,t)}},h=c.sink(e.api({forceDrop:d,drop:m(d),move:m(function(e,t){p.cancel(),f.onEvent(e,c)}),delayDrop:m(p.throttle)}),s);return{element:h.element,go:function(e){h.start(e),f.on(),l.trigger.start()},on:function(){u=!0},off:function(){u=!1},destroy:function(){h.destroy()},events:l.registry}}}}),o("ephox.dragster.api.Dragger",["ephox.dragster.api.MouseDrag","ephox.dragster.core.Dragging","global!Array"],function(e,t,n){return{transform:function(n,r){var o=void 0!==r?r:{},i=void 0!==o.mode?o.mode:e;return t.setup(n,i,r)}}}),o("ephox.snooker.resize.Mutation",["ephox.porkbun.Event","ephox.porkbun.Events"],function(e,t){return function(){var n=t.create({drag:e(["xDelta","yDelta"])});return{mutate:function(e,t){n.trigger.drag(e,t)},events:n.registry}}}),o("ephox.snooker.resize.BarMutation",["ephox.katamari.api.Option","ephox.porkbun.Event","ephox.porkbun.Events","ephox.snooker.resize.Mutation"],function(e,t,n,r){return function(){var o=n.create({drag:t(["xDelta","yDelta","target"])}),i=e.none(),a=r();a.events.drag.bind(function(e){i.each(function(t){o.trigger.drag(e.xDelta(),e.yDelta(),t)})});return{assign:function(t){i=e.some(t)},get:function(){return i},mutate:a.mutate,events:o.registry}}}),o("ephox.sugar.api.search.SelectorExists",["ephox.sugar.api.search.SelectorFind"],function(e){return{any:function(t){return e.first(t).isSome()},ancestor:function(t,n,r){return e.ancestor(t,n,r).isSome()},sibling:function(t,n){return e.sibling(t,n).isSome()},child:function(t,n){return e.child(t,n).isSome()},descendant:function(t,n){return e.descendant(t,n).isSome()},closest:function(t,n,r){return e.closest(t,n,r).isSome()}}}),o("ephox.snooker.resize.BarManager",["ephox.dragster.api.Dragger","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.porkbun.Event","ephox.porkbun.Events","ephox.snooker.resize.BarMutation","ephox.snooker.resize.Bars","ephox.snooker.style.Styles","ephox.snooker.util.CellUtils","ephox.sugar.api.dom.Compare","ephox.sugar.api.events.DomEvent","ephox.sugar.api.node.Body","ephox.sugar.api.node.Node","ephox.sugar.api.properties.Attr","ephox.sugar.api.properties.Class","ephox.sugar.api.properties.Css","ephox.sugar.api.search.SelectorExists","ephox.sugar.api.search.SelectorFind","global!parseInt"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m,h,g,v,y){var b=c.resolve("resizer-bar-dragging");return function(c,x,w){var C=i(),k=e.transform(C,{}),T=n.none(),_=function(e,t){return n.from(p.get(e,t))};C.events.drag.bind(function(e){_(e.target(),"data-row").each(function(t){var n=s.getInt(e.target(),"top");h.set(e.target(),"top",n+e.yDelta()+"px")}),_(e.target(),"data-column").each(function(t){var n=s.getInt(e.target(),"left");h.set(e.target(),"left",n+e.xDelta()+"px")})});var S=function(e,t){return s.getInt(e,t)-y(p.get(e,"data-initial-"+t),10)};k.events.stop.bind(function(){C.get().each(function(e){T.each(function(t){_(e,"data-row").each(function(n){var r=S(e,"top");p.remove(e,"data-initial-top"),R.trigger.adjustHeight(t,r,y(n,10))}),_(e,"data-column").each(function(n){var r=S(e,"left");p.remove(e,"data-initial-left"),R.trigger.adjustWidth(t,r,y(n,10))}),a.refresh(c,t,w,x)})})});var E=function(e,t){R.trigger.startAdjust(),C.assign(e),p.set(e,"data-initial-"+t,y(h.get(e,t),10)),m.add(e,b),h.set(e,"opacity","0.2"),k.go(c.parent())},A=l.bind(c.parent(),"mousedown",function(e){a.isRowBar(e.target())&&E(e.target(),"top"),a.isColBar(e.target())&&E(e.target(),"left")}),N=function(e){return u.eq(e,c.view())},D=l.bind(c.view(),"mouseover",function(e){"table"===d.name(e.target())||g.ancestor(e.target(),"table",N)?(T="table"===d.name(e.target())?n.some(e.target()):v.ancestor(e.target(),"table",N)).each(function(e){a.refresh(c,e,w,x)}):f.inBody(e.target())&&a.destroy(c)}),R=o.create({adjustHeight:r(["table","delta","row"]),adjustWidth:r(["table","delta","column"]),startAdjust:r([])});return{destroy:function(){A.unbind(),D.unbind(),k.destroy(),a.destroy(c)},refresh:function(e){a.refresh(c,e,w,x)},on:k.on,off:k.off,hideBars:t.curry(a.hide,c),showBars:t.curry(a.show,c),events:R.registry}}}),o("ephox.snooker.api.TableResize",["ephox.porkbun.Event","ephox.porkbun.Events","ephox.snooker.resize.Adjustments","ephox.snooker.resize.BarManager","ephox.snooker.resize.BarPositions"],function(e,t,n,r,o){return function(i,a){var c=o.height,s=r(i,a,c),u=t.create({beforeResize:e(["table"]),afterResize:e(["table"]),startDrag:e([])});return s.events.adjustHeight.bind(function(e){u.trigger.beforeResize(e.table());var t=c.delta(e.delta(),e.table());n.adjustHeight(e.table(),t,e.row(),c),u.trigger.afterResize(e.table())}),s.events.startAdjust.bind(function(e){u.trigger.startDrag()}),s.events.adjustWidth.bind(function(e){u.trigger.beforeResize(e.table());var t=a.delta(e.delta(),e.table());n.adjustWidth(e.table(),t,e.column(),a),u.trigger.afterResize(e.table())}),{on:s.on,off:s.off,hideBars:s.hideBars,showBars:s.showBars,destroy:s.destroy,events:u.registry}}}),o("tinymce.plugins.table.actions.TableWire",["ephox.snooker.api.ResizeWire","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Body","ephox.sugar.api.node.Element","ephox.sugar.api.properties.Css","tinymce.plugins.table.alien.Util"],function(e,t,n,r,o,i,a){return{get:function(n,c){return n.inline?e.body(a.getBody(n),function(){var e=o.fromTag("div");return i.setAll(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),t.append(r.body(),e),e}()):e.only(o.fromDom(n.getDoc()))},remove:function(e,t){e.inline&&n.remove(t.parent())}}}),o("tinymce.plugins.table.actions.ResizeHandler",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.snooker.api.ResizeWire","ephox.snooker.api.TableDirection","ephox.snooker.api.TableResize","ephox.sugar.api.node.Element","ephox.sugar.api.properties.Attr","ephox.sugar.api.search.SelectorFilter","tinymce.plugins.table.actions.TableWire","tinymce.plugins.table.queries.Direction","tinymce.core.util.Tools"],function(e,t,n,r,o,i,a,c,s,u,l){return function(f){var d,p,m=t.none(),h=t.none(),g=t.none(),v=/(\d+(\.\d+)?)%/,y=function(e){return"TABLE"===e.nodeName};return f.on("init",function(){var n=r(u.directionAt),i=s.get(f);if(g=t.some(i),f.settings.object_resizing&&!1!==f.settings.table_resize_bars&&(!0===f.settings.object_resizing||"table"===f.settings.object_resizing)){var l=o(i,n);l.on(),l.events.startDrag.bind(function(e){m=t.some(f.selection.getRng())}),l.events.afterResize.bind(function(t){var n=t.table(),r=c.descendants(n,"td[data-mce-style],th[data-mce-style]");e.each(r,function(e){a.remove(e,"data-mce-style")}),m.each(function(e){f.selection.setRng(e),f.focus()}),f.undoManager.add()}),h=t.some(l)}}),f.on("ObjectResizeStart",function(e){y(e.target)&&(d=e.width,p=function(e){return f.dom.getStyle(e,"width")||f.dom.getAttrib(e,"width")}(e.target))}),f.on("ObjectResized",function(e){if(y(e.target)){var t=e.target;if(v.test(p)){var n=parseFloat(v.exec(p)[1],10),r=e.width*n/d;f.dom.setStyle(t,"width",r+"%")}else{var o=[];l.each(t.rows,function(e){l.each(e.cells,function(e){var t=f.dom.getStyle(e,"width",!0);o.push({cell:e,width:t})})}),l.each(o,function(e){f.dom.setStyle(e.cell,"width",e.width),f.dom.setAttrib(e.cell,"width",null)})}}}),{lazyResize:function(){return h},lazyWire:function(){return g.getOr(n.only(i.fromDom(f.getBody())))},destroy:function(){h.each(function(e){e.destroy()}),g.each(function(e){s.remove(f,e)})}}}}),o("ephox.snooker.api.CellLocation",[],function(){var e=function(e){return{fold:e}};return{none:function(t){return e(function(e,n,r,o){return e(t)})},first:function(t){return e(function(e,n,r,o){return n(t)})},middle:function(t,n){return e(function(e,r,o,i){return o(t,n)})},last:function(t){return e(function(e,n,r,o){return o(t)})}}}),o("ephox.snooker.api.CellNavigation",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.snooker.api.CellLocation","ephox.snooker.api.TableLookup","ephox.sugar.api.dom.Compare"],function(e,t,n,r,o){var i=function(n,i){return r.table(n,i).bind(function(i){var a=r.cells(i);return e.findIndex(a,function(e){return o.eq(n,e)}).map(function(e){return{index:t.constant(e),all:t.constant(a)}})})};return{next:function(e,t){return i(e,t).fold(function(){return n.none(e)},function(t){return t.index()+1<t.all().length?n.middle(e,t.all()[t.index()+1]):n.last(e)})},prev:function(e,t){return i(e,t).fold(function(){return n.none()},function(t){return t.index()-1>=0?n.middle(e,t.all()[t.index()-1]):n.first(e)})}}}),o("ephox.sugar.api.selection.Situ",["ephox.katamari.api.Adt","ephox.katamari.api.Fun"],function(e,t){var n=e.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]);return{before:n.before,on:n.on,after:n.after,cata:function(e,t,n,r){return e.fold(t,n,r)},getStart:function(e){return e.fold(t.identity,t.identity,t.identity)}}}),o("ephox.sugar.api.selection.Selection",["ephox.katamari.api.Adt","ephox.katamari.api.Struct","ephox.sugar.api.node.Element","ephox.sugar.api.search.Traverse","ephox.sugar.api.selection.Situ"],function(e,t,n,r,o){var i=e.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),a=t.immutable("start","soffset","finish","foffset");return{domRange:i.domRange,relative:i.relative,exact:i.exact,exactFromRange:function(e){return i.exact(e.start(),e.soffset(),e.finish(),e.foffset())},range:a,getWin:function(e){var t=function(e){return e.match({domRange:function(e){return n.fromDom(e.startContainer)},relative:function(e,t){return o.getStart(e)},exact:function(e,t,n,r){return e}})}(e);return r.defaultView(t)}}}),o("ephox.sugar.api.dom.DocumentPosition",["ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.search.Traverse"],function(e,t,n){var r=function(e,t,r,o){var i=n.owner(e).dom().createRange();return i.setStart(e.dom(),t),i.setEnd(r.dom(),o),i};return{after:function(t,n,o,i){var a=r(t,n,o,i),c=e.eq(t,o)&&n===i;return a.collapsed&&!c},commonAncestorContainer:function(e,n,o,i){var a=r(e,n,o,i);return t.fromDom(a.commonAncestorContainer)}}}),o("ephox.sugar.api.node.Fragment",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","global!document"],function(e,t,n){return{fromElements:function(r,o){var i=(o||n).createDocumentFragment();return e.each(r,function(e){i.appendChild(e.dom())}),t.fromDom(i)}}}),o("ephox.sugar.selection.core.NativeRange",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element"],function(e,t,n,r){var o=function(e,t){e.selectNodeContents(t.dom())},i=function(e){e.deleteContents()},a=function(t){return{left:e.constant(t.left),top:e.constant(t.top),right:e.constant(t.right),bottom:e.constant(t.bottom),width:e.constant(t.width),height:e.constant(t.height)}};return{create:function(e){return e.document.createRange()},replaceWith:function(e,t){i(e),e.insertNode(t.dom())},selectNodeContents:function(e,t){var n=e.document.createRange();return o(n,t),n},selectNodeContentsUsing:o,isCollapsed:function(e,t,r,o){return n.eq(e,r)&&t===o},relativeToNative:function(e,t,n){var r=e.document.createRange();return function(e,t){t.fold(function(t){e.setStartBefore(t.dom())},function(t,n){e.setStart(t.dom(),n)},function(t){e.setStartAfter(t.dom())})}(r,t),function(e,t){t.fold(function(t){e.setEndBefore(t.dom())},function(t,n){e.setEnd(t.dom(),n)},function(t){e.setEndAfter(t.dom())})}(r,n),r},exactToNative:function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},deleteContents:i,cloneFragment:function(e){var t=e.cloneContents();return r.fromDom(t)},getFirstRect:function(e){var n=e.getClientRects(),r=n.length>0?n[0]:e.getBoundingClientRect();return r.width>0||r.height>0?t.some(r).map(a):t.none()},getBounds:function(e){var n=e.getBoundingClientRect();return n.width>0||n.height>0?t.some(n).map(a):t.none()},isWithin:function(e,t){return t.compareBoundaryPoints(e.END_TO_START,e)<1&&t.compareBoundaryPoints(e.START_TO_END,e)>-1},toString:function(e){return e.toString()}}}),o("ephox.sugar.selection.core.SelectionDirection",["ephox.katamari.api.Adt","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Thunk","ephox.sugar.api.node.Element","ephox.sugar.selection.core.NativeRange"],function(e,t,n,r,o,i){var a=e.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),c=function(e,t,n){return t(o.fromDom(n.startContainer),n.startOffset,o.fromDom(n.endContainer),n.endOffset)},s=function(e,s){return function(e,t){var n=t.ltr();if(n.collapsed)return t.rtl().filter(function(e){return!1===e.collapsed}).map(function(e){return a.rtl(o.fromDom(e.endContainer),e.endOffset,o.fromDom(e.startContainer),e.startOffset)}).getOrThunk(function(){return c(0,a.ltr,n)});return c(0,a.ltr,n)}(0,function(e,o){return o.match({domRange:function(e){return{ltr:t.constant(e),rtl:n.none}},relative:function(t,o){return{ltr:r.cached(function(){return i.relativeToNative(e,t,o)}),rtl:r.cached(function(){return n.some(i.relativeToNative(e,o,t))})}},exact:function(t,o,a,c){return{ltr:r.cached(function(){return i.exactToNative(e,t,o,a,c)}),rtl:r.cached(function(){return n.some(i.exactToNative(e,a,c,t,o))})}}})}(e,s))};return{ltr:a.ltr,rtl:a.rtl,diagnose:s,asLtrRange:function(e,t){return s(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom(),o),i.setEnd(t.dom(),n),i}})}}}),o("ephox.sugar.selection.alien.Geometry",["global!Math"],function(e){return{inRect:function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},searchForPoint:function(t,n,r,o,i){if(0===i)return 0;if(n===o)return i-1;for(var a=o,c=1;c<i;c++){var s=t(c),u=e.abs(n-s.left);if(r>s.bottom);else{if(r<s.top||u>a)return c-1;a=u}}return 0}}}),o("ephox.sugar.selection.query.TextPoint",["ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.node.Text","ephox.sugar.selection.alien.Geometry","global!Math"],function(e,t,n,r,o){return{locate:function(o,i,a,c){var s=o.dom().createRange();s.selectNode(i.dom());var u=s.getClientRects();return t.findMap(u,function(t){return r.inRect(t,a,c)?e.some(t):e.none()}).map(function(e){return function(e,t,o,i,a){var c=function(n){var r=e.dom().createRange();return r.setStart(t.dom(),n),r.collapse(!0),r},s=n.get(t).length,u=r.searchForPoint(function(e){return c(e).getBoundingClientRect()},o,i,a.right,s);return c(u)}(o,i,a,c,e)})}}}),o("ephox.sugar.selection.query.ContainerPoint",["ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.node.Node","ephox.sugar.api.search.Traverse","ephox.sugar.selection.alien.Geometry","ephox.sugar.selection.query.TextPoint","global!Math"],function(e,t,n,r,o,i,a){var c=function(n,i,a,c){var u=n.dom().createRange(),l=r.children(i);return t.findMap(l,function(t){return u.selectNode(t.dom()),o.inRect(u.getBoundingClientRect(),a,c)?s(n,t,a,c):e.none()})},s=function(e,t,r,o){return(n.isText(t)?i.locate:c)(e,t,r,o)};return{locate:function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),c=a.max(i.left,a.min(i.right,n)),u=a.max(i.top,a.min(i.bottom,r));return s(e,t,c,u)}}}),o("ephox.sugar.selection.query.EdgePoint",["ephox.katamari.api.Option","ephox.sugar.api.search.Traverse","ephox.sugar.api.selection.CursorPosition"],function(e,t,n){var r=function(e,t){return t-e.left<e.right-t},o=function(e,t,n){var r=e.dom().createRange();return r.selectNode(t.dom()),r.collapse(n),r},i=function(e,t,i){var a=e.dom().createRange();a.selectNode(t.dom());var c=a.getBoundingClientRect(),s=r(c,i);return(!0===s?n.first:n.last)(t).map(function(t){return o(e,t,s)})},a=function(t,n,i){var a=n.dom().getBoundingClientRect(),c=r(a,i);return e.some(o(t,n,c))};return{search:function(e,n,r){return(0===t.children(n).length?a:i)(e,n,r)}}}),o("ephox.sugar.selection.query.CaretRange",["ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.search.Traverse","ephox.sugar.api.selection.Selection","ephox.sugar.selection.query.ContainerPoint","ephox.sugar.selection.query.EdgePoint","global!document","global!Math"],function(e,t,n,r,o,i,a,c){var s=a.caretPositionFromPoint?function(t,n,r){return e.from(t.dom().caretPositionFromPoint(n,r)).bind(function(n){if(null===n.offsetNode)return e.none();var r=t.dom().createRange();return r.setStart(n.offsetNode,n.offset),r.collapse(),e.some(r)})}:a.caretRangeFromPoint?function(t,n,r){return e.from(t.dom().caretRangeFromPoint(n,r))}:function(e,r,a){return t.fromPoint(e,r,a).bind(function(t){var s=function(){return i.search(e,t,r)};return 0===n.children(t).length?s():function(e,t,n,r){var i=e.dom().createRange();i.selectNode(t.dom());var a=i.getBoundingClientRect(),s=c.max(a.left,c.min(a.right,n)),u=c.max(a.top,c.min(a.bottom,r));return o.locate(e,t,s,u)}(e,t,r,a).orThunk(s)})};return{fromPoint:function(e,n,o){var i=t.fromDom(e.document);return s(i,n,o).map(function(e){return r.range(t.fromDom(e.startContainer),e.startOffset,t.fromDom(e.endContainer),e.endOffset)})}}}),o("ephox.sugar.selection.query.Within",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.SelectorFilter","ephox.sugar.api.search.Selectors","ephox.sugar.selection.core.NativeRange","ephox.sugar.selection.core.SelectionDirection"],function(e,t,n,r,o,i,a){return{find:function(c,s,u){var l=a.asLtrRange(c,s),f=t.fromDom(l.commonAncestorContainer);return n.isElement(f)?function(t,n,a,c){var s=i.create(t),u=(o.is(n,c)?[n]:[]).concat(r.descendants(n,c));return e.filter(u,function(e){return i.selectNodeContentsUsing(s,e),i.isWithin(a,s)})}(c,f,l,u):[]}}}),o("ephox.sugar.selection.quirks.Prefilter",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.selection.Selection","ephox.sugar.api.selection.Situ"],function(e,t,n,r,o){var i=function(t,r){var i=n.name(t);return"input"===i?o.after(t):e.contains(["br","img"],i)?0===r?o.before(t):o.after(t):o.on(t,r)},a=function(e,t){var n=e.fold(o.before,i,o.after),a=t.fold(o.before,i,o.after);return r.relative(n,a)},c=function(e,t,n,o){var a=i(e,t),c=i(n,o);return r.relative(a,c)};return{beforeSpecial:i,preprocess:function(e){return e.match({domRange:function(e){var n=t.fromDom(e.startContainer),r=t.fromDom(e.endContainer);return c(n,e.startOffset,r,e.endOffset)},relative:a,exact:c})},preprocessRelative:a,preprocessExact:c}}),o("ephox.sugar.api.selection.WindowSelection",["ephox.katamari.api.Option","ephox.sugar.api.dom.DocumentPosition","ephox.sugar.api.node.Element","ephox.sugar.api.node.Fragment","ephox.sugar.api.search.Traverse","ephox.sugar.api.selection.Selection","ephox.sugar.selection.core.NativeRange","ephox.sugar.selection.core.SelectionDirection","ephox.sugar.selection.query.CaretRange","ephox.sugar.selection.query.Within","ephox.sugar.selection.quirks.Prefilter"],function(e,t,n,r,o,i,a,c,s,u,l){var f=function(t,n){e.from(t.getSelection()).each(function(e){e.removeAllRanges(),e.addRange(n)})},d=function(e,t,n,r,o){var i=a.exactToNative(e,t,n,r,o);f(e,i)},p=function(e,t){return c.diagnose(e,t).match({ltr:function(t,n,r,o){d(e,t,n,r,o)},rtl:function(t,n,r,o){var i=e.getSelection();i.extend?(i.collapse(t.dom(),n),i.extend(r.dom(),o)):d(e,r,o,t,n)}})},m=function(r){var o=n.fromDom(r.anchorNode),a=n.fromDom(r.focusNode);return t.after(o,r.anchorOffset,a,r.focusOffset)?e.some(i.range(n.fromDom(r.anchorNode),r.anchorOffset,n.fromDom(r.focusNode),r.focusOffset)):function(t){if(t.rangeCount>0){var r=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return e.some(i.range(n.fromDom(r.startContainer),r.startOffset,n.fromDom(o.endContainer),o.endOffset))}return e.none()}(r)},h=function(t){var n=t.getSelection();return n.rangeCount>0?m(n):e.none()};return{setExact:function(e,t,n,r,o){var i=l.preprocessExact(t,n,r,o);p(e,i)},getExact:h,get:function(e){return h(e).map(function(e){return i.exact(e.start(),e.soffset(),e.finish(),e.foffset())})},setRelative:function(e,t,n){var r=l.preprocessRelative(t,n);p(e,r)},toNative:function(e){var t=i.getWin(e).dom(),n=function(e,n,r,o){return a.exactToNative(t,e,n,r,o)},r=l.preprocess(e);return c.diagnose(t,r).match({ltr:n,rtl:n})},setToElement:function(e,t){var n=a.selectNodeContents(e,t);f(e,n)},clear:function(e){e.getSelection().removeAllRanges()},clone:function(e,t){var n=c.asLtrRange(e,t);return a.cloneFragment(n)},replace:function(e,t,n){var o=c.asLtrRange(e,t),i=r.fromElements(n,e.document);a.replaceWith(o,i)},deleteAt:function(e,t){var n=c.asLtrRange(e,t);a.deleteContents(n)},forElement:function(e,t){var r=a.selectNodeContents(e,t);return i.range(n.fromDom(r.startContainer),r.startOffset,n.fromDom(r.endContainer),r.endOffset)},getFirstRect:function(e,t){var n=c.asLtrRange(e,t);return a.getFirstRect(n)},getBounds:function(e,t){var n=c.asLtrRange(e,t);return a.getBounds(n)},getAtPoint:function(e,t,n){return s.fromPoint(e,t,n)},findWithin:function(e,t,n){return u.find(e,t,n)},getAsString:function(e,t){var n=c.asLtrRange(e,t);return a.toString(n)}}}),o("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.VK")}),o("tinymce.plugins.table.queries.TabContext",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.snooker.api.CellNavigation","ephox.snooker.api.TableLookup","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.SelectorFilter","ephox.sugar.api.search.SelectorFind","ephox.sugar.api.selection.CursorPosition","ephox.sugar.api.selection.Selection","ephox.sugar.api.selection.WindowSelection","tinymce.core.util.VK","tinymce.plugins.table.alien.Util","tinymce.plugins.table.queries.TableTargets"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m){var h=function(e,t,r,o){return y(e,t,n.next(r),o)},g=function(e,t,r,o){return y(e,t,n.prev(r),o)},v=function(e,t){var n=l.exact(t,0,t,0);return f.toNative(n)},y=function(n,o,i,a,l){return i.fold(t.none,t.none,function(e,t){return u.first(t).map(function(e){return v(0,e)})},function(t){return r.table(t,o).bind(function(r){var o=m.noMenu(t);return n.undoManager.transact(function(){a.insertRowsAfter(r,o)}),function(t,n){var r=c.descendants(n,"tr");return e.last(r).bind(function(e){return s.descendant(e,"td,th").map(function(e){return v(0,e)})})}(0,r)})})},b=["table","li","dl"];return{handle:function(t,n,c,s){if(t.keyCode===d.TAB){var u=p.getBody(n),l=function(t){var n=a.name(t);return o.eq(t,u)||e.contains(b,n)},f=n.selection.getRng();if(f.collapsed){var m=i.fromDom(f.startContainer);r.cell(m,l).each(function(e){t.preventDefault(),(t.shiftKey?g:h)(n,l,e,c,s).each(function(e){n.selection.setRng(e)})})}}}}}),o("ephox.darwin.api.Responses",["ephox.katamari.api.Struct"],function(e){return{response:e.immutable("selection","kill")}}),o("ephox.darwin.api.SelectionKeys",[],function(){var e=function(e){return function(t){return t===e}},t=e(38),n=e(40);return{ltr:{isBackward:e(37),isForward:e(39)},rtl:{isBackward:e(39),isForward:e(37)},isUp:t,isDown:n,isNavigation:function(e){return e>=37&&e<=40}}}),o("ephox.darwin.selection.Util",["ephox.katamari.api.Fun","ephox.sugar.api.node.Element","ephox.sugar.api.selection.Situ","ephox.sugar.selection.core.SelectionDirection"],function(e,t,n,r){return{convertToRange:function(n,o){var i=r.asLtrRange(n,o);return{start:e.constant(t.fromDom(i.startContainer)),soffset:e.constant(i.startOffset),finish:e.constant(t.fromDom(i.endContainer)),foffset:e.constant(i.endOffset)}},makeSitus:function(t,r,o,i){return{start:e.constant(n.on(t,r)),finish:e.constant(n.on(o,i))}}}}),o("ephox.darwin.api.WindowBridge",["ephox.darwin.selection.Util","ephox.katamari.api.Fun","ephox.katamari.api.Obj","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.selection.Selection","ephox.sugar.api.selection.Situ","ephox.sugar.api.selection.WindowSelection"],function(e,t,n,r,o,i,a,c){return function(s){return{elementFromPoint:function(e,t){return r.from(s.document.elementFromPoint(e,t)).map(o.fromDom)},getRect:function(e){return e.dom().getBoundingClientRect()},getRangedRect:function(e,r,o,a){var u=i.exact(e,r,o,a);return c.getFirstRect(s,u).map(function(e){return n.map(e,t.apply)})},getSelection:function(){return c.get(s).map(function(t){return e.convertToRange(s,t)})},fromSitus:function(t){var n=i.relative(t.start(),t.finish());return e.convertToRange(s,n)},situsFromPoint:function(e,n){return c.getAtPoint(s,e,n).map(function(e){return{start:t.constant(a.on(e.start(),e.soffset())),finish:t.constant(a.on(e.finish(),e.foffset()))}})},clearSelection:function(){c.clear(s)},setSelection:function(e){c.setExact(s,e.start(),e.soffset(),e.finish(),e.foffset())},setRelativeSelection:function(e,t){c.setRelative(s,e,t)},selectContents:function(e){c.setToElement(s,e)},getInnerHeight:function(){return s.innerHeight},getScrollY:function(){return s.scrollY},scrollBy:function(e,t){s.scrollBy(e,t)}}}}),o("ephox.darwin.keyboard.KeySelection",["ephox.darwin.api.Responses","ephox.darwin.selection.CellSelection","ephox.darwin.selection.Util","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.search.SelectorFind","ephox.sugar.api.selection.Awareness","ephox.sugar.api.selection.Selection","ephox.sugar.api.selection.Situ"],function(e,t,n,r,o,i,a,c,s,u){var l=function(r,a,s,u,l){if(!i.eq(s,u)){var f=t.identify(s,u,a).getOr([]);if(f.length>0)return l(r,f,s,u),o.some(e.response(o.some(n.makeSitus(s,0,s,c.getEnd(s))),!0))}return o.none()};return{sync:function(e,t,n,r,c,s,u){return i.eq(n,c)&&r===s?o.none():a.closest(n,"td,th",t).bind(function(n){return a.closest(c,"td,th",t).bind(function(r){return l(e,t,n,r,u)})})},detect:l,update:function(e,n,r,o,i){return t.shiftSelection(o,e,n,i.firstSelectedSelector(),i.lastSelectedSelector()).map(function(e){return i.clear(r),i.selectRange(r,e.boxes(),e.start(),e.finish()),e.boxes()})}}}),o("ephox.darwin.keyboard.Carets",["ephox.katamari.api.Struct"],function(e){var t=e.immutableBag(["left","top","right","bottom"],[]);return{nu:t,moveUp:function(e,n){return t({left:e.left(),top:e.top()-n,right:e.right(),bottom:e.bottom()-n})},moveDown:function(e,n){return t({left:e.left(),top:e.top()+n,right:e.right(),bottom:e.bottom()+n})},moveBottomTo:function(e,n){var r=e.bottom()-e.top();return t({left:e.left(),top:n-r,right:e.right(),bottom:n})},moveTopTo:function(e,n){var r=e.bottom()-e.top();return t({left:e.left(),top:n,right:e.right(),bottom:n+r})},getTop:function(e){return e.top()},getBottom:function(e){return e.bottom()},translate:function(e,n,r){return t({left:e.left()+n,top:e.top()+r,right:e.right()+n,bottom:e.bottom()+r})},toString:function(e){return"("+e.left()+", "+e.top()+") -> ("+e.right()+", "+e.bottom()+")"}}}),o("ephox.darwin.keyboard.Rectangles",["ephox.darwin.keyboard.Carets","ephox.katamari.api.Option","ephox.sugar.api.node.Node","ephox.sugar.api.selection.Awareness"],function(e,t,n,r){var o=function(t){return e.nu({left:t.left,top:t.top,right:t.right,bottom:t.bottom})},i=function(e,n){return t.some(e.getRect(n))};return{getBoxAt:function(e,a,c){return n.isElement(a)?i(e,a).map(o):n.isText(a)?function(e,n,o){return o>=0&&o<r.getEnd(n)?e.getRangedRect(n,o,n,o+1):o>0?e.getRangedRect(n,o-1,n,o):t.none()}(e,a,c).map(o):t.none()},getEntireBox:function(e,a){return n.isElement(a)?i(e,a).map(o):n.isText(a)?e.getRangedRect(a,0,a,r.getEnd(a)).map(o):t.none()}}}),o("ephox.phoenix.gather.Walker",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.katamari.api.Struct"],function(e,t,n){var r=n.immutable("item","mode"),o=function(e,t,n,o){var a=void 0!==o?o:i;return e.property().parent(t).map(function(e){return r(e,a)})},i=function(e,t,n,o){var i=void 0!==o?o:a;return n.sibling(e,t).map(function(e){return r(e,i)})},a=function(e,t,n,o){var i=void 0!==o?o:a,c=e.property().children(t);return n.first(c).map(function(e){return r(e,i)})},c=[{current:o,next:i,fallback:t.none()},{current:i,next:a,fallback:t.some(o)},{current:a,next:a,fallback:t.some(i)}],s=function(t,n,r,o,i){var a=void 0!==i?i:c;return e.find(a,function(e){return e.current===r}).bind(function(e){return e.current(t,n,o,e.next).orThunk(function(){return e.fallback.bind(function(e){return s(t,n,e,o)})})})};return{backtrack:o,sidestep:i,advance:a,go:s}}),o("ephox.phoenix.gather.Walkers",["ephox.katamari.api.Option"],function(e){return{left:function(){return{sibling:function(e,t){return e.query().prevSibling(t)},first:function(t){return t.length>0?e.some(t[t.length-1]):e.none()}}},right:function(){return{sibling:function(e,t){return e.query().nextSibling(t)},first:function(t){return t.length>0?e.some(t[0]):e.none()}}}}}),o("ephox.phoenix.gather.Seeker",["ephox.katamari.api.Option","ephox.phoenix.gather.Walker","ephox.phoenix.gather.Walkers"],function(e,t,n){var r=function(n,o,i,a,c,s){return t.go(n,o,a,c).bind(function(t){return s(t.item())?e.none():i(t.item())?e.some(t.item()):r(n,t.item(),i,t.mode(),c,s)})};return{left:function(e,o,i,a){return r(e,o,i,t.sidestep,n.left(),a)},right:function(e,o,i,a){return r(e,o,i,t.sidestep,n.right(),a)}}}),o("ephox.phoenix.api.general.Gather",["ephox.katamari.api.Fun","ephox.phoenix.gather.Seeker","ephox.phoenix.gather.Walker","ephox.phoenix.gather.Walkers"],function(e,t,n,r){var o=function(e,t){return 0===e.property().children(t).length},i=function(e,n,r,o){return t.left(e,n,r,o)},a=function(e,n,r,o){return t.right(e,n,r,o)};return{before:function(t,n,r){return i(t,n,e.curry(o,t),r)},after:function(t,n,r){return a(t,n,e.curry(o,t),r)},seekLeft:i,seekRight:a,walkers:function(){return{left:r.left,right:r.right}},walk:function(e,t,r,o,i){return n.go(e,t,r,o,i)},backtrack:n.backtrack,sidestep:n.sidestep,advance:n.advance}}),o("ephox.phoenix.api.dom.DomGather",["ephox.boss.api.DomUniverse","ephox.phoenix.api.general.Gather"],function(e,t){var n=e();return{gather:function(e,r,o){return t.gather(n,e,r,o)},before:function(e,r){return t.before(n,e,r)},after:function(e,r){return t.after(n,e,r)},seekLeft:function(e,r,o){return t.seekLeft(n,e,r,o)},seekRight:function(e,r,o){return t.seekRight(n,e,r,o)},walkers:function(){return t.walkers()},walk:function(e,r,o,i){return t.walk(n,e,r,o,i)}}}),o("ephox.darwin.keyboard.Retries",["ephox.darwin.keyboard.Carets","ephox.darwin.keyboard.Rectangles","ephox.katamari.api.Adt","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.phoenix.api.dom.DomGather","ephox.robin.api.dom.DomStructure","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind","global!Math"],function(e,t,n,r,o,i,a,c,s,u){var l=n.generate([{none:[]},{retry:["caret"]}]),f=function(e,n,o){return s.closest(n,a.isBlock).fold(r.constant(!1),function(n){return t.getEntireBox(e,n).exists(function(e){return function(e,t){return e.left()<t.left()||u.abs(t.right()-e.left())<1||e.left()>t.right()}(o,e)})})},d={point:e.getTop,adjuster:function(t,n,r,o,i){var a=e.moveUp(i,5);return u.abs(r.top()-o.top())<1?l.retry(a):r.bottom()<i.top()?l.retry(a):r.bottom()===i.top()?l.retry(e.moveUp(i,1)):f(t,n,i)?l.retry(e.translate(a,5,0)):l.none()},move:e.moveUp,gather:i.before},p={point:e.getBottom,adjuster:function(t,n,r,o,i){var a=e.moveDown(i,5);return u.abs(r.bottom()-o.bottom())<1?l.retry(a):r.top()>i.bottom()?l.retry(a):r.top()===i.bottom()?l.retry(e.moveDown(i,1)):f(t,n,i)?l.retry(e.translate(a,5,0)):l.none()},move:e.moveDown,gather:i.after},m=function(e,n,r,i,a){return 0===a?o.some(i):function(e,t,n){return e.elementFromPoint(t,n).filter(function(e){return"table"===c.name(e)}).isSome()}(e,i.left(),n.point(i))?function(e,t,n,r,o){return m(e,t,n,t.move(r,5),o)}(e,n,r,i,a-1):e.situsFromPoint(i.left(),n.point(i)).bind(function(c){return c.start().fold(o.none,function(c,s){return t.getEntireBox(e,c,s).bind(function(t){return n.adjuster(e,c,t,r,i).fold(o.none,function(t){return m(e,n,r,t,a-1)})}).orThunk(function(){return o.some(i)})},o.none)})},h=function(e,t,n){var r=e.move(n,5),i=m(t,e,n,r,100).getOr(r);return function(e,t,n){return e.point(t)>n.getInnerHeight()?o.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?o.some(-e.point(t)):o.none()}(e,i,t).fold(function(){return t.situsFromPoint(i.left(),e.point(i))},function(n){return t.scrollBy(0,n),t.situsFromPoint(i.left(),e.point(i)-n)})};return{tryUp:r.curry(h,d),tryDown:r.curry(h,p),ieTryUp:function(e,t){return e.situsFromPoint(t.left(),t.top()-5)},ieTryDown:function(e,t){return e.situsFromPoint(t.left(),t.bottom()+5)},getJumpSize:r.constant(5)}}),o("ephox.darwin.navigation.BeforeAfter",["ephox.katamari.api.Adt","ephox.robin.api.dom.DomParent","ephox.sugar.api.dom.Compare","ephox.sugar.api.search.SelectorFind","ephox.sugar.api.selection.Awareness"],function(e,t,n,r,o){var i=e.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),a=function(e){return r.closest(e,"tr")};return{verify:function(e,c,s,u,l,f,d){return r.closest(u,"td,th",d).bind(function(s){return r.closest(c,"td,th",d).map(function(r){return n.eq(s,r)?n.eq(u,s)&&o.getEnd(s)===l?f(r):i.none("in same cell"):t.sharedOne(a,[s,r]).fold(function(){return function(e,t,n){var r=e.getRect(t),o=e.getRect(n);return o.right>r.left&&o.left<r.right}(e,r,s)?i.success():f(r)},function(e){return f(r)})})}).getOr(i.none("default"))},cata:function(e,t,n,r,o){return e.fold(t,n,r,o)},adt:i}}),o("ephox.phoenix.api.data.Spot",["ephox.katamari.api.Struct"],function(e){return{point:e.immutable("element","offset"),delta:e.immutable("element","deltaOffset"),range:e.immutable("element","start","finish"),points:e.immutable("begin","end"),text:e.immutable("element","text")}}),o("ephox.sugar.api.search.ElementAddress",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Struct","ephox.sugar.api.dom.Compare","ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.SelectorFilter","ephox.sugar.api.search.SelectorFind","ephox.sugar.api.search.Traverse"],function(e,t,n,r,o,i,a,c,s){var u=r.immutable("ancestor","descendants","element","index"),l=r.immutable("parent","children","element","index"),f=function(n,r){return e.findIndex(n,t.curry(o.eq,r))};return{childOf:function(e,t){return i.closest(e,function(e){return s.parent(e).exists(function(e){return o.eq(e,t)})})},indexOf:f,indexInParent:function(e){return s.parent(e).bind(function(t){var n=s.children(t);return f(n,e).map(function(r){return l(t,n,e,r)})})},selectorsInParent:function(e,t){return s.parent(e).bind(function(n){var r=a.children(n,t);return f(r,e).map(function(t){return l(n,r,e,t)})})},descendantsInAncestor:function(e,t,n){return c.closest(e,t).bind(function(t){var r=a.descendants(t,n);return f(r,e).map(function(n){return u(t,r,e,n)})})}}}),o("ephox.darwin.navigation.BrTags",["ephox.darwin.navigation.BeforeAfter","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.phoenix.api.data.Spot","ephox.sugar.api.node.Node","ephox.sugar.api.node.Text","ephox.sugar.api.search.ElementAddress","ephox.sugar.api.search.Traverse","ephox.sugar.api.selection.Awareness","ephox.sugar.api.selection.Situ"],function(e,t,n,r,o,i,a,c,s,u){var l=function(e){return"br"===o.name(e)},f=function(e,t,r){return t(e,r).bind(function(e){return o.isText(e)&&0===i.get(e).trim().length?f(e,t,r):n.some(e)})},d=function(e,t,n,r){return function(e,t){return c.child(e,t).filter(l).orThunk(function(){return c.child(e,t-1).filter(l)})}(t,n).bind(function(t){return r.traverse(t).fold(function(){return f(t,r.gather,e).map(r.relative)},function(e){return a.indexInParent(e).map(function(e){return u.on(e.parent(),e.index())})})})};return{tryBr:function(e,n,r,o){return(l(n)?function(e,t,n){return n.traverse(t).orThunk(function(){return f(t,n.gather,e)}).map(n.relative)}(e,n,o):d(e,n,r,o)).map(function(e){return{start:t.constant(e),finish:t.constant(e)}})},process:function(t){return e.cata(t,function(e){return n.none("BR ADT: none")},function(){return n.none()},function(e){return n.some(r.point(e,0))},function(e){return n.some(r.point(e,s.getEnd(e)))})}}}),o("ephox.darwin.keyboard.TableKeys",["ephox.darwin.keyboard.Carets","ephox.darwin.keyboard.Rectangles","ephox.darwin.keyboard.Retries","ephox.darwin.navigation.BeforeAfter","ephox.darwin.navigation.BrTags","ephox.katamari.api.Option","ephox.phoenix.api.data.Spot","ephox.sand.api.PlatformDetection","ephox.sugar.api.dom.Compare","ephox.sugar.api.selection.Awareness"],function(e,t,n,r,o,i,a,c,s,u){var l=c.detect(),f=function(t,n,o,a,c,l){return 0===l?i.none():m(t,n,o,a,c).bind(function(p){var m=t.fromSitus(p),h=r.verify(t,o,a,m.finish(),m.foffset(),c.failure,n);return r.cata(h,function(){return i.none()},function(){return i.some(p)},function(r){return s.eq(o,r)&&0===a?d(t,o,a,e.moveUp,c):f(t,n,r,0,c,l-1)},function(r){return s.eq(o,r)&&a===u.getEnd(r)?d(t,o,a,e.moveDown,c):f(t,n,r,u.getEnd(r),c,l-1)})})},d=function(e,r,o,i,a){return t.getBoxAt(e,r,o).bind(function(t){return p(e,a,i(t,n.getJumpSize()))})},p=function(e,t,n){return l.browser.isChrome()||l.browser.isSafari()||l.browser.isFirefox()||l.browser.isEdge()?t.otherRetry(e,n):l.browser.isIE()?t.ieRetry(e,n):i.none()},m=function(e,n,r,o,i){return t.getBoxAt(e,r,o).bind(function(t){return p(e,i,t)})};return{handle:function(e,t,n){return function(e,t,n){return e.getSelection().bind(function(c){return o.tryBr(t,c.finish(),c.foffset(),n).fold(function(){return i.some(a.point(c.finish(),c.foffset()))},function(i){var a=e.fromSitus(i),s=r.verify(e,c.finish(),c.foffset(),a.finish(),a.foffset(),n.failure,t);return o.process(s)})})}(e,t,n).bind(function(r){return f(e,t,r.element(),r.offset(),n,20).map(e.fromSitus)})}}}),o("ephox.sugar.api.search.PredicateExists",["ephox.sugar.api.search.PredicateFind"],function(e){return{any:function(t){return e.first(t).isSome()},ancestor:function(t,n,r){return e.ancestor(t,n,r).isSome()},closest:function(t,n,r){return e.closest(t,n,r).isSome()},sibling:function(t,n){return e.sibling(t,n).isSome()},child:function(t,n){return e.child(t,n).isSome()},descendant:function(t,n){return e.descendant(t,n).isSome()}}}),o("ephox.darwin.keyboard.VerticalMovement",["ephox.darwin.api.Responses","ephox.darwin.keyboard.KeySelection","ephox.darwin.keyboard.TableKeys","ephox.darwin.selection.Util","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sand.api.PlatformDetection","ephox.sugar.api.dom.Compare","ephox.sugar.api.search.PredicateExists","ephox.sugar.api.search.SelectorFilter","ephox.sugar.api.search.SelectorFind","ephox.sugar.api.search.Traverse","ephox.sugar.api.selection.Awareness","ephox.sugar.api.selection.CursorPosition"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m){var h=c.detect(),g=function(e,t,r,o,c){return f.closest(o,"td,th",t).bind(function(o){return f.closest(o,"table",t).bind(function(l){return function(e,t){return u.ancestor(e,function(e){return d.parent(e).exists(function(e){return s.eq(e,t)})})}(c,l)?n.handle(e,t,r).bind(function(e){return f.closest(e.finish(),"td,th",t).map(function(t){return{start:i.constant(o),finish:i.constant(t),range:i.constant(e)}})}):a.none()})})};return{navigate:function(t,n,o,i,c,s){return h.browser.isIE()?a.none():s(i,n).orThunk(function(){return g(t,n,o,i,c).map(function(t){var n=t.range();return e.response(a.some(r.makeSitus(n.start(),n.soffset(),n.finish(),n.foffset())),!0)})})},select:function(e,n,r,o,i,a,c){return g(e,r,o,i,a).bind(function(e){return t.detect(n,r,e.start(),e.finish(),c)})},firstUpCheck:function(t,n){return f.closest(t,"tr",n).bind(function(t){return f.closest(t,"table",n).bind(function(n){var o=l.descendants(n,"tr");return s.eq(t,o[0])?d.prevSibling(n).bind(m.last).map(function(t){var n=p.getEnd(t);return e.response(a.some(r.makeSitus(t,n,t,n)),!0)}):a.none()})})},lastDownCheck:function(t,n){return f.closest(t,"tr",n).bind(function(t){return f.closest(t,"table",n).bind(function(n){var o=l.descendants(n,"tr");return s.eq(t,o[o.length-1])?d.nextSibling(n).bind(m.first).map(function(t){return e.response(a.some(r.makeSitus(t,0,t,0)),!0)}):a.none()})})}}}),o("ephox.darwin.mouse.MouseSelection",["ephox.darwin.selection.CellSelection","ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.search.SelectorFind"],function(e,t,n,r){var o=function(e,t){return r.closest(e,"td,th",t)};return function(r,i,a,c){var s=t.none(),u=function(){s=t.none()};return{mousedown:function(e){c.clear(i),s=o(e.target(),a)},mouseover:function(t){s.each(function(s){c.clear(i),o(t.target(),a).each(function(t){var o=e.identify(s,t,a).getOr([]);(o.length>1||1===o.length&&!n.eq(s,t))&&(c.selectRange(i,o,s,t),r.selectContents(t))})})},mouseup:function(){s.each(u)}}}}),o("ephox.darwin.navigation.KeyDirection",["ephox.darwin.keyboard.Retries","ephox.darwin.navigation.BeforeAfter","ephox.phoenix.api.dom.DomGather","ephox.sugar.api.search.Traverse","ephox.sugar.api.selection.Situ"],function(e,t,n,r,o){return{down:{traverse:r.nextSibling,gather:n.after,relative:o.before,otherRetry:e.tryDown,ieRetry:e.ieTryDown,failure:t.adt.failedDown},up:{traverse:r.prevSibling,gather:n.before,relative:o.before,otherRetry:e.tryUp,ieRetry:e.ieTryUp,failure:t.adt.failedUp}}}),o("ephox.darwin.api.InputHandlers",["ephox.darwin.api.Responses","ephox.darwin.api.SelectionKeys","ephox.darwin.api.WindowBridge","ephox.darwin.keyboard.KeySelection","ephox.darwin.keyboard.VerticalMovement","ephox.darwin.mouse.MouseSelection","ephox.darwin.navigation.KeyDirection","ephox.darwin.selection.CellSelection","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.katamari.api.Struct","ephox.sugar.api.selection.Situ"],function(e,t,n,r,o,i,a,c,s,u,l,f,d){var p=f.immutable("rows","cols");return{mouse:function(e,t,r,o){var a=n(e),c=i(a,t,r,o);return{mousedown:c.mousedown,mouseover:c.mouseover,mouseup:c.mouseup}},keyboard:function(i,f,m,h){var g=n(i),v=function(){return h.clear(f),u.none()};return{keydown:function(n,i,y,b,x,w){var C=n.raw().which,k=!0===n.raw().shiftKey;return c.retrieve(f,h.selectedSelector()).fold(function(){return t.isDown(C)&&k?s.curry(o.select,g,f,m,a.down,b,i,h.selectRange):t.isUp(C)&&k?s.curry(o.select,g,f,m,a.up,b,i,h.selectRange):t.isDown(C)?s.curry(o.navigate,g,m,a.down,b,i,o.lastDownCheck):t.isUp(C)?s.curry(o.navigate,g,m,a.up,b,i,o.firstUpCheck):u.none},function(n){var o=function(o){return function(){return l.findMap(o,function(e){return r.update(e.rows(),e.cols(),f,n,h)}).fold(function(){return c.getEdges(f,h.firstSelectedSelector(),h.lastSelectedSelector()).map(function(n){var r=t.isDown(C)||w.isForward(C)?d.after:d.before;return g.setRelativeSelection(d.on(n.first(),0),r(n.table())),h.clear(f),e.response(u.none(),!0)})},function(t){return u.some(e.response(u.none(),!0))})}};return t.isDown(C)&&k?o([p(1,0)]):t.isUp(C)&&k?o([p(-1,0)]):w.isBackward(C)&&k?o([p(0,-1),p(-1,0)]):w.isForward(C)&&k?o([p(0,1),p(1,0)]):t.isNavigation(C)&&!1===k?v:u.none})()},keyup:function(e,n,o,i,a){return c.retrieve(f,h.selectedSelector()).fold(function(){var c=e.raw().which;return 0==(!0===e.raw().shiftKey)?u.none():t.isNavigation(c)?r.sync(f,m,n,o,i,a,h.selectRange):u.none()},u.none)}}}}}),o("ephox.sugar.api.properties.Classes",["ephox.katamari.api.Arr","ephox.sugar.api.properties.Class","ephox.sugar.impl.ClassList","global!Array"],function(e,t,n,r){return{add:function(n,r){e.each(r,function(e){t.add(n,e)})},remove:function(n,r){e.each(r,function(e){t.remove(n,e)})},toggle:function(n,r){e.each(r,function(e){t.toggle(n,e)})},hasAll:function(n,r){return e.forall(r,function(e){return t.has(n,e)})},hasAny:function(n,r){return e.exists(r,function(e){return t.has(n,e)})},get:function(e){return n.supports(e)?function(e){for(var t=e.dom().classList,n=new r(t.length),o=0;o<t.length;o++)n[o]=t.item(o);return n}(e):n.get(e)}}}),o("ephox.sugar.api.properties.OnNode",["ephox.sugar.api.properties.Class","ephox.sugar.api.properties.Classes"],function(e,t){return{addClass:function(t){return function(n){e.add(n,t)}},removeClass:function(t){return function(n){e.remove(n,t)}},removeClasses:function(e){return function(n){t.remove(n,e)}},hasClass:function(t){return function(n){return e.has(n,t)}}}}),o("ephox.darwin.api.SelectionAnnotation",["ephox.katamari.api.Arr","ephox.sugar.api.properties.Attr","ephox.sugar.api.properties.Class","ephox.sugar.api.properties.OnNode","ephox.sugar.api.search.SelectorFilter"],function(e,t,n,r,o){return{byClass:function(t){var i=r.addClass(t.selected()),a=r.removeClasses([t.selected(),t.lastSelected(),t.firstSelected()]),c=function(n){var r=o.descendants(n,t.selectedSelector());e.each(r,a)};return{clear:c,selectRange:function(r,o,a,s){c(r),e.each(o,i),n.add(a,t.firstSelected()),n.add(s,t.lastSelected())},selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}},byAttr:function(n){var r=function(e){t.remove(e,n.selected()),t.remove(e,n.firstSelected()),t.remove(e,n.lastSelected())},i=function(e){t.set(e,n.selected(),"1")},a=function(t){var i=o.descendants(t,n.selectedSelector());e.each(i,r)};return{clear:a,selectRange:function(r,o,c,s){a(r),e.each(o,i),t.set(c,n.firstSelected(),"1"),t.set(s,n.lastSelected(),"1")},selectedSelector:n.selectedSelector,firstSelectedSelector:n.firstSelectedSelector,lastSelectedSelector:n.lastSelectedSelector}}}}),o("tinymce.plugins.table.selection.CellSelection",["ephox.darwin.api.InputHandlers","ephox.darwin.api.SelectionAnnotation","ephox.darwin.api.SelectionKeys","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Struct","ephox.snooker.api.TableLookup","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.node.Text","ephox.sugar.api.properties.Attr","ephox.sugar.api.search.Traverse","ephox.sugar.api.selection.Selection","ephox.sugar.selection.core.SelectionDirection","tinymce.plugins.table.alien.Util","tinymce.plugins.table.queries.Direction","tinymce.plugins.table.selection.Ephemera"],function(e,t,n,r,o,i,a,c,s,u,l,f,d,p,m,h,g,v){return function(y,b){var x=i.immutableBag(["mousedown","mouseover","mouseup","keyup","keydown"],[]),w=o.none(),C=t.byAttr(v);y.on("init",function(t){var i=y.getWin(),v=h.getBody(y),k=h.getIsRoot(y),T=e.mouse(i,v,k,C),_=e.keyboard(i,v,k,C),S=function(e,t){t.kill()&&e.kill(),t.selection().each(function(e){var t=p.relative(e.start(),e.finish()),n=m.asLtrRange(i,t);y.selection.setRng(n)})},E=function(e){var t=D(e);if(t.raw().shiftKey&&n.isNavigation(t.raw().which)){var r=y.selection.getRng(),o=s.fromDom(r.startContainer),i=s.fromDom(r.endContainer);_.keyup(t,o,r.startOffset,i,r.endOffset).each(function(e){S(t,e)})}},A=function(e){return!(f.has(e,"data-mce-bogus")||"br"===u.name(e)||u.isText(e)&&0===l.get(e).length)},N=function(e){var t=D(e);b().each(function(e){e.hideBars()}),40===e.which&&function(){var e=s.fromDom(y.getBody()),t=function(e){return d.prevSibling(e).bind(function(e){return A(e)?o.some(e):t(e)})};return d.lastChild(e).bind(function(e){return A(e)?o.some(e):t(e)})}().each(function(e){"table"===u.name(e)&&(y.settings.forced_root_block?y.dom.add(y.getBody(),y.settings.forced_root_block,y.settings.forced_root_block_attrs,"<br/>"):y.dom.add(y.getBody(),"br"))});var r=y.selection.getRng(),i=s.fromDom(y.selection.getStart()),a=s.fromDom(r.startContainer),c=s.fromDom(r.endContainer),l=g.directionAt(i).isRtl()?n.rtl:n.ltr;_.keydown(t,a,r.startOffset,c,r.endOffset,l).each(function(e){S(t,e)}),b().each(function(e){e.showBars()})},D=function(e){var t=s.fromDom(e.target),n=function(){e.stopPropagation()},o=function(){e.preventDefault()},i=r.compose(o,n);return{target:r.constant(t),x:r.constant(e.x),y:r.constant(e.y),stop:n,prevent:o,kill:i,raw:r.constant(e)}},R=function(e){return 0===e.button},P=function(e){R(e)&&T.mousedown(D(e))},O=function(e){(function(e){return void 0===e.buttons||0!=(1&e.buttons)})(e)&&T.mouseover(D(e))},B=function(e){R&&T.mouseup(D(e))};y.on("mousedown",P),y.on("mouseover",O),y.on("mouseup",B),y.on("keyup",E),y.on("keydown",N),y.on("nodechange",function(){var e=y.selection,t=s.fromDom(e.getStart()),n=s.fromDom(e.getEnd()),i=a.table(t),u=a.table(n);i.bind(function(e){return u.bind(function(t){return c.eq(e,t)?o.some(!0):o.none()})}).fold(function(){C.clear(v)},r.noop)}),w=o.some(x({mousedown:P,mouseover:O,mouseup:B,keyup:E,keydown:N}))});return{clear:C.clear,destroy:function(){w.each(function(e){})}}}}),o("tinymce.plugins.table.selection.Selections",["ephox.darwin.api.TableSelection","tinymce.plugins.table.alien.Util","tinymce.plugins.table.selection.Ephemera","tinymce.plugins.table.selection.SelectionTypes"],function(e,t,n,r){return function(o){return{get:function(){var i=t.getBody(o);return e.retrieve(i,n.selectedSelector()).fold(function(){return void 0===o.selection.getStart()?r.none():r.single(o.selection)},function(e){return r.multiple(e)})}}}}),o("tinymce.plugins.table.ui.Buttons",["ephox.katamari.api.Fun","tinymce.core.util.Tools","tinymce.plugins.table.ui.TableDialog"],function(e,t,n){var r=t.each;return{addButtons:function(t){function o(e){return function(){t.execCommand(e)}}var i=[];r("inserttable tableprops deletetable | cell row column".split(" "),function(e){"|"==e?i.push({text:"-"}):i.push(t.menuItems[e])}),t.addButton("table",{type:"menubutton",title:"Table",menu:i}),t.addButton("tableprops",{title:"Table properties",onclick:e.curry(n.open,t,!0),icon:"table"}),t.addButton("tabledelete",{title:"Delete table",onclick:o("mceTableDelete")}),t.addButton("tablecellprops",{title:"Cell properties",onclick:o("mceTableCellProps")}),t.addButton("tablemergecells",{title:"Merge cells",onclick:o("mceTableMergeCells")}),t.addButton("tablesplitcells",{title:"Split cell",onclick:o("mceTableSplitCells")}),t.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:o("mceTableInsertRowBefore")}),t.addButton("tableinsertrowafter",{title:"Insert row after",onclick:o("mceTableInsertRowAfter")}),t.addButton("tabledeleterow",{title:"Delete row",onclick:o("mceTableDeleteRow")}),t.addButton("tablerowprops",{title:"Row properties",onclick:o("mceTableRowProps")}),t.addButton("tablecutrow",{title:"Cut row",onclick:o("mceTableCutRow")}),t.addButton("tablecopyrow",{title:"Copy row",onclick:o("mceTableCopyRow")}),t.addButton("tablepasterowbefore",{title:"Paste row before",onclick:o("mceTablePasteRowBefore")}),t.addButton("tablepasterowafter",{title:"Paste row after",onclick:o("mceTablePasteRowAfter")}),t.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:o("mceTableInsertColBefore")}),t.addButton("tableinsertcolafter",{title:"Insert column after",onclick:o("mceTableInsertColAfter")}),t.addButton("tabledeletecol",{title:"Delete column",onclick:o("mceTableDeleteCol")})},addToolbars:function(e){var t=e.settings.table_toolbar;""!==t&&!1!==t&&(t||(t="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),e.addContextToolbar(function(t){return e.dom.is(t,"table")&&e.getBody().contains(t)},t))}}}),o("tinymce.plugins.table.ui.MenuItems",["ephox.katamari.api.Fun","ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.snooker.api.TableLookup","ephox.sugar.api.node.Element","tinymce.plugins.table.actions.InsertTable","tinymce.plugins.table.queries.TableTargets","tinymce.plugins.table.ui.TableDialog"],function(e,t,n,r,o,i,a,c){return{addMenuItems:function(s,u){function l(e){return function(){s.execCommand(e)}}var f=n.none(),d=[],p=[],m=[],h=[],g=function(e){e.disabled(!0)},v=function(e){e.disabled(!1)},y=function(){var e=this;d.push(e),f.fold(function(){g(e)},function(t){v(e)})},b=function(){var e=this;p.push(e),f.fold(function(){g(e)},function(t){v(e)})};s.on("init",function(){s.on("nodechange",function(e){var i=n.from(s.dom.getParent(s.selection.getStart(),"th,td"));(f=i.bind(function(e){var t=o.fromDom(e);return r.table(t).map(function(e){return a.forMenu(u,e,t)})})).fold(function(){t.each(d,g),t.each(p,g),t.each(m,g),t.each(h,g)},function(e){t.each(d,v),t.each(p,v),t.each(m,function(t){t.disabled(e.mergable().isNone())}),t.each(h,function(t){t.disabled(e.unmergable().isNone())})})})});var x=function(e,t,n,r){var o,i,a,c,s,u=r.getEl().getElementsByTagName("table")[0],l=r.isRtl()||"tl-tr"==r.parent().rel;for(u.nextSibling.innerHTML=t+1+" x "+(n+1),l&&(t=9-t),i=0;i<10;i++)for(o=0;o<10;o++)c=u.rows[i].childNodes[o].firstChild,s=(l?o>=t:o<=t)&&i<=n,e.dom.toggleClass(c,"mce-active",s),s&&(a=c);return a.parentNode},w=!1===s.settings.table_grid?{text:"Table",icon:"table",context:"table",onclick:e.curry(c.open,s)}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),c.open(s))},onshow:function(){x(s,0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName("a");s.dom.removeClass(e,"mce-active"),s.dom.addClass(e[0],"mce-active")},menu:[{type:"container",html:function(){var e="";e='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var t=0;t<10;t++){e+="<tr>";for(var n=0;n<10;n++)e+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*t+n)+'" href="#" data-mce-x="'+n+'" data-mce-y="'+t+'"></a></td>';e+="</tr>"}return e+="</table>",e+='<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var t,n,r=e.target;"A"==r.tagName.toUpperCase()&&(t=parseInt(r.getAttribute("data-mce-x"),10),n=parseInt(r.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(t=9-t),t===this.lastX&&n===this.lastY||(x(s,t,n,e.control),this.lastX=t,this.lastY=n))},onclick:function(e){var t=this;"A"==e.target.tagName.toUpperCase()&&(e.preventDefault(),e.stopPropagation(),t.parent().cancel(),s.undoManager.transact(function(){i.insert(s,t.lastX+1,t.lastY+1)}),s.addVisual())}}]},C={text:"Table properties",context:"table",onPostRender:y,onclick:e.curry(c.open,s,!0)},k={text:"Delete table",context:"table",onPostRender:y,cmd:"mceTableDelete"},T={text:"Row",context:"table",menu:[{text:"Insert row before",onclick:l("mceTableInsertRowBefore"),onPostRender:b},{text:"Insert row after",onclick:l("mceTableInsertRowAfter"),onPostRender:b},{text:"Delete row",onclick:l("mceTableDeleteRow"),onPostRender:b},{text:"Row properties",onclick:l("mceTableRowProps"),onPostRender:b},{text:"-"},{text:"Cut row",onclick:l("mceTableCutRow"),onPostRender:b},{text:"Copy row",onclick:l("mceTableCopyRow"),onPostRender:b},{text:"Paste row before",onclick:l("mceTablePasteRowBefore"),onPostRender:b},{text:"Paste row after",onclick:l("mceTablePasteRowAfter"),onPostRender:b}]},_={text:"Column",context:"table",menu:[{text:"Insert column before",onclick:l("mceTableInsertColBefore"),onPostRender:b},{text:"Insert column after",onclick:l("mceTableInsertColAfter"),onPostRender:b},{text:"Delete column",onclick:l("mceTableDeleteCol"),onPostRender:b}]},S={separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:l("mceTableCellProps"),onPostRender:b},{text:"Merge cells",onclick:l("mceTableMergeCells"),onPostRender:function(){var e=this;m.push(e),f.fold(function(){g(e)},function(t){e.disabled(t.mergable().isNone())})}},{text:"Split cell",onclick:l("mceTableSplitCells"),onPostRender:function(){var e=this;h.push(e),f.fold(function(){g(e)},function(t){e.disabled(t.unmergable().isNone())})}}]};s.addMenuItem("inserttable",w),s.addMenuItem("tableprops",C),s.addMenuItem("deletetable",k),s.addMenuItem("row",T),s.addMenuItem("column",_),s.addMenuItem("cell",S)}}}),o("tinymce.plugins.table.Plugin",["tinymce.core.PluginManager","tinymce.plugins.table.actions.Clipboard","tinymce.plugins.table.actions.InsertTable","tinymce.plugins.table.actions.TableActions","tinymce.plugins.table.actions.TableCommands","tinymce.plugins.table.actions.ResizeHandler","tinymce.plugins.table.queries.TabContext","tinymce.plugins.table.selection.CellSelection","tinymce.plugins.table.selection.Ephemera","tinymce.plugins.table.selection.Selections","tinymce.plugins.table.ui.Buttons","tinymce.plugins.table.ui.MenuItems"],function(e,t,n,r,o,i,a,c,s,u,l,f){return e.add("table",function(e){var d=i(e),p=c(e,d.lazyResize),m=r(e,d.lazyWire),h=u(e);o.registerCommands(e,m,p,h),t.registerEvents(e,h,m,p),f.addMenuItems(e,h),l.addButtons(e),l.addToolbars(e),e.on("PreInit",function(){e.serializer.addTempAttr(s.firstSelected()),e.serializer.addTempAttr(s.lastSelected())}),!1!==e.settings.table_tab_navigation&&e.on("keydown",function(t){a.handle(t,e,m,d.lazyWire)}),e.on("remove",function(){d.destroy(),p.destroy()}),this.insertTable=function(t,r){return n.insert(e,t,r)},this.setClipboardRows=o.setClipboardRows,this.getClipboardRows=o.getClipboardRows}),function(){}}),n("tinymce.plugins.table.Plugin")()}()},function(e,t,n){n(169)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.textcolor.api.Settings",[],function(){var e=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],t=function(t){return t.getParam("textcolor_map",e)},n=function(e){return e.getParam("textcolor_rows",5)},r=function(e){return e.getParam("textcolor_cols",8)},o=function(e){return e.getParam("color_picker_callback",null)};return{getForeColorMap:function(e){return e.getParam("forecolor_map",t(e))},getBackColorMap:function(e){return e.getParam("backcolor_map",t(e))},getForeColorRows:function(e){return e.getParam("forecolor_rows",n(e))},getBackColorRows:function(e){return e.getParam("backcolor_rows",n(e))},getForeColorCols:function(e){return e.getParam("forecolor_cols",r(e))},getBackColorCols:function(e){return e.getParam("backcolor_cols",r(e))},getColorPickerCallback:o,hasColorPicker:function(e){return"function"==typeof o(e)}}}),o("tinymce.plugins.textcolor.core.TextColor",[],function(){return{getCurrentColor:function(e,t){var n;return e.dom.getParents(e.selection.getStart(),function(e){var r;(r=e.style["forecolor"===t?"color":"background-color"])&&(n=r)}),n},mapColors:function(e){var t,n=[];for(t=0;t<e.length;t+=2)n.push({text:e[t+1],color:"#"+e[t]});return n},applyFormat:function(e,t,n){e.undoManager.transact(function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()})},removeFormat:function(e,t){e.undoManager.transact(function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()})}}}),o("tinymce.core.util.I18n",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.I18n")}),o("tinymce.plugins.textcolor.ui.ColorPickerHtml",["tinymce.core.dom.DOMUtils","tinymce.core.util.I18n","tinymce.plugins.textcolor.api.Settings","tinymce.plugins.textcolor.core.TextColor"],function(e,t,n,r){return{getHtml:function(n,o,i,a){var c,s,u,l,f,d,p,m=0,h=e.DOM.uniqueId("mcearia"),g=function(e,n){var r="transparent"===e;return'<td class="mce-grid-cell'+(r?" mce-colorbtn-trans":"")+'"><div id="'+h+"-"+m+++'" data-mce-color="'+(e||"")+'" role="option" tabIndex="-1" style="'+(e?"background-color: "+e:"")+'" title="'+t.translate(n)+'">'+(r?"&#215;":"")+"</div></td>"};for((c=r.mapColors(i)).push({text:t.translate("No color"),color:"transparent"}),u='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',l=c.length-1,d=0;d<o;d++){for(u+="<tr>",f=0;f<n;f++)u+=(p=d*n+f)>l?"<td></td>":g((s=c[p]).color,s.text);u+="</tr>"}if(a){for(u+='<tr><td colspan="'+n+'" class="mce-custom-color-btn"><div id="'+h+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+h+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+t.translate("Custom...")+"</button></div></td></tr>",u+="<tr>",f=0;f<n;f++)u+=g("","Custom color");u+="</tr>"}return u+="</tbody></table>"}}}),o("tinymce.plugins.textcolor.ui.Buttons",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.plugins.textcolor.api.Settings","tinymce.plugins.textcolor.core.TextColor","tinymce.plugins.textcolor.ui.ColorPickerHtml"],function(e,t,n,r,o){var i=function(e,t){e.style.background=t,e.setAttribute("data-mce-color",t)},a=function(e){return function(t){var n=t.control;n._color?r.applyFormat(e,n.settings.format,n._color):r.removeFormat(e,n.settings.format)}},c=function(o,a){return function(c){var s,u=this.parent(),l=r.getCurrentColor(o,u.settings.format),f=function(e){u.hidePanel(),u.color(e),r.applyFormat(o,u.settings.format,e)};if(e.DOM.getParent(c.target,".mce-custom-color-btn")){u.hidePanel();n.getColorPickerCallback(o).call(o,function(e){var n,r,o,c=u.panel.getEl().getElementsByTagName("table")[0];for(n=t.map(c.rows[c.rows.length-1].childNodes,function(e){return e.firstChild}),o=0;o<n.length&&(r=n[o]).getAttribute("data-mce-color");o++);if(o===a)for(o=0;o<a-1;o++)i(n[o],n[o+1].getAttribute("data-mce-color"));i(r,e),f(e)},l)}(s=c.target.getAttribute("data-mce-color"))?(this.lastId&&e.DOM.get(this.lastId).setAttribute("aria-selected",!1),c.target.setAttribute("aria-selected",!0),this.lastId=c.target.id,"transparent"===s?(u.hidePanel(),u.resetColor(),r.removeFormat(o,u.settings.format)):f(s)):null!==s&&u.hidePanel()}},s=function(e,t){return function(){var r=t?n.getForeColorCols(e):n.getBackColorCols(e),i=t?n.getForeColorRows(e):n.getBackColorRows(e),a=t?n.getForeColorMap(e):n.getBackColorMap(e),c=n.hasColorPicker(e);return o.getHtml(r,i,a,c)}};return{register:function(e){e.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{role:"application",ariaRemember:!0,html:s(e,!0),onclick:c(e,n.getForeColorCols(e))},onclick:a(e)}),e.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{role:"application",ariaRemember:!0,html:s(e,!1),onclick:c(e,n.getBackColorCols(e))},onclick:a(e)})}}}),o("tinymce.plugins.textcolor.Plugin",["tinymce.core.PluginManager","tinymce.plugins.textcolor.ui.Buttons"],function(e,t){return e.add("textcolor",function(e){t.register(e)}),function(){}}),n("tinymce.plugins.textcolor.Plugin")()}()},function(e,t,n){n(171)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t;!function(e,t){o(e,[],function(){return t})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.core.util.I18n",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.I18n")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.plugins.toc.api.Settings",[],function(){return{getTocClass:function(e){return e.getParam("toc_class","mce-toc")},getTocHeader:function(e){var t=e.getParam("toc_header","h2");return/^h[1-6]$/.test(t)?t:"h2"},getTocDepth:function(e){var t=parseInt(e.getParam("toc_depth","3"),10);return t>=1&&t<=9?t:3}}}),o("tinymce.plugins.toc.core.Guid",[],function(){return{create:function(e){var t=0;return function(){var n=(new Date).getTime().toString(32);return e+n+(t++).toString(32)}}}}),o("tinymce.plugins.toc.core.Toc",["tinymce.core.dom.DOMUtils","tinymce.core.util.I18n","tinymce.core.util.Tools","tinymce.plugins.toc.api.Settings","tinymce.plugins.toc.core.Guid"],function(e,t,n,r,o){var i=o.create("mcetoc_"),a=function(e){var t=r.getTocClass(e),o=r.getTocHeader(e),a=function(e){var t,n=[];for(t=1;t<=e;t++)n.push("h"+t);return n.join(",")}(r.getTocDepth(e)),c=e.$(a);return c.length&&/^h[1-9]$/i.test(o)&&(c=c.filter(function(n,r){return!e.dom.hasClass(r.parentNode,t)})),n.map(c,function(t){return{id:t.id?t.id:i(),level:parseInt(t.nodeName.replace(/^H/i,""),10),title:e.$.text(t),element:t}})},c=function(n){var o,i,c,s,u="",l=a(n),f=function(e){var t,n=9;for(t=0;t<e.length;t++)if(e[t].level<n&&(n=e[t].level),1===n)return n;return n}(l)-1;if(!l.length)return"";for(u+=function(t,n){var r="</"+t+">";return"<"+t+' contenteditable="true">'+e.DOM.encode(n)+r}(r.getTocHeader(n),t.translate("Table of Contents")),o=0;o<l.length;o++){if(c=l[o],c.element.id=c.id,s=l[o+1]&&l[o+1].level,f===c.level)u+="<li>";else for(i=f;i<c.level;i++)u+="<ul><li>";if(u+='<a href="#'+c.id+'">'+c.title+"</a>",s!==c.level&&s)for(i=c.level;i>s;i--)u+="</li></ul><li>";else u+="</li>",s||(u+="</ul>");f=c.level}return u},s=function(e){var t=r.getTocClass(e),n=e.$("."+t);n.length&&e.undoManager.transact(function(){n.html(c(e))})};return{hasHeaders:function(e){return a(e).length>0},insertToc:function(e){var t=r.getTocClass(e);!function(e,t){return!t.length||e.dom.getParents(t[0],".mce-offscreen-selection").length>0}(e,e.$("."+t))?s(e):e.insertContent(function(e){var t=c(e);return'<div class="'+e.dom.encode(r.getTocClass(e))+'" contenteditable="false">'+t+"</div>"}(e))},updateToc:s}}),o("tinymce.plugins.toc.api.Commands",["tinymce.plugins.toc.core.Toc"],function(e){return{register:function(t){t.addCommand("mceInsertToc",function(){e.insertToc(t)}),t.addCommand("mceUpdateToc",function(){e.updateToc(t)})}}}),o("tinymce.plugins.toc.core.FilterContent",["tinymce.plugins.toc.api.Settings"],function(e){return{setup:function(t){var n=t.$,r=e.getTocClass(t);t.on("PreProcess",function(e){var t=n("."+r,e.node);t.length&&(t.removeAttr("contentEditable"),t.find("[contenteditable]").removeAttr("contentEditable"))}),t.on("SetContent",function(){var e=n("."+r);e.length&&(e.attr("contentEditable",!1),e.children(":first-child").attr("contentEditable",!0))})}}}),o("tinymce.plugins.toc.ui.Buttons",["tinymce.plugins.toc.api.Settings","tinymce.plugins.toc.core.Toc"],function(e,t){var n=function(e){return function(n){var r=n.control;e.on("LoadContent SetContent change",function(){r.disabled(e.readonly||!t.hasHeaders(e))})}};return{register:function(t){t.addButton("toc",{tooltip:"Table of Contents",cmd:"mceInsertToc",icon:"toc",onPostRender:n(t)}),t.addButton("tocupdate",{tooltip:"Update",cmd:"mceUpdateToc",icon:"reload"}),t.addMenuItem("toc",{text:"Table of Contents",context:"insert",cmd:"mceInsertToc",onPostRender:n(t)}),t.addContextToolbar(function(t){return function(n){return n&&t.dom.is(n,"."+e.getTocClass(t))&&t.getBody().contains(n)}}(t),"tocupdate")}}}),o("tinymce.plugins.toc.Plugin",["tinymce.core.PluginManager","tinymce.plugins.toc.api.Commands","tinymce.plugins.toc.api.Settings","tinymce.plugins.toc.core.FilterContent","tinymce.plugins.toc.ui.Buttons"],function(e,t,n,r,o){return e.add("toc",function(e){t.register(e),o.register(e),r.setup(e)}),function(){}}),n("tinymce.plugins.toc.Plugin")()}()},function(e,t,n){n(173)},function(e,t){!function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],o=r.deps,i=r.defn,a=o.length,c=new Array(a),s=0;s<a;++s)c[s]=n(o[s]);var u=i.apply(null,c);if(void 0===u)throw"module ["+t+"] returned undefined";r.instance=u}(t),r.instance},r=function(e,t){for(var r=e.length,o=new Array(r),i=0;i<r;++i)o[i]=n(e[i]);t.apply(null,o)};({}).bolt={module:{api:{define:t,require:r,demand:n}}};var o=t,i=function(e,t){o(e,[],function(){return t})};o("ephox.katamari.api.Cell",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),i("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.plugins.visualchars.api.Api",[],function(){return{get:function(e){return{isEnabled:function(){return e.get()}}}}}),o("tinymce.plugins.visualchars.api.Events",[],function(){return{fireVisualChars:function(e,t){return e.fire("VisualChars",{state:t})}}}),o("tinymce.plugins.visualchars.core.Data",[],function(){var e={"":"nbsp","":"shy"},t=function(e,t){var n,r="";for(n in e)r+=n;return new RegExp("["+r+"]",t?"g":"")},n=function(e){var t,n="";for(t in e)n&&(n+=","),n+="span.mce-"+e[t];return n};return{charMap:e,regExp:t(e),regExpGlobal:t(e,!0),selector:n(e),charMapToRegExp:t,charMapToSelector:n}}),i("global!Array",Array),i("global!Error",Error),o("ephox.katamari.api.Fun",["global!Array","global!Error"],function(e,t){var n=function(e){return function(){return e}};return{noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:n,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(t){for(var n=new e(arguments.length-1),r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){for(var r=new e(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];var i=n.concat(r);return t.apply(null,i)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new t(e)}},apply:function(e){return e()},call:function(e){e()},never:n(!1),always:n(!0)}}),i("global!Object",Object),o("ephox.katamari.api.Option",["ephox.katamari.api.Fun","global!Object"],function(e,t){var n=e.never,r=e.always,o=function(){return i},i=function(){var i=function(e){return e.isNone()},a=function(e){return e()},c=function(e){return e},s={fold:function(e,t){return e()},is:n,isSome:n,isNone:r,getOr:c,getOrThunk:a,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:c,orThunk:a,map:o,ap:o,each:function(){},bind:o,flatten:o,exists:n,forall:r,filter:o,equals:i,equals_:i,toArray:function(){return[]},toString:e.constant("none()")};return t.freeze&&t.freeze(s),s}(),a=function(e){var t=function(){return e},c=function(){return u},s=function(t){return t(e)},u={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:r,isNone:n,getOr:t,getOrThunk:t,getOrDie:t,or:c,orThunk:c,map:function(t){return a(t(e))},ap:function(t){return t.fold(o,function(t){return a(t(e))})},each:function(t){t(e)},bind:s,flatten:t,exists:s,forall:s,filter:function(t){return t(e)?u:i},equals:function(t){return t.is(e)},equals_:function(t,r){return t.fold(n,function(t){return r(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return u};return{some:a,none:o,from:function(e){return null===e||void 0===e?i:a(e)}}}),i("global!String",String),o("ephox.katamari.api.Arr",["ephox.katamari.api.Option","global!Array","global!Error","global!String"],function(e,t,n,r){var o=function(){var e=t.prototype.indexOf;return void 0===e?function(e,t){return f(e,t)}:function(t,n){return e.call(t,n)}}(),i=function(e,t){return o(e,t)>-1},a=function(e,n){for(var r=e.length,o=new t(r),i=0;i<r;i++){var a=e[i];o[i]=n(a,i,e)}return o},c=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n,e)}},s=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n,e)}},u=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},l=function(t,n){for(var r=0,o=t.length;r<o;r++){if(n(t[r],r,t))return e.some(r)}return e.none()},f=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},d=t.prototype.push,p=function(e){for(var r=[],o=0,i=e.length;o<i;++o){if(!t.prototype.isPrototypeOf(e[o]))throw new n("Arr.flatten item "+o+" was not an array, input: "+e);d.apply(r,e[o])}return r},m=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n,e))return!1}return!0},h=t.prototype.slice;return{map:a,each:c,eachr:s,partition:function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o,e)?n:r).push(a)}return{pass:n,fail:r}},filter:u,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var c=e[i],s=t(c);s!==n&&(r.push(o),o=[]),n=s,o.push(c)}return 0!==o.length&&r.push(o),r},indexOf:function(t,n){var r=o(t,n);return-1===r?e.none():e.some(r)},foldr:function(e,t,n){return s(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return c(e,function(e){n=t(n,e)}),n},find:function(t,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(n(i,r,t))return e.some(i)}return e.none()},findIndex:l,flatten:p,bind:function(e,t){var n=a(e,t);return p(n)},forall:m,exists:function(e,t){return l(e,t).isSome()},contains:i,equal:function(e,t){return e.length===t.length&&m(e,function(e,n){return e===t[n]})},reverse:function(e){var t=h.call(e,0);return t.reverse(),t},chunk:function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=e.slice(r,r+t);n.push(o)}return n},difference:function(e,t){return u(e,function(e){return!i(t,e)})},mapToObject:function(e,t){for(var n={},o=0,i=e.length;o<i;o++){var a=e[o];n[r(a)]=t(a,o)}return n},pure:function(e){return[e]},sort:function(e,t){var n=h.call(e,0);return n.sort(t),n},range:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},head:function(t){return 0===t.length?e.none():e.some(t[0])},last:function(t){return 0===t.length?e.none():e.some(t[t.length-1])}}}),o("global!console",[],function(){return"undefined"==typeof console&&(console={log:function(){}}),console}),i("global!document",document),o("ephox.sugar.api.node.Element",["ephox.katamari.api.Fun","ephox.katamari.api.Option","global!Error","global!console","global!document"],function(e,t,n,r,o){var i=function(t){if(null===t||void 0===t)throw new n("Node cannot be null or undefined");return{dom:e.constant(t)}};return{fromHtml:function(e,t){var n=(t||o).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw r.error("HTML does not have a single root node",e),"HTML must have a single root node";return i(n.childNodes[0])},fromTag:function(e,t){var n=(t||o).createElement(e);return i(n)},fromText:function(e,t){var n=(t||o).createTextNode(e);return i(n)},fromDom:i,fromPoint:function(e,n,r){return t.from(e.dom().elementFromPoint(n,r)).map(i)}}}),o("ephox.sugar.api.node.NodeTypes",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}}),o("ephox.sugar.api.node.Node",["ephox.sugar.api.node.NodeTypes"],function(e){var t=function(e){return e.dom().nodeName.toLowerCase()},n=function(e){return e.dom().nodeType},r=function(e){return function(t){return n(t)===e}},o=r(e.ELEMENT),i=r(e.TEXT),a=r(e.DOCUMENT);return{name:t,type:n,value:function(e){return e.dom().nodeValue},isElement:o,isText:i,isDocument:a,isComment:function(r){return n(r)===e.COMMENT||"#comment"===t(r)}}}),o("tinymce.plugins.visualchars.core.Html",["tinymce.plugins.visualchars.core.Data"],function(e){return{wrapCharWithSpan:function(t){return'<span data-mce-bogus="1" class="mce-'+e.charMap[t]+'">'+t+"</span>"}}}),o("tinymce.plugins.visualchars.core.Nodes",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","tinymce.plugins.visualchars.core.Data","tinymce.plugins.visualchars.core.Html"],function(e,t,n,r,o){var i=function(n,r){var o=[],a=n.dom(),c=e.map(a.childNodes,t.fromDom);return e.each(c,function(e){r(e)&&(o=o.concat([e])),o=o.concat(i(e,r))}),o};return{isMatch:function(e){return n.isText(e)&&void 0!==n.value(e)&&r.regExp.test(n.value(e))},filterDescendants:i,findParentElm:function(e,t){for(;e.parentNode;){if(e.parentNode===t)return e;e=e.parentNode}},replaceWithSpans:function(e){return e.replace(r.regExpGlobal,o.wrapCharWithSpan)}}}),o("tinymce.plugins.visualchars.core.VisualChars",["tinymce.plugins.visualchars.core.Data","tinymce.plugins.visualchars.core.Nodes","ephox.katamari.api.Arr","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node"],function(e,t,n,r,o){var i=function(e,i){var a,c,s=t.filterDescendants(r.fromDom(i),t.isMatch);n.each(s,function(n){var r=t.replaceWithSpans(o.value(n));for(c=e.dom.create("div",null,r);a=c.lastChild;)e.dom.insertAfter(a,n.dom());e.dom.remove(n.dom())})},a=function(t,r){var o=t.dom.select(e.selector,r);n.each(o,function(e){t.dom.remove(e,1)})};return{show:i,hide:a,toggle:function(e){var n=e.getBody(),r=e.selection.getBookmark(),o=t.findParentElm(e.selection.getNode(),n);a(e,o=void 0!==o?o:n),i(e,o),e.selection.moveToBookmark(r)}}}),o("tinymce.plugins.visualchars.core.Actions",["tinymce.plugins.visualchars.api.Events","tinymce.plugins.visualchars.core.VisualChars"],function(e,t){return{toggleVisualChars:function(n,r){var o,i=n.getBody(),a=n.selection;r.set(!r.get()),e.fireVisualChars(n,r.get()),o=a.getBookmark(),!0===r.get()?t.show(n,i):t.hide(n,i),a.moveToBookmark(o)}}}),o("tinymce.plugins.visualchars.api.Commands",["tinymce.plugins.visualchars.core.Actions"],function(e){return{register:function(t,n){t.addCommand("mceVisualChars",function(){e.toggleVisualChars(t,n)})}}}),o("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Delay")}),o("tinymce.plugins.visualchars.core.Keyboard",["tinymce.core.util.Delay","tinymce.plugins.visualchars.core.VisualChars"],function(e,t){return{setup:function(n,r){var o=e.debounce(function(){t.toggle(n)},300);!1!==n.settings.forced_root_block&&n.on("keydown",function(e){!0===r.get()&&(13===e.keyCode?t.toggle(n):o())})}}}),o("tinymce.plugins.visualchars.ui.Buttons",[],function(){var e=function(e){return function(t){var n=t.control;e.on("VisualChars",function(e){n.active(e.state)})}};return{register:function(t){t.addButton("visualchars",{active:!1,title:"Show invisible characters",cmd:"mceVisualChars",onPostRender:e(t)}),t.addMenuItem("visualchars",{text:"Show invisible characters",cmd:"mceVisualChars",onPostRender:e(t),selectable:!0,context:"view",prependToContext:!0})}}}),o("tinymce.plugins.visualchars.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.visualchars.api.Api","tinymce.plugins.visualchars.api.Commands","tinymce.plugins.visualchars.core.Keyboard","tinymce.plugins.visualchars.ui.Buttons"],function(e,t,n,r,o,i){return t.add("visualchars",function(t){var a=e(!1);return r.register(t,a),i.register(t),o.setup(t,a),n.get(a)}),function(){}}),n("tinymce.plugins.visualchars.Plugin")()}()},function(e,t,n){var r=n(175);"string"==typeof r&&(r=[[e.i,r,""]]);var o={};o.transform=void 0;n(18)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(3)(void 0)).push([e.i,'.mce-container,.mce-container *,.mce-reset,.mce-widget,.mce-widget *{margin:0;padding:0;border:0;outline:0;vertical-align:top;background:transparent;text-decoration:none;color:#595959;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;text-shadow:none;float:none;position:static;width:auto;height:auto;white-space:nowrap;cursor:inherit;-webkit-tap-highlight-color:transparent;line-height:normal;font-weight:400;text-align:left;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;direction:ltr;max-width:none}.mce-widget button{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.mce-container [unselectable]{-moz-user-select:none;-webkit-user-select:none;-o-user-select:none;user-select:none}.word-wrap{word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}.mce-fade{opacity:0;-webkit-transition:opacity .15s linear;transition:opacity .15s linear}.mce-fade.mce-in{opacity:1}.mce-tinymce{visibility:inherit!important;position:relative}.mce-fullscreen{z-index:100}div.mce-fullscreen{width:100%;height:auto}.mce-tinymce{display:block;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.2);-moz-box-shadow:0 1px 2px rgba(0,0,0,.2);box-shadow:0 1px 2px rgba(0,0,0,.2)}.mce-statusbar>.mce-container-body{display:flex;padding-right:16px}.mce-statusbar>.mce-container-body .mce-path{flex:1}.mce-wordcount{font-size:inherit;text-transform:uppercase;padding:8px 0}div.mce-edit-area{background:#fff;filter:none}.mce-statusbar{position:relative}.mce-statusbar .mce-container-body{position:relative;font-size:11px}.mce-fullscreen .mce-resizehandle{display:none}.mce-statusbar .mce-flow-layout-item{margin:0}.mce-charmap{border-collapse:collapse}.mce-charmap td{cursor:default;border:1px solid #c5c5c5;width:20px;height:20px;line-height:20px;vertical-align:middle;padding:2px}.mce-charmap td,.mce-charmap td div{text-align:center}.mce-charmap td:hover{background:#fff}.mce-grid td.mce-grid-cell div{border:1px solid #c5c5c5;width:15px;height:15px;margin:0;cursor:pointer}.mce-grid td.mce-grid-cell div:focus{border-color:#91bbe9}.mce-grid td.mce-grid-cell div[disabled]{cursor:not-allowed}.mce-grid{border-spacing:2px;border-collapse:separate}.mce-grid a{display:block;border:1px solid transparent}.mce-grid a:focus,.mce-grid a:hover{border-color:#91bbe9}.mce-grid-border{margin:0 4px}.mce-grid-border a{border-color:#c5c5c5;width:13px;height:13px}.mce-grid-border a.mce-active,.mce-grid-border a:hover{border-color:#91bbe9;background:#bdd6f2}.mce-text-center{text-align:center}div.mce-tinymce-inline{width:100%}.mce-colorbtn-trans div{text-align:center;vertical-align:middle;font-weight:700;font-size:20px;line-height:16px;color:#8b8b8b}.mce-monospace{font-family:Courier New,Courier,monospace}.mce-toolbar-grp .mce-flow-layout-item{margin-bottom:0}.mce-container b{font-weight:700}.mce-container p{margin-bottom:5px}.mce-container a{cursor:pointer;color:#2276d2}.mce-container a:hover{text-decoration:underline}.mce-container ul{margin-left:15px}.mce-container .mce-table-striped{border-collapse:collapse;margin:10px}.mce-container .mce-table-striped thead>tr{background-color:#fafafa}.mce-container .mce-table-striped thead>tr th{font-weight:700}.mce-container .mce-table-striped td,.mce-container .mce-table-striped th{padding:5px}.mce-container .mce-table-striped tr:nth-child(2n){background-color:#fafafa}.mce-container .mce-table-striped tbody>tr:hover{background-color:#e1e1e1}.mce-branding{font-size:inherit;text-transform:uppercase;white-space:pre;padding:8px 0}.mce-branding a{font-size:inherit;color:inherit}.mce-top-part{position:relative}.mce-top-part:before{content:"";position:absolute;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.2);-moz-box-shadow:0 1px 2px rgba(0,0,0,.2);box-shadow:0 1px 2px rgba(0,0,0,.2);top:0;right:0;bottom:0;left:0;pointer-events:none}.mce-rtl .mce-wordcount{left:0;right:auto}.mce-rtl .mce-statusbar>.mce-container-body>:last-child{padding-right:0;padding-left:10px}.mce-rtl .mce-path{text-align:right;padding-right:16px}.mce-croprect-container,.mce-croprect-handle{position:absolute;top:0;left:0}.mce-croprect-handle{width:20px;height:20px;border:2px solid #fff}.mce-croprect-handle-nw{border-width:2px 0 0 2px;margin:-2px 0 0 -2px;cursor:nw-resize;top:100px;left:100px}.mce-croprect-handle-ne{border-width:2px 2px 0 0;margin:-2px 0 0 -20px;cursor:ne-resize;top:100px;left:200px}.mce-croprect-handle-sw{border-width:0 0 2px 2px;margin:-20px 2px 0 -2px;cursor:sw-resize;top:200px;left:100px}.mce-croprect-handle-se{border-width:0 2px 2px 0;margin:-20px 0 0 -20px;cursor:se-resize;top:200px;left:200px}.mce-croprect-handle-move{position:absolute;cursor:move;border:0}.mce-croprect-block{opacity:.5;filter:alpha(opacity=50);zoom:1;position:absolute;background:#000}.mce-croprect-handle:focus{border-color:#2276d2}.mce-croprect-handle-move:focus{outline:1px solid #2276d2}.mce-imagepanel{overflow:auto;background:#000}.mce-imagepanel-bg{position:absolute;background:url("data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==")}.mce-imagepanel img{position:absolute}.mce-imagetool.mce-btn .mce-ico{display:block;width:20px;height:20px;text-align:center;line-height:20px;font-size:20px;padding:5px}.mce-arrow-up{margin-top:12px}.mce-arrow-down{margin-top:-12px}.mce-arrow:after,.mce-arrow:before{position:absolute;left:50%;display:block;width:0;height:0;border-style:solid;border-color:transparent;content:""}.mce-arrow.mce-arrow-up:before{top:-9px;border-bottom-color:#c5c5c5;border-width:0 9px 9px;margin-left:-9px}.mce-arrow.mce-arrow-down:before{bottom:-9px;border-top-color:#c5c5c5;border-width:9px 9px 0;margin-left:-9px}.mce-arrow.mce-arrow-up:after{top:-8px;border-bottom-color:#fff;border-width:0 8px 8px;margin-left:-8px}.mce-arrow.mce-arrow-down:after{bottom:-8px;border-top-color:#fff;border-width:8px 8px 0;margin-left:-8px}.mce-arrow.mce-arrow-left:after,.mce-arrow.mce-arrow-left:before{margin:0}.mce-arrow.mce-arrow-left:before{left:8px}.mce-arrow.mce-arrow-left:after{left:9px}.mce-arrow.mce-arrow-right:after,.mce-arrow.mce-arrow-right:before{left:auto;margin:0}.mce-arrow.mce-arrow-right:before{right:8px}.mce-arrow.mce-arrow-right:after{right:9px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-left:before{left:-9px;top:50%;border-right-color:#c5c5c5;border-width:9px 9px 9px 0;margin-top:-9px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-left:after{left:-8px;top:50%;border-right-color:#fff;border-width:8px 8px 8px 0;margin-top:-8px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-left{margin-left:12px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-right:before{right:-9px;top:50%;border-left-color:#c5c5c5;border-width:9px 0 9px 9px;margin-top:-9px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-right:after{right:-8px;top:50%;border-left-color:#fff;border-width:8px 0 8px 8px;margin-top:-8px}.mce-arrow.mce-arrow-center.mce-arrow.mce-arrow-right{margin-left:-14px}.mce-edit-aria-container>.mce-container-body{display:flex}.mce-edit-aria-container>.mce-container-body .mce-edit-area{flex:1}.mce-edit-aria-container>.mce-container-body .mce-sidebar>.mce-container-body{display:flex;align-items:stretch;height:100%}.mce-edit-aria-container>.mce-container-body .mce-sidebar-panel{min-width:250px;max-width:250px;position:relative}.mce-edit-aria-container>.mce-container-body .mce-sidebar-panel>.mce-container-body{position:absolute;width:100%;height:100%;overflow:auto;top:0;left:0}.mce-sidebar-toolbar{border:0 solid #c5c5c5;border-left-width:1px}.mce-sidebar-toolbar .mce-btn{border-left:0;border-right:0}.mce-sidebar-toolbar .mce-btn.mce-active,.mce-sidebar-toolbar .mce-btn.mce-active:hover{background-color:#555c66}.mce-sidebar-toolbar .mce-btn.mce-active:hover button,.mce-sidebar-toolbar .mce-btn.mce-active:hover button i,.mce-sidebar-toolbar .mce-btn.mce-active button,.mce-sidebar-toolbar .mce-btn.mce-active button i{color:#fff;text-shadow:1px 1px none}.mce-sidebar-panel{border:0 solid #c5c5c5;border-left-width:1px}.mce-container,.mce-container-body{display:block}.mce-autoscroll{overflow:hidden}.mce-scrollbar{position:absolute;width:7px;height:100%;top:2px;right:2px;opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-scrollbar-h{top:auto;right:auto;left:2px;bottom:2px;width:100%;height:7px}.mce-scrollbar-thumb{position:absolute;background-color:#000;border:1px solid #888;border-color:rgba(85,85,85,.6);width:5px;height:100%}.mce-scrollbar-h .mce-scrollbar-thumb{width:100%;height:5px}.mce-scrollbar.mce-active,.mce-scrollbar:hover{background-color:#aaa;opacity:.6;filter:alpha(opacity=60);zoom:1}.mce-scroll{position:relative}.mce-panel{border:0 solid #f3f3f3;border:0 solid #c5c5c5;background-color:#fff}.mce-floatpanel{position:absolute;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.2);-moz-box-shadow:0 1px 2px rgba(0,0,0,.2);box-shadow:0 1px 2px rgba(0,0,0,.2)}.mce-floatpanel.mce-fixed{position:fixed}.mce-floatpanel .mce-arrow,.mce-floatpanel .mce-arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.mce-floatpanel .mce-arrow{border-width:11px}.mce-floatpanel .mce-arrow:after{border-width:10px;content:""}.mce-floatpanel.mce-popover{filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);background:transparent;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.2);-moz-box-shadow:0 1px 2px rgba(0,0,0,.2);box-shadow:0 1px 2px rgba(0,0,0,.2);top:0;left:0;background:#fff;border:1px solid #c5c5c5;border:1px solid rgba(0,0,0,.25)}.mce-floatpanel.mce-popover.mce-bottom{margin-top:10px;*margin-top:0}.mce-floatpanel.mce-popover.mce-bottom>.mce-arrow{left:50%;margin-left:-11px;border-top-width:0;border-bottom-color:#c5c5c5;border-bottom-color:rgba(0,0,0,.25);top:-11px}.mce-floatpanel.mce-popover.mce-bottom>.mce-arrow:after{top:1px;margin-left:-10px;border-top-width:0;border-bottom-color:#fff}.mce-floatpanel.mce-popover.mce-bottom.mce-start{margin-left:-22px}.mce-floatpanel.mce-popover.mce-bottom.mce-start>.mce-arrow{left:20px}.mce-floatpanel.mce-popover.mce-bottom.mce-end{margin-left:22px}.mce-floatpanel.mce-popover.mce-bottom.mce-end>.mce-arrow{right:10px;left:auto}.mce-fullscreen{border:0;padding:0;margin:0;overflow:hidden;height:100%}#mce-modal-block,div.mce-fullscreen{position:fixed;top:0;left:0}#mce-modal-block{opacity:0;filter:alpha(opacity=0);zoom:1;width:100%;height:100%;background:#fff}#mce-modal-block.mce-in{opacity:.5;filter:alpha(opacity=50);zoom:1}.mce-window-move{cursor:move}.mce-window{-webkit-box-shadow:0 3px 7px rgba(0,0,0,.3);-moz-box-shadow:0 3px 7px rgba(0,0,0,.3);box-shadow:0 3px 7px rgba(0,0,0,.3);filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);background:transparent;background:#fff;position:fixed;top:0;left:0;opacity:0;transform:scale(.1);transition:transform .1s ease-in,opacity .15s ease-in}.mce-window.mce-in{transform:scale(1);opacity:1}.mce-window-head{padding:9px 15px;border-bottom:1px solid #c5c5c5;position:relative}.mce-window-head .mce-close{position:absolute;right:0;top:0;height:38px;width:38px;text-align:center;cursor:pointer}.mce-window-head .mce-close i{color:#9b9b9b}.mce-close:hover i{color:#bdbdbd}.mce-window-head .mce-title{line-height:20px;font-size:20px;font-weight:700;text-rendering:optimizelegibility;padding-right:20px}.mce-foot,.mce-window .mce-container-body{display:block}.mce-foot{background-color:#fff;border-top:1px solid #c5c5c5}.mce-window-head .mce-dragh{position:absolute;top:0;left:0;cursor:move;width:90%;height:100%}.mce-window iframe{width:100%;height:100%}.mce-window-body .mce-listbox{border-color:#e2e4e7}.mce-window .mce-btn:hover{border-color:#c5c5c5}.mce-window .mce-btn:focus{border-color:#2276d2}.mce-foot .mce-btn,.mce-window-body .mce-btn{border-color:#c5c5c5}.mce-foot .mce-btn.mce-primary{border-color:transparent}.mce-rtl .mce-window-head .mce-close{position:absolute;right:auto;left:15px}.mce-rtl .mce-window-head .mce-dragh{left:auto;right:0}.mce-rtl .mce-window-head .mce-title{direction:rtl;text-align:right}.mce-tooltip{position:absolute;padding:5px;opacity:.8;filter:alpha(opacity=80);zoom:1;margin-top:1px}.mce-tooltip-inner{font-size:11px;background-color:#000;color:#fff;max-width:200px;padding:5px 8px 4px;text-align:center;white-space:normal;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-tooltip-arrow{position:absolute;width:0;height:0;line-height:0;border:5px dashed #000}.mce-tooltip-arrow-n{border-bottom-color:#000}.mce-tooltip-arrow-s{border-top-color:#000}.mce-tooltip-arrow-e{border-left-color:#000}.mce-tooltip-arrow-w{border-right-color:#000}.mce-tooltip-nw,.mce-tooltip-sw{margin-left:-14px}.mce-tooltip-ne,.mce-tooltip-se{margin-left:14px}.mce-tooltip-n .mce-tooltip-arrow{left:50%;margin-left:-5px}.mce-tooltip-n .mce-tooltip-arrow,.mce-tooltip-nw .mce-tooltip-arrow{top:0;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-nw .mce-tooltip-arrow{left:10px}.mce-tooltip-ne .mce-tooltip-arrow{top:0;right:10px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-s .mce-tooltip-arrow{left:50%;margin-left:-5px}.mce-tooltip-s .mce-tooltip-arrow,.mce-tooltip-sw .mce-tooltip-arrow{bottom:0;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-sw .mce-tooltip-arrow{left:10px}.mce-tooltip-se .mce-tooltip-arrow{bottom:0;right:10px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent}.mce-tooltip-e .mce-tooltip-arrow{right:0;top:50%;margin-top:-5px;border-left-style:solid;border-right:none;border-top-color:transparent;border-bottom-color:transparent}.mce-tooltip-w .mce-tooltip-arrow{left:0;top:50%;margin-top:-5px;border-right-style:solid;border-left:none;border-top-color:transparent;border-bottom-color:transparent}.mce-progress{display:inline-block;position:relative;height:20px}.mce-progress .mce-bar-container{display:inline-block;width:100px;height:100%;margin-right:8px;border:1px solid #ccc;overflow:hidden}.mce-progress .mce-text{display:inline-block;margin-top:auto;margin-bottom:auto;font-size:14px;width:40px;color:#595959}.mce-bar{display:block;width:0;height:100%;background-color:#dfdfdf;-webkit-transition:width .2s ease;transition:width .2s ease}.mce-notification{position:absolute;background-color:#fff;padding:5px;margin-top:5px;border:1px solid #c5c5c5;transition:transform .1s ease-in,opacity .15s ease-in;opacity:0;box-sizing:border-box}.mce-notification.mce-in{opacity:1}.mce-notification-success{background-color:#dff0d8;border-color:#d6e9c6}.mce-notification-info{background-color:#d9edf7;border-color:#779ecb}.mce-notification-warning{background-color:#fcf8e3;border-color:#faebcc}.mce-notification-error{background-color:#f2dede;border-color:#ebccd1}.mce-notification.mce-has-close{padding-right:15px}.mce-notification .mce-ico{margin-top:5px}.mce-notification-inner{word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;display:inline-block;font-size:14px;margin:5px 8px 4px;text-align:center;white-space:normal;color:#31708f}.mce-notification-inner a{text-decoration:underline;cursor:pointer}.mce-notification .mce-progress{margin-right:8px}.mce-notification .mce-progress .mce-text{margin-top:5px}.mce-notification *,.mce-notification .mce-progress .mce-text{color:#595959}.mce-notification .mce-progress .mce-bar-container{border-color:#c5c5c5}.mce-notification .mce-progress .mce-bar-container .mce-bar{background-color:#595959}.mce-notification-success *,.mce-notification-success .mce-progress .mce-text{color:#3c763d}.mce-notification-success .mce-progress .mce-bar-container{border-color:#d6e9c6}.mce-notification-success .mce-progress .mce-bar-container .mce-bar{background-color:#3c763d}.mce-notification-info *,.mce-notification-info .mce-progress .mce-text{color:#31708f}.mce-notification-info .mce-progress .mce-bar-container{border-color:#779ecb}.mce-notification-info .mce-progress .mce-bar-container .mce-bar{background-color:#31708f}.mce-notification-warning *,.mce-notification-warning .mce-progress .mce-text{color:#8a6d3b}.mce-notification-warning .mce-progress .mce-bar-container{border-color:#faebcc}.mce-notification-warning .mce-progress .mce-bar-container .mce-bar{background-color:#8a6d3b}.mce-notification-error *,.mce-notification-error .mce-progress .mce-text{color:#a94442}.mce-notification-error .mce-progress .mce-bar-container{border-color:#ebccd1}.mce-notification-error .mce-progress .mce-bar-container .mce-bar{background-color:#a94442}.mce-notification .mce-close{position:absolute;top:6px;right:8px;font-size:20px;font-weight:700;line-height:20px;color:#9b9b9b;cursor:pointer}.mce-abs-layout{position:relative}.mce-abs-end,body .mce-abs-layout-item{position:absolute}.mce-abs-end{width:1px;height:1px}.mce-container-body.mce-abs-layout{overflow:hidden}.mce-btn{border:1px solid #b3b3b3;border-color:transparent;position:relative;text-shadow:0 1px 1px hsla(0,0%,100%,.75);background:#fff;display:inline-block;*display:inline;*zoom:1;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-btn:active,.mce-btn:focus,.mce-btn:hover{background:#fff;color:#595959;border-color:#e2e4e7}.mce-btn.mce-disabled:hover button,.mce-btn.mce-disabled button{cursor:default;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-btn.mce-active,.mce-btn.mce-active:active,.mce-btn.mce-active:focus,.mce-btn.mce-active:hover{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;background:#555c66;color:#fff;border-color:transparent}.mce-btn.mce-active:hover button,.mce-btn.mce-active:hover i,.mce-btn.mce-active button,.mce-btn.mce-active i{color:#fff}.mce-btn:hover .mce-caret{border-top-color:#b5bcc2}.mce-btn.mce-active .mce-caret,.mce-btn.mce-active:hover .mce-caret{border-top-color:#fff}.mce-btn button{padding:4px 6px;font-size:14px;line-height:20px;*line-height:16px;cursor:pointer;color:#595959;text-align:center;overflow:visible;-webkit-appearance:none}.mce-btn button::-moz-focus-inner{border:0;padding:0}.mce-btn i{text-shadow:1px 1px none}.mce-primary.mce-btn-has-text{min-width:50px}.mce-primary{color:#fff;border:1px solid transparent;border-color:transparent;background-color:#2276d2}.mce-primary:focus,.mce-primary:hover{background-color:#1e6abc;border-color:transparent}.mce-primary.mce-disabled:hover button,.mce-primary.mce-disabled button{cursor:default;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-primary.mce-active,.mce-primary.mce-active:hover,.mce-primary:not(.mce-disabled):active{background-color:#1e6abc;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-primary button,.mce-primary button i{color:#fff;text-shadow:1px 1px none}.mce-btn .mce-txt{font-size:inherit;line-height:inherit;color:inherit}.mce-btn-large button{padding:9px 14px;font-size:16px;line-height:normal}.mce-btn-large i{margin-top:2px}.mce-btn-small button{padding:1px 5px;font-size:12px;*padding-bottom:2px}.mce-btn-small i{line-height:20px;vertical-align:top;*line-height:18px}.mce-btn-small .mce-caret,.mce-btn .mce-caret{margin-top:8px;margin-left:0}.mce-caret{display:inline-block;*display:inline;*zoom:1;width:0;height:0;vertical-align:top;border-top:4px solid #b5bcc2;border-right:4px solid transparent;border-left:4px solid transparent;content:""}.mce-disabled .mce-caret{border-top-color:#aaa}.mce-caret.mce-up{border-bottom:4px solid #b5bcc2;border-top:0}.mce-btn-flat{border:0;background:transparent;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;filter:none}.mce-btn-flat.mce-active,.mce-btn-flat:active,.mce-btn-flat:focus,.mce-btn-flat:hover{border:0;background:#e6e6e6;filter:none;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-btn-has-text .mce-ico{padding-right:5px}.mce-rtl .mce-btn button{direction:rtl}.mce-toolbar .mce-btn-group{margin:0;padding:2px 0}.mce-btn-group .mce-btn{border-width:1px;margin:0;margin-left:2px}.mce-btn-group:not(:first-child){border-left:1px solid #d9d9d9;padding-left:0;margin-left:2px}.mce-btn-group{margin-left:2px}.mce-btn-group .mce-btn.mce-flow-layout-item{margin:0}.mce-rtl .mce-btn-group .mce-btn{margin-left:0;margin-right:2px}.mce-rtl .mce-btn-group .mce-first{margin-right:0}.mce-rtl .mce-btn-group:not(:first-child){border-left:none;border-right:1px solid #d9d9d9;padding-right:4px;margin-right:4px}.mce-checkbox{cursor:pointer}i.mce-i-checkbox{margin:0 3px 0 0;border:1px solid #c5c5c5;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;background-color:#fff;text-indent:-10em;overflow:hidden}.mce-checked i.mce-i-checkbox{color:#595959;font-size:16px;line-height:16px;text-indent:0}.mce-checkbox.mce-focus i.mce-i-checkbox,.mce-checkbox:focus i.mce-i-checkbox{border:1px solid #2276d2;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-checkbox.mce-disabled .mce-label,.mce-checkbox.mce-disabled i.mce-i-checkbox{color:#bdbdbd}.mce-checkbox .mce-label{vertical-align:middle}.mce-rtl .mce-checkbox{direction:rtl;text-align:right}.mce-rtl i.mce-i-checkbox{margin:0 0 0 3px}.mce-combobox{position:relative;display:inline-block;*display:inline;*zoom:1;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;*height:32px}.mce-combobox input{border:1px solid #c5c5c5;border-right-color:#c5c5c5;height:28px}.mce-combobox.mce-disabled input{color:#bdbdbd}.mce-combobox .mce-btn{border:1px solid #c5c5c5;border-left:0;margin:0}.mce-combobox button{padding-right:8px;padding-left:8px}.mce-combobox.mce-disabled .mce-btn button{cursor:default;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-combobox .mce-status{position:absolute;right:2px;top:50%;line-height:16px;margin-top:-8px;font-size:12px;width:15px;height:15px;text-align:center;cursor:pointer}.mce-combobox.mce-has-status input{padding-right:20px}.mce-combobox.mce-has-open .mce-status{right:37px}.mce-combobox .mce-status.mce-i-warning{color:#c09853}.mce-combobox .mce-status.mce-i-checkmark{color:#468847}.mce-menu.mce-combobox-menu{border-top:0;margin-top:0;max-height:200px}.mce-menu.mce-combobox-menu .mce-menu-item{padding:4px 6px 4px 4px;font-size:11px}.mce-menu.mce-combobox-menu .mce-menu-item-sep{padding:0}.mce-menu.mce-combobox-menu .mce-menu-item-link,.mce-menu.mce-combobox-menu .mce-menu-item-link b,.mce-menu.mce-combobox-menu .mce-text,.mce-menu.mce-combobox-menu .mce-text b{font-size:11px}.mce-colorbox i{border:1px solid #c5c5c5;width:14px;height:14px}.mce-colorbutton .mce-ico{position:relative}.mce-colorbutton-grid{margin:4px}.mce-colorbutton .mce-preview{padding-right:3px;display:block;position:absolute;left:50%;top:50%;margin-left:-17px;margin-top:7px;background:gray;width:13px;height:2px;overflow:hidden}.mce-colorbutton.mce-btn-small .mce-preview{margin-left:-16px;padding-right:0;width:16px}.mce-rtl .mce-colorbutton{direction:rtl}.mce-rtl .mce-colorbutton .mce-preview{margin-left:0;padding-right:0;padding-left:3px}.mce-rtl .mce-colorbutton.mce-btn-small .mce-preview{margin-left:0;padding-right:0;padding-left:2px}.mce-rtl .mce-colorbutton .mce-open{padding-left:4px;padding-right:4px;border-left:0}.mce-colorpicker{position:relative;width:250px;height:220px}.mce-colorpicker-sv{position:absolute;top:0;left:0;width:90%;height:100%;border:1px solid #c5c5c5;cursor:crosshair;overflow:hidden}.mce-colorpicker-h-chunk{width:100%}.mce-colorpicker-overlay1,.mce-colorpicker-overlay2{width:100%;height:100%;position:absolute;top:0;left:0}.mce-colorpicker-overlay1{filter:progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr="#ffffff",endColorstr="#00ffffff");-ms-filter:"progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr=\'#ffffff\', endColorstr=\'#00ffffff\')";background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.mce-colorpicker-overlay2{filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="#00000000",endColorstr="#000000");-ms-filter:"progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=\'#00000000\', endColorstr=\'#000000\')";background:linear-gradient(180deg,transparent,#000)}.mce-colorpicker-selector1{background:none;position:absolute;width:12px;height:12px;margin:-8px 0 0 -8px;border:1px solid #000;border-radius:50%}.mce-colorpicker-selector2{position:absolute;width:10px;height:10px;border:1px solid #fff;border-radius:50%}.mce-colorpicker-h{position:absolute;top:0;right:0;width:6.5%;height:100%;border:1px solid #c5c5c5;cursor:crosshair}.mce-colorpicker-h-marker{margin-top:-4px;position:absolute;top:0;left:-1px;width:100%;border:1px solid #000;background:#fff;height:4px;z-index:100}.mce-path{display:inline-block;*display:inline;*zoom:1;padding:8px;white-space:normal;font-size:inherit}.mce-path .mce-txt{padding-right:3px}.mce-path .mce-path-body,.mce-path .mce-txt{display:inline-block}.mce-path-item{display:inline-block;*display:inline;*zoom:1;cursor:pointer;color:#595959;font-size:inherit;text-transform:uppercase}.mce-path-item:hover{text-decoration:underline}.mce-path-item:focus{background:#555c66;color:#fff}.mce-path .mce-divider{display:inline;font-size:inherit}.mce-disabled .mce-path-item{color:#aaa}.mce-rtl .mce-path{direction:rtl}.mce-fieldset{border:0 solid #9e9e9e}.mce-fieldset>.mce-container-body{margin-top:-15px}.mce-fieldset-title{margin-left:5px;padding:0 5px}.mce-fit-layout{display:inline-block;*display:inline;*zoom:1}.mce-fit-layout-item{position:absolute}.mce-flow-layout-item{display:inline-block;*display:inline;*zoom:1;margin:2px 0 2px 2px}.mce-flow-layout-item.mce-last{margin-right:2px}.mce-flow-layout{white-space:normal}.mce-tinymce-inline .mce-flow-layout{white-space:nowrap}.mce-rtl .mce-flow-layout{text-align:right;direction:rtl}.mce-rtl .mce-flow-layout-item{margin:2px 2px 2px 0}.mce-rtl .mce-flow-layout-item.mce-last{margin-left:2px}.mce-iframe{border:0 solid #c5c5c5;width:100%;height:100%}.mce-infobox{display:inline-block;*display:inline;*zoom:1;text-shadow:0 1px 1px hsla(0,0%,100%,.75);overflow:hidden;border:1px solid red}.mce-infobox div{display:block;margin:5px}.mce-infobox div button{position:absolute;top:50%;right:4px;cursor:pointer;margin-top:-8px;display:none}.mce-infobox div button:focus{outline:2px solid #e2e4e7}.mce-infobox.mce-has-help div{margin-right:25px}.mce-infobox.mce-has-help button{display:block}.mce-infobox.mce-success{background:#dff0d8;border-color:#d6e9c6}.mce-infobox.mce-success div{color:#3c763d}.mce-infobox.mce-warning{background:#fcf8e3;border-color:#faebcc}.mce-infobox.mce-warning div{color:#8a6d3b}.mce-infobox.mce-error{background:#f2dede;border-color:#ebccd1}.mce-infobox.mce-error div{color:#a94442}.mce-rtl .mce-infobox div{text-align:right;direction:rtl}.mce-label{display:inline-block;*display:inline;*zoom:1;text-shadow:0 1px 1px hsla(0,0%,100%,.75);overflow:hidden}.mce-label.mce-autoscroll{overflow:auto}.mce-label.mce-disabled{color:#aaa}.mce-label.mce-multiline{white-space:pre-wrap}.mce-label.mce-success{color:#468847}.mce-label.mce-warning{color:#c09853}.mce-label.mce-error{color:#b94a48}.mce-rtl .mce-label{text-align:right;direction:rtl}.mce-menubar{border:1px solid #e2e4e7}.mce-menubar .mce-menubtn{border-color:transparent;background:transparent;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;filter:none}.mce-menubar .mce-menubtn button span{color:#595959}.mce-menubar .mce-active .mce-caret,.mce-menubar .mce-caret,.mce-menubar .mce-menubtn:hover .mce-caret{border-top-color:#b5bcc2}.mce-menubar .mce-menubtn.mce-active,.mce-menubar .mce-menubtn:focus,.mce-menubar .mce-menubtn:hover{border-color:#e2e4e7;background:#fff;filter:none;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-menubar .mce-menubtn.mce-active{border-bottom:none;z-index:65537}div.mce-menubtn.mce-opened{border-bottom-color:#fff;z-index:65537}.mce-menubtn button{color:#595959}.mce-menubtn.mce-btn-small span{font-size:12px}.mce-menubtn.mce-fixed-width span{display:inline-block;overflow-x:hidden;text-overflow:ellipsis;width:90px}.mce-menubtn.mce-fixed-width.mce-btn-small span{width:70px}.mce-menubtn .mce-caret{*margin-top:6px}.mce-rtl .mce-menubtn button{direction:rtl;text-align:right}.mce-menu-item{display:block;padding:6px 4px;clear:both;font-weight:400;line-height:20px;color:#595959;white-space:nowrap;cursor:pointer;line-height:normal;border-left:4px solid transparent;margin-bottom:1px}.mce-menu-item .mce-caret{margin-top:4px;margin-right:6px;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:4px solid #595959}.mce-menu-item .mce-menu-shortcut{display:inline-block;padding:0 10px 0 20px;color:#aaa}.mce-menu-item .mce-ico{padding-right:4px}.mce-menu-item:focus,.mce-menu-item:hover{background:#ededee}.mce-menu-item:focus .mce-menu-shortcut,.mce-menu-item:hover .mce-menu-shortcut{color:#aaa}.mce-menu-item:focus .mce-ico,.mce-menu-item:focus .mce-text,.mce-menu-item:hover .mce-ico,.mce-menu-item:hover .mce-text{color:#595959}.mce-menu-item.mce-selected{background:#ededee}.mce-menu-item.mce-selected .mce-ico,.mce-menu-item.mce-selected .mce-text{color:#595959}.mce-menu-item.mce-active.mce-menu-item-normal{background:#555c66}.mce-menu-item.mce-active.mce-menu-item-normal .mce-ico,.mce-menu-item.mce-active.mce-menu-item-normal .mce-text{color:#fff}.mce-menu-item.mce-active.mce-menu-item-checkbox .mce-ico{visibility:visible}.mce-menu-item.mce-disabled,.mce-menu-item.mce-disabled:hover{background:#fff}.mce-menu-item.mce-disabled:focus,.mce-menu-item.mce-disabled:hover:focus{background:#ededee}.mce-menu-item.mce-disabled .mce-ico,.mce-menu-item.mce-disabled .mce-text,.mce-menu-item.mce-disabled:hover .mce-ico,.mce-menu-item.mce-disabled:hover .mce-text{color:#aaa}.mce-menu-item.mce-menu-item-preview.mce-active{border-left:5px solid #555c66;background:#fff}.mce-menu-item.mce-menu-item-preview.mce-active .mce-ico,.mce-menu-item.mce-menu-item-preview.mce-active .mce-text{color:#595959}.mce-menu-item.mce-menu-item-preview.mce-active:hover{background:#ededee}.mce-menu-item-link{color:#093;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mce-menu-item-link b{color:#093}.mce-menu-item-ellipsis{display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mce-menu-item.mce-selected *,.mce-menu-item:focus *,.mce-menu-item:hover *{color:#595959}.mce-menu-item-sep:hover,div.mce-menu .mce-menu-item-sep{border:0;padding:0;height:1px;margin:9px 1px;overflow:hidden;background:transparent;border-bottom:1px solid rgba(0,0,0,.1);cursor:default;filter:none}div.mce-menu .mce-menu-item b{font-weight:700}.mce-menu-item-indent-1{padding-left:20px}.mce-menu-item-indent-2{padding-left:35px}.mce-menu-item-indent-3{padding-left:40px}.mce-menu-item-indent-4{padding-left:45px}.mce-menu-item-indent-5{padding-left:50px}.mce-menu-item-indent-6{padding-left:55px}.mce-menu.mce-rtl{direction:rtl}.mce-rtl .mce-menu-item{text-align:right;direction:rtl;padding:6px 12px 6px 15px}.mce-rtl .mce-menu-item .mce-caret{margin-left:6px;margin-right:0;border-right:4px solid #595959;border-left:0}.mce-rtl .mce-menu-item.mce-selected .mce-caret,.mce-rtl .mce-menu-item:focus .mce-caret,.mce-rtl .mce-menu-item:hover .mce-caret{border-left-color:transparent;border-right-color:#595959}.mce-throbber{position:absolute;top:0;left:0;width:100%;height:100%;opacity:.6;filter:alpha(opacity=60);zoom:1;background:#fff url('+n(176)+') no-repeat 50%}.mce-throbber-inline{position:static;height:50px}.mce-menu .mce-throbber-inline{height:25px;background-size:contain}.mce-menu{position:absolute;left:0;top:0;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);background:transparent;z-index:1000;padding:5px 0;margin:-1px 0 0;min-width:180px;background:#fff;border:1px solid #c5c9cf;border:1px solid #e2e4e7;z-index:1002;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.2);-moz-box-shadow:0 1px 2px rgba(0,0,0,.2);box-shadow:0 1px 2px rgba(0,0,0,.2);max-height:500px;overflow:auto;overflow-x:hidden}.mce-menu.mce-animate{opacity:.01;transform:rotateY(10deg) rotateX(-10deg);transform-origin:left top}.mce-menu.mce-menu-align .mce-caret,.mce-menu.mce-menu-align .mce-menu-shortcut{position:absolute;right:0}.mce-menu i{display:none}.mce-menu-has-icons i{display:inline-block}.mce-menu.mce-in.mce-animate{opacity:1;transform:rotateY(0) rotateX(0);transition:opacity 75ms ease,transform .1s ease}.mce-menu-sub-tr-tl{margin:-6px 0 0 -1px}.mce-menu-sub-br-bl{margin:6px 0 0 -1px}.mce-menu-sub-tl-tr{margin:-6px 0 0 1px}.mce-menu-sub-bl-br{margin:6px 0 0 1px}.mce-rtl .mce-menu-item .mce-ico{padding-right:0;padding-left:4px}.mce-rtl.mce-menu-align .mce-caret,.mce-rtl .mce-menu-shortcut{right:auto;left:0}.mce-listbox button{text-align:left;padding-right:20px;position:relative}.mce-listbox .mce-caret{position:absolute;margin-top:-2px;right:8px;top:50%}.mce-rtl .mce-listbox .mce-caret{right:auto;left:8px}.mce-rtl .mce-listbox button{padding-right:10px;padding-left:20px}.mce-container-body .mce-resizehandle{position:absolute;right:0;bottom:0;width:16px;height:16px;visibility:visible;cursor:s-resize;margin:0}.mce-container-body .mce-resizehandle-both{cursor:se-resize}i.mce-i-resize{color:#595959}.mce-selectbox,.mce-slider{background:#fff;border:1px solid #c5c5c5}.mce-slider{width:100px;height:10px;position:relative;display:block}.mce-slider.mce-vertical{width:10px;height:100px}.mce-slider-handle{border:1px solid #c5c5c5;background:#e6e6e6;display:block;width:13px;height:13px;position:absolute;top:0;left:0;margin-left:-1px;margin-top:-2px}.mce-slider-handle:focus{border-color:#2276d2}.mce-spacer{visibility:hidden}.mce-splitbtn:hover .mce-open{border-left:1px solid #e2e4e7}.mce-splitbtn .mce-open{border-left:1px solid transparent;padding-right:4px;padding-left:4px}.mce-splitbtn .mce-open:active,.mce-splitbtn .mce-open:focus,.mce-splitbtn .mce-open:hover{border-left:1px solid #e2e4e7}.mce-splitbtn.mce-active:hover .mce-open{border-left:1px solid #fff}.mce-splitbtn.mce-opened{border-color:#e2e4e7}.mce-splitbtn.mce-btn-small .mce-open{padding:0 3px}.mce-rtl .mce-splitbtn{direction:rtl;text-align:right}.mce-rtl .mce-splitbtn button{padding-right:4px;padding-left:4px}.mce-rtl .mce-splitbtn .mce-open{border-left:0}.mce-stack-layout-item,.mce-tabs{display:block}.mce-tabs{border-bottom:1px solid #c5c5c5}.mce-tab,.mce-tabs,.mce-tabs+.mce-container-body{background:#fff}.mce-tab{display:inline-block;*display:inline;*zoom:1;border:1px solid #c5c5c5;border-width:0 1px 0 0;padding:8px 15px;text-shadow:0 1px 1px hsla(0,0%,100%,.75);height:13px;cursor:pointer}.mce-tab:hover{background:#fdfdfd}.mce-tab.mce-active{background:#fdfdfd;border-bottom-color:transparent;margin-bottom:-1px;height:14px}.mce-tab:focus{color:#2276d2}.mce-rtl .mce-tabs{text-align:right;direction:rtl}.mce-rtl .mce-tab{border-width:0 0 0 1px}.mce-textbox{background:#fff;border:1px solid #c5c5c5;display:inline-block;-webkit-transition:border .2s linear,box-shadow .2s linear;transition:border .2s linear,box-shadow .2s linear;height:28px;resize:none;padding:0 4px;white-space:pre-wrap;*white-space:pre;color:#595959}.mce-textbox,.mce-textbox.mce-focus,.mce-textbox:focus{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.mce-textbox.mce-focus,.mce-textbox:focus{border-color:#2276d2}.mce-placeholder .mce-textbox{color:#aaa}.mce-textbox.mce-multiline{padding:4px;height:auto}.mce-textbox.mce-disabled{color:#bdbdbd}.mce-rtl .mce-textbox{text-align:right;direction:rtl}.mce-dropzone{border:3px dashed gray;text-align:center}.mce-dropzone span{text-transform:uppercase}.mce-dropzone:after,.mce-dropzone span{display:inline-block;vertical-align:middle}.mce-dropzone:after{content:"";height:100%}.mce-dropzone.mce-disabled{opacity:.4;filter:alpha(opacity=40);zoom:1}.mce-dropzone.mce-disabled.mce-dragenter{cursor:not-allowed}.mce-browsebutton{position:relative;overflow:hidden}.mce-browsebutton button{position:relative;z-index:1}.mce-browsebutton input{opacity:0;filter:alpha(opacity=0);zoom:1;position:absolute;top:0;left:0;width:100%;height:100%;z-index:0}@font-face{font-family:tinymce;src:url('+n(16)+");src:url("+n(16)+'?#iefix) format("embedded-opentype"),url('+n(177)+') format("woff"),url('+n(178)+') format("truetype"),url('+n(179)+'#tinymce) format("svg");font-weight:400;font-style:normal}@font-face{font-family:tinymce-small;src:url('+n(17)+");src:url("+n(17)+'?#iefix) format("embedded-opentype"),url('+n(180)+') format("woff"),url('+n(181)+') format("truetype"),url('+n(182)+'#tinymce) format("svg");font-weight:400;font-style:normal}.mce-ico{font-family:tinymce,Arial;font-style:normal;font-weight:400;font-variant:normal;font-size:16px;line-height:16px;speak:none;vertical-align:text-top;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;background:transparent 50%;background-size:cover;width:16px;height:16px;color:#595959}.mce-btn-small .mce-ico{font-family:tinymce-small,Arial}.mce-i-save:before{content:"\\E000"}.mce-i-newdocument:before{content:"\\E001"}.mce-i-fullpage:before{content:"\\E002"}.mce-i-alignleft:before{content:"\\E003"}.mce-i-aligncenter:before{content:"\\E004"}.mce-i-alignright:before{content:"\\E005"}.mce-i-alignjustify:before{content:"\\E006"}.mce-i-alignnone:before{content:"\\E003"}.mce-i-cut:before{content:"\\E007"}.mce-i-paste:before{content:"\\E008"}.mce-i-searchreplace:before{content:"\\E009"}.mce-i-bullist:before{content:"\\E00A"}.mce-i-numlist:before{content:"\\E00B"}.mce-i-indent:before{content:"\\E00C"}.mce-i-outdent:before{content:"\\E00D"}.mce-i-blockquote:before{content:"\\E00E"}.mce-i-undo:before{content:"\\E00F"}.mce-i-redo:before{content:"\\E010"}.mce-i-link:before{content:"\\E011"}.mce-i-unlink:before{content:"\\E012"}.mce-i-anchor:before{content:"\\E013"}.mce-i-image:before{content:"\\E014"}.mce-i-media:before{content:"\\E015"}.mce-i-help:before{content:"\\E016"}.mce-i-code:before{content:"\\E017"}.mce-i-insertdatetime:before{content:"\\E018"}.mce-i-preview:before{content:"\\E019"}.mce-i-backcolor:before,.mce-i-forecolor:before{content:"\\E01A"}.mce-i-table:before{content:"\\E01B"}.mce-i-hr:before{content:"\\E01C"}.mce-i-removeformat:before{content:"\\E01D"}.mce-i-subscript:before{content:"\\E01E"}.mce-i-superscript:before{content:"\\E01F"}.mce-i-charmap:before{content:"\\E020"}.mce-i-emoticons:before{content:"\\E021"}.mce-i-print:before{content:"\\E022"}.mce-i-fullscreen:before{content:"\\E023"}.mce-i-spellchecker:before{content:"\\E024"}.mce-i-nonbreaking:before{content:"\\E025"}.mce-i-template:before{content:"\\E026"}.mce-i-pagebreak:before{content:"\\E027"}.mce-i-restoredraft:before{content:"\\E028"}.mce-i-bold:before{content:"\\E02A"}.mce-i-italic:before{content:"\\E02B"}.mce-i-underline:before{content:"\\E02C"}.mce-i-strikethrough:before{content:"\\E02D"}.mce-i-visualblocks:before,.mce-i-visualchars:before{content:"\\E02E"}.mce-i-ltr:before{content:"\\E02F"}.mce-i-rtl:before{content:"\\E030"}.mce-i-copy:before{content:"\\E031"}.mce-i-resize:before{content:"\\E032"}.mce-i-browse:before{content:"\\E034"}.mce-i-pastetext:before{content:"\\E035"}.mce-i-rotateleft:before{content:"\\EAA8"}.mce-i-rotateright:before{content:"\\EAA9"}.mce-i-crop:before{content:"\\EE78"}.mce-i-editimage:before{content:"\\E915"}.mce-i-options:before{content:"\\EC6A"}.mce-i-flipv:before{content:"\\EAAA"}.mce-i-fliph:before{content:"\\EAAC"}.mce-i-zoomin:before{content:"\\EB35"}.mce-i-zoomout:before{content:"\\EB36"}.mce-i-sun:before{content:"\\ECCC"}.mce-i-moon:before{content:"\\ECCD"}.mce-i-arrowleft:before{content:"\\EDC0"}.mce-i-arrowright:before{content:"\\E93C"}.mce-i-drop:before{content:"\\E935"}.mce-i-contrast:before{content:"\\ECD4"}.mce-i-sharpen:before{content:"\\EBA7"}.mce-i-resize2:before{content:"\\EDF9"}.mce-i-orientation:before{content:"\\E601"}.mce-i-invert:before{content:"\\E602"}.mce-i-gamma:before{content:"\\E600"}.mce-i-remove:before{content:"\\ED6A"}.mce-i-tablerowprops:before{content:"\\E604"}.mce-i-tablecellprops:before{content:"\\E605"}.mce-i-table2:before{content:"\\E606"}.mce-i-tablemergecells:before{content:"\\E607"}.mce-i-tableinsertcolbefore:before{content:"\\E608"}.mce-i-tableinsertcolafter:before{content:"\\E609"}.mce-i-tableinsertrowbefore:before{content:"\\E60A"}.mce-i-tableinsertrowafter:before{content:"\\E60B"}.mce-i-tablesplitcells:before{content:"\\E60D"}.mce-i-tabledelete:before{content:"\\E60E"}.mce-i-tableleftheader:before{content:"\\E62A"}.mce-i-tabletopheader:before{content:"\\E62B"}.mce-i-tabledeleterow:before{content:"\\E800"}.mce-i-tabledeletecol:before{content:"\\E801"}.mce-i-codesample:before{content:"\\E603"}.mce-i-fill:before{content:"\\E902"}.mce-i-borderwidth:before{content:"\\E903"}.mce-i-line:before{content:"\\E904"}.mce-i-count:before{content:"\\E905"}.mce-i-translate:before{content:"\\E907"}.mce-i-drag:before{content:"\\E908"}.mce-i-home:before{content:"\\E90B"}.mce-i-upload:before{content:"\\E914"}.mce-i-bubble:before{content:"\\E91C"}.mce-i-user:before{content:"\\E91D"}.mce-i-lock:before{content:"\\E926"}.mce-i-unlock:before{content:"\\E927"}.mce-i-settings:before{content:"\\E928"}.mce-i-remove2:before{content:"\\E92A"}.mce-i-menu:before{content:"\\E92D"}.mce-i-warning:before{content:"\\E930"}.mce-i-question:before{content:"\\E931"}.mce-i-pluscircle:before{content:"\\E932"}.mce-i-info:before{content:"\\E933"}.mce-i-notice:before{content:"\\E934"}.mce-i-arrowup:before{content:"\\E93B"}.mce-i-arrowdown:before{content:"\\E93D"}.mce-i-arrowup2:before{content:"\\E93F"}.mce-i-arrowdown2:before{content:"\\E940"}.mce-i-menu2:before{content:"\\E941"}.mce-i-newtab:before{content:"\\E961"}.mce-i-a11y:before{content:"\\E900"}.mce-i-insert:before,.mce-i-plus:before{content:"\\E93A"}.mce-i-minus:before{content:"\\E939"}.mce-i-books:before{content:"\\E911"}.mce-i-reload:before{content:"\\E906"}.mce-i-toc:before{content:"\\E901"}.mce-i-checkbox:before,.mce-i-checkmark:before,.mce-i-selected:before{content:"\\E033"}.mce-i-insert{font-size:14px}.mce-i-selected{visibility:hidden}i.mce-i-backcolor{text-shadow:none;background:#bbb}',""])},function(e,t){e.exports="/images/vendor/tinymce/skins/lightgray/loader.gif?9084de65b2071f0a85a25935bb51f39f"},function(e,t){e.exports="/fonts/vendor/tinymce/skins/lightgray/tinymce.woff?a7a41ea9358b658ec53e9d042334c1a8"},function(e,t){e.exports="/fonts/vendor/tinymce/skins/lightgray/tinymce.ttf?aefbfcb02f143d3b3d3e47ff3de8efb1"},function(e,t){e.exports="/fonts/vendor/tinymce/skins/lightgray/tinymce.svg?7262d908f15434ec7c3ae2126bc87350"},function(e,t){e.exports="/fonts/vendor/tinymce/skins/lightgray/tinymce-small.woff?7e0c88f02dcaf2f78c90b4dc7827b709"},function(e,t){e.exports="/fonts/vendor/tinymce/skins/lightgray/tinymce-small.ttf?28806940c647cf671bebf4ae0630e570"},function(e,t){e.exports="/fonts/vendor/tinymce/skins/lightgray/tinymce-small.svg?a2a1f732cc34764c684ed521c6f3327c"},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o))return e;var i;return i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")"})}},function(e,t,n){var r=n(185);"string"==typeof r&&(r=[[e.i,r,""]]);var o={};o.transform=void 0;n(18)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(3)(void 0)).push([e.i,"body{background-color:#fff;color:#000;line-height:1.3;scrollbar-3dlight-color:#f0f0ee;scrollbar-arrow-color:#676662;scrollbar-base-color:#f0f0ee;scrollbar-darkshadow-color:#ddd;scrollbar-face-color:#e0e0dd;scrollbar-highlight-color:#f0f0ee;scrollbar-shadow-color:#f0f0ee;scrollbar-track-color:#f5f5f5}body,td,th{font-family:Verdana,Arial,Helvetica,sans-serif;font-size:14px}.word-wrap{word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}.mce-content-body .mce-reset{margin:0;padding:0;border:0;outline:0;vertical-align:top;background:transparent;text-decoration:none;color:#000;font-family:Arial;font-size:11px;text-shadow:none;float:none;position:static;width:auto;height:auto;white-space:nowrap;cursor:inherit;line-height:normal;font-weight:400;text-align:left;-webkit-tap-highlight-color:transparent;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;direction:ltr;max-width:none}.mce-object{border:1px dotted #3a3a3a;background:#d5d5d5 url("+n(186)+') no-repeat 50%}.mce-preview-object{display:inline-block;position:relative;margin:0 2px;line-height:0;border:1px solid gray}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-preview-object .mce-shim{position:absolute;top:0;left:0;width:100%;height:100%;background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)}figure.align-left{float:left}figure.align-right{float:right}figure.image.align-center{display:table;margin-left:auto;margin-right:auto}figure.image{display:inline-block;border:1px solid gray;margin:0 2px 0 1px;background:#f5f2f0}figure.image img{margin:8px 8px 0}figure.image figcaption{margin:6px 8px;text-align:center}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}.mce-pagebreak{cursor:default;display:block;border:0;width:100%;height:5px;border:1px dashed #666;margin-top:15px;page-break-before:always}@media print{.mce-pagebreak{border:0}}.mce-item-anchor{cursor:default;display:inline-block;-webkit-user-select:all;-webkit-user-modify:read-only;-moz-user-select:all;-moz-user-modify:read-only;user-select:all;user-modify:read-only;width:9px!important;height:9px!important;border:1px dotted #3a3a3a;background:#d5d5d5 url('+n(19)+') no-repeat 50%}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy:after{content:"-"}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-spellchecker-word{border-bottom:2px solid rgba(208,2,27,.5);cursor:default}.mce-spellchecker-grammar{border-bottom:2px solid green;cursor:default}.mce-item-table,.mce-item-table caption,.mce-item-table td,.mce-item-table th{border:1px dashed #bbb}td[data-mce-selected],th[data-mce-selected]{background-color:#2276d2!important}.mce-edit-focus{outline:1px dotted #333}.mce-content-body [contentEditable=false] [contentEditable=true]:focus,.mce-content-body [contentEditable=false] [contentEditable=true]:hover,.mce-content-body [contentEditable=false][data-mce-selected]{outline:2px solid #2276d2}.mce-content-body [data-mce-selected=inline-boundary]{background:#bfe6ff}.mce-content-body .mce-item-anchor[data-mce-selected]{background:#d5d5d5 url('+n(19)+") no-repeat 50%}.mce-content-body hr{cursor:default}.ephox-snooker-resizer-bar{background-color:#2276d2;opacity:0}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:.2}",""])},function(e,t){e.exports="/images/vendor/tinymce/skins/lightgray/object.gif?f3726450d7457d750a2f4d9441c7ee20"},function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("textarea",{attrs:{id:this.id}},[this._v(this._s(this.content))])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-3"},[n("sidenav")],1),e._v(" "),n("div",{staticClass:"col-md-9"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-md-8"},[e.message?n("div",{staticClass:"alert alert-success"},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.message)+"\n\t\t\t\t\t\t\t")]):e._e(),e._v(" "),n("form",[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"form-control w-100",attrs:{type:"text",placeholder:"Enter title"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-group",attrs:{id:"mce"}},[n("tinymce",{attrs:{id:"d1",other_options:e.tinyOptions},model:{value:e.editorContent,callback:function(t){e.editorContent=t},expression:"editorContent"}})],1),e._v(" "),n("div",{staticClass:"form-group"},[n("button",{staticClass:"btn btn-primary float-right",on:{click:e.create_post}},[e._v("Submit")])])])]),e._v(" "),n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"card"},[n("img",{staticClass:"card-img-top",attrs:{src:e.imageLink,alt:"Card image cap"}}),e._v(" "),n("div",{staticClass:"card-body"},[n("button",{staticClass:"btn btn-primary",on:{click:e.set_featured_image}},[e._v("Set featured images")])])])])])])])])])},staticRenderFns:[]}},function(e,t){},function(e,t){}]);